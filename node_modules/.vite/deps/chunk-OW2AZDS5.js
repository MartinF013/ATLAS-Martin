import {
  H as H2,
  I,
  L,
  P,
  U,
  a,
  h,
  p2 as p,
  s2 as s,
  v2 as v
} from "./chunk-ZEDAE7EU.js";
import {
  H,
  r
} from "./chunk-PKZEO23A.js";
import {
  n
} from "./chunk-AIRC226G.js";

// node_modules/@arcgis/core/views/3d/state/Frustum.js
var d = class {
  constructor(t) {
    this.renderCoordsHelper = t, this.frustum = H2(), this._points = I(), this.lines = new Array(12), this._origin = n(), this._direction = n(), this._altitude = null;
    for (let i = 0; i < 12; i++)
      this.lines[i] = { origin: null, direction: n(), endpoint: null };
  }
  get planes() {
    return this.frustum;
  }
  get points() {
    return this._points;
  }
  get mutablePoints() {
    return this._points;
  }
  get direction() {
    return this._direction;
  }
  update(i) {
    s(i.viewMatrix, i.projectionMatrix, this.frustum, this._points), r(this._origin, i.eye), r(this._direction, i.viewForward), this._altitude = this.renderCoordsHelper.getAltitude(this._origin), this._updateLines();
  }
  updatePoints(i) {
    for (let s2 = 0; s2 < this._points.length; s2++)
      r(this._points[s2], i[s2]);
    L(this.frustum, this._points), this._updateLines();
  }
  get altitude() {
    return this._altitude;
  }
  intersectsSphere(t) {
    return P(this.frustum, t);
  }
  intersectsRay(t) {
    return a(this.frustum, t);
  }
  intersectsLineSegment(t, i) {
    return p(this.frustum, t, i);
  }
  intersectsPoint(t) {
    return U(this.frustum, t);
  }
  _updateLines() {
    const t = this._points;
    for (let i = 0; i < 4; i++) {
      const s2 = i + 4;
      a2(this.lines[i], t[i], t[s2]), a2(this.lines[i + 4], t[i], 3 === i ? t[0] : t[i + 1]), a2(this.lines[i + 8], t[s2], 3 === i ? t[4] : t[s2 + 1]);
    }
  }
};
function a2(t, s2, e) {
  t.origin = s2, t.endpoint = e, H(t.direction, s2, e);
}
d.planePointIndices = h, d.nearFarLineIndices = [[v.NEAR_BOTTOM_LEFT, v.FAR_BOTTOM_LEFT], [v.NEAR_BOTTOM_RIGHT, v.FAR_BOTTOM_RIGHT], [v.NEAR_TOP_RIGHT, v.FAR_TOP_RIGHT], [v.NEAR_TOP_LEFT, v.FAR_TOP_LEFT]];

export {
  d
};
//# sourceMappingURL=chunk-OW2AZDS5.js.map
