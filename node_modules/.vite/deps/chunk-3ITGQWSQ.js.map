{
  "version": 3,
  "sources": ["../../@arcgis/core/symbols/support/defaults3D.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DFeatureStore.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolCreationContext.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DPointSymbol.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolFactory.js", "../../@arcgis/core/views/3d/layers/graphics/GraphicStateTracking.js", "../../@arcgis/core/views/3d/layers/graphics/SpatialIndex2D.js", "../../@arcgis/core/views/3d/layers/support/StageLayerElevationProvider.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DCore.js", "../../@arcgis/core/views/3d/layers/graphics/Graphics3DScaleVisibility.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{isNone as o}from\"../../core/maybe.js\";import r from\"../FillSymbol3DLayer.js\";import e from\"../LineSymbol3D.js\";import m from\"../MeshSymbol3D.js\";import l from\"../PointSymbol3D.js\";import t from\"../PolygonSymbol3D.js\";import s from\"../edges/SolidEdges3D.js\";import{defaultPointSymbol2D as i,defaultPolylineSymbol2D as n,defaultPolygonSymbol2D as p}from\"./defaults.js\";import{defaultColor as f,defaultOutlineColor as y}from\"./defaultsJSON.js\";const a=l.fromSimpleMarkerSymbol(i),c=e.fromSimpleLineSymbol(n),S=t.fromSimpleFillSymbol(p),u=new m({symbolLayers:[new r({material:{color:f},edges:new s({size:\"1px\",color:y})})]});function b(r){if(o(r))return null;switch(r.type){case\"mesh\":return u;case\"point\":case\"multipoint\":return a;case\"polyline\":return c;case\"polygon\":case\"extent\":return S}return null}export{b as getDefaultSymbol3D};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import r from\"../../../../core/Evented.js\";import{isSome as o,isNone as s}from\"../../../../core/maybe.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{projectPoint as c}from\"../../../../geometry/projection.js\";import{getObjectId as p}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{OptimizedFeature as n}from\"../../../../layers/graphics/OptimizedFeature.js\";import h from\"../../../../layers/graphics/OptimizedGeometry.js\";import{optimizedFeatureQueryEngineAdapter as d}from\"../../../../layers/graphics/data/optimizedFeatureQueryEngineAdapter.js\";let l=class extends e{constructor(t){super(t),this.events=new r,this.hasZ=null,this.hasM=null,this.objectIdField=null,this.viewSpatialReference=null,this.featureAdapter={getAttribute:(t,e)=>\"graphic\"in t?t.graphic.attributes[e]:d.getAttribute(t,e),getAttributes:t=>\"graphic\"in t?t.graphic.attributes:d.getAttributes(t),getObjectId:t=>\"graphic\"in t?p(t.graphic,this.objectIdField):d.getObjectId(t),getGeometry:t=>\"graphic\"in t?t.getAsOptimizedGeometry(this.hasZ,this.hasM):d.getGeometry(t),getCentroid:(t,e)=>{if(\"graphic\"in t){let r=null;o(t.centroid)?r=t.centroid:\"point\"===t.graphic.geometry.type&&c(t.graphic.geometry,u,this.viewSpatialReference)&&(r=u);const i=new Array(2+(e.hasZ?1:0)+(e.hasM?1:0));return s(r)?(i[0]=0,i[1]=0,i[2]=0,i[3]=0):(i[0]=r.x,i[1]=r.y,e.hasZ&&(i[2]=r.hasZ?r.z:0),e.hasM&&(i[e.hasZ?3:2]=r.hasM?r.m:0)),new h([],i)}return d.getCentroid(t,e)},cloneWithGeometry:(t,e)=>\"graphic\"in t?new n(e,this.featureAdapter.getAttributes(t),null,this.featureAdapter.getObjectId(t)):d.cloneWithGeometry(t,e)}}forEachInBounds(t,e){this.getSpatialIndex().forEachInBounds(t,e)}forEachBounds(t,e,r){const s=this.getSpatialIndex();for(const i of t){const t=this.featureAdapter.getObjectId(i);o(s.getBounds(t,r))&&e(r)}}};t([i({constructOnly:!0})],l.prototype,\"getSpatialIndex\",void 0),t([i({constructOnly:!0})],l.prototype,\"toArray\",void 0),t([i({constructOnly:!0})],l.prototype,\"forEach\",void 0),t([i({constructOnly:!0})],l.prototype,\"hasZ\",void 0),t([i({constructOnly:!0})],l.prototype,\"hasM\",void 0),t([i({constructOnly:!0})],l.prototype,\"objectIdField\",void 0),t([i({constructOnly:!0})],l.prototype,\"viewSpatialReference\",void 0),t([i({constructOnly:!0})],l.prototype,\"featureSpatialReference\",void 0),l=t([a(\"esri.views.3d.layers.graphics.Graphics3DFeatureStore\")],l);const u={type:\"point\",x:0,y:0,hasZ:!1,hasM:!1,spatialReference:null};export{l as Graphics3DFeatureStore};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nclass e{constructor(e){this.schedule=e,this.sharedResources=null,this.streamDataRequester=null,this.elevationProvider=null,this.renderer=null,this.stage=null,this.clippingExtent=null,this.renderCoordsHelper=null,this.overlaySR=null,this.layer=null,this.drapeSourceRenderer=null,this.graphicsCoreOwner=null,this.localOriginFactory=null,this.featureExpressionInfoContext=null,this.screenSizePerspectiveEnabled=!0,this.slicePlaneEnabled=!1,this.physicalBasedRenderingEnabled=!1,this.isAsync=!1}}class l{}export{e as Graphics3DSymbolCreationContext,l as Graphics3DSymbolLayerCreationContext};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{result as r}from\"../../../../core/asyncUtils.js\";import{destroyMaybe as t,isSome as a}from\"../../../../core/maybe.js\";import{throwIfAborted as e}from\"../../../../core/promiseUtils.js\";import{make as o}from\"./Graphics3DCalloutSymbolLayerFactory.js\";import l from\"./Graphics3DSymbol.js\";class s extends l{constructor(r,t,a){super(r,t,a),this.calloutSymbolLayer=null,this.symbol.hasVisibleCallout()&&(this.calloutSymbolLayer=o(this.symbol,t))}async doLoad(t){const a=this.calloutSymbolLayer?r(this.calloutSymbolLayer.load()):null;try{await super.doLoad(t),e(t)}catch(o){throw this.calloutSymbolLayer?.abortLoad(),o}a&&await a}destroy(){super.destroy(),this.calloutSymbolLayer=t(this.calloutSymbolLayer)}createGraphics3DGraphic(r,t){const e=super.createGraphics3DGraphic(r,t);if(a(this.calloutSymbolLayer)&&a(e)){const t=this._createCalloutGraphic(r);a(t)&&e.addAuxiliaryGraphic(t)}return e}globalPropertyChanged(r,t){return!!super.globalPropertyChanged(r,t)&&(!this.calloutSymbolLayer||this.calloutSymbolLayer.globalPropertyChanged(r,t,(r=>this._getCalloutGraphicLayer(r))))}updateGeometry(r,t){const a=super.updateGeometry(r,t);if(a&&this.calloutSymbolLayer){const a=this._getCalloutGraphicLayer(r);if(a)return this.calloutSymbolLayer.updateGeometry(a,t)}return a}_createCalloutGraphic(r){const t=r.renderingInfo,a={renderer:t.renderer,symbol:t.symbol,translation:[0,0,0],centerOffset:[0,0,0,0],screenOffset:[0,0],centerOffsetUnits:\"world\",elevationOffset:0,materialCollection:null};return r.renderingInfo=a,this.calloutSymbolLayer.createGraphics3DGraphic(r)}_getCalloutGraphicLayer(r){for(const t of r._auxiliaryGraphics)if(t.graphics3DSymbolLayer===this.calloutSymbolLayer)return t}}export{s as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport o from\"./Graphics3DPointSymbol.js\";import r from\"./Graphics3DSymbol.js\";function t(t,i,e){let p;if(\"point-3d\"===t.type)p=o;else p=r;return new p(t,i,e)}export{t as make};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{remove as t}from\"../../../../core/arrayUtils.js\";import{isSome as i}from\"../../../../core/maybe.js\";import{getObjectId as e}from\"../../../../layers/graphics/dehydratedFeatures.js\";class s{constructor(t){this.graphicsCore=t,this.idToState=new Map,this.states=new Set;const i=t.owner.layer&&t.owner.layer.objectIdField;i?(this.getGraphicId=t=>e(t,i),this.getGraphics3DGraphicById=t=>this.graphicsCore.getGraphics3DGraphicByObjectId(t)):(this.getGraphicId=t=>t.uid,this.getGraphics3DGraphicById=t=>this.graphicsCore.getGraphics3DGraphicById(t))}destroy(){this.idToState.clear(),this.states.forEach(((t,i)=>this.remove(i)))}add(t){const e={remove:()=>this.remove(t)};if(this.states.has(t))return e;const s=this.getGraphicId(t.graphic),a=this.getGraphics3DGraphicById(s);this.states.has(t)||this.states.add(t);return this._ensureStateList(s).push(t),t.displaying=!!i(a)&&a.isVisible(),t.isDraped=!!i(a)&&a.isDraped,t.tracking=!0,i(a)&&t.emit(\"changed\",{}),e}remove(i){if(this.states.has(i)){if(this.idToState.size){const e=this.getGraphicId(i.graphic),s=this.idToState.get(e);s&&(t(s,i),0===s.length&&this.idToState.delete(e))}this.states.delete(i),i.tracking=!1,i.displaying=!1}}addGraphic(t){this._forEachState(t,(i=>{i.displaying=t.isVisible(),i.isDraped=t.isDraped,i.emit(\"changed\",{})}))}removeGraphic(t){this._forEachState(t,(t=>{t.displaying=!1,t.isDraped=!1}))}updateGraphicGeometry(t){this._forEachState(t,(t=>{t.emit(\"changed\",{})}))}updateGraphicVisibility(t){this._forEachState(t,(i=>{i.displaying=t.isVisible()}))}allGraphicsDeleted(){this.states.forEach((t=>{t.displaying=!1}))}_ensureStateList(t){const i=this.idToState.get(t);if(i)return i;const e=new Array;return this.idToState.set(t,e),e}_forEachState(t,i){if(0===this.states.size||0===this.idToState.size)return;const e=this.getGraphicId(t.graphic),s=this.idToState.get(e);null!=s&&s.forEach(i)}}export{s as GraphicStateTracking};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import s from\"../../../../core/has.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{PooledRBush as n}from\"../../../../core/libs/rbush/PooledRBush.js\";import{fromRect as o}from\"../../../../geometry/support/aaBoundingBox.js\";import{getObjectId as a}from\"../../../../layers/graphics/dehydratedFeatures.js\";let d=class extends e{constructor(t){super(t),this._index=new n(9,s(\"esri-csp-restrictions\")?t=>({minX:t.extent[0],minY:t.extent[1],maxX:t.extent[2],maxY:t.extent[3]}):[\".extent[0]\",\".extent[1]\",\".extent[2]\",\".extent[3]\"]),this._missing=new Set,this._boundsByFeature=new Map,this.spatialReference=null,this.hasZ=null,this.hasM=null,this.objectIdField=null,this.updating=!1}setup(t){this._addMany(t)}destroy(){this._missing.clear(),this._index.destroy(),this._index=null,this._boundsByFeature.clear(),this._boundsByFeature=null}update(){this._missing.size>0&&(this._addMany(Array.from(this._missing.values())),this.updating=!1,this._missing.clear())}get updatingRemaining(){return this._missing.size}queryGraphicUIDsInExtent(t,e,s){e.equals(this.spatialReference)&&(u.minX=t[0],u.minY=t[1],u.maxX=t[2],u.maxY=t[3],this.update(),this._index.search(u,(t=>s(t.graphic.uid))))}add(t){this._missing.add(t),this.updating=!0}remove(t){if(this._missing.delete(t))return void(this.updating=this._missing.size>0);this._index.remove(t);const e=a(t.graphic,this._get(\"objectIdField\"));null!=e&&this._boundsByFeature.delete(e)}_addMany(t){if(0===t.length)return;const e=this._get(\"objectIdField\");for(const s of t){s.computeExtent(this.spatialReference);const t=a(s.graphic,e);null!=t&&this._boundsByFeature.set(t,s.extent)}this._index.load(t)}clear(){this._index.clear(),this._missing.clear(),this._boundsByFeature.clear(),this.updating=!1}forEachInBounds(t,e){u.minX=t[0],u.minY=t[1],u.maxX=t[2],u.maxY=t[3],this.update(),this._index.search(u,(t=>{e(t)}))}getBounds(t,e){this.update();const s=this._boundsByFeature.get(t);return s?o(e,s):null}};t([i({constructOnly:!0})],d.prototype,\"spatialReference\",void 0),t([i({constructOnly:!0})],d.prototype,\"hasZ\",void 0),t([i({constructOnly:!0})],d.prototype,\"hasM\",void 0),t([i({constructOnly:!0})],d.prototype,\"objectIdField\",void 0),t([i()],d.prototype,\"updating\",void 0),t([i({readOnly:!0})],d.prototype,\"updatingRemaining\",null),d=t([r(\"esri.views.3d.layers.graphics.SpatialIndex2D\")],d);const u={minX:0,minY:0,maxX:0,maxY:0};export{d as SpatialIndex2D};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import o from\"../../../../core/Evented.js\";import r from\"../../../../core/Handles.js\";import s from\"../../../../core/Logger.js\";import{unwrapOr as i}from\"../../../../core/maybe.js\";import{getMetersPerVerticalUnitForSR as n}from\"../../../../core/unitUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c}from\"../../../../chunks/vec3.js\";import{c as d}from\"../../../../chunks/vec3f64.js\";import{empty as m,toRect as p,expandWithVec3 as h}from\"../../../../geometry/support/aaBoundingBox.js\";import{empty as u}from\"../../../../geometry/support/aaBoundingRect.js\";import{getMetersPerUnit as f}from\"../../../../symbols/support/unitConversionUtils.js\";import{newIntersector as y}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as v}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";const g=s.getLogger(\"esri.views.3d.layers.support.StageLayerElevationProvider\"),j=1;let b=class extends(o.EventedMixin(t)){constructor(e){super(e),this.elevationOffset=0,this._layerHandes=new r}initialize(){this.renderCoordsHelper=this.view.renderCoordsHelper,this.intersectLayers=[this.stageLayer],this.intersector=y(this.view.state.viewingMode),this.intersector.options.store=v.MIN;const e=this._computeLayerExtent(this.stageLayer);this.zmin=e[2],this.zmax=e[5];const t=this.stageLayer.events;this._layerHandes.add([t.on(\"layerObjectAdded\",(e=>this._objectChanged(e.object))),t.on(\"layerObjectRemoved\",(e=>this._objectChanged(e.object))),t.on(\"objectGeometryAdded\",(e=>this._objectChanged(e.object))),t.on(\"objectGeometryRemoved\",(e=>this._objectChanged(e.object))),t.on(\"vertexAttrsUpdated\",(e=>this._objectChanged(e.object))),t.on(\"objectTransformation\",(e=>this._objectChanged(e)))])}dispose(){this._layerHandes.destroy()}elevationInfoChanged(){const e=null!=this.layer?this.layer.elevationInfo:null;if(null!=e&&\"on-the-ground\"!==e.mode){const t=n(this.layer.spatialReference),o=f(e.unit);this.elevationOffset=i(e.offset,0)*o/t}else this.elevationOffset=0}getElevation(e,t,o,r){if(_[0]=e,_[1]=t,_[2]=o,!this.renderCoordsHelper.toRenderCoords(_,r,_))return g.error(\"could not project point for elevation alignment\"),null;const s=this.elevationOffset,i=this.zmin+s,n=this.zmax+s;this.renderCoordsHelper.setAltitude(B,n,_),this.renderCoordsHelper.setAltitude(R,i,_);const a=e=>e.metadata&&e.metadata.isElevationSource;return this.intersector.reset(B,R,null),this.intersector.intersect(this.intersectLayers,null,j,null,a),this.intersector.results.min.getIntersectionPoint(_)?this.renderCoordsHelper.getAltitude(_):null}_objectChanged(e){if(!e.metadata?.isElevationSource||!this.spatialReference)return;m(x),e.metadata.lastValidElevationBB.isEmpty()||this._expandExtent(e.metadata.lastValidElevationBB.min,e.metadata.lastValidElevationBB.max,x);const t=e.boundingVolumeWorldSpace.min,o=e.boundingVolumeWorldSpace.max;this._expandExtent(t,o,x),p(x,E),this.zmin=Math.min(this.zmin,x[2]),this.zmax=Math.max(this.zmax,x[5]),C.extent=E,C.spatialReference=this.spatialReference,this.emit(\"elevation-change\",C),c(e.metadata.lastValidElevationBB.min,t),c(e.metadata.lastValidElevationBB.max,o)}_computeLayerExtent(e){return m(x),e.objects.forAll((e=>this._expandExtent(e.boundingVolumeWorldSpace.min,e.boundingVolumeWorldSpace.max,x))),x}_expandExtent(e,t,o){for(let r=0;r<8;++r)_[0]=1&r?e[0]:t[0],_[1]=2&r?e[1]:t[1],_[2]=4&r?e[2]:t[2],this.renderCoordsHelper.fromRenderCoords(_,_,this.spatialReference),h(o,_);return o}};e([a({constructOnly:!0})],b.prototype,\"layer\",void 0),e([a({constructOnly:!0})],b.prototype,\"stageLayer\",void 0),e([a({constructOnly:!0})],b.prototype,\"view\",void 0),e([a({readOnly:!0,aliasOf:\"view.spatialReference\"})],b.prototype,\"spatialReference\",void 0),b=e([l(\"esri.views.3d.layers.support.StageLayerElevationProvider\")],b);const x=m(),E=u(),C={spatialReference:null,extent:E,context:\"scene\"},_=d(),B=d(),R=d();export{b as StageLayerElevationProvider};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import\"../../../../renderers/ClassBreaksRenderer.js\";import\"../../../../renderers/DictionaryRenderer.js\";import\"../../../../renderers/DotDensityRenderer.js\";import\"../../../../renderers/HeatmapRenderer.js\";import\"../../../../renderers/PieChartRenderer.js\";import\"../../../../renderers/Renderer.js\";import\"../../../../renderers/SimpleRenderer.js\";import t from\"../../../../renderers/UniqueValueRenderer.js\";import\"../../../../renderers/support/jsonUtils.js\";import\"../../../../symbols.js\";import i from\"../../../../core/Accessor.js\";import\"../../../../core/has.js\";import r from\"../../../../core/Error.js\";import s from\"../../../../core/Handles.js\";import{makeHandle as a}from\"../../../../core/handleUtils.js\";import n from\"../../../../core/Logger.js\";import{someMap as o,findInMap as l}from\"../../../../core/MapUtils.js\";import{isSome as h,unwrapOr as d,isNone as p,removeMaybe as c,destroyMaybe as y,get as m,unwrap as g}from\"../../../../core/maybe.js\";import u from\"../../../../core/PooledArray.js\";import{throwIfAborted as b,eachAlways as f,createDeferred as v,isAbortError as C}from\"../../../../core/promiseUtils.js\";import{watch as S,when as _,on as w,syncAndInitial as G,whenOnce as x}from\"../../../../core/reactiveUtils.js\";import{schedule as R}from\"../../../../core/scheduling.js\";import{property as P}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as D}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{diff as E,isEmpty as I}from\"../../../../core/accessorSupport/diffUtils.js\";import{s as U,a as O,g as A}from\"../../../../chunks/vec3.js\";import{c as L}from\"../../../../chunks/vec3f64.js\";import{projectVectorToVector as j,projectXYZToVector as V,canProjectWithoutEngine as F,projectBuffer as T}from\"../../../../geometry/projection.js\";import{create as k,center as M,fromRect as W,equals as N}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as z}from\"../../../../geometry/support/aaBoundingRect.js\";import B from\"../../../../layers/Layer.js\";import{getObjectId as q,computeAABB as H,hasGeometry as Y}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{hydrateGraphic as $}from\"../../../../layers/graphics/hydratedFeatures.js\";import{isSupportedRenderer3D as Z,validateTo3D as J}from\"../../../../renderers/support/rendererConversion.js\";import{loadArcade as Q}from\"../../../../support/arcadeOnDemand.js\";import{getDefaultSymbol3D as K}from\"../../../../symbols/support/defaults3D.js\";import{to3D as X}from\"../../../../symbols/support/symbolConversion.js\";import{ViewElevationProvider as ee}from\"./ElevationQuery.js\";import{VisibilityFlag as te,VisibilityGroup as ie}from\"./enums.js\";import{extractExpressionInfo as re,createContext as se}from\"./featureExpressionInfoUtils.js\";import{Graphics3DFeatureStore as ae}from\"./Graphics3DFeatureStore.js\";import ne from\"./Graphics3DGraphicCreationContext.js\";import{Graphics3DSymbolCreationContext as oe}from\"./Graphics3DSymbolCreationContext.js\";import{make as le}from\"./Graphics3DSymbolFactory.js\";import he from\"./Graphics3DWebStyleSymbol.js\";import{GraphicStateTracking as de}from\"./GraphicStateTracking.js\";import{computeCentroid as pe}from\"./graphicUtils.js\";import{ApplyRendererDiffResult as ce}from\"./interfaces.js\";import{LoadStatus as ye}from\"./Loadable.js\";import{SpatialIndex2D as me}from\"./SpatialIndex2D.js\";import{averageSymbolComplexities as ge,defaultSymbolComplexity as ue}from\"./symbolComplexity.js\";import{StageLayerElevationProvider as be}from\"../support/StageLayerElevationProvider.js\";import{toBoundingRect as fe}from\"../../support/extentUtils.js\";import{PropertiesPool as ve}from\"../../support/PropertiesPool.js\";import{UpdatePolicy as Ce}from\"../../webgl-engine/lib/basicInterfaces.js\";import{GridLocalOriginFactory as Se}from\"../../webgl-engine/lib/GridLocalOriginFactory.js\";import{WebGLLayer as _e}from\"../../webgl-engine/lib/WebGLLayer.js\";import{ImmediateTask as we,noBudget as Ge,TaskPriority as xe}from\"../../../support/Scheduler.js\";import Re from\"../../../../geometry/Extent.js\";import Pe from\"../../../../geometry/Point.js\";import De from\"../../../../symbols/LabelSymbol3D.js\";import Ee from\"../../../../symbols/TextSymbol.js\";import Ie from\"../../../../symbols/WebStyleSymbol.js\";var Ue;const Oe=L(),Ae=k(),Le=n.getLogger(\"esri.views.3d.layers.graphics.Graphics3DCore\");let je=Ue=class extends i{constructor(e){super(e),this.propertiesPool=new ve({computedExtent:Re},this),this.computedExtent=null,this.currentRenderer=null,this.rendererHasGeometryOperations=!1,this.graphicStateTracking=null,this.symbolCreationContext=new oe(((e,t)=>this._frameTask.schedule(e,t))),this.graphics3DGraphics=new Map,this.stageLayer=null,this.stage=null,this.graphicsDrapedUids=new Set,this.graphicsBySymbol=new Map,this.symbolConversionCache=new Map,this.symbols=new Map,this.graphicsWithoutSymbol=new Map,this.graphicsWaitingForSymbol=new Map,this.graphicsUpdateId=0,this._handles=new s,this._frameTask=we,this.suspendSymbolCleanup=!1,this._viewSpatialReference=null,this.arcadeOnDemand=null,this.rendererChangeAbortController=null,this.elevationInfoChangeAbortController=null,this.setupAbortController=null,this.elevationAlignment=null,this.scaleVisibility=null,this._spatialIndex=null,this.extentPadding=0,this._updatingPendingLoadedGraphicsChange=null,this.featureStore=null,this.deconflictor=null,this.labeler=null,this.objectStates=null,this.viewElevationProvider=null,this.stageLayerElevationProvider=null,this.sharedSymbolResourcesOwnerHandle=null,this.whenGraphics3DGraphicRequests={},this.pendingUpdates=new Map,this.numberOfGraphics=0,this.numberOfGraphicsProvidingElevation=0,this.pendingAdds=0,this.pendingRemoves=0,this._loadingSymbols=0,this.pendingUpdatesPool=new u({allocator:e=>e||new Fe,deallocator:e=>(e.clear(),e)}),this.symbolWarningLogged=!1,this.geometryWarningLogged=!1,this.objectIdInvisibleSet=new Set,this._whenSymbolRemoved=new u,this.preferredUpdatePolicy=Ce.SYNC,this.forcedUpdatePolicy=null,this.elevationFeatureExpressionEnabled=!0,this.owner=null,this.layer=null,this.graphicSymbolSupported=!0,this.getRenderingInfoWithoutRenderer=!1,this.hasZ=null,this.hasM=null,this._usedMemory=0,this._visible=void 0,this._startCreateGraphics=!1}get spatialIndex(){return this._spatialIndex||(this._spatialIndex=new me({objectIdField:this.owner.layer?.objectIdField,spatialReference:this._viewSpatialReference,hasZ:this.hasZ,hasM:this.hasM}),this._spatialIndex.setup(Array.from(this.graphics3DGraphics.values()))),this._spatialIndex.update(),this._spatialIndex}get effectiveUpdatePolicy(){return h(this.currentRenderer)&&\"dictionary\"===this.currentRenderer.type?Ce.ASYNC:d(this.forcedUpdatePolicy,this.preferredUpdatePolicy)}get updating(){return!!(this.graphicsWaitingForSymbol.size>0||this.running||this.elevationAlignment?.updating||h(this.scaleVisibility)&&this.scaleVisibility.updating||h(this.filterVisibility)&&this.filterVisibility.updating||this.rendererChangeAbortController||this.elevationInfoChangeAbortController||this._updatingPendingLoadedGraphicsChange||this._frameTask.updating||this._loadingSymbols>0)}get running(){return this.pendingUpdates.size>0||!!this._spatialIndex?.updating}get suspendedOrOutsideOfView(){return this.owner.suspended||this.owner.suspendInfo?.outsideOfView}get updatingRemaining(){return this.updating?this.pendingUpdates.size+.1*(this._spatialIndex?.updatingRemaining||0)+.1*(this.elevationAlignment?.updatingRemaining||0):0}get displayFeatureLimit(){const e=this.owner&&this.owner.view&&this.owner.view.qualitySettings,t=e?e.graphics3D.minTotalNumberOfFeatures:0,i=e?e.graphics3D.maxTotalNumberOfFeatures:0,r=e?e.graphics3D.maxTotalNumberOfPrimitives:0,s=this.averageSymbolComplexity,a=Math.max(1,h(s)?s.primitivesPerFeature:1),n=h(s)&&s.drawCallsPerFeature>0?i/s.drawCallsPerFeature*.3:i,o=Math.ceil(r/a),l=Math.max(t,Math.min(i,o,n)),d=this._get(\"displayFeatureLimit\");return d&&d.minimumTotalNumberOfFeatures===t&&d.maximumTotalNumberOfFeatures===i&&d.maximumTotalNumberOfPrimitives===r&&d.averageSymbolComplexity===s&&d.maximumNumberOfFeatures===l?d:{minimumTotalNumberOfFeatures:t,maximumTotalNumberOfFeatures:i,maximumTotalNumberOfPrimitives:r,averageSymbolComplexity:s,maximumNumberOfFeatures:l}}get averageSymbolComplexity(){const e=ge(this.symbolComplexities),t=this._get(\"averageSymbolComplexity\");return 0===e.numComplexities||h(t)&&(e.estimated&&(t.primitivesPerFeature>=e.primitivesPerFeature||t.primitivesPerCoordinate>=e.primitivesPerCoordinate||t.drawCallsPerFeature>=e.drawCallsPerFeature)||t.primitivesPerFeature===e.primitivesPerFeature&&t.primitivesPerCoordinate===e.primitivesPerCoordinate&&t.drawCallsPerFeature===e.drawCallsPerFeature)?t:e}get usedMemory(){const e=h(this.averageSymbolComplexity)&&this.labelsEnabled?this.averageSymbolComplexity.memory.bytesPerFeatureLabel*this.numberOfGraphics:0;return this._usedMemory+e}get usedMemoryPerGraphic(){if(this._usedMemory&&this.numberOfGraphics)return Math.abs(this.pendingAdds-this.pendingRemoves)/this.numberOfGraphics>30?0:this._usedMemory/this.numberOfGraphics;if(h(this.averageSymbolComplexity)){const e=this.labelsEnabled?this.averageSymbolComplexity.memory.bytesPerFeatureLabel:0;return this.averageSymbolComplexity.memory.bytesPerFeature+e}return 0}get unprocessedMemoryEstimate(){return Math.max(0,(this.pendingAdds-this.pendingRemoves)*this.usedMemoryPerGraphic)}get symbolComplexities(){return this.currentRenderer?this._getSymbolComplexitiesUsedOrRenderer(this.currentRenderer):this._getSymbolComplexitiesUsed()}_getConvertedSymbol(e){if(\"web-style\"===e.type)return e.clone();const t=this.symbolConversionCache.get(e.id);if(h(t))return t;const i=X(e,{retainId:!0,hasLabelingContext:this._hasLabelingContext(e)}),r=i.symbol||null;return p(r)&&i.error&&Le.error(i.error.message),this.symbolConversionCache.set(e.id,r),r}_getSymbolComplexitiesUsedOrRenderer(e){if(p(e))return[];const t=e.getSymbols(),i=\"backgroundFillSymbol\"in e&&e.backgroundFillSymbol;if(!(i||t&&t.length))return[];const r=[],s=this._getSymbolComplexityUsedOrRenderer(i);h(s)&&r.push(s);for(const a of t){const e=this._getSymbolComplexityUsedOrRenderer(a);h(e)&&r.push(e)}return r}_getSymbolComplexityUsedOrRenderer(e){if(p(e))return null;const t=this.symbols.get(e.id);if(h(t))return t.complexity;const i=this._getConvertedSymbol(e);return h(i)?ue(i):null}_getSymbolComplexitiesUsed(){const e=[];return this.symbols.forEach((t=>{h(t)&&e.push(t.complexity)})),e}initialize(){this._viewSpatialReference=this.owner.view.spatialReference,this._set(\"featureStore\",new ae({objectIdField:this.owner.layer&&this.owner.layer.objectIdField,hasZ:this.hasZ,hasM:this.hasM,viewSpatialReference:this._viewSpatialReference,featureSpatialReference:this.owner.featureSpatialReference,getSpatialIndex:()=>this.spatialIndex,forEach:e=>this.graphics3DGraphics.forEach(e),toArray:()=>Array.from(this.graphics3DGraphics.values())}))}async setup(e){this.setupAbortController=new AbortController;const t=this.setupAbortController.signal;this._set(\"elevationAlignment\",e.elevationAlignment),this._set(\"scaleVisibility\",e.scaleVisibility),this._set(\"filterVisibility\",e.filterVisibility),this._set(\"deconflictor\",e.deconflictor),this._set(\"labeler\",e.labeler),this._set(\"objectStates\",e.objectStates);const i=this.owner.view;this.viewElevationProvider=new ee(this._viewSpatialReference,i),this._initializeStage(i,this.layer.uid),this.symbolCreationContext.sharedResources=i.sharedSymbolResources,this.sharedSymbolResourcesOwnerHandle=i.sharedSymbolResources.addGraphicsOwner(this.owner),h(this.currentRenderer)&&(this.symbolCreationContext.renderer=this.currentRenderer),this.symbolCreationContext.stage=this.stage,this.symbolCreationContext.streamDataRequester=i.sharedSymbolResources.streamDataRequester,this.symbolCreationContext.renderCoordsHelper=i.renderCoordsHelper,this.symbolCreationContext.layer=this.layer,this.symbolCreationContext.graphicsCoreOwner=this.owner,this.symbolCreationContext.localOriginFactory=new Se(i.renderSpatialReference),this.symbolCreationContext.elevationProvider=i.elevationProvider,this.symbolCreationContext.notifyGraphicGeometryChanged=e=>this.notifyGraphicGeometryChanged(e),this.symbolCreationContext.notifyGraphicVisibilityChanged=e=>this.notifyGraphicVisibilityChanged(e);const r=re(this.layer.elevationInfo,this.elevationFeatureExpressionEnabled);if(this.symbolCreationContext.featureExpressionInfoContext=await se(r,this._viewSpatialReference,Le),b(t),this.symbolCreationContext.screenSizePerspectiveEnabled=i.screenSizePerspectiveEnabled&&this.layer.screenSizePerspectiveEnabled,this.symbolCreationContext.slicePlaneEnabled=!!this.owner.slicePlaneEnabled,this.symbolCreationContext.physicalBasedRenderingEnabled=!!this.owner.view.qualitySettings.physicallyBasedRenderingEnabled,\"drapeSourceType\"in this.owner){const{owner:e}=this;this.symbolCreationContext.drapeSourceRenderer=i.basemapTerrain.overlayManager.registerGeometryDrapeSource(e),this._handles.add(a((()=>i.basemapTerrain.overlayManager.unregisterDrapeSource(e))))}this._handles.add([S((()=>this.suspendedOrOutsideOfView),(()=>this._frameTask.reschedule((()=>this._updateLayerVisibility())))),S((()=>[this.layer?.screenSizePerspectiveEnabled,this.owner.view.screenSizePerspectiveEnabled]),(()=>{const e=i.screenSizePerspectiveEnabled&&this.layer.screenSizePerspectiveEnabled;e!==this.symbolCreationContext.screenSizePerspectiveEnabled&&(this.symbolCreationContext.screenSizePerspectiveEnabled=e,this.labeler?.reset(),this.recreateAllGraphicsAndSymbols())})),S((()=>this.owner.slicePlaneEnabled),(e=>this._slicePlaneEnabledChange(!!e))),S((()=>this.owner.view.state?.pixelRatio),(()=>this._pixelRatioChange())),S((()=>this.owner.view.qualitySettings?.physicallyBasedRenderingEnabled),(e=>this._physicalBasedRenderingChange(e))),_((()=>i.basemapTerrain?.tilingScheme),(e=>{if(e.spatialReference.equals(this.symbolCreationContext.overlaySR)||(this.symbolCreationContext.overlaySR=i.basemapTerrain.spatialReference),this._handles.has(\"loaded-graphics\"))this.recreateAllGraphics();else{const e=()=>this.owner?.loadedGraphics;this._handles.add([w(e,\"change\",(e=>{this._graphicsCollectionChanged(e),this._signalUpdatingDuringAsyncLoadedGraphicsChange()}),{onListenerAdd:()=>{this.recreateAllGraphics(),this._signalUpdatingDuringAsyncLoadedGraphicsChange()}})],\"loaded-graphics\")}}),{initial:!0}),S((()=>this.effectiveUpdatePolicy),(e=>{h(this.stageLayer)&&(this.stageLayer.updatePolicy=e),this.symbolCreationContext.isAsync=this.effectiveUpdatePolicy===Ce.ASYNC,e===Ce.SYNC&&this.runTask(Ge)}),G)]),this._frameTask=i.resourceController.scheduler.registerTask(xe.GRAPHICS_CORE,this),this.layer&&\"featureReduction\"in this.layer&&this._handles.add(S((()=>this.layer.featureReduction),(()=>this.deconflictor.featureReductionChange()))),this.notifyChange(\"averageSymbolComplexity\");try{await this.rendererChange(this.layer.renderer)}catch{}b(t),this.setupAbortController=null}_abortSetup(){this.setupAbortController&&(this.setupAbortController.abort(),this.setupAbortController=null)}destroy(){this._abortSetup(),this._abortRendererChange(),this._abortElevationInfoChange(),this.owner.view.deconflictor.removeGraphicsOwner(this),this.owner.view.labeler.removeGraphicsOwner(this),this._updatingPendingLoadedGraphicsChange=c(this._updatingPendingLoadedGraphicsChange),this.clear(),this.graphicStateTracking=y(this.graphicStateTracking),this.stage&&(this.stage.remove(this.stageLayer),this.stageLayer=null,this.stage=null),this._handles=y(this._handles),this._frameTask.remove(),this._frameTask=we,this._viewSpatialReference=null,this._set(\"owner\",null);for(const e in this.whenGraphics3DGraphicRequests)this.whenGraphics3DGraphicRequests[e].reject(new r(\"graphic:layer-destroyed\",\"Layer has been destroyed\"));this.whenGraphics3DGraphicRequests=null,this.sharedSymbolResourcesOwnerHandle=c(this.sharedSymbolResourcesOwnerHandle),this.propertiesPool=y(this.propertiesPool),this.pendingUpdatesPool=null,this.symbolConversionCache.clear(),this.objectIdInvisibleSet.clear(),this._spatialIndex=y(this._spatialIndex),this._set(\"featureStore\",y(this.featureStore))}clear(){this.objectStates?.allGraphicsDeleted(),h(this.graphicStateTracking)&&this.graphicStateTracking.allGraphicsDeleted(),this.graphics3DGraphics.forEach((e=>e.destroy())),this._spatialIndex?.clear(),this.graphics3DGraphics.clear(),this.numberOfGraphics=0,this._usedMemory=0,this._updateLayerVisibility(),this.symbols.forEach(y),this.symbols.clear(),this.graphicsBySymbol.clear(),this.graphicsWithoutSymbol.clear(),this.graphicsWaitingForSymbol.clear(),this.pendingUpdates.clear(),this.pendingUpdatesPool.clear(),this.pendingAdds=0,this.pendingRemoves=0,this.notifyChange(\"updating\"),this.notifyChange(\"running\"),this.notifyChange(\"updatingRemaining\"),this.featureStore.events.emit(\"changed\")}_initializeStage(e,t){this.stage=e._stage,this.stageLayer=new _e({isPickable:!this.suspendedOrOutsideOfView,updatePolicy:this.effectiveUpdatePolicy},t),this.stage.add(this.stageLayer);const i=this.stageLayer.events;i.on(\"objectTransformation\",(e=>this.notifyGraphicGeometryChanged(e.metadata.graphicUid))),i.on(\"visibilityChanged\",(e=>this.notifyGraphicVisibilityChanged(e.metadata.graphicUid))),i.on(\"objectGeometryAdded\",(e=>this.notifyGraphicGeometryChanged(e.object.metadata.graphicUid))),i.on(\"objectGeometryRemoved\",(e=>this.notifyGraphicGeometryChanged(e.object.metadata.graphicUid))),i.on(\"vertexAttrsUpdated\",(e=>this.notifyGraphicGeometryChanged(e.object.metadata.graphicUid)))}notifyGraphicGeometryChanged(e){if(p(this.graphicStateTracking)||p(e))return;const t=this.graphics3DGraphics.get(e);t&&this.graphicStateTracking.updateGraphicGeometry(t)}notifyGraphicVisibilityChanged(e){if(p(this.graphicStateTracking)||p(e))return;const t=this.graphics3DGraphics.get(e);t&&this.graphicStateTracking.updateGraphicVisibility(t)}_updateLayerVisibility(){const e=this.displayFeatureLimit.maximumNumberOfFeatures,t=this.numberOfGraphics>e*Te,i=!this.suspendedOrOutsideOfView&&!t;i!==this._visible&&(this._visible=i,i?(this.stageLayer.isPickable=!0,this.updateAllGraphicsVisibility()):(this.stageLayer.isPickable=!1,this._hideAllGraphics()),this._updateStageLayerVisibility())}_updateStageLayerVisibility(){this.stageLayer.isVisible=this._visible&&(null==this.layer.opacity||this.layer.opacity>0)}getGraphics3DGraphicById(e){return this.graphics3DGraphics.get(e)}getGraphics3DGraphicByObjectId(e){return this.owner.layer?.objectIdField?this._findGraphics3DGraphicByObjectId(e):null}_getGraphicObjectID(e,t=this.owner.layer&&this.owner.layer.objectIdField){return q(e,t)}get graphics3DGraphicsByObjectID(){const e=this.owner.layer&&this.owner.layer.objectIdField;if(!e)return null;const t=new Map;return this.graphics3DGraphics.forEach((i=>{if(!i)return;const r=i.graphic,s=this._getGraphicObjectID(r,e);h(s)&&t.set(s,i)})),t}get labelsEnabled(){return!(!this.labeler||!this.labeler.layerLabelsEnabled())}async updateLabelingInfo(e){const t=this.deconflictor&&this.deconflictor.labelingInfoChange(e),i=this.labeler&&this.labeler.labelingInfoChange(e);await f([t,i])}updateVisibilityInfo(){this.deconflictor&&this.deconflictor.labelingInfoChange(),this.labeler&&this.labeler.visibilityInfoChange()}get symbolUpdateType(){if(this.pendingUpdates.size>0)return\"unknown\";let e=0,t=0;return o(this.symbols,((i,r)=>{if(h(i)){const s=i.getFastUpdateStatus();if(s.loading>0)return!0;this.graphicsBySymbol.has(r)&&(t+=s.fast,e+=s.slow)}return!1}))?\"unknown\":t>=0&&0===e?\"fast\":e>=0&&0===t?\"slow\":\"mixed\"}runTask(e){this._frameTask.processQueue(e),this._applyPendingUpdates(e),this.notifyChange(\"running\"),this.running||this.notifyChange(\"updating\"),this.notifyChange(\"updatingRemaining\")}setObjectIdVisibility(e,t){t?this.objectIdInvisibleSet.delete(e):this.objectIdInvisibleSet.add(e);const i=this._findGraphics3DGraphicByObjectId(e);h(i)&&this._updateUserVisibility(i)}_findGraphics3DGraphicByObjectId(e){return l(this.graphics3DGraphics,(t=>this._getGraphicObjectID(t.graphic)===e))}_updateUserVisibility(e){if(p(e))return!1;const t=e.graphic,i=this._getGraphicObjectID(t),r=t.visible&&!this.owner.suspended&&(p(i)||!this.objectIdInvisibleSet.has(i));return e.setVisibilityFlag(te.USER_SETTING,r,ie.GRAPHIC)}_whenGraphics3DGraphic(e){const t=this.graphics3DGraphics.get(e.uid);if(t)return Promise.resolve(t);const i=this.whenGraphics3DGraphicRequests[e.uid];if(i)return i.promise;const r=v();return this.whenGraphics3DGraphicRequests[e.uid]=r,r.promise}async _boundsForGraphics3DGraphic(e,t){const i=this._viewSpatialReference,r=this.owner.view.renderSpatialReference,s=this.owner.view.basemapTerrain.spatialReference,a=(e,t,s)=>T(e,r,t,e,i,t,s),n=(e,t,r)=>T(e,s,t,e,i,t,r),o=this.viewElevationProvider?{service:this.viewElevationProvider,useViewElevation:h(t)&&t.useViewElevation,minDemResolution:h(t)&&t.minDemResolution,minDemResolutionForPoints:this.owner.view.resolution}:null,l=await e.getProjectedBoundingBox(a,n,o,m(t,\"signal\"));if(!l)return null;const p=l.boundingBox;if(l.requiresDrapedElevation){const e=this.symbolCreationContext.elevationProvider;if(e){M(p,Oe);const t=d(e.getElevation(Oe[0],Oe[1],0,i,\"ground\"),0);p[2]=Math.min(p[2],t),p[5]=Math.max(p[5],t)}}return{boundingBox:p,screenSpaceObjects:l.screenSpaceObjects}}async whenGraphicBounds(e,t){await x((()=>this.owner?.loadedGraphics));const i=this.owner.layer&&this.owner.layer.objectIdField,s=this.owner.loadedGraphics.find((t=>t===e||i&&t.attributes&&e.attributes&&t.attributes[i]===e.attributes[i]));if(!s)throw new r(\"internal:graphic-not-part-of-view\",\"Graphic is not part of this view\");const a=await this._whenGraphics3DGraphic(s);return this._boundsForGraphics3DGraphic(a,t)}computeAttachmentOrigin(e,t){const i=this.graphics3DGraphics.get(e.uid);if(!i)return null;const r=i.computeAttachmentOrigin();if(0===r.render.num&&0===r.draped.num)return null;U(ke,0,0,0);let s=0;if(r.render.num>0){if(!j(r.render.origin,this.symbolCreationContext.renderCoordsHelper.spatialReference,Me,t))return null;O(ke,ke,Me),s++}if(r.draped.num>0){const[e,i]=r.draped.origin,a=d(this.viewElevationProvider.getElevation(e,i,\"ground\"),0);if(U(Me,e,i,a),!j(Me,this.viewElevationProvider.spatialReference,Me,t))return null;O(ke,ke,Me),s++}return s>1&&A(ke,ke,1/s),new Pe({x:ke[0],y:ke[1],z:ke[2],spatialReference:t})}getSymbolLayerSize(e,t){const i=this.symbols.get(e.id);if(p(i))throw new r(\"internal:symbol-not-part-of-view\",\"Symbol is not part of this view\");const s=e.symbolLayers.indexOf(t);if(-1===s)throw new r(\"internal:missing-symbol-layer\",\"Symbol layer is not in symbol\");const a=i.getSymbolLayerSize(s);if(null==a)throw new r(\"internal:missing-size\",\"Symbol layer has no valid size\");return a}_graphicsCollectionChanged(e){this._startCreateGraphics&&(this.add(e.added),this.remove(e.removed))}graphicUpdateHandler(e){const t=e.graphic.uid,i=this.graphics3DGraphics.get(t);if(!p(i)||!p(this.graphicsWithoutSymbol.get(t)))switch(e.property){case\"visible\":this._graphicUpdateVisibleHandler(i);break;case\"geometry\":this._graphicUpdateGeometryHandler(i,e);break;case\"symbol\":this._graphicUpdateSymbolHandler(i,e);break;case\"attributes\":break;case\"transform\":this._graphicUpdateTransformHandler(i,e)}}_graphicUpdateGeometryHandler(e,t){const i=t.graphic.geometry;if(p(i))return void this._recreateGraphic(t.graphic);if(p(e)){const e=t.graphic.symbol&&t.graphic.symbol.id;if(e){const t=this.symbols.get(e);if(h(t)&&t.loadStatus===ye.LOADING)return}return void this._recreateGraphic(t.graphic)}const r=e.graphics3DSymbol;!p(t.newValue)&&r.updateGeometry(e,t.newValue)||this._recreateGraphic(e.graphic),this._expandComputedExtent(i)}_graphicUpdateSymbolHandler(e,t){const i=t.graphic,r=h(e)?e.graphics3DSymbol:h(t.oldValue)?this.symbols.get(t.oldValue.id):null;if(p(r)||p(t.newValue))return void this._recreateGraphic(i);const s=r.symbol,a=this._getConvertedSymbol(t.newValue);if(h(a)&&(a.type!==s.type||\"web-style\"===a.type)||\"web-style\"===s.type)return void this._recreateGraphic(i);const n=this.graphicsBySymbol.get(s.id);if(n&&1!==n.size)return void this._recreateGraphic(i);const o=E(s,a);if(p(o))return void this._updateSymbolMapping(s.id,a);const l={diff:o,graphics3DGraphicPatches:[],symbolStatePatches:[]};if(r.prepareSymbolPatch(l),!I(l.diff))return void this._recreateGraphic(i);const d=this._getRenderingInfo(i);if(p(d))return void this._recreateGraphic(i);const c=r.extentPadding;for(const h of l.symbolStatePatches)h();if(c!==r.extentPadding&&this._recomputeExtentPadding(),h(e))for(const h of l.graphics3DGraphicPatches)h(e,d);this._updateSymbolMapping(s.id,a)}_graphicUpdateVisibleHandler(e){this._updateUserVisibility(e)&&(this.labeler&&this.owner.view.labeler.setDirty(),this.owner.view.deconflictor.setDirty())}_graphicUpdateTransformHandler(e,t){}recreateGraphics(e){this.suspendSymbolCleanup=!0,this.remove(e),this.add(e),this.suspendSymbolCleanup=!1,this.effectiveUpdatePolicy===Ce.SYNC&&this._cleanupSymbols()}_recreateGraphic(e){this.recreateGraphics([e])}_beginGraphicUpdate(e){const t=this.graphicsUpdateId;return this.graphicsUpdateId++,this.graphicsWaitingForSymbol.set(e.uid,t),1===this.graphicsWaitingForSymbol.size&&this.notifyChange(\"updating\"),t}_endGraphicUpdate(e){e&&(this.graphicsWaitingForSymbol.delete(e.uid),0===this.graphicsWaitingForSymbol.size&&(this._cleanupSymbols(),this.notifyChange(\"updating\")))}_recomputeExtentPadding(){let e=0;this.symbols.forEach((t=>{h(t)&&(e=Math.max(e,t.extentPadding))})),this._set(\"extentPadding\",e)}_expandComputedExtent(e){const t=Ae,i=e.spatialReference;H(e,t);const r=this._viewSpatialReference,s=Ue.tmpVec;if(i.equals(r)||V(t[0],t[1],0,i,s,r)&&(t[0]=s[0],t[1]=s[1],V(t[3],t[4],0,i,s,r),t[3]=s[0],t[4]=s[1]),!(isFinite(t[0])&&isFinite(t[3])&&isFinite(t[1])&&isFinite(t[4])))return;const a=this.computedExtent;let n=null;const o=isFinite(t[2])&&isFinite(t[5]),l=o&&(!a||null==a.zmin||t[2]<a.zmin),h=o&&(!a||null==a.zmax||t[5]>a.zmax);if(a){(t[0]<a.xmin||t[1]<a.ymin||t[3]>a.xmax||t[4]>a.ymax||l||h)&&(n=this.propertiesPool.get(\"computedExtent\"),n.xmin=Math.min(t[0],a.xmin),n.ymin=Math.min(t[1],a.ymin),n.xmax=Math.max(t[3],a.xmax),n.ymax=Math.max(t[4],a.ymax),n.spatialReference=r)}else n=this.propertiesPool.get(\"computedExtent\"),n.xmin=t[0],n.ymin=t[1],n.xmax=t[3],n.ymax=t[4],n.spatialReference=r;n&&(l&&(n.zmin=t[2]),h&&(n.zmax=t[5]),this._set(\"computedExtent\",n))}_abortElevationInfoChange(){this.elevationInfoChangeAbortController&&(this.elevationInfoChangeAbortController.abort(),this.elevationInfoChangeAbortController=null)}async elevationInfoChange(){this._abortElevationInfoChange();const e=new AbortController;this.elevationInfoChangeAbortController=e;const t=re(this.layer.elevationInfo,this.elevationFeatureExpressionEnabled);this.symbolCreationContext.featureExpressionInfoContext=await se(t,this._viewSpatialReference,Le),b(e),this.elevationInfoChangeAbortController=null,this.labeler?.elevationInfoChange(),this.forEachGraphics3DSymbol(((e,t,i)=>{e.globalPropertyChanged(\"elevationInfo\",t)?t.forEach((e=>{const t=e.graphic,i=e.labelGraphics;for(const r of i){r.graphics3DSymbolLayer.updateGraphicElevationContext(t,r)}})):this._recreateSymbol(i)})),this.updateStageLayerElevationProvider(),this.elevationAlignment?.elevationInfoChange()}updateStageLayerElevationProvider(){this.stageLayerElevationProvider?(this.layer.elevationInfo&&\"relative-to-scene\"===this.layer.elevationInfo.mode||0===this.numberOfGraphicsProvidingElevation)&&(this.owner.view.elevationProvider.unregister(this.stageLayerElevationProvider),this.stageLayerElevationProvider.dispose(),this.stageLayerElevationProvider=null):(!this.layer.elevationInfo||this.layer.elevationInfo&&\"relative-to-scene\"!==this.layer.elevationInfo.mode)&&this.numberOfGraphicsProvidingElevation>0&&(this.stageLayerElevationProvider=new be({layer:this.layer,stageLayer:this.stageLayer,view:this.owner.view}),this.owner.view.elevationProvider.register(\"scene\",this.stageLayerElevationProvider))}_clearSymbolsAndGraphics(){this.clear(),h(this.filterVisibility)&&this.filterVisibility.clear(),this.labeler?.reset(),this.deconflictor?.clear(),this.elevationAlignment?.clear(),this.stageLayer?.invalidateSpatialQueryAccelerator(),this.stageLayerElevationProvider&&(this.owner.view.elevationProvider.unregister(this.stageLayerElevationProvider),this.stageLayerElevationProvider.dispose(),this.stageLayerElevationProvider=null)}startCreateGraphics(){this._startCreateGraphics=!0,this.recreateAllGraphics()}recreateAllGraphics(){this._recreateAllGraphics(!1)}recreateAllGraphicsAndSymbols(){this._recreateAllGraphics(!0)}_recreateAllGraphics(e=!1){if(!this._startCreateGraphics)return;const{loadedGraphics:t,view:i}=this.owner,r=i.basemapTerrain.tilingScheme&&t&&t.length?t.toArray():null;!e&&r||this._clearSymbolsAndGraphics(),this.symbolCreationContext.screenSizePerspectiveEnabled=this.owner.view.screenSizePerspectiveEnabled&&this.layer.screenSizePerspectiveEnabled,this.symbolCreationContext.slicePlaneEnabled=!!this.owner.slicePlaneEnabled,this._set(\"computedExtent\",null),r&&(e?this.add(r):this.recreateGraphics(r))}_recreateSymbol(e){const t=this.graphicsBySymbol.get(e),i=[];t&&(t.forEach(((e,t)=>{const r=e.usedMemory;this._conditionalRemove(e,t),this._spatialIndex?.remove(e),i.push(e.graphic),e.destroy(),this._removeGraphics3DGraphic(t,r),this._updateLayerVisibility(),this.featureStore.events.emit(\"changed\")})),this.graphicsBySymbol.set(e,new Map));const r=this.symbols.get(e);y(r),this.symbols.delete(e),this.add(i)}_recreateGraphicsForSymbol(e){const t=this.graphicsBySymbol.get(e);if(t){const e=[];t.forEach((t=>e.push(t.graphic))),this.recreateGraphics(e)}}_conditionalRemove(e,t){this.graphicsDrapedUids.delete(t),this.objectStates?.removeGraphic(e),this.labeler?.removeGraphic(e),this.deconflictor?.removeGraphic(e),h(this.graphicStateTracking)&&this.graphicStateTracking.removeGraphic(e)}add(e){e&&0!==e.length&&(this.owner.view.basemapTerrain&&this.owner.view.basemapTerrain.tilingScheme?(this._updatePolicyForGraphics(e)===Ce.ASYNC?this._addDelayed(e):this._addImmediate(e),this.notifyChange(\"updating\")):Le.error(\"#add()\",\"Cannot add graphics before terrain surface has been initialized\"))}_updatePolicyForGraphics(e){if(this.effectiveUpdatePolicy===Ce.SYNC&&(\"mesh\"===this.layer.geometryType||null==this.layer.geometryType))for(const t of e)if(h(t.geometry)&&\"mesh\"===t.geometry.type&&!t.geometry.loaded)return Ce.ASYNC;return this.effectiveUpdatePolicy}_addImmediate(e){this.geometryWarningLogged=!1,this.symbolWarningLogged=!1;for(const t of e)this._addGraphic(t,this._getRenderingInfo(t,Le),Ce.SYNC);this._cleanupSymbols(),this.labeler&&(this.owner.view.labeler.setDirty(),this._cleanupSymbols()),this.owner.view.deconflictor.setDirty()}_addDelayed(e){for(const t of e){const e=t.uid;let i=this.pendingUpdates.get(e);i?i.add?i.state!==Ve.NEW&&i.abortController.abort():this.pendingAdds++:(i=this.pendingUpdatesPool.pushNew(),this.pendingAdds++,this.pendingUpdates.set(e,i)),i.add=t}this.notifyChange(\"running\"),this.notifyChange(\"updatingRemaining\")}remove(e){this.effectiveUpdatePolicy===Ce.ASYNC?this._removeDelayed(e):this._removeImmediate(e),this.notifyChange(\"updating\")}_removeImmediate(e){for(const t of e)this._removeGraphic(t);this._cleanupSymbols(),this.labeler&&this.owner.view.labeler.setDirty(),this.owner.view.deconflictor.setDirty()}_removeDelayed(e){for(const t of e){const e=t.uid,i=this.pendingUpdates.get(e);if(i)i.add&&(i.remove?i.add=null:this.pendingUpdates.delete(e),i.state===Ve.LOADING&&i.abortController.abort(),this.pendingAdds--);else{const i=this.pendingUpdatesPool.pushNew();i.remove=t,this.pendingUpdates.set(e,i),this.pendingRemoves++}}0===this.pendingUpdates.size&&this._finishPendingUpdates(),this.notifyChange(\"running\"),this.notifyChange(\"updatingRemaining\")}_finishPendingUpdates(){this.pendingUpdatesPool.clear(),this._cleanupSymbols(),(this.pendingAdds||this.pendingRemoves)&&Le.warn(\"pendingAdds/Removes in inconsistent state!\"),this.pendingAdds=0,this.pendingRemoves=0}_applyPendingUpdates(e){if(this.geometryWarningLogged=!1,this.symbolWarningLogged=!1,0===this.pendingUpdates.size&&this._spatialIndex?.updating)this._spatialIndex.update();else{for(const[t,i]of this.pendingUpdates){if(e.done)break;i.add&&i.state===Ve.NEW&&this._processPendingUpdateNew(i);let r=this.effectiveUpdatePolicy;if(!i.remove||i.add&&i.state!==Ve.READY||(this.pendingRemoves--,e.madeProgress(),this._removeGraphic(i.remove),i.remove=null,r=Ce.SYNC),i.add)switch(i.state){case Ve.READY:this._addGraphic(i.add,i.renderingInfo,r),i.add=null,this.pendingAdds--,e.madeProgress();break;case Ve.REJECTED:i.add=null,this.pendingAdds--;case Ve.LOADING:}null==i.remove&&null==i.add&&this.pendingUpdates.delete(t)}0===this.pendingUpdates.size&&(this._finishPendingUpdates(),this.notifyChange(\"running\"))}}_processPendingUpdateNew(e){if(!e.add)return void(e.state=Ve.READY);const t=e.add.geometry;h(t)&&\"mesh\"===t.type&&!t.loaded?this._processPendingUpdateNewMesh(e,t):this._processPendingUpdateNewRenderingInfo(e)}async _processPendingUpdateNewMesh(e,t){e.state=Ve.LOADING,e.abortController=new AbortController;const i=e.abortController.signal;try{await t.load({signal:i})}catch(r){return this._processPendingUpdateNewError(e,r)}e.abortController=null,this._processPendingUpdateNewRenderingInfo(e)}_processPendingUpdateNewError(e,t){e.abortController=null,C(t)?e.state=Ve.NEW:e.state=Ve.REJECTED}async _processPendingUpdateNewRenderingInfo(e){if(p(this.layer.renderer)||\"dictionary\"!==this.layer.renderer.type)return e.renderingInfo=this._getRenderingInfo(e.add,Le),void(e.state=Ve.READY);e.state=Ve.LOADING,e.abortController=new AbortController;let t=null;try{t=await this._getRenderingInfoAsync(e.add,{signal:e.abortController.signal})}catch(i){return e.abortController=null,void(C(i)?e.state=Ve.NEW:e.state=Ve.REJECTED)}p(t)||p(t.symbol)?(Le&&!this.symbolWarningLogged&&(this.symbolWarningLogged=!0,Le.warn(`Graphic in layer ${this.layer.id} has no symbol and will not render`)),e.renderingInfo=null):e.renderingInfo=t,e.state=Ve.READY}_addGraphic(e,t,i){if(this.graphicsWithoutSymbol.set(e.uid,e),p(t)||p(t.symbol)||!Y(e))return;const r=t.symbol,s=this.getOrCreateGraphics3DSymbol(r,t.renderer);if(p(s))return;this._expandComputedExtent(e.geometry);const a=this._beginGraphicUpdate(e),n=new ne(e,t,this.layer);let o=!1;const l=e=>{e===s.symbol.id&&(o=!0)};this._whenSymbolRemoved.push(l);const d=()=>{if(--this._loadingSymbols,this.destroyed)return;this._whenSymbolRemoved.removeUnordered(l);if(this.graphicsWaitingForSymbol.get(e.uid)!==a||o||s.destroyed||this.graphicSymbolSupported&&e.symbol&&e.symbol.id!==s.symbol.id)--s.referenced,this._cleanupSymbols();else{const t=this._createGraphics3DGraphic(s,n);this._spatialIndex&&h(t)&&this._spatialIndex.add(t),--s.referenced,this._endGraphicUpdate(e)}this.featureStore.events.emit(\"changed\"),this.labeler&&this.owner.view.labeler.setDirty()},c=t=>{--this._loadingSymbols,this.destroyed||(this._whenSymbolRemoved.removeUnordered(l),o||(C(t)?this.add([e]):s.destroyed||this._endGraphicUpdate(e)))};++this._loadingSymbols,i===Ce.ASYNC?s.load((()=>this._frameTask.schedule(d)),(e=>this._frameTask.schedule((()=>c(e))))):s.load(d,c)}_removeGraphic(e){const t=e.uid,i=this.graphics3DGraphics.get(t);if(i){i.graphics3DSymbol.onRemoveGraphic(i);const e=i.usedMemory,r=i.isElevationSource;this._conditionalRemove(i,t),this._spatialIndex?.remove(i);const s=i.graphics3DSymbol.symbol.id;this.graphicsBySymbol.get(s).delete(t),this.graphicsWithoutSymbol.delete(t),this._removeGraphics3DGraphic(t,e,r),i.destroy(),this.featureStore.events.emit(\"changed\")}else this.graphicsWithoutSymbol.delete(t),this.graphicsWaitingForSymbol.delete(t),0===this.graphicsWaitingForSymbol.size&&(this._cleanupSymbols(),this.notifyChange(\"updating\"))}_hasLabelingContext(e){if(e instanceof De||e instanceof Ee){const t=this.symbolCreationContext.layer;return!!t.labelingInfo&&t.labelingInfo.some((t=>t.symbol===e))}return!1}_hasValidSymbolCreationContext(e){return!(e instanceof De&&!this._hasLabelingContext(e))||(Le.error(\"LabelSymbol3D is only valid as part of a LabelClass. Using LabelSymbol3D as a renderer symbol is not supported.\"),!1)}_getRenderingInfo(e,t){const i=e.geometry;if(p(i))return t&&!this.geometryWarningLogged&&(this.geometryWarningLogged=!0,t.warn(`Graphic in layer ${this.layer.id} has no geometry and will not render`)),null;if(!F(i.spatialReference,this._viewSpatialReference))return t&&!this.geometryWarningLogged&&(this.geometryWarningLogged=!0,t.warn(`Graphic in layer ${this.layer.id} has incompatible spatial reference and will not render`)),null;if(!this.graphicSymbolSupported&&h(e.symbol))return t&&!this.symbolWarningLogged&&(this.symbolWarningLogged=!0,t.warn(`Graphic in layer ${this.layer.id} is not allowed to have a symbol, use a renderer instead`)),null;const r=this.rendererHasGeometryOperations?$(e,this.layer):e;let s;if(this.owner.getRenderingInfo&&(this.getRenderingInfoWithoutRenderer||h(this.currentRenderer)))s=this.owner.getRenderingInfo(r,this.currentRenderer,g(this.arcadeOnDemand));else{s={symbol:r.symbol||K(r.geometry)}}return p(s)||p(s.symbol)?(t&&!this.symbolWarningLogged&&(this.symbolWarningLogged=!0,t.warn(`Graphic in layer ${this.layer.id} has no symbol and will not render`)),null):s}_getRenderingInfoAsync(e,t){const i=e.geometry;if(p(i))return Le&&!this.geometryWarningLogged&&(this.geometryWarningLogged=!0,Le.warn(`Graphic in layer ${this.layer.id} has no geometry and will not render`)),null;if(!this.graphicSymbolSupported&&h(e.symbol))return Le&&!this.symbolWarningLogged&&(this.symbolWarningLogged=!0,Le.warn(`Graphic in layer ${this.layer.id} is not allowed to have a symbol, use a renderer instead`)),null;const r=this.rendererHasGeometryOperations?$(e,this.layer):e;return this.owner.getRenderingInfoAsync(r,g(this.currentRenderer),g(this.arcadeOnDemand),t)}_createGraphics3DSymbol(e,t){if(!this._hasValidSymbolCreationContext(e))return null;const i=this._getConvertedSymbol(e);if(!i)return null;let r;if(h(t)&&\"backgroundFillSymbol\"in t&&t.backgroundFillSymbol){const e=X(t.backgroundFillSymbol,{ignoreDrivers:!0});h(e.symbol)&&\"web-style\"!==e.symbol.type&&\"cim\"!==e.symbol.type&&(r=e.symbol.symbolLayers)}const s=le(i,this.symbolCreationContext,r);return s.load((()=>{const e=s.extentPadding;e>this.extentPadding&&this._set(\"extentPadding\",e),this.notifyChange(\"averageSymbolComplexity\")}),(()=>{})),s}getOrCreateGraphics3DSymbol(e,t){let i=this.symbols.get(e.id);return void 0===i&&(i=e instanceof Ie?new he(e,(e=>this._frameTask.schedule(e)),(e=>this._createGraphics3DSymbol(e,t))):this._createGraphics3DSymbol(e,t),this.symbols.set(e.id,i)),h(i)&&++i.referenced,i}trackGraphicState(e){return p(this.graphicStateTracking)&&(this.graphicStateTracking=new de(this)),this.graphicStateTracking.add(e)}_addGraphics3DGraphic(e){this._usedMemory+=e.usedMemory,this.graphics3DGraphics.set(e.graphic.uid,e),this.numberOfGraphics++,e.isElevationSource&&(this.numberOfGraphicsProvidingElevation++,this.updateStageLayerElevationProvider()),this._updateLayerVisibility()}_removeGraphics3DGraphic(e,t,i=!1){this._usedMemory-=t,this.graphics3DGraphics.delete(e),this.numberOfGraphics--,i&&(this.numberOfGraphicsProvidingElevation--,this.updateStageLayerElevationProvider()),this._updateLayerVisibility()}_createGraphics3DGraphic(e,t){const i=t.graphic;if(this.graphicsWithoutSymbol.delete(i.uid),!this.symbols.has(e.symbol.id))return this.add([i]),null;if(this.graphics3DGraphics.has(i.uid))return null;const r=e.createGraphics3DGraphic(t);if(p(r))return null;this._addGraphics3DGraphic(r);const s=e.symbol.id;this.graphicsBySymbol.has(s)||this.graphicsBySymbol.set(s,new Map),this.graphicsBySymbol.get(s).set(i.uid,r);r.isDraped&&this.graphicsDrapedUids.add(i.uid),r.centroid=null,h(i.geometry)&&\"point\"!==i.geometry.type&&(r.centroid=pe(i.geometry,this._viewSpatialReference)),this._updateUserVisibility(r),h(this.scaleVisibility)&&this.scaleVisibility.updateVisibility(r),h(this.filterVisibility)&&this.filterVisibility.updateVisibility(r),this.deconflictor?.addGraphic(r),this.labeler?.addGraphic(r),this.objectStates?.addGraphic(r),this.deconflictor&&this.owner.view.deconflictor.setInitialIconVisibilityFlag(this,r),r.initialize(this.stage,this.stageLayer,this.owner),h(this.graphicStateTracking)&&this.graphicStateTracking.addGraphic(r);const a=this.whenGraphics3DGraphicRequests[i.uid];return a&&(delete this.whenGraphics3DGraphicRequests[i.uid],a.resolve(r)),r}_abortRendererChange(){this.rendererChangeAbortController&&(this.rendererChangeAbortController.abort(),this.rendererChangeAbortController=null)}async rendererChange(e){if(this._abortRendererChange(),e!==this.currentRenderer)if(this._validateRenderer(e),p(e)&&this._currentRendererChange(null,!1),Z(e))if(h(e)&&e.arcadeRequired){const t=new AbortController;this.rendererChangeAbortController=t;const{arcadeUtils:i}=await this._ensureArcade();b(t),i.hasGeometryOperations(e)&&(await i.enableGeometryOperations(),b(t)),this.effectiveUpdatePolicy===Ce.ASYNC?await this._frameTask.schedule((()=>this._currentRendererChange(e,!0)),t.signal):this._currentRendererChange(e,!0),this.rendererChangeAbortController=null}else if(this.effectiveUpdatePolicy===Ce.ASYNC){const t=new AbortController;this.rendererChangeAbortController=t,await this._frameTask.schedule((()=>this._currentRendererChange(e,!1)),t.signal),this.rendererChangeAbortController=null}else this._currentRendererChange(e,!1);else this._currentRendererChange(e,!1)}async _ensureArcade(){return p(this.arcadeOnDemand)?(this.arcadeOnDemand=await Q(),this.arcadeOnDemand):this.arcadeOnDemand}_currentRendererChange(e,t){this.currentRenderer=e,this.rendererHasGeometryOperations=t,this.symbolCreationContext.arcade=g(this.arcadeOnDemand);const i=this.symbolCreationContext.renderer;if(e===i)return;if(this.symbolConversionCache.clear(),p(e))return this.symbolCreationContext.renderer=null,void this.recreateAllGraphicsAndSymbols();const r=E(i,e);this._updateUnchangedSymbolMappings(r,e,i),this.symbolCreationContext.renderer=e,p(r)||(\"complete\"===r.type?this.recreateAllGraphicsAndSymbols():\"partial\"===r.type&&(this._applyRendererDiff(r,e,i)?this._volatileGraphicsUpdated():this.recreateAllGraphicsAndSymbols()),this.notifyChange(\"averageSymbolComplexity\"))}_diffHasSymbolChange(e){for(const t in e.diff)switch(t){case\"visualVariables\":case\"defaultSymbol\":case\"uniqueValueInfos\":break;case\"authoringInfo\":case\"fieldDelimiter\":delete e.diff[t];break;default:return!0}return!1}_applySymbolSetDiff(e,t,i){e=e||[],t=t||[];const r=[];for(const s of t){const t=this.graphicsBySymbol.get(s.id);t&&t.forEach(((a,n)=>{const o=a.graphic,l=this.layer instanceof B?this.layer:null,h=g(this.arcadeOnDemand);if(s===i.defaultSymbol&&i.getSymbol($(o,l),{arcade:h})===i.defaultSymbol)return;const d=a.usedMemory;e.length||i.defaultSymbol?r.push(o):this.graphicsWithoutSymbol.set(n,o);const p=this.graphics3DGraphics.get(n);this._conditionalRemove(p,n),a.destroy(),t.delete(n),this._removeGraphics3DGraphic(n,d),this._updateLayerVisibility()})),this._whenSymbolRemoved.forAll((e=>e(s.id)))}(e.length||r.length)&&(this.graphicsWithoutSymbol.forEach((e=>r.push(e))),this.graphicsWithoutSymbol.clear(),this.add(r)),this._cleanupSymbols(),this.labeler&&this.owner.view.labeler.setDirty(),this.owner.view.deconflictor.setDirty()}_applyUniqueValueRendererDiff(e,t,i){const r=e.diff.defaultSymbol,s=e.diff.uniqueValueInfos;if(r||s){const a=s?s.added.map((e=>e.symbol)):[],n=s?s.removed.map((e=>e.symbol)):[];if(s)for(let e=0;e<s.changed.length;e++)a.push(s.changed[e].newValue.symbol),n.push(s.changed[e].oldValue.symbol);return r?(i.defaultSymbol&&n.push(i.defaultSymbol),t.defaultSymbol&&a.push(t.defaultSymbol)):i.defaultSymbol&&a.length&&n.push(t.defaultSymbol),this._applySymbolSetDiff(a,n,t),delete e.diff.defaultSymbol,delete e.diff.uniqueValueInfos,!0}return!1}_calculateUnchangedSymbolMapping(e,t,i){if(\"unique-value\"!==t?.type||\"unique-value\"!==i?.type||h(e)&&\"partial\"!==e.type)return[];const r=e=>h(e)?e.id:null,s=e&&e.diff,a=s&&s.defaultSymbol,n=s&&s.uniqueValueInfos;let o;if(n)o=n.unchanged.map((e=>({oldId:r(e.oldValue.symbol),newId:r(e.newValue.symbol)})));else{o=[];for(const e of i.uniqueValueInfos){const i=r(e.symbol),s=t.uniqueValueInfos.find((t=>t.value===e.value));s&&i!==r(s.symbol)&&o.push({oldId:i,newId:r(s.symbol)})}}return!a&&i.defaultSymbol&&o.push({oldId:r(i.defaultSymbol),newId:r(t.defaultSymbol)}),o}_updateSymbolMapping(e,t){const i=h(t)&&t?\"string\"==typeof t?t:t.id:null;if(!e||e===i)return;const r=this.graphicsBySymbol.get(e);this.graphicsBySymbol.delete(e),void 0!==r&&this.graphicsBySymbol.set(i,r);const s=this.symbols.get(e);if(void 0!==s&&(this.symbols.delete(e),this.symbols.set(i,s),h(s))){const e=\"string\"==typeof t?null:t;h(e)?s.symbol=e:s.symbol.id=i}}_updateUnchangedSymbolMappings(e,t,i){const r=this._calculateUnchangedSymbolMapping(e,t,i);for(const{oldId:s,newId:a}of r)this._updateSymbolMapping(s,a)}_applyRendererDiff(e,i,r){if(this._diffHasSymbolChange(e))return!1;if(i instanceof t&&r instanceof t&&this._applyUniqueValueRendererDiff(e,i,r)&&0===Object.keys(e.diff).length)return!0;for(const[t]of this.graphicsBySymbol){const r=this.symbols.get(t);if(h(r))switch(r.applyRendererDiff(e,i)){case ce.Recreate_Symbol:this._recreateSymbol(t);break;case ce.Recreate_Graphics:this._recreateGraphicsForSymbol(t);case ce.Fast_Update:}}return!0}opacityChange(){this.forEachGraphics3DSymbol(((e,t)=>e.globalPropertyChanged(\"opacity\",t))),this._updateStageLayerVisibility()}_slicePlaneEnabledChange(e){e!==this.symbolCreationContext.slicePlaneEnabled&&(this.symbolCreationContext.slicePlaneEnabled=e,this.stageLayer.isSliceable=e,this.forEachGraphics3DSymbol(((e,t)=>e.globalPropertyChanged(\"slicePlaneEnabled\",t))),this.deconflictor&&this.deconflictor.slicePlaneEnabledChange(),this.labeler&&this.labeler.slicePlaneEnabledChange())}_physicalBasedRenderingChange(e){e!==this.symbolCreationContext.physicalBasedRenderingEnabled&&(this.symbolCreationContext.physicalBasedRenderingEnabled=e,this.forEachGraphics3DSymbol(((e,t,i)=>{e.globalPropertyChanged(\"physicalBasedRenderingEnabled\",t)||this._recreateSymbol(i)})))}_pixelRatioChange(){this.forEachGraphics3DSymbol(((e,t,i)=>{e.globalPropertyChanged(\"pixelRatio\",t)||this._recreateSymbol(i)}))}_signalUpdatingDuringAsyncLoadedGraphicsChange(){this._updatingPendingLoadedGraphicsChange&&this._updatingPendingLoadedGraphicsChange.remove(),this._updatingPendingLoadedGraphicsChange=R((()=>{this._updatingPendingLoadedGraphicsChange=null}))}setClippingExtent(e,t){const i=this.symbolCreationContext.clippingExtent,r=z();return fe(e,r,t)?this.symbolCreationContext.clippingExtent=W(k(),r):this.symbolCreationContext.clippingExtent=null,!N(this.symbolCreationContext.clippingExtent,i)}modifyGraphics3DGraphicVisibilities(e){let t=!1;this.graphics3DGraphics.forEach((i=>{e(i)&&(t=!0)})),t&&(this.labeler&&this.owner.view.labeler.setDirty(),this.owner.view.deconflictor.setDirty())}forEachGraphics3DSymbol(e){for(const[t,i]of this.symbols){if(p(i))return;e(i,this.graphicsBySymbol.get(t)||We,t)}}updateAllGraphicsVisibility(){h(this.filterVisibility)&&(this.filterVisibility.dirty=!0),this.modifyGraphics3DGraphicVisibilities((e=>{const t=this._updateUserVisibility(e),i=h(this.scaleVisibility)&&this.scaleVisibility.updateVisibility(e);return t||i}))}_hideAllGraphics(){this.modifyGraphics3DGraphicVisibilities((e=>e.setVisibilityFlag(te.USER_SETTING,!1,ie.GRAPHIC)))}_validateRenderer(e){const t=J(e);if(t){const e=`Renderer for layer '${this.layer.title?`${this.layer.title}, `:\"\"}, id:${this.layer.id}' is not supported in a SceneView`;Le.warn(e,t.message)}}_volatileGraphicsUpdated(){this.labeler?.reset(),this.stageLayer.shaderTransformationChanged(),this.notifyChange(\"updating\")}_cleanupSymbols(){if(this.graphicsWaitingForSymbol.size>0||this.suspendSymbolCleanup)return;let e=!1;this.symbols.forEach(((t,i)=>{if(p(t)||t.referenced>0)return;const r=this.graphicsBySymbol.get(i);r&&0!==r.size||(this.graphicsBySymbol.delete(i),this.symbols.delete(i),y(t),e=!0)})),e&&(this._recomputeExtentPadding(),this.notifyChange(\"averageSymbolComplexity\"))}get test(){return{snapshotInternals:()=>({graphics:[...this.graphics3DGraphics.keys()].sort(),symbols:[...this.symbols.keys()].sort(),graphicsBySymbol:[...this.graphicsBySymbol.keys()].sort().map((e=>({symbolId:e,graphics:[...this.graphicsBySymbol.get(e).keys()].sort()}))),graphicsWithoutSymbol:[...this.graphicsWithoutSymbol.keys()].sort(),graphicsDrapedUids:[...this.graphicsDrapedUids].sort(),pendingUpdates:this.pendingUpdates}),symbols:this.symbols,filterVisibility:this.filterVisibility,numPending:this.pendingUpdates.size,forceUpdatePolicy:e=>{this.forcedUpdatePolicy=e}}}get performanceInfo(){return{visible:this.graphics3DGraphics.size,missing:this.graphicsWithoutSymbol.size,pending:this.pendingUpdates.size}}};var Ve;je.tmpVec=L(),e([P({readOnly:!0})],je.prototype,\"computedExtent\",void 0),e([P()],je.prototype,\"currentRenderer\",void 0),e([P()],je.prototype,\"rendererHasGeometryOperations\",void 0),e([P()],je.prototype,\"_frameTask\",void 0),e([P()],je.prototype,\"rendererChangeAbortController\",void 0),e([P()],je.prototype,\"elevationInfoChangeAbortController\",void 0),e([P()],je.prototype,\"setupAbortController\",void 0),e([P({readOnly:!0})],je.prototype,\"elevationAlignment\",void 0),e([P({readOnly:!0})],je.prototype,\"scaleVisibility\",void 0),e([P({readOnly:!0})],je.prototype,\"filterVisibility\",void 0),e([P()],je.prototype,\"_spatialIndex\",void 0),e([P({readOnly:!0})],je.prototype,\"extentPadding\",void 0),e([P()],je.prototype,\"_updatingPendingLoadedGraphicsChange\",void 0),e([P({readOnly:!0})],je.prototype,\"featureStore\",void 0),e([P({readOnly:!0})],je.prototype,\"deconflictor\",void 0),e([P({readOnly:!0})],je.prototype,\"labeler\",void 0),e([P({readOnly:!0})],je.prototype,\"objectStates\",void 0),e([P()],je.prototype,\"_loadingSymbols\",void 0),e([P()],je.prototype,\"preferredUpdatePolicy\",void 0),e([P()],je.prototype,\"forcedUpdatePolicy\",void 0),e([P({readOnly:!0})],je.prototype,\"effectiveUpdatePolicy\",null),e([P({constructOnly:!0})],je.prototype,\"elevationFeatureExpressionEnabled\",void 0),e([P({constructOnly:!0})],je.prototype,\"owner\",void 0),e([P({constructOnly:!0})],je.prototype,\"layer\",void 0),e([P({constructOnly:!0})],je.prototype,\"graphicSymbolSupported\",void 0),e([P({constructOnly:!0})],je.prototype,\"getRenderingInfoWithoutRenderer\",void 0),e([P({readOnly:!0})],je.prototype,\"updating\",null),e([P({readOnly:!0})],je.prototype,\"running\",null),e([P({readOnly:!0})],je.prototype,\"suspendedOrOutsideOfView\",null),e([P({readOnly:!0,dependsOn:[]})],je.prototype,\"updatingRemaining\",null),e([P({readOnly:!0,dependsOn:[\"owner.view.qualitySettings.graphics3D.maxTotalNumberOfPrimitives\",\"owner.view.qualitySettings.graphics3D.maxTotalNumberOfFeatures\",\"averageSymbolComplexity\"]})],je.prototype,\"displayFeatureLimit\",null),e([P({readOnly:!0,dependsOn:[]})],je.prototype,\"averageSymbolComplexity\",null),e([P({constructOnly:!0})],je.prototype,\"hasZ\",void 0),e([P({constructOnly:!0})],je.prototype,\"hasM\",void 0),je=Ue=e([D(\"esri.views.3d.layers.graphics.Graphics3DCore\")],je),function(e){e[e.NEW=0]=\"NEW\",e[e.LOADING=1]=\"LOADING\",e[e.READY=2]=\"READY\",e[e.REJECTED=3]=\"REJECTED\"}(Ve||(Ve={}));class Fe{constructor(){this.add=null,this.renderingInfo=null,this.state=Ve.NEW,this.remove=null}clear(){this.add=null,this.renderingInfo=null,this.state=Ve.NEW,this.abortController=null,this.remove=null}}const Te=10,ke=L(),Me=L(),We=new Map;export{je as Graphics3DCore};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import i from\"../../../../core/Accessor.js\";import t from\"../../../../core/Handles.js\";import{isSome as s,isNone as a}from\"../../../../core/maybe.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{projectBoundingRect as n}from\"../../../../geometry/projection.js\";import{create as c}from\"../../../../geometry/support/aaBoundingRect.js\";import{VisibilityFlag as h,VisibilityGroup as o}from\"./enums.js\";import{scaleBoundsPredicate as p}from\"../../../support/layerViewUtils.js\";import{TaskPriority as u}from\"../../../support/Scheduler.js\";let g=class extends i{constructor(){super(...arguments),this._scaleRangeActive=!1,this.layerScaleRangeVisibilityQuery=!1,this.handles=new t,this.graphicsCoreOwner=null,this.layer=null,this.queryGraphicUIDsInExtent=null,this.extent=null,this.graphicsCore=null,this.basemapTerrain=null,this.layerScaleEnabled=!0,this.suspended=!1,this.updating=!0}setup(e,i,t,s,a){this.graphicsCoreOwner=e,this.layer=i,this.queryGraphicUIDsInExtent=t,this.graphicsCore=s,this.basemapTerrain=a,this.updateScaleRangeActive();const r=this.graphicsCoreOwner.view.resourceController.scheduler;this.handles.add(r.registerTask(u.SCALE_VISIBILITY,this))}destroy(){this.handles.destroy(),this.handles=null,this.graphicsCoreOwner=null,this.extent=null,this.queryGraphicUIDsInExtent=null,this.graphicsCore=null}_setDirty(){this.updating||this._set(\"updating\",!0)}setExtent(e){const i=this.graphicsCoreOwner.view.spatialReference,t=this.graphicsCoreOwner.view.basemapTerrain.spatialReference;if(i===t)this.extent=e;else{const s=c();n(e,i,s,t)?this.extent=s:this.extent=null}this._setDirty()}scaleRangeActive(){return this._scaleRangeActive}updateScaleRangeActive(){const e=this.layer,i=e.effectiveScaleRange;let t=this.layerScaleEnabled&&y(i.minScale,i.maxScale);e.labelingInfo&&!t&&(t=e.labelingInfo.some((e=>e&&y(e.minScale,e.maxScale))));const s=this._scaleRangeActive!==t;return this._scaleRangeActive=t,t&&!this.handles.has(d)&&this.basemapTerrain?(this.handles.add(this.basemapTerrain.on(\"scale-change\",(e=>this._scaleUpdateHandler(e))),d),this.layerScaleEnabled&&this.handles.add(this.basemapTerrain.on(\"tiles-visibility-changed\",(()=>this._setDirty())),d)):!t&&this.handles.has(d)&&this.handles.remove(d),s}get running(){return!(!this.graphicsCoreOwner.view.basemapTerrain||!this.updating)}runTask(){const e=this.graphicsCoreOwner.view.basemapTerrain;if(this.extent&&e&&e.ready&&this._scaleRangeActive&&this.layerScaleEnabled){if(!this.layerScaleRangeVisibilityQuery){this.layerScaleRangeVisibilityQuery=!0;const i=this.layer.effectiveScaleRange;e.queryVisibleScaleRange(this.extent,i.minScale,i.maxScale,(e=>this._finishUpdate(e)))}}else this._finishUpdate(!0)}_finishUpdate(e){this.layerScaleRangeVisibilityQuery=!1,this._set(\"suspended\",!e),this._set(\"updating\",!1)}_visibleAtLayerScale(e){const i=this.layer.effectiveScaleRange;return!this.layerScaleEnabled||p(e,i.minScale||0,i.maxScale||0)}_visibleAtLabelScale(e,i){return p(e,i.minScale||0,i.maxScale||0)}_graphicScale(e){let i;if(s(e.centroid)?i=e.centroid:s(e.graphic.geometry)&&\"point\"===e.graphic.geometry.type&&(i=e.graphic.geometry),i){return this.graphicsCoreOwner.view.basemapTerrain?this.graphicsCoreOwner.view.basemapTerrain.getScale(i):1}return null}_graphicVisible(e){if(!this.layerScaleEnabled)return!0;const i=this._graphicScale(e);return this._visibleAtLayerScale(i)}updateVisibility(e){if(this._scaleRangeActive){const i=this._graphicVisible(e);return e.setVisibilityFlag(h.SCALE_RANGE,i,o.GRAPHIC)}return!1}updateGraphicLabelScaleVisibility(e){if(!this._scaleRangeActive)return!1;if(!e.labelGraphics||0===e.labelGraphics.length)return!1;const i=this._graphicScale(e),t=this._updateLabelScaleVisibility(e,i);return t&&(this.graphicsCoreOwner.view.deconflictor.setDirty(),this.graphicsCoreOwner.view.labeler.setDirty()),t}_updateLabelScaleVisibility(e,i){if(!e.labelGraphics||0===e.labelGraphics.length)return!1;const t=e.labelGraphics[0]._labelClass;if(t&&null!=t.minScale&&null!=t.maxScale){const s=this._visibleAtLabelScale(i,t);if(e.setVisibilityFlag(h.SCALE_RANGE,s,o.LABEL))return!0}return!1}_scaleUpdateHandler(e){if(this._setDirty(),this.graphicsCoreOwner.suspended)return;const i=e.extent,t=e.scale,r=this._visibleAtLayerScale(t);let l=!1;this.queryGraphicUIDsInExtent(i,e.spatialReference,(e=>{const n=this.graphicsCore.getGraphics3DGraphicById(e);if(a(n))return;const c=n.centroid;s(c)&&(i[0]>c.x||i[1]>c.y||i[2]<c.x||i[3]<c.y)||(n.setVisibilityFlag(h.SCALE_RANGE,r,o.GRAPHIC)&&(l=!0),this._updateLabelScaleVisibility(n,t)&&(l=!0))})),l&&(this.graphicsCoreOwner.view.deconflictor.setDirty(),this.graphicsCoreOwner.view.labeler.setDirty())}layerMinMaxScaleChangeHandler(){this.updateScaleRangeActive()&&!this._scaleRangeActive?this.graphicsCore.modifyGraphics3DGraphicVisibilities((e=>e.clearVisibilityFlag(h.SCALE_RANGE))):this._scaleRangeActive&&this.graphicsCore.updateAllGraphicsVisibility(),this._setDirty()}};function y(e,i){return e>0||i>0}e([r({constructOnly:!0})],g.prototype,\"layerScaleEnabled\",void 0),e([r({readOnly:!0})],g.prototype,\"suspended\",void 0),e([r({readOnly:!0})],g.prototype,\"updating\",void 0),g=e([l(\"esri.views.3d.layers.graphics.Graphics3DScaleVisibility\")],g);const d=\"terrain-events\",b=g;export{b as default};\n"],
  "mappings": "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",
  "names": ["a", "h", "c", "b", "u", "S", "f", "e", "i", "r", "l", "t", "n", "e", "O", "r", "u", "i", "s", "e", "s", "d", "r", "t", "a", "e", "o", "t", "i", "e", "p", "s", "d", "s", "t", "i", "O", "e", "a", "d", "t", "h", "e", "s", "u", "O", "n", "g", "j", "b", "n", "e", "u", "t", "o", "r", "s", "i", "B", "a", "x", "E", "C", "n", "a", "e", "o", "t", "u", "d", "i", "r", "s", "l", "y", "P", "j", "f", "w", "O", "E", "p", "m", "c", "h", "T", "b", "M", "g", "u", "e", "i", "t", "s", "a", "r", "y", "d", "c", "E", "l", "n", "b"]
}
