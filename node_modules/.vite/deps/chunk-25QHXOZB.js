import {
  setAssetPath
} from "./chunk-AA7FGPNP.js";
import {
  a as a2,
  i,
  t as t3
} from "./chunk-UHJVTABQ.js";
import {
  c,
  e as e3,
  n as n3,
  o,
  p,
  t as t2
} from "./chunk-W66LN57L.js";
import {
  t
} from "./chunk-PNUWGOXY.js";
import {
  h as h2
} from "./chunk-3DZ4BNVJ.js";
import {
  u
} from "./chunk-G4IZ2HTT.js";
import {
  f,
  h,
  l as l2
} from "./chunk-T7BEWVV3.js";
import {
  a
} from "./chunk-KVF4M6PZ.js";
import {
  m as m2
} from "./chunk-FTLBKDGL.js";
import {
  n as n2
} from "./chunk-OIPX3EDD.js";
import {
  s as s4
} from "./chunk-Y7FSCP47.js";
import {
  Q
} from "./chunk-5N3FSR63.js";
import {
  s as s3
} from "./chunk-XRL56EGK.js";
import {
  d,
  g,
  n8 as n,
  s4 as s2
} from "./chunk-2QOWZFCU.js";
import {
  e
} from "./chunk-IVBXK6OP.js";
import {
  E,
  b,
  e as e2,
  r2 as r,
  x
} from "./chunk-U3PSONS6.js";
import {
  s
} from "./chunk-CVWDM4C7.js";
import {
  m
} from "./chunk-G5JBUC5N.js";
import {
  l
} from "./chunk-CBQWMOBK.js";

// node_modules/@arcgis/core/core/domUtils.js
function e4(e10) {
  return "string" == typeof e10 ? document.getElementById(e10) : e10;
}
function t4(e10) {
  for (; e10.hasChildNodes(); )
    e10.removeChild(e10.firstChild);
}
function o2(e10, t5) {
  const n6 = t5.parentNode;
  n6 && n6.insertBefore(e10, t5);
}
function r2(e10, t5) {
  for (; ; ) {
    const n6 = e10.firstChild;
    if (!n6)
      break;
    t5.appendChild(n6);
  }
}
function i2(e10) {
  e10.parentNode && e10.parentNode.removeChild(e10);
}
var l3 = (() => {
  if ("function" == typeof Element.prototype.closest)
    return (e11, t5) => e11.closest(t5);
  const e10 = Element.prototype.matches || Element.prototype.msMatchesSelector;
  return (t5, n6) => {
    let o4 = t5;
    do {
      if (e10.call(o4, n6))
        return o4;
      o4 = o4.parentElement;
    } while (null !== o4 && 1 === o4.nodeType);
    return null;
  };
})();

// node_modules/@arcgis/core/libs/maquette-advanced-projector/advanced-projector-options.js
var e5 = { handleInterceptedEvent: (e10, p2, t5, n6) => (e10.scheduleRender(), p2.properties[`on${n6.type}`].apply(p2.properties.bind || t5, [n6])) };

// node_modules/@arcgis/core/libs/maquette-advanced-projector/utils.js
var e6 = { namespace: void 0, performanceLogger: () => {
}, eventHandlerInterceptor: void 0, styleApplyer: (e10, r5, o4) => {
  e10.style[r5] = o4;
} };
var r3 = (r5) => ({ ...e6, ...r5 });

// node_modules/@arcgis/core/libs/maquette-advanced-projector/projector.js
var o3 = (e10, t5) => {
  const r5 = [];
  for (; e10 && e10 !== t5; )
    r5.push(e10), e10 = e10.parentNode;
  return r5;
};
var n4 = (e10, t5) => e10.find(t5);
var d2 = (e10, t5, r5 = false) => {
  let o4 = e10;
  return t5.forEach((e11, d3) => {
    const s6 = (o4 == null ? void 0 : o4.children) ? n4(o4.children, (t6) => t6.domNode === e11) : void 0;
    r5 && !s6 && d3 !== t5.length - 1 || (o4 = s6);
  }), o4;
};
var s5 = (n6) => {
  let s6;
  const i3 = { ...e5, ...n6 }, c2 = r3(i3), a3 = c2.performanceLogger;
  let m3, p2 = true, l4 = false;
  const f2 = [], u2 = [], h3 = (e10, t5, r5) => {
    var _a;
    let n7;
    c2.eventHandlerInterceptor = (e11, t6, r6, c3) => function(e12) {
      let t7;
      a3("domEvent", e12);
      const r7 = o3(e12.currentTarget, n7.domNode), c4 = r7.some((e13) => {
        var _a2;
        return customElements.get((_a2 = e13 == null ? void 0 : e13.tagName) == null ? void 0 : _a2.toLowerCase());
      });
      if (e12.eventPhase === Event.CAPTURING_PHASE || !c4)
        r7.reverse(), t7 = d2(n7.getLastRender(), r7);
      else {
        const r8 = e12.composedPath(), o4 = r8.slice(r8.indexOf(e12.currentTarget), r8.indexOf(n7.domNode)).filter((e13) => e13.getRootNode() === e13.ownerDocument).reverse();
        t7 = d2(n7.getLastRender(), o4, true);
      }
      let m5;
      return t7 && (m5 = i3.handleInterceptedEvent(s6, t7, this, e12)), a3("domEventProcessed", e12), m5;
    }, (_a = i3.postProcessProjectionOptions) == null ? void 0 : _a.call(i3, c2);
    const m4 = r5();
    n7 = e10(t5, m4, c2), f2.push(n7), u2.push(r5), i3.afterFirstVNodeRendered && i3.afterFirstVNodeRendered(n7, m4);
  };
  let v = () => {
    if (m3 = void 0, p2) {
      p2 = false, a3("renderStart", void 0);
      for (let e10 = 0; e10 < f2.length; e10++) {
        const t5 = u2[e10]();
        a3("rendered", void 0), f2[e10].update(t5), a3("patched", void 0);
      }
      a3("renderDone", void 0), p2 = true;
    }
  };
  return i3.modifyDoRenderImplementation && (v = i3.modifyDoRenderImplementation(v, f2, u2)), s6 = { renderNow: v, scheduleRender: () => {
    m3 || l4 || (m3 = requestAnimationFrame(v));
  }, stop: () => {
    m3 && (cancelAnimationFrame(m3), m3 = void 0), l4 = true;
  }, resume: () => {
    l4 = false, p2 = true, s6.scheduleRender();
  }, append: (t5, r5) => {
    h3(n3.append, t5, r5);
  }, insertBefore: (t5, r5) => {
    h3(n3.insertBefore, t5, r5);
  }, merge: (t5, r5) => {
    h3(n3.merge, t5, r5);
  }, replace: (t5, r5) => {
    h3(n3.replace, t5, r5);
  }, detach: (e10) => {
    for (let t5 = 0; t5 < u2.length; t5++)
      if (u2[t5] === e10)
        return u2.splice(t5, 1), f2.splice(t5, 1)[0];
    throw new Error("renderFunction was not found");
  } }, s6;
};

// node_modules/@arcgis/core/widgets/support/componentsUtils.js
var e7;
function r4() {
  setAssetPath(Q(a(e7)));
}
e7 = "components/assets";

// node_modules/@arcgis/core/widgets/support/tests.js
var e8 = /* @__PURE__ */ new Set();
function n5(n6) {
  e8.add(n6), n6.finally(() => e8.delete(n6));
}

// node_modules/@arcgis/core/widgets/Widget.js
var U = "esri.widgets.Widget";
var $ = s.getLogger(U);
var x2 = 0;
var z = { widgetIcon: "esri-icon-checkbox-unchecked" };
function A(e10, t5) {
  for (const r5 in t5)
    null != e10[r5] && ("object" == typeof e10[r5] && "object" == typeof t5[r5] ? A(e10[r5], t5[r5]) : e10[r5] = t5[r5]);
  return e10;
}
var B = s5({ postProcessProjectionOptions(e10) {
  const t5 = e10.eventHandlerInterceptor, r5 = /capture$/i;
  e10.eventHandlerInterceptor = (e11, o4, s6, i3) => {
    const n6 = t5(e11, o4, s6, i3), a3 = r5.test(e11);
    if (!((e11 = e11.replace(r5, "")).toLowerCase() in s6) || a3) {
      const t6 = e11[2].toLowerCase() + e11.slice(3), r6 = (e12) => n6.call(s6, e12);
      s6.addEventListener(t6, r6, a3);
      const o5 = () => s6.removeEventListener(t6, r6, a3), c2 = i3.afterRemoved;
      i3.afterRemoved = (e12) => {
        c2 == null ? void 0 : c2(e12), o5();
      };
    }
    return n6;
  };
}, handleInterceptedEvent(e10, t5, r5, o4) {
  const { eventPhase: s6, type: i3 } = o4, n6 = s6 === Event.CAPTURING_PHASE;
  let a3 = `on${i3}${n6 ? "capture" : ""}`;
  const c2 = t5.properties;
  (a3 in c2 || (a3 = `on${i3[0].toUpperCase()}${i3.slice(1)}${n6 ? "Capture" : ""}`, a3 in c2)) && (t2(), e10.scheduleRender(), c2[a3].call(c2.bind || r5, o4));
} });
var D = false;
var M = class extends m2(n2.EventedAccessor) {
  constructor(e10, t5) {
    super(e10, t5), this._attached = false, this._internalHandles = new u(), this._projector = B, this._readyForTrueRender = false, this.domNode = null, this.iconClass = z.widgetIcon, this.label = this.declaredClass.split(".").pop(), this.visible = true, this.key = this, this._loadLocale = x(async () => {
      if (this._messageBundleProps && this._messageBundleProps.length) {
        const e11 = await E(this._messageBundleProps.map(async ({ bundlePath: e12, propertyName: t6 }) => {
          let r6 = await h2(e12);
          this.uiStrings && Object.keys(this.uiStrings) && (r6 = A(m(r6), this.uiStrings)), this[t6] = r6;
        }));
        for (const t6 of e11)
          t6.error && $.error("widget-intl:locale-error", this.declaredClass, t6.error);
      }
      await this.loadLocale();
    }), r4();
    const r5 = "esri-widget-uid-" + t(), o4 = this.render.bind(this);
    this._trackingTarget = new s2(() => this.scheduleRender());
    const s6 = () => {
      var _a;
      if (!this._readyForTrueRender || this.destroyed)
        return null;
      if (!this.visible)
        return { vnodeSelector: "div", properties: { key: r5, class: "", styles: { display: "none" } }, domNode: void 0, children: void 0, text: void 0 };
      const e11 = o4();
      let { properties: t6 } = e11;
      t6 || (e11.properties = t6 = {});
      let { key: s7, styles: i3 } = t6;
      s7 || (t6.key = r5), i3 || (t6.styles = i3 = {}), i3.display || (i3.display = "");
      let n6 = 0;
      return (_a = e11.children) == null ? void 0 : _a.forEach((e12) => {
        if (a2(e12.vnodeSelector))
          return;
        let { properties: t7 } = e12;
        t7 || (e12.properties = t7 = {}), t7.key || (t7.key = `${this.id}--${n6++}`);
      }), i(this, e11);
    };
    this.render = () => {
      if (D)
        return s6();
      let e11 = e3(this);
      if (e11)
        return e11;
      this._trackingTarget.clear(), D = true;
      try {
        e11 = g(this._trackingTarget, s6);
      } catch (t6) {
        throw console.error(t6), t6;
      } finally {
        D = false;
      }
      return c(this, e11), e11;
    }, this.addResolvingPromise(this._resourcesFetch = this.beforeFirstRender().then(() => {
      this._readyForTrueRender = true, this._postInitialize();
    })), n5(this._resourcesFetch);
  }
  normalizeCtorArgs(e10, t5) {
    const r5 = { ...e10 };
    return t5 && (r5.container = t5), r5;
  }
  postInitialize() {
  }
  beforeFirstRender() {
    return Promise.all([this.loadDependencies(), this._loadLocale()]).then(() => {
    }).catch(b);
  }
  async loadDependencies() {
  }
  async loadLocale() {
  }
  destroy() {
    this.destroyed || (l(this._trackingTarget), l(this.viewModel), this._detach(this.container), this._set("container", null), this._internalHandles.destroy(), this._emitter.clear(), this.render = () => null, this._projector = null, o(this));
  }
  set container(e10) {
    this._get("container") || this._set("container", e10);
  }
  castContainer(e10) {
    return e4(e10);
  }
  get id() {
    return this._get("id") || this.get("container.id") || Date.now().toString(16) + "-widget-" + x2++;
  }
  set id(e10) {
    e10 && this._set("id", e10);
  }
  get renderable() {
    return this._resourcesFetch;
  }
  get test() {
    return { projector: this._projector };
  }
  render() {
    throw new Error("not implemented");
  }
  scheduleRender() {
    this.destroyed || (o(this), this._projector.scheduleRender());
  }
  classes(...e10) {
    return p.apply(this, e10);
  }
  renderNow() {
    o(this), this._projector.renderNow();
  }
  _postInitialize() {
    var _a;
    if (this.destroyed)
      return;
    this.scheduleRender(), ((_a = this._delegatedEventNames) == null ? void 0 : _a.length) && this._internalHandles.add(l2(() => this.viewModel, (e11, t5) => {
      t5 && this._internalHandles.remove("delegated-events"), e11 && e2(e11) && this._internalHandles.add(this._delegatedEventNames.map((t6) => r(e11, t6, (e12) => {
        this.emit(t6, e12);
      })), "delegated-events");
    }, h)), this.postInitialize();
    const e10 = async () => {
      await this._loadLocale().catch(b), this.scheduleRender();
    };
    this._internalHandles.add([s4(e10), l2(() => this.uiStrings, e10), f(() => this.container, (e11) => {
      this.destroyed || this._attach(e11);
    }, { initial: true, once: true })]);
  }
  _attach(e10) {
    e10 && (this._projector.merge(e10, this.render), this._attached = true);
  }
  _detach(e10) {
    e10 && this._attached && (this._projector.detach(this.render), e10.parentNode && e10.parentNode.removeChild(e10), this._attached = false);
  }
};
M[t3] = true, e([d()], M.prototype, "_readyForTrueRender", void 0), e([d({ value: null })], M.prototype, "container", null), e([s3("container")], M.prototype, "castContainer", null), e([d({ aliasOf: "container" })], M.prototype, "domNode", void 0), e([d()], M.prototype, "iconClass", void 0), e([d()], M.prototype, "id", null), e([d()], M.prototype, "label", void 0), e([d()], M.prototype, "renderable", null), e([d()], M.prototype, "uiStrings", void 0), e([d()], M.prototype, "viewModel", void 0), e([d()], M.prototype, "visible", void 0), e([d()], M.prototype, "key", void 0), e([d()], M.prototype, "children", void 0), e([d()], M.prototype, "afterCreate", void 0), e([d()], M.prototype, "afterUpdate", void 0), e([d()], M.prototype, "afterRemoved", void 0), M = e([n(U)], M);
var O = M;

// node_modules/@arcgis/core/widgets/support/decorators/messageBundle.js
function e9(e10) {
  return (s6, r5) => {
    s6.hasOwnProperty("_messageBundleProps") || (s6._messageBundleProps = s6._messageBundleProps ? s6._messageBundleProps.slice() : []);
    s6._messageBundleProps.push({ bundlePath: e10, propertyName: r5 });
  };
}

export {
  e4 as e,
  t4 as t,
  o2 as o,
  r2 as r,
  i2 as i,
  O,
  e9 as e2
};
/*! Bundled license information:

@esri/calcite-components/dist/components/index.js:
  (*!
   * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
   * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
   * v1.0.0-beta.82
   *)
*/
//# sourceMappingURL=chunk-25QHXOZB.js.map
