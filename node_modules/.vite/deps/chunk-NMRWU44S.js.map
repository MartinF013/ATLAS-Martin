{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/support/PropertiesPool.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{ReentrantObjectPool as e}from\"../../../core/ReentrantObjectPool.js\";import{afterDispatch as t,isValueInUse as r}from\"../../../core/accessorSupport/watch.js\";class o{constructor(r,o){this.owner=o,this.properties={},this.afterDispatchHandle=null;for(const t in r){const o=r[t],s=new e(o,null,null,2,2);this.properties[t]={pool:s,acquired:[]}}this.afterDispatchHandle=t((()=>this._release()))}destroy(){this.afterDispatchHandle&&(this.afterDispatchHandle.remove(),this.afterDispatchHandle=null);for(const e in this.properties){const t=this.properties[e];for(const e of t.acquired)r(e)||t.pool.release(e);t.pool.destroy(),t.pool=null,t.acquired=null}this.properties=null,this.owner=null}get(e){const t=this.owner._get(e),r=this.properties[e];let o=r.pool.acquire();for(r.acquired.push(o);o===t;)r.acquired.push(o),o=r.pool.acquire();return o}_release(){for(const e in this.properties){const t=this.properties[e];let o=0;for(const e of t.acquired)r(e)?t.acquired[o++]=e:t.pool.release(e);t.acquired.length=o}}}export{o as PropertiesPool};\n"],
  "mappings": ";;;;;;;AAIoK,IAAM,IAAN,MAAO;AAAA,EAAC,YAAY,GAAEA,IAAE;AAAC,SAAK,QAAMA,IAAE,KAAK,aAAW,CAAC,GAAE,KAAK,sBAAoB;AAAK,eAAUC,MAAK,GAAE;AAAC,YAAMD,KAAE,EAAEC,EAAC,GAAE,IAAE,IAAI,EAAED,IAAE,MAAK,MAAK,GAAE,CAAC;AAAE,WAAK,WAAWC,EAAC,IAAE,EAAC,MAAK,GAAE,UAAS,CAAC,EAAC;AAAA,IAAC;AAAC,SAAK,sBAAoB,EAAG,MAAI,KAAK,SAAS,CAAE;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,SAAK,wBAAsB,KAAK,oBAAoB,OAAO,GAAE,KAAK,sBAAoB;AAAM,eAAU,KAAK,KAAK,YAAW;AAAC,YAAMA,KAAE,KAAK,WAAW,CAAC;AAAE,iBAAUC,MAAKD,GAAE;AAAS,UAAEC,EAAC,KAAGD,GAAE,KAAK,QAAQC,EAAC;AAAE,MAAAD,GAAE,KAAK,QAAQ,GAAEA,GAAE,OAAK,MAAKA,GAAE,WAAS;AAAA,IAAI;AAAC,SAAK,aAAW,MAAK,KAAK,QAAM;AAAA,EAAI;AAAA,EAAC,IAAI,GAAE;AAAC,UAAMA,KAAE,KAAK,MAAM,KAAK,CAAC,GAAE,IAAE,KAAK,WAAW,CAAC;AAAE,QAAID,KAAE,EAAE,KAAK,QAAQ;AAAE,SAAI,EAAE,SAAS,KAAKA,EAAC,GAAEA,OAAIC;AAAG,QAAE,SAAS,KAAKD,EAAC,GAAEA,KAAE,EAAE,KAAK,QAAQ;AAAE,WAAOA;AAAA,EAAC;AAAA,EAAC,WAAU;AAAC,eAAU,KAAK,KAAK,YAAW;AAAC,YAAMC,KAAE,KAAK,WAAW,CAAC;AAAE,UAAID,KAAE;AAAE,iBAAUE,MAAKD,GAAE;AAAS,UAAEC,EAAC,IAAED,GAAE,SAASD,IAAG,IAAEE,KAAED,GAAE,KAAK,QAAQC,EAAC;AAAE,MAAAD,GAAE,SAAS,SAAOD;AAAA,IAAC;AAAA,EAAC;AAAC;",
  "names": ["o", "t", "e"]
}
