{
  "version": 3,
  "sources": ["../../@arcgis/core/layers/graphics/data/utils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{JSONMap as e}from\"../../../core/jsonMap.js\";import{isNone as t,isSome as r}from\"../../../core/maybe.js\";import{getUnitString as i}from\"../../../core/unitUtils.js\";import{getGeometryExtent as o}from\"../../../geometry/support/extentUtils.js\";import{fromJSON as n}from\"../../../geometry/support/jsonUtils.js\";import{normalizeCentralMeridian as s}from\"../../../geometry/support/normalizeUtils.js\";import{isGeographic as l,isWebMercator as a,WGS84 as m}from\"../../../geometry/support/spatialReferenceUtils.js\";import{getCentroidOptimizedGeometry as c}from\"../centroid.js\";import{quantizeOptimizedGeometry as u,convertToPoint as f,generalizeOptimizedGeometry as p,removeZMValues as y,convertToPolyline as g,convertToPolygon as S,convertToMultipoint as R}from\"../featureConversionUtils.js\";import d from\"../OptimizedGeometry.js\";import{checkProjectionSupport as h,project as w}from\"./projectionSupport.js\";const j=new e({esriSRUnit_Meter:\"meters\",esriSRUnit_Kilometer:\"kilometers\",esriSRUnit_Foot:\"feet\",esriSRUnit_StatuteMile:\"miles\",esriSRUnit_NauticalMile:\"nautical-miles\",esriSRUnit_USNauticalMile:\"us-nautical-miles\"}),U=Object.freeze({}),M=new d,F=new d,G=new d,N={esriGeometryPoint:f,esriGeometryPolyline:g,esriGeometryPolygon:S,esriGeometryMultipoint:R};function O(e,r,i,o=e.hasZ,n=e.hasM){if(t(r))return null;const s=e.hasZ&&o,l=e.hasM&&n;if(i){const t=u(G,r,e.hasZ,e.hasM,\"esriGeometryPoint\",i,o,n);return f(t,s,l)}return f(r,s,l)}function _(e,t,r){return\"esriGeometryPolygon\"===e.geometryType&&t&&(t.centroid||t.geometry)?(t.centroid||(t.centroid=c(new d,t.geometry,e.hasZ,e.hasM)),O(e,t.centroid,r)):null}function J(e,i,o,n,s,l,a=i,m=o){const c=i&&a,f=o&&m,g=r(n)?\"coords\"in n?n:n.geometry:null;if(t(g))return null;if(s){let t=p(F,g,i,o,e,s,a,m);return l&&(t=u(G,t,c,f,e,l)),N[e](t,c,f)}if(l){const t=u(G,g,i,o,e,l,a,m);return N[e](t,c,f)}return y(M,g,i,o,a,m),N[e](M,c,f)}async function P(e,t,r){const{outFields:i,orderByFields:o,groupByFieldsForStatistics:n,outStatistics:s}=e;if(i)for(let l=0;l<i.length;l++)i[l]=i[l].trim();if(o)for(let l=0;l<o.length;l++)o[l]=o[l].trim();if(n)for(let l=0;l<n.length;l++)n[l]=n[l].trim();if(s)for(let l=0;l<s.length;l++)s[l].onStatisticField&&(s[l].onStatisticField=s[l].onStatisticField.trim());return e.geometry&&!e.outSR&&(e.outSR=e.geometry.spatialReference),v(e,t,r)}async function v(e,r,i){if(!e)return null;let{where:l}=e;if(e.where=l=l&&l.trim(),(!l||/^1 *= *1$/.test(l)||r&&r===l)&&(e.where=null),!e.geometry)return e;let a=await Z(e);if(e.distance=0,e.units=null,\"esriSpatialRelEnvelopeIntersects\"===e.spatialRel){const{spatialReference:t}=e.geometry;a=o(a),a.spatialReference=t}e.geometry=a,await h(a.spatialReference,i);const m=(await s(n(a)))[0];if(t(m))throw U;const c=m.toJSON(),u=await w(c,c.spatialReference,i);if(!u)throw U;return u.spatialReference=i,e.geometry=u,e}async function Z(e){const{geometry:t,distance:r,units:o}=e;if(null==r||\"vertexAttributes\"in t)return t;const n=t.spatialReference,s=o?j.fromJSON(o):i(n),c=n&&(l(n)||a(n))?t:await h(n,m).then((()=>w(t,m)));return(await b())(c.spatialReference,c,r,s)}async function b(){return(await import(\"../../../geometry/geometryEngineJSON.js\")).geodesicBuffer}function x(e){return e&&z in e?JSON.parse(JSON.stringify(e,B)):e}const z=\"_geVersion\",B=(e,t)=>e!==z?t:void 0;export{U as QUERY_ENGINE_EMPTY_RESULT,x as cleanFromGeometryEngine,_ as getCentroid,J as getGeometry,P as normalizeQuery,v as normalizeQueryLike,O as transformCentroid};\n"],
  "mappings": "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",
  "names": ["t", "G", "e", "r", "o", "s", "l", "e", "o", "s", "l", "c", "f", "g", "t", "G", "r", "Z", "L"]
}
