{
  "version": 3,
  "sources": ["../../@arcgis/core/analysis/dimensionUtils.js", "../../@arcgis/core/analysis/LengthDimension.js", "../../@arcgis/core/views/3d/analysis/Dimensioning/settings.js", "../../@arcgis/core/views/interactive/snapping/featureSources/sceneLayerSource/SceneLayerSnappingSourceWorkerHandle.js", "../../@arcgis/core/views/interactive/snapping/featureSources/SceneLayerSnappingSource.js", "../../@arcgis/core/views/interactive/snapping/SceneSnappingEngine.js", "../../@arcgis/core/views/interactive/snapping/SceneSnappingManagerPool.js", "../../@arcgis/core/views/3d/analysis/Dimensioning/LengthDimensionSubTool.js", "../../@arcgis/core/views/3d/analysis/Dimensioning/DimensioningTool.js", "../../@arcgis/core/views/3d/analysis/Dimensioning/LengthDimensionVisualization.js", "../../@arcgis/core/views/3d/analysis/Dimensioning/DimensioningVisualization.js", "../../@arcgis/core/views/3d/analysis/LengthDimensionResult.js", "../../@arcgis/core/views/3d/analysis/Dimensioning/LengthDimensionComputation.js", "../../@arcgis/core/views/3d/analysis/DimensioningAnalysisView3D.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nconst t=[\"horizontal\",\"vertical\",\"direct\"];export{t as lengthDimensionAxes};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import\"../geometry.js\";import{lengthDimensionAxes as o}from\"./dimensionUtils.js\";import{Clonable as r}from\"../core/Clonable.js\";import{cyclicalDegrees as e}from\"../core/Cyclical.js\";import{isNone as s,isSome as i}from\"../core/maybe.js\";import{property as n}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{cast as p}from\"../core/accessorSupport/decorators/cast.js\";import{subclass as m}from\"../core/accessorSupport/decorators/subclass.js\";import{ensureNumber as a}from\"../core/accessorSupport/ensureType.js\";import l from\"../geometry/Extent.js\";import c from\"../geometry/Point.js\";let y=class extends r{constructor(t){super(t),this.type=\"length\",this.startPoint=null,this.endPoint=null,this.axis=\"horizontal\",this.offset=0,this.heading=0}get extent(){if(s(this.startPoint))return null;const t=l.fromPoint(this.startPoint);return i(this.endPoint)&&t.union(l.fromPoint(this.endPoint)),t}};t([n({type:[\"length\"]})],y.prototype,\"type\",void 0),t([n({type:c})],y.prototype,\"startPoint\",void 0),t([n({type:c})],y.prototype,\"endPoint\",void 0),t([n({type:o,nonNullable:!0})],y.prototype,\"axis\",void 0),t([n({type:Number,nonNullable:!0})],y.prototype,\"offset\",void 0),t([n({type:Number,nonNullable:!0}),p((t=>e.normalize(a(t),0,!0)))],y.prototype,\"heading\",void 0),t([n({readOnly:!0})],y.prototype,\"extent\",null),y=t([m(\"esri.analysis.LengthDimension\")],y);const u=y;export{u as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport t from\"../../../../Color.js\";import{pt2px as s}from\"../../../../core/screenUtils.js\";const o={main:new t([255,127,0])};class i{constructor(){this.color=o.main,this.opacity=.5,this.radius=5}}class r{constructor(){this.fontSize=14}get height(){return 1.5*s(this.fontSize)}get offset(){return this.height+20}}class e{constructor(){this.pointManipulators=new i,this.labels=new r}}const n=new e;export{n as settings};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{HandleOwner as t}from\"../../../../../core/HandleOwner.js\";import{property as r}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{c as s}from\"../../../../../chunks/vec3f64.js\";import{WorkerHandle as i}from\"../../../../../core/workers/WorkerHandle.js\";import{f as n}from\"../../../../../chunks/sphere.js\";import{absoluteHeightElevationInfo as a}from\"../../../../../support/elevationInfoUtils.js\";import{EdgeSnappingCandidate as d}from\"../../candidates/EdgeSnappingCandidate.js\";import{VertexSnappingCandidate as c}from\"../../candidates/VertexSnappingCandidate.js\";let p=class extends t{constructor(e){super(e),this.availability=0,this._ids=new Set,this.tmpP=s()}destroy(){this.workerHandle.destroy(),this.workerHandle=null}initialize(){this.workerHandle=new l(this.schedule,{fetchAllEdgeLocations:(e,t)=>this._fetchAllEdgeLocations(e,t)})}async fetchCandidates(e,t){const r=e.coordinateHelper.toXYZ(e.point);this.view.renderCoordsHelper.toRenderCoords(r,e.coordinateHelper.spatialReference,r);const o=\"number\"==typeof e.distance?e.distance:e.distance.pixelSize,s=await this.workerHandle.invoke({bounds:n(r[0],r[1],r[2],o),types:e.types},t),i=e.coordinateHelper;return s.candidates.sort(((e,t)=>e.distance-t.distance)),s.candidates.map((e=>this._convertCandidate(i,e)))}async add(e,t){this._ids.add(e.id),await this.workerHandle.invokeMethod(\"add\",e,t)}async remove(e,t){this._ids.delete(e.id),await this.workerHandle.invokeMethod(\"remove\",e,t)}_convertCandidate(e,t){switch(t.type){case\"edge\":return new d({coordinateHelper:e,objectId:t.objectId,targetPoint:this._convertRenderCoordinate(e,t.target),edgeStart:this._convertRenderCoordinate(e,t.start),edgeEnd:this._convertRenderCoordinate(e,t.end),elevationInfo:a});case\"vertex\":return new c({coordinateHelper:e,objectId:t.objectId,targetPoint:this._convertRenderCoordinate(e,t.target),elevationInfo:a})}}_convertRenderCoordinate(e,t){return this.view.renderCoordsHelper.fromRenderCoords(t,this.tmpP,e.spatialReference),e.fromXYZ(this.tmpP)}async _fetchAllEdgeLocations(e,t){const r=[],o=[];for(const{id:s,uid:i}of e.components)this._ids.has(s)&&r.push((async()=>{const e=await this.fetchEdgeLocations(s,t.signal);return o.push(e.locations.buffer),{id:s,uid:i,objectIds:e.objectIds,locations:e.locations.buffer,origin:e.origin,type:e.type}})());return{result:{components:(await Promise.all(r)).filter((({id:e})=>this._ids.has(e)))},transferList:o}}};e([r({constructOnly:!0})],p.prototype,\"view\",void 0),e([r({constructOnly:!0})],p.prototype,\"fetchEdgeLocations\",void 0),e([r({constructOnly:!0})],p.prototype,\"schedule\",void 0),e([r({readOnly:!0})],p.prototype,\"availability\",void 0),p=e([o(\"esri.views.interactive.snapping.featureSources.sceneLayerSource.SceneLayerSnappingSourceWorker\")],p);class l extends i{constructor(e,t){super(\"SceneLayerSnappingSourceWorker\",\"fetchCandidates\",{},e,{strategy:\"dedicated\",client:t})}}export{p as SceneLayerSnappingSourceWorkerHandle};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{HandleOwner as r}from\"../../../../core/HandleOwner.js\";import{destroyHandle as t}from\"../../../../core/handleUtils.js\";import{abortMaybe as o,isNone as s}from\"../../../../core/maybe.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import n from\"../../../3d/webgl-engine/lib/edgeRendering/EdgeWorkerHandle.js\";import{SceneLayerSnappingSourceWorkerHandle as d}from\"./sceneLayerSource/SceneLayerSnappingSourceWorkerHandle.js\";let c=class extends r{constructor(e){super(e),this.availability=1,this.abortController=new AbortController}get updating(){return this.updatingHandles.updating}get layer(){return this.layerSource.layer}destroy(){this.abortController=o(this.abortController)}initialize(){const e=this.view.resourceController;this.edgeWorker=new n((r=>e.schedule(r))),this.workerHandle=new d({view:this.view,schedule:r=>e.schedule(r),fetchEdgeLocations:async(e,r)=>{if(s(this.tracker))throw new Error(\"tracker-not-initialized\");return this.tracker.fetchEdgeLocations(e,this.edgeWorker,r)}}),this.updatingHandles.addPromise(this._setupLayerView()),this.handles.add([t(this.workerHandle),t(this.edgeWorker)])}async fetchCandidates(e,r){return this.workerHandle.fetchCandidates(e,r)}refresh(){}async _setupLayerView(){const e=await this.view.whenLayerView(this.layer);if(\"scene-layer-graphics-3d\"===e.type)return;const r={add:(e,r)=>this.updatingHandles.addPromise(this.workerHandle.add({id:e,bounds:r},this.abortController.signal)),remove:e=>this.updatingHandles.addPromise(this.workerHandle.remove({id:e},this.abortController.signal))};this.tracker=e.trackSnappingSources(r),this.handles.add(this.tracker)}};e([i({constructOnly:!0})],c.prototype,\"layerSource\",void 0),e([i({constructOnly:!0})],c.prototype,\"view\",void 0),e([i({readOnly:!0})],c.prototype,\"updating\",null),e([i({readOnly:!0})],c.prototype,\"availability\",void 0),c=e([a(\"esri.views.interactive.snapping.featureSources.SceneLayerSnappingSource\")],c);export{c as SceneLayerSnappingSource};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Accessor.js\";import t from\"../../../core/Collection.js\";import{isSome as o}from\"../../../core/maybe.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{sv3d as p}from\"../../../geometry/support/vectorStacks.js\";import{SnappingTypes as n}from\"../../../layers/graphics/data/QueryEngineResult.js\";import a from\"./FeatureSnappingLayerSource.js\";import{sortCandidatesInPlace as c}from\"./snappingUtils.js\";import{SceneLayerSnappingSource as u}from\"./featureSources/SceneLayerSnappingSource.js\";import{anyMapPointToRender as l}from\"../support/viewUtils.js\";let m=class extends r{constructor(e){super(e),this.options=null,this._snappingSources=new t}initialize(){this.own([this.view.on(\"layerview-create\",(({layerView:e})=>this._createSource(e))),this.view.on(\"layerview-destroy\",(({layerView:e})=>this._removeSource(e)))]);for(const e of this.view.allLayerViews.items)this._createSource(e)}destroy(){this.options=null,this._snappingSources.drain((e=>e.destroy()))}get updating(){return this._snappingSources.some((e=>e.updating))}get _types(){return n.EDGE|n.VERTEX}async fetchCandidates(e,r,t){const{view:s,options:i}=this,{coordinateHelper:n,elevationInfo:a}=r,u=o(i)?i.distance:1,m=l(e,n,a,s,p.get()),y=u*s.state.camera.computeScreenPixelSizeAt(m),S=this._types,d=this._snappingSources.items.map((r=>r.fetchCandidates({point:e,coordinateHelper:n,distance:y,types:S},t))),h=(await Promise.all(d)).flat();return c(e,h),h}_createSource(e){if(\"scene-layer-3d\"!==e.type)return;const r=new u({layerSource:new a({layer:e.layer}),view:this.view});this._snappingSources.push(r)}_removeSource(e){const r=this._snappingSources.findIndex((r=>r.layerSource.layer===e.layer));-1!==r&&this._snappingSources.removeAt(r).destroy()}};e([s({constructOnly:!0})],m.prototype,\"view\",void 0),e([s()],m.prototype,\"updating\",null),e([s()],m.prototype,\"options\",void 0),e([s()],m.prototype,\"_snappingSources\",void 0),m=e([i(\"esri.views.interactive.snapping.SceneSnappingEngine\")],m);export{m as SceneSnappingEngine};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{makeHandle as n}from\"../../../core/handleUtils.js\";import{nextTick as e}from\"../../../core/nextTick.js\";import{SceneSnappingEngine as r}from\"./SceneSnappingEngine.js\";import{SnappingManager as o}from\"./SnappingManager.js\";const t=new Map;function a(e){t.has(e)||t.set(e,{referenceCount:0,snappingManager:p(e)});const r=t.get(e);r.referenceCount++;const o=n((()=>i(e,r)));return{snappingManager:r.snappingManager,...o}}function i(n,r){r.referenceCount--,r.referenceCount>0||e((()=>{0===r.referenceCount&&(r.snappingManager.destroy(),t.delete(n))}))}function p(n){return new o({view:n,snappingEnginesFactory:(e,o)=>[new r({view:n,options:o})]})}export{a as acquire};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as n}from\"../../../../chunks/tslib.es6.js\";import i from\"../../../../Color.js\";import\"../../../../geometry.js\";import t from\"../../../../analysis/LengthDimension.js\";import{HandleOwner as e}from\"../../../../core/HandleOwner.js\";import s from\"../../../../core/Handles.js\";import{isSome as a,applySome as o,destroyMaybe as r,isNone as p}from\"../../../../core/maybe.js\";import{ignoreAbortErrors as m}from\"../../../../core/promiseUtils.js\";import{watch as d,sync as g,syncAndInitial as l}from\"../../../../core/reactiveUtils.js\";import{property as c}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as u}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{clonePoint as h}from\"../../../../layers/graphics/hydratedFeatures.js\";import{settings as _}from\"./settings.js\";import{createSphereManipulator as v}from\"../../interactive/manipulatorUtils.js\";import{SnappingVisualizer3D as M}from\"../../interactive/SnappingVisualizer3D.js\";import{screenToMap3D as f,hideManipulatorWhileDragging as P}from\"../../interactive/editingTools/dragEventPipeline3D.js\";import{createCoordinateHelper as j}from\"../../../interactive/coordinateHelper.js\";import{createManipulatorDragEventPipeline as y,resetProperties as w}from\"../../../interactive/dragEventPipeline.js\";import{EditGeometry as D}from\"../../../interactive/editGeometry/EditGeometry.js\";import{EditGeometryOperations as S}from\"../../../interactive/editGeometry/EditGeometryOperations.js\";import{acquire as x}from\"../../../interactive/snapping/SceneSnappingManagerPool.js\";import{SnappingContext as H}from\"../../../interactive/snapping/SnappingContext.js\";import{SnappingPipeline as b}from\"../../../interactive/snapping/SnappingDragPipelineStep.js\";import{SnappingOperation as O}from\"../../../interactive/snapping/SnappingOperation.js\";import C from\"../../../../geometry/Point.js\";let T=class extends e{constructor(n){super(n),this.stagedDimension=null,this._dimensionManipulators=new Map,this._dimensionHandles=new s,this._snappingPipeline=new b,this._snappingManagerResult=x(n.view),this.own(this._snappingManagerResult)}initialize(){this._snappingOperation=new O({view:this.view}),this.own([this._dimensionHandles,d((()=>this._snappingOperation.stagedPoint),(n=>{a(this.stagedDimension)&&(this.stagedDimension.endPoint=o(n,(n=>h(n,new C))))}),g)])}destroy(){this._snappingOperation=r(this._snappingOperation)}get updating(){return this.updatingHandles.updating||this._snappingManager.updating}get _snappingManager(){return this._snappingManagerResult.snappingManager}addDimension(n,i){if(this._dimensionManipulators.has(n))return;const t=this._createPointManipulator(n,{isStart:!0}),e=this._createPointManipulator(n,{isStart:!1}),s={startManipulator:t,endManipulator:e};this._setupDimensionToManipulatorsSync(n,s),this._dimensionManipulators.set(n,s),i.add(t),i.add(e)}removeDimension(n,i){const t=this._dimensionManipulators.get(n);if(p(t))return;this._dimensionHandles.remove(n);const{startManipulator:e,endManipulator:s}=t;this._dimensionManipulators.delete(n),i.remove(e),i.remove(s)}getManipulatorsForDimension(n){return this._dimensionManipulators.get(n)}onDeactivate(){this._snappingManager.doneSnapping()}onUnstagedClick({mapPoint:n,pointerType:i}){const e=this._snappingContext(i),s=h(this._snappingManager.update(n,e),new C),a=new t({startPoint:s,endPoint:null});return this.stagedDimension=a,this._snappingManager.doneSnapping(),a}onStagedClick({mapPoint:n,pointerType:i}){if(p(this.stagedDimension))return;const t=this._snappingContext(i),e=h(this._snappingManager.update(n,t),new C);this.stagedDimension.endPoint=e,this.stagedDimension=null,this._snappingManager.doneSnapping()}onPointerMove({mapPoint:n,pointerType:i}){const t=this._snappingContext(i);this.updatingHandles.addPromise(m(this._snappingOperation.snap(n,this._snappingManager,t)))}_setupDimensionToManipulatorsSync(n,i){const{startManipulator:t,endManipulator:e}=i;this._dimensionHandles.add([d((()=>({startPoint:n.startPoint,endPoint:n.endPoint,stagedDimension:this.stagedDimension})),(({startPoint:i,endPoint:s,stagedDimension:o})=>{a(i)?(t.available=p(o)||o===n,t.location=i):t.available=!1,a(s)?(e.available=p(o),e.location=s):e.available=!1}),l)],n)}_createPointManipulator(n,t){const{isStart:e}=t,s=e?\"startPoint\":\"endPoint\",a=v(this.view,i.toUnitRGB(_.pointManipulators.color),_.pointManipulators.opacity);a.available=!1,a.radius=_.pointManipulators.radius;const o=y(a,((i,t,e,a)=>{const o=P(i);t.next(o).next(f(this.view)).next(this._snappingPipeline.createSnapDragEventPipelineStep({snappingContext:this._snappingContext(a),snappingManager:this._snappingManager,cancel:e,updatingHandles:this.updatingHandles}),this._snappingPipeline.next).next((i=>{const t=h(i.mapEnd,new C);n[s]=t})),e.next(o).next(w(n,[s]))}));return this._dimensionHandles.add(o,n),a}_snappingContext(n){return new H({elevationInfo:{mode:\"absolute-height\",offset:0},pointer:n,editGeometryOperations:new S(new D(\"point\",j(!0,!1,this.view.spatialReference))),visualizer:new M})}};n([c({constructOnly:!0,nonNullable:!0})],T.prototype,\"view\",void 0),n([c({readOnly:!0})],T.prototype,\"updating\",null),n([c()],T.prototype,\"stagedDimension\",void 0),T=n([u(\"esri.views.3d.analysis.Dimensioning.LengthDimensionSubTool\")],T);export{T as LengthDimensionSubTool};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{destroyHandle as t}from\"../../../../core/handleUtils.js\";import{isSome as i,isNone as o}from\"../../../../core/maybe.js\";import{watch as s,syncAndInitial as n}from\"../../../../core/reactiveUtils.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{sv3d as l}from\"../../../../geometry/support/vectorStacks.js\";import{LengthDimensionSubTool as c}from\"./LengthDimensionSubTool.js\";import{newIntersector as p}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as m}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{AnalysisToolBase as u}from\"../../../interactive/AnalysisToolBase.js\";import{createScreenPointArrayFromEvent as h}from\"../../../support/screenUtils.js\";var d;!function(e){e.Ready=\"ready\",e.Creating=\"creating\",e.Created=\"created\"}(d||(d={}));let v=class extends u{constructor(e){super(e),this.preferManipulatorCursor=!0,this.analysisViewData=null}initialize(){this._intersector=p(this.view.state.viewingMode),this._intersector.options.store=m.MIN,this._lengthDimensionSubTool=new c({view:this.view}),this.own(t(this._lengthDimensionSubTool));for(const e of this.analysis.dimensions.items)this._addDimension(e);this.own(this.analysis.dimensions.on(\"change\",(e=>{for(const t of e.added)this._addDimension(t);for(const t of e.removed)this._removeDimension(t)}))),this.own(s((()=>this.state),(e=>{e===d.Created&&this.finishToolCreation()}),n))}get state(){return this.analysis.dimensions.some((e=>\"length\"===e.type))?i(this._activeSubTool)?d.Creating:d.Created:d.Ready}get updating(){return this._lengthDimensionSubTool.updating}get cursor(){return this.active?\"crosshair\":null}getManipulatorsForDimension(e){return this._lengthDimensionSubTool.getManipulatorsForDimension(e)}onInputEvent(e){switch(e.type){case\"immediate-click\":this._clickHandler(e);break;case\"immediate-double-click\":this._doubleClickHandler(e);break;case\"pointer-move\":this._pointerMoveHandler(e)}}onActivate(){this._activeSubTool=this._lengthDimensionSubTool}onDeactivate(){i(this._activeSubTool)&&(this._activeSubTool.onDeactivate(),i(this._activeSubTool.stagedDimension)&&(this.analysis.dimensions.remove(this._activeSubTool.stagedDimension),this._activeSubTool.stagedDimension=null),this._activeSubTool=null)}_clickHandler(e){if(o(this._activeSubTool))return;const t=this._intersectScreen(e);if(!o(t)){if(o(this._activeSubTool.stagedDimension)){const i=this._activeSubTool.onUnstagedClick({mapPoint:t,pointerType:e.pointerType});this.analysis.dimensions.add(i)}else this._activeSubTool.onStagedClick({mapPoint:t,pointerType:e.pointerType});e.stopPropagation()}}_doubleClickHandler(e){this.view.activeTool=null,e.stopPropagation()}_pointerMoveHandler(e){if(o(this._activeSubTool))return;if(this.hasFocusedManipulators)return;const t=this._intersectScreen(e);o(t)||this._activeSubTool.onPointerMove({mapPoint:t,pointerType:e.pointerType})}_intersectScreen(e){const t=h(e);this.view.sceneIntersectionHelper.intersectToolIntersectorScreen(t,this._intersector);const i=this._intersector.results.min,o=l.get();return i.getIntersectionPoint(o)?this.view.renderCoordsHelper.fromRenderCoords(o,this.view.spatialReference):null}_addDimension(e){this._lengthDimensionSubTool.addDimension(e,this.manipulators)}_removeDimension(e){this._lengthDimensionSubTool.removeDimension(e,this.manipulators)}};e([r({constructOnly:!0})],v.prototype,\"view\",void 0),e([r({constructOnly:!0})],v.prototype,\"analysis\",void 0),e([r({readOnly:!0})],v.prototype,\"state\",null),e([r({readOnly:!0})],v.prototype,\"updating\",null),e([r({readOnly:!0})],v.prototype,\"cursor\",null),e([r({readOnly:!0})],v.prototype,\"preferManipulatorCursor\",void 0),e([r({constructOnly:!0})],v.prototype,\"analysisViewData\",void 0),e([r()],v.prototype,\"_activeSubTool\",void 0),e([r()],v.prototype,\"_lengthDimensionSubTool\",void 0),v=e([a(\"esri.views.3d.analysis.Dimensioning.DimensioningTool\")],v);export{v as DimensioningTool};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{destroyHandle as s}from\"../../../../core/handleUtils.js\";import{isNone as i}from\"../../../../core/maybe.js\";import{toUnit as n}from\"../../../../core/quantityUtils.js\";import{watch as r,initial as o}from\"../../../../core/reactiveUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as m}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{C as l,e as d,v as c,f as h,z as p,c as f,n as u}from\"../../../../chunks/vec3.js\";import{c as _,Z as S}from\"../../../../chunks/vec3f64.js\";import{f as g}from\"../../../../chunks/vec4f64.js\";import{Axis as b}from\"../../../../geometry/support/Axis.js\";import{sv3d as v}from\"../../../../geometry/support/vectorStacks.js\";import{formatNumber as y}from\"../../../../intl/number.js\";import{settings as V}from\"./settings.js\";import{LabelVisualElement as w}from\"../../interactive/visualElements/LabelVisualElement.js\";import{LineVisualElement as j}from\"../../interactive/visualElements/LineVisualElement.js\";import{EuclideanSegment as E}from\"../../interactive/visualElements/support/Segment.js\";import{RenderOccludedFlag as R}from\"../../webgl-engine/lib/Material.js\";import{createStipplePatternSimple as O}from\"../../webgl-engine/materials/lineStippleUtils.js\";let G=class extends t{constructor(e){super(e),this._directSegment=new E,this._dimensionSegment=new E,this._offsetAxis=_(),this._startOffsetSegment=new E(this._directSegment.startRenderSpace,this._dimensionSegment.startRenderSpace),this._endOffsetSegment=new E(this._directSegment.endRenderSpace,this._dimensionSegment.endRenderSpace),this._labelSegment=new E,this._hasValidGeometry=!1;const t={view:e.view,attached:!0,width:1,color:g(1,.5,0,1),renderOccluded:R.OccludeAndTransparent},s={...t,stipplePattern:O(5)};this._dimensionVisualElement=new j(t),this._startOffsetVisualElement=new j(s),this._endOffsetVisualElement=new j(s),this._label=new w({view:e.view,attached:!0,distance:0,fontSize:V.labels.fontSize})}initialize(){this.own([s(this._dimensionVisualElement),s(this._startOffsetVisualElement),s(this._endOffsetVisualElement),s(this._label)]);const{computation:e,view:t}=this,{dimension:i}=e;this.own([r((()=>({startPoint:i.startPoint,endPoint:i.endPoint,offset:i.offset,axis:i.axis,heading:i.heading})),(e=>{this._updateGeometry(e),this._updateLines(),this._updateLabelGeometry(t.state.camera)}),o),r((()=>e.length),(e=>this._updateLabelContent(e)),o),r((()=>t.state.camera),(e=>this._updateLabelGeometry(e)),o)])}get testInfo(){return{dimensionVisualElement:this._dimensionVisualElement,label:this._label}}_updateGeometry({startPoint:e,endPoint:t,offset:s,axis:n}){const{renderCoordsHelper:r}=this.view,o=this._directSegment;if(i(e)||i(t)||!r.toRenderCoords(e,o.startRenderSpace)||!r.toRenderCoords(t,o.endRenderSpace))return void(this._hasValidGeometry=!1);const{startRenderSpace:a,endRenderSpace:m}=o,d=o.eval(.5,v.get()),c=r.worldUpAtPosition(d,v.get()),h=r.worldBasisAtPosition(d,b.X,v.get()),p=this._offsetAxis;x(p,a,m,c,n,h);const f=s/r.unitInMeters,[u,_]=L(a,m,p,f),S=this._dimensionSegment;l(S.startRenderSpace,o.startRenderSpace,p,u),l(S.endRenderSpace,o.endRenderSpace,p,_),this._hasValidGeometry=!0}_updateLines(){if(!this._hasValidGeometry)return this._dimensionVisualElement.visible=!1,this._startOffsetVisualElement.visible=!1,void(this._endOffsetVisualElement.visible=!1);this._dimensionVisualElement.setGeometryFromSegment(this._dimensionSegment),this._startOffsetVisualElement.setGeometryFromSegment(this._startOffsetSegment),this._endOffsetVisualElement.setGeometryFromSegment(this._endOffsetSegment),this._dimensionVisualElement.visible=!0,this._startOffsetVisualElement.visible=!0,this._endOffsetVisualElement.visible=!0}_updateLabelContent(e){if(i(e)||!this._hasValidGeometry)return this._label.text=\"\",void(this._label.visible=!1);const{value:t}=n(e,\"meters\");this._label.text=`${y(t,{minimumFractionDigits:2,maximumFractionDigits:2})} m`,this._label.visible=!0}_updateLabelGeometry(e){if(!this._hasValidGeometry)return void(this._label.visible=!1);const{offset:t}=this.computation.dimension,s=e.computeRenderPixelSizeAt(this._dimensionSegment.eval(.5,v.get())),i=(Math.sign(t)>=0?1:-1)*V.labels.offset*s;P(this._labelSegment,this._dimensionSegment,this._offsetAxis,i),this._label.geometry={type:\"segment\",sampleLocation:\"center\",segment:this._labelSegment,callout:!1}}};function x(e,t,s,i,n,r){switch(n){case\"horizontal\":return f(e,i);case\"vertical\":return d(t,i)<d(s,i)?c(e,s,t):c(e,t,s),h(e,e,i),p(e,S)?f(e,r):(h(e,e,i),u(e,e),e);case\"direct\":return d(t,r)>d(s,r)?c(e,s,t):c(e,t,s),h(e,e,i),p(e,S)?f(e,r):(u(e,e),e)}}function L(e,t,s,i=0){const n=d(t,s),r=d(e,s),o=Math.abs(n-r)+i;return n>r?[o,i]:[i,o]}function P(e,t,s,i){l(e.startRenderSpace,t.startRenderSpace,s,i),l(e.endRenderSpace,t.endRenderSpace,s,i)}e([a({constructOnly:!0,nonNullable:!0})],G.prototype,\"computation\",void 0),e([a({constructOnly:!0,nonNullable:!0})],G.prototype,\"view\",void 0),G=e([m(\"esri.views.3d.analysis.Dimensioning.LengthDimensionVisualization\")],G);export{G as LengthDimensionVisualization};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import i from\"../../../../core/Accessor.js\";import{isNone as s}from\"../../../../core/maybe.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{LengthDimensionVisualization as e}from\"./LengthDimensionVisualization.js\";let r=class extends i{constructor(o){super(o),this._dimensionVisualizations=new Map}initialize(){for(const o of this.computations)this._addComputation(o);this.own(this.computations.on(\"change\",(({added:o,removed:i})=>{for(const s of i)this._removeComputation(s);for(const s of o)this._addComputation(s)})))}destroy(){this._dimensionVisualizations.forEach((o=>{o.destroy()})),this._dimensionVisualizations.clear()}get testInfo(){return{visualizations:Array.from(this._dimensionVisualizations.values())}}_addComputation(o){this._dimensionVisualizations.has(o)||this._dimensionVisualizations.set(o,new e({computation:o,view:this.view}))}_removeComputation(o){const i=this._dimensionVisualizations.get(o);s(i)||(i.destroy(),this._dimensionVisualizations.delete(o))}};o([t({constructOnly:!0,nonNullable:!0})],r.prototype,\"view\",void 0),o([t({constructOnly:!0,nonNullable:!0})],r.prototype,\"computations\",void 0),r=o([n(\"esri.views.3d.analysis.Dimensioning.DimensioningVisualization\")],r);export{r as DimensioningVisualization};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../chunks/tslib.es6.js\";import o from\"../../../core/Accessor.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";let t=class extends o{constructor(s){super(s),this.dimension=null}};s([r({constructOnly:!0,nonNullable:!0})],t.prototype,\"dimension\",void 0),t=s([e(\"esri.views.3d.analysis.LengthDimensionResult\")],t);const c=t;export{c as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{isNone as s}from\"../../../../core/maybe.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";import n from\"../LengthDimensionResult.js\";import{euclideanDistanceBetweenPoints as i}from\"../../../support/euclideanLengthMeasurementUtils.js\";let p=class extends r{constructor(o){super(o)}initialize(){this._set(\"result\",new n({dimension:this.dimension}))}get length(){const{startPoint:o,endPoint:r,axis:t}=this.dimension;if(s(o)||s(r))return null;const e=i(o,r);if(s(e))return null;return e[t]}};o([t({constructOnly:!0,nonNullable:!0})],p.prototype,\"dimension\",void 0),o([t({constructOnly:!0,nonNullable:!0})],p.prototype,\"result\",void 0),o([t()],p.prototype,\"length\",null),p=o([e(\"esri.views.3d.analysis.LengthDimensionComputation\")],p);export{p as LengthDimensionComputation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../chunks/tslib.es6.js\";import i from\"../../../core/Accessor.js\";import o from\"../../../core/Collection.js\";import{abortMaybe as t,destroyMaybe as e}from\"../../../core/maybe.js\";import{on as n}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{AnalysisView3D as m}from\"./AnalysisView3D.js\";import{DimensioningTool as l}from\"./Dimensioning/DimensioningTool.js\";import{DimensioningVisualization as p}from\"./Dimensioning/DimensioningVisualization.js\";import{LengthDimensionComputation as c}from\"./Dimensioning/LengthDimensionComputation.js\";import{connectAnalysisViewToTool as d,removeAnalysisViewTool as u,activateTemporaryAnalysisViewTool as h}from\"../../analysis/analysisViewUtils.js\";let y=class extends(m(i)){constructor(s){super(s),this.type=\"dimensioning-view-3d\",this.tool=null,this._computations=new o,this._dimensionsToResults=new Map,this._placementTask=null}initialize(){this.own([d(this,l),n((()=>this.analysis.dimensions),\"change\",(({added:s,removed:i})=>{for(const o of i)this._removeDimension(o);for(const o of s)this._addDimension(o)}),{onListenerAdd:s=>{for(const i of s)this._addDimension(i)},onListenerRemove:s=>{for(const i of s)this._removeDimension(i)}})]),this._analysisVisualization=new p({view:this.view,computations:this._computations})}destroy(){this._placementTask=t(this._placementTask),this._analysisVisualization=e(this._analysisVisualization),this._computations.drain((s=>s.destroy())),u(this)}get results(){return this.analysis.dimensions.map((s=>this._dimensionsToResults.get(s)))}get testInfo(){return{visualization:this._analysisVisualization}}async createLengthDimensions(s){return this._placementTask=t(this._placementTask),this._placementTask=h(this,l,s),this._placementTask.promise}_addDimension(s){const i=this._dimensionsToResults;if(i.has(s))return;const o=this._computations,t=new c({dimension:s});o.add(t),i.set(s,t.result)}_removeDimension(s){const i=this._computations,o=this._dimensionsToResults,t=i.findIndex((i=>i.dimension===s)),n=i.removeAt(t);o.delete(s),e(n)}};s([r({readOnly:!0})],y.prototype,\"type\",void 0),s([r({constructOnly:!0,nonNullable:!0})],y.prototype,\"analysis\",void 0),s([r()],y.prototype,\"tool\",void 0),s([r({readOnly:!0})],y.prototype,\"results\",null),s([r()],y.prototype,\"_analysisVisualization\",void 0),s([r()],y.prototype,\"_computations\",void 0),s([r()],y.prototype,\"_dimensionsToResults\",void 0),s([r()],y.prototype,\"_placementTask\",void 0),y=s([a(\"esri.views.3d.analysis.DimensioningAnalysisView3D\")],y);const _=y;export{_ as default};\n"],
  "mappings": "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",
  "names": ["t", "y", "a", "t", "j", "s", "n", "u", "o", "l", "r", "u", "e", "n", "p", "d", "e", "n", "l", "t", "r", "o", "s", "i", "m", "c", "d", "e", "n", "r", "p", "t", "m", "e", "j", "r", "t", "s", "i", "n", "a", "u", "l", "y", "S", "d", "h", "c", "p", "t", "a", "e", "p", "r", "o", "i", "n", "_", "m", "d", "n", "a", "h", "l", "j", "i", "t", "e", "s", "u", "o", "y", "z", "g", "d", "e", "v", "a", "x", "t", "l", "i", "c", "o", "n", "G", "e", "l", "n", "t", "r", "h", "s", "v", "i", "o", "a", "m", "d", "c", "p", "x", "f", "u", "_", "L", "S", "P", "r", "o", "i", "s", "G", "n", "t", "s", "n", "c", "p", "o", "c", "r", "t", "e", "m", "n", "y", "n", "s", "j", "c", "v", "a", "i", "o", "r", "m", "t", "p", "_"]
}
