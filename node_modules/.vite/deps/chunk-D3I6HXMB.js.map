{
  "version": 3,
  "sources": ["../../@arcgis/core/layers/graphics/data/StreamFeatureManager.js", "../../@arcgis/core/layers/graphics/sources/connections/StreamConnection.js", "../../@arcgis/core/layers/graphics/sources/connections/WebSocketConnection.js", "../../@arcgis/core/layers/graphics/sources/connections/GeoEventConnection.js", "../../@arcgis/core/layers/graphics/sources/connections/createConnection.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport t from\"../../../core/CircularArray.js\";import{clamp as e}from\"../../../core/mathUtils.js\";import{isNone as s,isSome as i,unwrap as r}from\"../../../core/maybe.js\";const o=\"__esri_stream_id__\",d=\"__esri_timestamp__\",a=1e3;class h{constructor(t,e,s,i,r=128){this._trackIdToObservations=new Map,this._idCounter=0,this._lastPurge=performance.now(),this._addOrUpdated=new Map,this._removed=[],this._maxAge=0,this._timeInfo=s,this._purgeOptions=i,this.store=t,this.objectIdField=e,this.purgeInterval=r,this._useGeneratedIds=this.objectIdField===o}add(r){if(this._useGeneratedIds){const t=this._nextId();r.attributes[this.objectIdField]=t,r.objectId=t}else r.objectId=r.attributes[this.objectIdField];if(this._addOrUpdated.set(r.objectId,r),this._maxAge=Math.max(this._maxAge,r.attributes[this._timeInfo.startTimeField]),!this._timeInfo.trackIdField)return s(this._trackIdLessObservations)&&(this._trackIdLessObservations=new t(1e5)),void this._trackIdLessObservations.enqueue(r.objectId);const o=r.attributes[this._timeInfo.trackIdField];if(!this._trackIdToObservations.has(o)){const s=i(this._purgeOptions)&&null!=this._purgeOptions.maxObservations?this._purgeOptions.maxObservations:a,r=e(s,0,a);this._trackIdToObservations.set(o,new t(r))}const d=this._trackIdToObservations.get(o).enqueue(r.objectId);i(d)&&(this._addOrUpdated.has(d)?this._addOrUpdated.delete(d):this._removed.push(d))}checkForUpdates(){const t=this._getToAdd(),e=this._getToRemove(),s=performance.now();s-this._lastPurge>=this.purgeInterval&&(this._purge(s),this._lastPurge=s);const r=[];if(i(e))for(const o of e){const t=this.store.removeById(o);i(t)&&r.push(t)}if(i(t))for(const i of t)i.attributes[d]=s,this.store.add(i);(t||r)&&this.store.update(t,r)}_getToAdd(){if(!this._addOrUpdated.size)return null;const t=new Array(this._addOrUpdated.size);let e=0;return this._addOrUpdated.forEach((s=>t[e++]=s)),this._addOrUpdated.clear(),t}_getToRemove(){const t=this._removed;return this._removed.length?(this._removed=[],t):null}_nextId(){const t=this._idCounter;return this._idCounter=(this._idCounter+1)%4294967294+1,t}_purge(t){const e=this._purgeOptions;i(e)&&(this._purgeSomeByDisplayCount(e),this._purgeByAge(e),this._purgeByAgeReceived(t,e),this._purgeTracks())}_purgeSomeByDisplayCount(t){if(!t.displayCount)return;let e=this.store.size;if(e>t.displayCount){if(this._timeInfo.trackIdField)for(const s of this._trackIdToObservations.values())if(e>t.displayCount&&s.size){const t=r(s.dequeue());this._removed.push(t),e--}if(i(this._trackIdLessObservations)){let s=e-t.displayCount;for(;s-- >0;){const t=this._trackIdLessObservations.dequeue();i(t)&&this._removed.push(t)}}}}_purgeByAge(t){if(!t.age||!this._timeInfo?.startTimeField)return;const e=60*t.age*1e3,s=this._maxAge-e;this.store.forEach((t=>{t.attributes[this._timeInfo.startTimeField]<s&&this._removed.push(t.objectId)}))}_purgeByAgeReceived(t,e){if(!e.ageReceived)return;const s=t-60*e.ageReceived*1e3;this.store.forEach((t=>{t.attributes[d]<s&&this._removed.push(t.objectId)}))}_purgeTracks(){this._trackIdToObservations.forEach(((t,e)=>{0===t.size&&this._trackIdToObservations.delete(e)}))}}export{o as DEFAULT_STREAM_ID_FIELD,d as ESRI_TIMESTAMP,h as StreamFeatureManager};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Evented.js\";import{HandleOwner as s}from\"../../../../core/HandleOwner.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/set.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";let t=class extends(e.EventedMixin(s)){onFeature(r){this.emit(\"feature\",r)}};t=r([o(\"esri.layers.graphics.sources.connections.StreamConnection\")],t);const c=t;export{c as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Error.js\";import o from\"../../../../core/Logger.js\";import{isSome as r,isNone as s}from\"../../../../core/maybe.js\";import{after as n,createResolver as c}from\"../../../../core/promiseUtils.js\";import{addQueryParameters as i}from\"../../../../core/urlUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{getGeometryZScaler as d}from\"../../../../geometry/support/zscale.js\";import h from\"./StreamConnection.js\";const p=o.getLogger(\"esri.layers.graphics.sources.connections.WebSocketConnection\");var u;!function(e){e[e.CONNECTING=0]=\"CONNECTING\",e[e.OPEN=1]=\"OPEN\",e[e.CLOSING=2]=\"CLOSING\",e[e.CLOSED=3]=\"CLOSED\"}(u||(u={}));let m=class extends h{constructor(e){super(),this.errorString=null;const{geometryType:t,spatialReference:o,sourceSpatialReference:r}=e;this._config=e,this._featureZScaler=d(t,r,o),this._open()}async _open(){await this._tryCreateWebSocket(),this.destroyed||await this._handshake()}destroy(){r(this._websocket)&&(this._websocket.onopen=null,this._websocket.onclose=null,this._websocket.onerror=null,this._websocket.onmessage=null,this._websocket.close()),this._websocket=null}get connectionStatus(){if(s(this._websocket))return\"disconnected\";switch(this._websocket.readyState){case u.CONNECTING:case u.OPEN:return\"connected\";case u.CLOSING:case u.CLOSED:return\"disconnected\"}}async _tryCreateWebSocket(e=this._config.source.path,o=1e3,r=0){try{if(this.destroyed)return;const t=i(e,this._config.customParameters);this._websocket=await this._createWebSocket(t),this.notifyChange(\"connectionStatus\")}catch(s){const c=o/1e3;return this._config.maxReconnectionAttempts&&r>=this._config.maxReconnectionAttempts?(p.error(new t(\"websocket-connection\",\"Exceeded maxReconnectionAttempts attempts. No further attempts will be made\")),void this.destroy()):(p.error(new t(\"websocket-connection\",`Failed to connect. Attempting to reconnect in ${c}s`,s)),await n(o),this._tryCreateWebSocket(e,Math.min(1.5*o,1e3*this._config.maxReconnectionInterval),r+1))}}_createWebSocket(e){return new Promise(((t,o)=>{const r=new WebSocket(e);r.onopen=()=>{if(r.onopen=null,this.destroyed)return r.onclose=null,void r.close();r.onclose=e=>this._onClose(e),r.onerror=e=>this._onError(e),r.onmessage=e=>this._onMessage(e),t(r)},r.onclose=e=>{r.onopen=r.onclose=null,o(e)}}))}async _handshake(e=1e4){const o=this._websocket;if(s(o))return;const r=c(),n=o.onmessage,{filter:i,outFields:a,spatialReference:l}=this._config;return r.timeout(e),o.onmessage=e=>{let s=null;try{s=JSON.parse(e.data)}catch(c){}s&&\"object\"==typeof s||(p.error(new t(\"websocket-connection\",\"Protocol violation. Handshake failed - malformed message\",e.data)),r.reject(),this.destroy()),s.spatialReference?.wkid!==l?.wkid&&(p.error(new t(\"websocket-connection\",`Protocol violation. Handshake failed - expected wkid of ${l.wkid}`,e.data)),r.reject(),this.destroy()),\"json\"!==s.format&&(p.error(new t(\"websocket-connection\",\"Protocol violation. Handshake failed - format is not set\",e.data)),r.reject(),this.destroy()),i&&s.filter!==i&&p.error(new t(\"websocket-connection\",\"Tried to set filter, but server doesn't support it\")),a&&s.outFields!==a&&p.error(new t(\"websocket-connection\",\"Tried to set outFields, but server doesn't support it\")),o.onmessage=n,r.resolve()},o.send(JSON.stringify({filter:i,outFields:a,format:\"json\",spatialReference:{wkid:l.wkid}})),r.promise}_onMessage(e){try{const o=JSON.parse(e.data);if(\"featureResult\"!==o.type)throw new t(\"websocket-connection\",\"Protocol violation - Expected to find message of type 'featureResult'\",o);for(const e of o.features)r(this._featureZScaler)&&this._featureZScaler(e.geometry),this.onFeature(e)}catch(o){return p.error(new t(\"websocket-connection\",\"Failed to parse message\",o)),void this.destroy()}}_onError(e){const t=\"Encountered an error over WebSocket connection\";this._set(\"errorString\",t),p.error(\"websocket-connection\",t)}_onClose(e){this._websocket=null,this.notifyChange(\"connectionStatus\"),1e3!==e.code&&p.error(\"websocket-connection\",`WebSocket closed unexpectedly with error code ${e.code}`),this.destroyed||this._open()}};e([a()],m.prototype,\"connectionStatus\",null),e([a()],m.prototype,\"errorString\",void 0),m=e([l(\"esri.layers.graphics.sources.connections.WebSocketConnection\")],m);export{u as ReadyState,m as WebSocketConnection};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import t from\"../../../../request.js\";import r from\"../../../../core/Error.js\";import o from\"../../../../core/Logger.js\";import{isSome as s,isNone as i,unwrapOr as n,get as a}from\"../../../../core/maybe.js\";import{createResolver as c}from\"../../../../core/promiseUtils.js\";import{addQueryParameters as u}from\"../../../../core/urlUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/set.js\";import{subclass as f}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{WebSocketConnection as d}from\"./WebSocketConnection.js\";import{executeQuery as h}from\"../../../../rest/query/operations/query.js\";import l from\"../../../../rest/support/Query.js\";import{fromJSON as y}from\"../../../../geometry/support/jsonUtils.js\";import m from\"../../../../geometry/SpatialReference.js\";const p=o.getLogger(\"esri.layers.graphics.sources.connections.GeoEventConnection\"),g=1e4,_={maxQueryDepth:5,maxRecordCountFactor:3};let w=class extends d{constructor(e){super({..._,...e})}async _open(){const e=await this._fetchServiceDefinition(this._config.source);e.timeInfo.trackIdField||p.warn(\"GeoEvent service was configured without a TrackIdField. This may result in certain functionality being disabled. The purgeOptions.maxObservations property will have no effect.\");const t=this._fetchWebSocketUrl(e.streamUrls,this._config.spatialReference);this._buddyServicesQuery||(this._buddyServicesQuery=this._queryBuddyServices()),await this._buddyServicesQuery,await this._tryCreateWebSocket(t);const{filter:r,outFields:o}=this._config;this.destroyed||this._setFilter(r,o)}_onMessage(e){let t;try{t=this._enrich(JSON.parse(e.data)),s(this._featureZScaler)&&this._featureZScaler(t.geometry)}catch(o){return void p.error(new r(\"geoevent-connection\",\"Failed to parse message\",o))}this.onFeature(t)}async _fetchServiceDefinition(e){const r={f:\"json\",...this._config.customParameters},o=t(e.path,{query:r,responseType:\"json\"}),s=(await o).data;return this._serviceDefinition=s,s}_fetchWebSocketUrl(e,t){const r=e[0],{urls:o,token:s}=r,i=this._inferWebSocketBaseUrl(o);return u(`${i}/subscribe`,{outSR:\"\"+t.wkid,token:s})}_inferWebSocketBaseUrl(e){if(1===e.length)return e[0];for(const t of e)if(t.includes(\"wss\"))return t;return p.error(new r(\"geoevent-connection\",\"Unable to infer WebSocket url\",e)),null}async _setFilter(e,t){const o=this._websocket;if(i(o)||i(e)&&i(t))return;const s=JSON.stringify({filter:this._serializeFilter(e,t)});let n=!1;const a=c(),u=()=>{n||(this.destroyed||this._websocket!==o||p.error(new r(\"geoevent-connection\",\"Server timed out when setting filter\")),a.reject())},f=e=>{const t=JSON.parse(e.data);t.filter&&(t.error&&(p.error(new r(\"geoevent-connection\",\"Failed to set service filter\",t.error)),this._set(\"errorString\",`Could not set service filter - ${t.error}`),a.reject(t.error)),o.onmessage=this._onMessage.bind(this),n=!0,a.resolve())};return o.onmessage=f,o.send(s),setTimeout(u,g),a.promise}_serializeFilter(e,t){const o={};if(i(e)&&i(t))return o;if(s(e)&&e.geometry)try{const t=y(e.geometry);if(\"extent\"!==t.type)throw new r(`Expected extent but found type ${t.type}`);o.geometry=JSON.stringify(t.shiftCentralMeridian())}catch(n){p.error(new r(\"geoevent-connection\",\"Encountered an error when setting connection geometryDefinition\",n))}return s(e)&&e.where&&\"1 = 1\"!==e.where&&(o.where=e.where),s(t)&&(o.outFields=t.join(\",\")),o}_enrich(e){if(!this._relatedFeatures)return e;const t=this._serviceDefinition.relatedFeatures.joinField,o=e.attributes[t];if(!this._relatedFeatures.has(o))return p.warn(\"geoevent-connection\",\"Feature join failed. Is the join field configured correctly?\",e),e;const{attributes:s,geometry:i}=this._relatedFeatures.get(o);for(const r in s)e.attributes[r]=s[r];return i&&(e.geometry=i),e.geometry||e.centroid||p.error(new r(\"geoevent-connection\",\"Found malformed feature - no geometry found\",e)),e}async _queryBuddyServices(){try{const{relatedFeatures:e,keepLatestArchive:t}=this._serviceDefinition,r=this._queryRelatedFeatures(e),o=this._queryArchive(t);await r;const s=await o;if(!s)return;for(const i of s.features)this.onFeature(this._enrich(i))}catch(e){p.error(new r(\"geoevent-connection\",\"Encountered an error when querying buddy services\",{error:e}))}}async _queryRelatedFeatures(e){if(!e)return;const t=await this._queryBuddy(e.featuresUrl);this._addRelatedFeatures(t)}async _queryArchive(e){if(e)return this._queryBuddy(e.featuresUrl)}async _queryBuddy(e){const t=new((await import(\"../../../FeatureLayer.js\")).default)({url:e}),{capabilities:r}=await t.load(),o=r.query.supportsMaxRecordCountFactor,s=r.query.supportsPagination,i=r.query.supportsCentroid,c=this._config.maxRecordCountFactor,u=t.capabilities.query.maxRecordCount,f=o?u*c:u,d=new l;if(d.outFields=n(this._config.outFields,[\"*\"]),d.where=n(a(this._config.filter,\"where\"),\"1=1\"),d.returnGeometry=!0,d.returnExceededLimitFeatures=!0,d.outSpatialReference=m.fromJSON(this._config.spatialReference),i&&(d.returnCentroid=!0),o&&(d.maxRecordCountFactor=c),s)return d.num=f,t.destroy(),this._queryPages(e,d);const y=await h(e,d,this._config.sourceSpatialReference);return t.destroy(),y.data}async _queryPages(e,t,r=[],o=0){t.start=s(t.num)?o*t.num:null;const{data:i}=await h(e,t,this._config.sourceSpatialReference);return i.exceededTransferLimit&&o<this._config.maxQueryDepth?(i.features.forEach((e=>r.push(e))),this._queryPages(e,t,r,o+1)):(r.forEach((e=>i.features.push(e))),i)}_addRelatedFeatures(e){const t=new Map,r=e.features,o=this._serviceDefinition.relatedFeatures.joinField;for(const s of r){const e=s.attributes[o];t.set(e,s)}this._relatedFeatures=t}};w=e([f(\"esri.layers.graphics.sources.connections.GeoEventConnection\")],w);const F=w;export{F as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"./GeoEventConnection.js\";import{WebSocketConnection as n}from\"./WebSocketConnection.js\";function t(t,o,r,c,i,s,a,m){const p=0===t.path.indexOf(\"wss://\")||0===t.path.indexOf(\"ws://\"),f={source:t,sourceSpatialReference:o,spatialReference:r,geometryType:c,filter:i,maxReconnectionAttempts:s,maxReconnectionInterval:a,customParameters:m};return p?new n(f):new e(f)}export{t as createConnection};\n"],
  "mappings": "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",
  "names": ["o", "d", "t", "e", "s", "r", "t", "n", "d", "r", "c", "e", "m", "c", "t", "o", "r", "s", "n", "a", "p", "m", "e", "t", "r", "o", "s", "n", "a", "u", "d", "c", "t", "o", "r", "c", "s", "a", "m", "p"]
}
