{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/webgl-engine/lighting/Lightsources.js", "../../@arcgis/core/views/3d/webgl-engine/lib/LongVectorMath.js", "../../@arcgis/core/views/3d/webgl-engine/lighting/SphericalHarmonics.js", "../../@arcgis/core/views/3d/webgl-engine/lighting/SceneLighting.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{c as t,f as s}from\"../../../../chunks/vec3f64.js\";class i{constructor(s=t()){this.intensity=s}}class c{constructor(i=t(),c=s(.57735,.57735,.57735)){this.intensity=i,this.direction=c}}class n{constructor(i=t(),c=s(.57735,.57735,.57735),n=!0,r=1,h=1){this.intensity=i,this.direction=c,this.castShadows=n,this.specularStrength=r,this.environmentStrength=h}}class r{constructor(){this.r=[0],this.g=[0],this.b=[0]}}export{i as AmbientLight,c as FillLight,n as MainLight,r as SphericalHarmonicsAmbientLight};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nfunction t(t,n){let e=0;for(let l=0;l<t.length;l++)e+=t[l]*n[l];return e}function n(t,n,e){(e=e||t).length=t.length;for(let l=0;l<t.length;l++)e[l]=t[l]*n[l];return e}function e(t,n,e){(e=e||t).length=t.length;for(let l=0;l<t.length;l++)e[l]=t[l]*n;return e}function l(t,n,e){(e=e||t).length=t.length;for(let l=0;l<t.length;l++)e[l]=t[l]+n[l];return e}export{l as add,t as dotProduct,n as elementwiseProduct,e as scalarProduct};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../../../core/mathUtils.js\";import{o as n,s as o,c as r}from\"../../../../chunks/vec3.js\";import{c as e}from\"../../../../chunks/vec3f64.js\";import{elementwiseProduct as s,scalarProduct as i,add as c}from\"../lib/LongVectorMath.js\";import{MainLight as f,FillLight as h,AmbientLight as a,SphericalHarmonicsAmbientLight as g}from\"./Lightsources.js\";function u(t){return(t+1)*(t+1)}function l(n){return t(Math.floor(Math.sqrt(n)-1),0,2)}function m(t,n,o){const r=t[0],e=t[1],s=t[2],i=o||[];return i.length=u(n),n>=0&&(i[0]=.28209479177),n>=1&&(i[1]=.4886025119*r,i[2]=.4886025119*s,i[3]=.4886025119*e),n>=2&&(i[4]=1.09254843059*r*e,i[5]=1.09254843059*e*s,i[6]=.31539156525*(3*s*s-1),i[7]=1.09254843059*r*s,i[8]=.54627421529*(r*r-e*e)),i}function p(t,n){const o=u(t),r=n||{r:[],g:[],b:[]};r.r.length=r.g.length=r.b.length=o;for(let e=0;e<o;e++)r.r[e]=r.g[e]=r.b[e]=0;return r}function y(t,o){const r=l(o.r.length);for(const e of t)n(P,e.direction),m(P,r,v),s(v,k),i(v,e.intensity[0],I),c(o.r,I),i(v,e.intensity[1],I),c(o.g,I),i(v,e.intensity[2],I),c(o.b,I);return o}function b(t,n){m(P,0,v);for(const o of t)n.r[0]+=v[0]*k[0]*o.intensity[0]*4*Math.PI,n.g[0]+=v[0]*k[0]*o.intensity[1]*4*Math.PI,n.b[0]+=v[0]*k[0]*o.intensity[2]*4*Math.PI;return n}function M(t,n,e,s){p(n,s),o(e.intensity,0,0,0);let i=!1;const u=S,l=d,m=j;u.length=0,l.length=0,m.length=0;for(const o of t)o instanceof f&&!i?(r(e.direction,o.direction),r(e.intensity,o.intensity),e.specularStrength=o.specularStrength,e.environmentStrength=o.environmentStrength,e.castShadows=o.castShadows,i=!0):o instanceof f||o instanceof h?u.push(o):o instanceof a?l.push(o):o instanceof g&&m.push(o);y(u,s),b(l,s);for(const o of m)c(s.r,o.r),c(s.g,o.g),c(s.b,o.b)}const S=[],d=[],j=[],v=[0],I=[0],P=e(),k=[3.141593,2.094395,2.094395,2.094395,.785398,.785398,.785398,.785398,.785398];export{M as combineLights,m as computeCoefficients,p as initSHCoefficients,u as numberOfCoefficients,l as orderFromNumberOfCoefficients,b as projectAmbientLights,y as projectFillLights};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{c as i,g as t,a as s}from\"../../../../chunks/vec3.js\";import{c as o,f as n}from\"../../../../chunks/vec3f64.js\";import{SphericalHarmonicsAmbientLight as h}from\"./Lightsources.js\";import{combineLights as r}from\"./SphericalHarmonics.js\";const c=.4;class e{constructor(){this._shOrder=2,this._oldSunlight={direction:o(),ambient:{color:o(),intensity:1},diffuse:{color:o(),intensity:1}},this.globalFactor=.5,this.groundLightingFactor=.5,this._sphericalHarmonics=new h,this._mainLight={intensity:o(),direction:n(1,0,0),castShadows:!1,specularStrength:1,environmentStrength:1}}get sh(){return this._sphericalHarmonics}get mainLight(){return this._mainLight}get lightingMainDirection(){return this._mainLight.direction}set(o){r(o,this._shOrder,this._mainLight,this._sphericalHarmonics),i(this._oldSunlight.direction,this._mainLight.direction);const n=1/Math.PI;this._oldSunlight.ambient.color[0]=.282095*this._sphericalHarmonics.r[0]*n,this._oldSunlight.ambient.color[1]=.282095*this._sphericalHarmonics.g[0]*n,this._oldSunlight.ambient.color[2]=.282095*this._sphericalHarmonics.b[0]*n,t(this._oldSunlight.diffuse.color,this._mainLight.intensity,n),i(a,this._oldSunlight.diffuse.color),t(a,a,c*this.globalFactor),s(this._oldSunlight.ambient.color,this._oldSunlight.ambient.color,a)}get old(){return this._oldSunlight}}const a=o();export{e as SceneLighting,c as ambientBoost};\n"],
  "mappings": "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",
  "names": ["i", "c", "n", "r", "n", "e", "l", "u", "l", "n", "o", "r", "e", "i", "m", "j", "c", "e", "r", "o", "n"]
}
