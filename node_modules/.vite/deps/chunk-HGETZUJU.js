import {
  e
} from "./chunk-AALA53RH.js";
import {
  d
} from "./chunk-YAQGRU5B.js";
import {
  o
} from "./chunk-A3QLZKCF.js";
import {
  i2 as i
} from "./chunk-I5UNY2WQ.js";
import {
  n
} from "./chunk-NAB3NF54.js";
import {
  O
} from "./chunk-VMF4NMEB.js";

// node_modules/@arcgis/core/chunks/MeasurementArrow.glsl.js
function n2(n3) {
  const s2 = new i();
  d(s2, n3), s2.vertex.uniforms.add(new o("width", (e2) => e2.width)), s2.attributes.add(O.POSITION, "vec3"), s2.attributes.add(O.NORMAL, "vec3"), s2.attributes.add(O.UV0, "vec2"), s2.attributes.add(O.AUXPOS1, "float"), s2.varyings.add("vtc", "vec2"), s2.varyings.add("vlength", "float"), s2.varyings.add("vradius", "float"), s2.vertex.code.add(n`void main(void) {
vec3 bitangent = normal;
vtc = uv0;
vlength = auxpos1;
vradius = 0.5 * width;
vec4 pos = view * vec4(position + vradius * bitangent * uv0.y, 1.0);
gl_Position = proj * pos;
}`), s2.fragment.uniforms.add([new o("outlineSize", (e2) => e2.outlineSize), new e("outlineColor", (e2) => e2.outlineColor), new o("stripeLength", (e2) => e2.stripeLength), new e("stripeEvenColor", (e2) => e2.stripeEvenColor), new e("stripeOddColor", (e2) => e2.stripeOddColor)]);
  const a = 1 / Math.sqrt(2);
  return s2.fragment.code.add(n`
    const float INV_SQRT2 = ${n.float(a)};

    vec4 arrowColor(vec2 tc, float len) {
      float d = INV_SQRT2 * (tc.x - abs(tc.y));
      d = min(d, INV_SQRT2 * (len - tc.x - abs(tc.y)));
      d = min(d, 1.0 - abs(tc.y));

      if (d < 0.0) {
        return vec4(0.0);
      } else if (d < outlineSize) {
        return outlineColor;
      } else {
        return fract(0.5 / stripeLength * tc.x * vradius) >= 0.5 ? stripeOddColor : stripeEvenColor;
      }
    }

    void main(void) {
      vec2 ntc = vec2(vtc.x / vradius, vtc.y);
      vec4 color = arrowColor(ntc, vlength / vradius);
      if (color.a == 0.0) {
        discard;
      }
      gl_FragColor = color;
    }
  `), s2;
}
var s = Object.freeze(Object.defineProperty({ __proto__: null, build: n2 }, Symbol.toStringTag, { value: "Module" }));

export {
  n2 as n,
  s
};
//# sourceMappingURL=chunk-HGETZUJU.js.map
