{
  "version": 3,
  "sources": ["../../@arcgis/core/geometry/support/meshUtils/deduplicate.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{nextHighestPowerOfTwo as t}from\"../../../core/mathUtils.js\";function n(n,f,i){const u=n.byteLength/(4*f),c=new Uint32Array(n,0,u*f);let s=new Uint32Array(u);const a=i?.minReduction??0,h=i?.originalIndices||null,g=h?h.length:0,y=i?.componentOffsets||null;let U=0;if(y)for(let t=0;t<y.length-1;t++){const n=y[t+1]-y[t];n>U&&(U=n)}else U=u;const w=Math.floor(1.1*U)+1;(null==o||o.length<2*w)&&(o=new Uint32Array(t(2*w)));for(let t=0;t<2*w;t++)o[t]=0;let A=0;const m=!!y&&!!h,b=m?g:u,d=m?new Uint32Array(g):null,p=1.96;let M=0!==a?Math.ceil(4*p*p/(a*a)*a*(1-a)):b,q=1,j=y?y[1]:b;for(let t=0;t<b;t++){if(t===M){const n=1-A/t;if(n+p*Math.sqrt(n*(1-n)/t)<a)return null;M*=2}if(t===j){for(let t=0;t<2*w;t++)o[t]=0;if(h)for(let t=y[q-1];t<y[q];t++)d[t]=s[h[t]];j=y[++q]}const n=m?h[t]:t,r=n*f,i=l(c,r,f);let u=i%w,g=A;for(;0!==o[2*u+1];){if(o[2*u]===i){const t=o[2*u+1]-1;if(e(c,r,t*f,f)){g=s[t];break}}u++,u>=w&&(u-=w)}g===A&&(o[2*u]=i,o[2*u+1]=n+1,A++),s[n]=g}if(0!==a&&1-A/u<a)return null;if(m){for(let t=y[q-1];t<d.length;t++)d[t]=s[h[t]];s=d}const k=new Uint32Array(f*A);A=0;for(let t=0;t<b;t++)if(s[t]===A){r(c,(m?h[t]:t)*f,k,A*f,f),A++}if(h&&!m){const t=new Uint32Array(g);for(let n=0;n<t.length;n++)t[n]=s[h[n]];s=t}return{buffer:k.buffer,indices:s,uniqueCount:A}}function e(t,n,e,r){for(let l=0;l<r;l++)if(t[n+l]!==t[e+l])return!1;return!0}function r(t,n,e,r,l){for(let o=0;o<l;o++)e[r+o]=t[n+o]}function l(t,n,e){let r=0;for(let l=0;l<e;l++)r=t[n+l]+r|0,r=r+(r<<11)+(r>>>2)|0;return r>>>0}let o=null;export{n as deduplicate};\n"],
  "mappings": "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",
  "names": ["n", "a", "t", "r", "i", "u", "g", "e", "l", "o"]
}
