import {
  B,
  P
} from "./chunk-5Z5455ZY.js";

// node_modules/@arcgis/core/layers/support/FieldsIndex.js
function t(e) {
  return "date" === e.type || "esriFieldTypeDate" === e.type;
}
function s(e) {
  return "oid" === e.type || "esriFieldTypeOID" === e.type;
}
function l(e) {
  return "global-id" === e.type || "esriFieldTypeGlobalID" === e.type;
}
var d = class {
  constructor(i) {
    if (this.fields = i, this._fieldsMap = /* @__PURE__ */ new Map(), this._dateFieldsSet = /* @__PURE__ */ new Set(), this._numericFieldsSet = /* @__PURE__ */ new Set(), this.dateFields = [], this.numericFields = [], this._requiredFields = null, !i)
      return;
    const d2 = [];
    for (const n of i) {
      const i2 = n && n.name;
      if (i2) {
        const u = r(i2);
        this._fieldsMap.set(i2, n), this._fieldsMap.set(u, n), d2.push(u), t(n) ? (this.dateFields.push(n), this._dateFieldsSet.add(n)) : B(n) && (this._numericFieldsSet.add(n), this.numericFields.push(n)), s(n) || l(n) || (n.editable = null == n.editable || !!n.editable, n.nullable = null == n.nullable || !!n.nullable);
      }
    }
    d2.sort(), this.uid = d2.join(",");
  }
  destroy() {
    this._fieldsMap.clear();
  }
  get requiredFields() {
    if (!this._requiredFields) {
      this._requiredFields = [];
      for (const e of this.fields)
        s(e) || l(e) || e.nullable || void 0 !== P(e) || this._requiredFields.push(e);
    }
    return this._requiredFields;
  }
  has(e) {
    return null != this.get(e);
  }
  get(e) {
    return null != e ? this._fieldsMap.get(e) || this._fieldsMap.get(r(e)) : void 0;
  }
  isDateField(e) {
    return this._dateFieldsSet.has(this.get(e));
  }
  isNumericField(e) {
    return this._numericFieldsSet.has(this.get(e));
  }
  normalizeFieldName(e) {
    const i = this.get(e);
    if (i)
      return i.name;
  }
};
function r(e) {
  return e.toLowerCase().trim();
}

export {
  d
};
//# sourceMappingURL=chunk-FU5UMT3R.js.map
