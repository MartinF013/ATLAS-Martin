{
  "version": 3,
  "sources": ["../../@arcgis/core/chunks/Compositing.glsl.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../core/compilerUtils.js\";import{ScreenSpacePass as r}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.js\";import{FloatPassUniform as o}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{IntegerPassUniform as a}from\"../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js\";import{NoParameters as t,glsl as s}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as i}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as n}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{CompositingFunction as c}from\"../views/3d/webgl-engine/shaders/CompositingTechniqueConfiguration.js\";class d extends t{constructor(){super(...arguments),this.overlayIndex=0,this.opacity=1}}function u(t){const d=new i;d.include(r);const u=d.fragment;switch(t.function){case c.Standard:u.uniforms.add(new n(\"tex\",(e=>e.texture))),t.hasOpacityFactor?(u.uniforms.add(new o(\"opacity\",(e=>e.opacity))),u.code.add(s`void main() {\ngl_FragColor = texture2D(tex, uv) * opacity;\n}`)):u.code.add(s`void main() {\ngl_FragColor = texture2D(tex, uv);\n}`);break;case c.OverlayWithTransparency:u.uniforms.add(new n(\"tex\",(e=>e.texture))),u.uniforms.add(new a(\"overlayIdx\",(e=>e.overlayIndex))),t.hasOpacityFactor&&u.uniforms.add(new o(\"opacity\",(e=>e.opacity))),u.code.add(s`\n        void main() {\n          vec2 overlayUV = overlayIdx == 0 ? vec2(uv.x * 0.5, uv.y) : vec2(uv.x * 0.5 + 0.5, uv.y);\n          gl_FragColor = texture2D(tex, overlayUV) ${t.hasOpacityFactor?\"* opacity\":\"\"};\n        }`);break;case c.TransparentToHUDVisibility:u.uniforms.add(new n(\"tex\",(e=>e.texture))),u.code.add(s`void main() {\ngl_FragColor = vec4(1.0 - texture2D(tex, uv).a);\n}`);break;case c.Transparency:u.uniforms.add([new n(\"colorTexture\",(e=>e.colorTexture)),new n(\"alphaTexture\",(e=>e.alphaTexture)),new n(\"frontFaceTexture\",(e=>e.frontFaceTexture))]),u.code.add(s`void main() {\nvec4 srcColor = texture2D(colorTexture, uv);\nif(srcColor.a <= 1e-5){\ndiscard;\n}\nfloat srcAlpha = texture2D(alphaTexture, uv).r;\nvec4 frontFace = texture2D(frontFaceTexture, uv);\ngl_FragColor = vec4(mix(srcColor.rgb/srcColor.a, frontFace.rgb, frontFace.a), 1.0 - srcAlpha);\n}`);break;case c.COUNT:break;default:e(t.function)}return d}const l=Object.freeze(Object.defineProperty({__proto__:null,CompositingPassParameters:d,build:u},Symbol.toStringTag,{value:\"Module\"}));export{d as C,l as a,u as b};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;AAI0vB,IAAM,IAAN,cAAgB,EAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,eAAa,GAAE,KAAK,UAAQ;AAAA,EAAC;AAAC;AAAC,SAAS,EAAEA,IAAE;AAAC,QAAMC,KAAE,IAAI;AAAE,EAAAA,GAAE,QAAQC,EAAC;AAAE,QAAMC,KAAEF,GAAE;AAAS,UAAOD,GAAE,UAAS;AAAA,IAAC,KAAKI,GAAE;AAAS,MAAAD,GAAE,SAAS,IAAI,IAAI,EAAE,OAAO,CAAAE,OAAGA,GAAE,OAAQ,CAAC,GAAEL,GAAE,oBAAkBG,GAAE,SAAS,IAAI,IAAI,EAAE,WAAW,CAAAE,OAAGA,GAAE,OAAQ,CAAC,GAAEF,GAAE,KAAK,IAAIC;AAAA;AAAA,EAE1iC,KAAGD,GAAE,KAAK,IAAIC;AAAA;AAAA,EAEd;AAAE;AAAA,IAAM,KAAKA,GAAE;AAAwB,MAAAD,GAAE,SAAS,IAAI,IAAI,EAAE,OAAO,CAAAE,OAAGA,GAAE,OAAQ,CAAC,GAAEF,GAAE,SAAS,IAAI,IAAI,EAAE,cAAc,CAAAE,OAAGA,GAAE,YAAa,CAAC,GAAEL,GAAE,oBAAkBG,GAAE,SAAS,IAAI,IAAI,EAAE,WAAW,CAAAE,OAAGA,GAAE,OAAQ,CAAC,GAAEF,GAAE,KAAK,IAAIC;AAAA;AAAA;AAAA,qDAGvKJ,GAAE,mBAAiB,cAAY;AAAA,UAC1E;AAAE;AAAA,IAAM,KAAKI,GAAE;AAA2B,MAAAD,GAAE,SAAS,IAAI,IAAI,EAAE,OAAO,CAAAE,OAAGA,GAAE,OAAQ,CAAC,GAAEF,GAAE,KAAK,IAAIC;AAAA;AAAA,EAEzG;AAAE;AAAA,IAAM,KAAKA,GAAE;AAAa,MAAAD,GAAE,SAAS,IAAI,CAAC,IAAI,EAAE,gBAAgB,CAAAE,OAAGA,GAAE,YAAa,GAAE,IAAI,EAAE,gBAAgB,CAAAA,OAAGA,GAAE,YAAa,GAAE,IAAI,EAAE,oBAAoB,CAAAA,OAAGA,GAAE,gBAAiB,CAAC,CAAC,GAAEF,GAAE,KAAK,IAAIC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQ/L;AAAE;AAAA,IAAM,KAAKA,GAAE;AAAM;AAAA,IAAM;AAAQ,QAAEJ,GAAE,QAAQ;AAAA,EAAC;AAAC,SAAOC;AAAC;AAAC,IAAM,IAAE,OAAO,OAAO,OAAO,eAAe,EAAC,WAAU,MAAK,2BAA0B,GAAE,OAAM,EAAC,GAAE,OAAO,aAAY,EAAC,OAAM,SAAQ,CAAC,CAAC;",
  "names": ["t", "d", "o", "u", "n", "e"]
}
