import {
  t as t2
} from "./chunk-JYWDI7GA.js";
import {
  O,
  l
} from "./chunk-PQM6RARY.js";
import {
  o
} from "./chunk-MDCKEJ7B.js";
import {
  e
} from "./chunk-YFBAFAZ2.js";
import {
  n
} from "./chunk-ASC3X65B.js";
import {
  r,
  t
} from "./chunk-CBQWMOBK.js";

// node_modules/@arcgis/core/views/3d/interactive/visualElements/Object3DVisualElement.js
var n2 = class extends t2 {
  constructor(e2) {
    super(e2.view), this._resources = null, this._transform = e();
  }
  get object() {
    return r(this._resources) ? this._resources.object : null;
  }
  get transform() {
    return this._transform;
  }
  set transform(s) {
    n(this._transform, s), r(this._resources) && (this._resources.object.transformation = this._transform);
  }
  recreate() {
    this.attached && this.createResources();
  }
  recreateGeometry() {
    if (t(this._resources))
      return;
    const e2 = this._resources.object, r2 = this.view._stage;
    r2.removeMany(e2.geometries), e2.removeAllGeometries(), this.createGeometries(e2), this.visible || e2.setVisible(this.visible), r2.addMany(e2.geometries);
  }
  createResources() {
    this.destroyResources();
    const e2 = this.view._stage;
    if (!e2)
      return;
    const s = new l({ isPickable: false, updatePolicy: o.SYNC });
    e2.add(s);
    const r2 = new O({ castShadow: false });
    r2.transformation = this._transform, this.createExternalResources(), this.createGeometries(r2), e2.addMany(r2.geometries), this.forEachExternalMaterial((s2) => e2.add(s2)), e2.add(r2), s.add(r2), this.visible || r2.setVisible(false), this._resources = { layer: s, object: r2 };
  }
  destroyResources() {
    const e2 = this.view._stage;
    !t(this._resources) && e2 && (e2.remove(this._resources.object), e2.remove(this._resources.layer), this.forEachExternalMaterial((s) => {
      e2.remove(s), s.dispose();
    }), e2.removeMany(this._resources.object.geometries), this._resources.object.dispose(), this.destroyExternalResources(), this._resources = null);
  }
  updateVisibility(e2) {
    t(this._resources) || this._resources.object.setVisible(e2);
  }
};

export {
  n2 as n
};
//# sourceMappingURL=chunk-JYMQQ22E.js.map
