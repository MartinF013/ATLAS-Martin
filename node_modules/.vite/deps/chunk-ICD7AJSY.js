import {
  a2 as a,
  c,
  e as e2,
  n8 as n,
  o3 as o,
  o5 as o2,
  r2 as r,
  s,
  s6 as s4,
  t3 as t,
  u2 as u,
  y3 as y
} from "./chunk-2QOWZFCU.js";
import {
  e
} from "./chunk-IVBXK6OP.js";
import {
  s2 as s3
} from "./chunk-HFTNOKM2.js";
import {
  s as s2
} from "./chunk-CVWDM4C7.js";
import {
  m
} from "./chunk-G5JBUC5N.js";
import {
  i2 as i,
  q
} from "./chunk-CBQWMOBK.js";

// node_modules/@arcgis/core/core/accessorSupport/read.js
function s5(e4, r2, n3) {
  if (!e4 || !e4.read || false === e4.read.enabled || !e4.read.source)
    return false;
  const o3 = e4.read.source;
  if ("string" == typeof o3) {
    if (o3 === r2)
      return true;
    if (o3.includes(".") && 0 === o3.indexOf(r2) && s(o3, n3))
      return true;
  } else
    for (const s7 of o3) {
      if (s7 === r2)
        return true;
      if (s7.includes(".") && 0 === s7.indexOf(r2) && s(s7, n3))
        return true;
    }
  return false;
}
function i2(e4) {
  return e4 && (!e4.read || false !== e4.read.enabled && !e4.read.source);
}
function a2(e4, t3, r2, o3, a4) {
  let f3 = o2(t3[r2], a4);
  i2(f3) && (e4[r2] = true);
  for (const i3 of Object.getOwnPropertyNames(t3))
    f3 = o2(t3[i3], a4), s5(f3, r2, o3) && (e4[i3] = true);
}
function f(e4, t3, r2, n3) {
  const s7 = r2.metadatas, i3 = a(s7[t3], "any", n3), a4 = i3 && i3.default;
  if (void 0 === a4)
    return;
  const f3 = "function" == typeof a4 ? a4.call(e4, t3, n3) : a4;
  void 0 !== f3 && r2.set(t3, f3);
}
var c2 = { origin: "service" };
function u2(t3, o3, s7 = c2) {
  if (!o3 || "object" != typeof o3)
    return;
  const i3 = e2(t3), u4 = i3.metadatas, d3 = {};
  for (const e4 of Object.getOwnPropertyNames(o3))
    a2(d3, u4, e4, o3, s7);
  i3.setDefaultOrigin(s7.origin);
  for (const r2 of Object.getOwnPropertyNames(d3)) {
    const a4 = o2(u4[r2], s7).read, f3 = a4 && a4.source;
    let c4;
    c4 = f3 && "string" == typeof f3 ? u(o3, f3) : o3[r2], a4 && a4.reader && (c4 = a4.reader.call(t3, c4, o3, s7)), void 0 !== c4 && i3.set(r2, c4);
  }
  if (!s7 || !s7.ignoreDefaults) {
    i3.setDefaultOrigin("defaults");
    for (const e4 of Object.getOwnPropertyNames(u4))
      d3[e4] || f(t3, e4, i3, s7);
  }
  i3.setDefaultOrigin("user");
}
function d(e4, t3, r2, n3 = c2) {
  var _a;
  const o3 = { ...n3, messages: [] };
  r2(o3), (_a = o3.messages) == null ? void 0 : _a.forEach((t4) => {
    "warning" !== t4.type || e4.loaded ? n3 && n3.messages && n3.messages.push(t4) : e4.loadWarnings.push(t4);
  });
}

// node_modules/@arcgis/core/core/accessorSupport/write.js
var a3 = s2.getLogger("esri.core.accessorSupport.write");
function f2(r2, e4, t3, i3, o3) {
  var _a, _b;
  const n3 = {};
  return (_b = (_a = e4.write) == null ? void 0 : _a.writer) == null ? void 0 : _b.call(r2, i3, n3, t3, o3), n3;
}
function p(r2, t3, i3, s7, u4, l2) {
  if (!s7 || !s7.write)
    return false;
  const f3 = r2.get(i3);
  if (!u4 && s7.write.overridePolicy) {
    const e4 = s7.write.overridePolicy.call(r2, f3, i3, l2);
    void 0 !== e4 && (u4 = e4);
  }
  if (u4 || (u4 = s7.write), !u4 || false === u4.enabled)
    return false;
  if ((null === f3 && !u4.allowNull && !u4.writerEnsuresNonNull || void 0 === f3) && u4.isRequired) {
    const t4 = new s3("web-document-write:property-required", `Missing value for required property '${i3}' on '${r2.declaredClass}'`, { propertyName: i3, target: r2 });
    return t4 && l2 && l2.messages ? l2.messages.push(t4) : t4 && !l2 && a3.error(t4.name, t4.message), false;
  }
  if (void 0 === f3)
    return false;
  if (null === f3 && !u4.allowNull && !u4.writerEnsuresNonNull)
    return false;
  if ((!t3.store.multipleOriginsSupported || t3.store.originOf(i3) === r.DEFAULTS) && c3(r2, i3, l2, s7, f3))
    return false;
  if (!u4.ignoreOrigin && l2 && l2.origin && t3.store.multipleOriginsSupported) {
    if (t3.store.originOf(i3) < t(l2.origin))
      return false;
  }
  return true;
}
function c3(e4, t3, i3, o3, n3) {
  const s7 = o3.default;
  if (void 0 === s7)
    return false;
  if (null != o3.defaultEquals)
    return o3.defaultEquals(n3);
  if ("function" == typeof s7) {
    if (Array.isArray(n3)) {
      const o4 = s7.call(e4, t3, i3);
      return i(o4, n3);
    }
    return false;
  }
  return s7 === n3;
}
function g(r2, e4, t3, i3) {
  const o3 = e2(r2), n3 = o3.metadatas, u4 = s4(n3[e4], i3);
  return !!u4 && p(r2, o3, e4, u4, t3, i3);
}
function d2(r2, e4, t3) {
  var _a, _b;
  if (r2 && "function" == typeof r2.toJSON && (!r2.toJSON.isDefaultToJSON || !r2.write))
    return o(e4, r2.toJSON(t3));
  const o3 = e2(r2), n3 = o3.metadatas;
  for (const s7 in n3) {
    const a4 = s4(n3[s7], t3);
    if (!p(r2, o3, s7, a4, void 0, t3))
      continue;
    const c4 = r2.get(s7), g2 = f2(r2, a4, a4.write && "string" == typeof a4.write.target ? a4.write.target : s7, c4, t3);
    Object.keys(g2).length > 0 && (e4 = o(e4, g2), ((_b = (_a = t3 == null ? void 0 : t3.resources) == null ? void 0 : _a.pendingOperations) == null ? void 0 : _b.length) && Promise.all(t3.resources.pendingOperations).then(() => o(e4, g2)), t3 && t3.writtenProperties && t3.writtenProperties.push({ target: r2, propName: s7, oldOrigin: c(o3.store.originOf(s7)), newOrigin: t3.origin }));
  }
  return e4;
}

// node_modules/@arcgis/core/core/accessorSupport/DefaultsStore.js
var s6 = class {
  constructor() {
    this._values = /* @__PURE__ */ new Map(), this.multipleOriginsSupported = false;
  }
  clone(e4) {
    const t3 = new s6();
    return this._values.forEach((s7, r2) => {
      e4 && e4.has(r2) || t3.set(r2, m(s7.value), s7.origin);
    }), t3;
  }
  get(i3, e4) {
    e4 = this._normalizeOrigin(e4);
    const s7 = this._values.get(i3);
    return null == e4 || (s7 == null ? void 0 : s7.origin) === e4 ? s7 == null ? void 0 : s7.value : void 0;
  }
  originOf(i3) {
    var _a;
    return ((_a = this._values.get(i3)) == null ? void 0 : _a.origin) ?? r.USER;
  }
  keys(i3) {
    i3 = this._normalizeOrigin(i3);
    const e4 = [...this._values.keys()];
    return null == i3 ? e4 : e4.filter((e5) => {
      var _a;
      return ((_a = this._values.get(e5)) == null ? void 0 : _a.origin) === i3;
    });
  }
  set(i3, s7, r2) {
    if ((r2 = this._normalizeOrigin(r2)) === r.DEFAULTS) {
      const e4 = this._values.get(i3);
      if (e4 && null != e4.origin && e4.origin > r2)
        return;
    }
    this._values.set(i3, new t2(s7, r2));
  }
  delete(i3, e4) {
    var _a;
    null != (e4 = this._normalizeOrigin(e4)) && ((_a = this._values.get(i3)) == null ? void 0 : _a.origin) !== e4 || this._values.delete(i3);
  }
  has(i3, e4) {
    var _a;
    return null != (e4 = this._normalizeOrigin(e4)) ? ((_a = this._values.get(i3)) == null ? void 0 : _a.origin) === e4 : this._values.has(i3);
  }
  forEach(i3) {
    this._values.forEach(({ value: e4 }, s7) => i3(e4, s7));
  }
  _normalizeOrigin(i3) {
    if (null != i3)
      return i3 === r.DEFAULTS ? i3 : r.USER;
  }
};
var t2 = class {
  constructor(i3, e4) {
    this.value = i3, this.origin = e4;
  }
};

// node_modules/@arcgis/core/core/accessorSupport/defaultsStoreUtils.js
function e3(e4, r2, n3) {
  r2.keys().forEach((e5) => {
    n3.set(e5, r2.get(e5), r.DEFAULTS);
  });
  const o3 = e4.metadatas;
  Object.keys(o3).forEach((r3) => {
    e4.internalGet(r3) && n3.set(r3, e4.internalGet(r3), r.DEFAULTS);
  });
}

// node_modules/@arcgis/core/core/JSONSupport.js
var u3 = (t3) => {
  let u4 = class extends t3 {
    constructor(...r2) {
      super(...r2);
      const t4 = q(e2(this)), i3 = t4.store, p2 = new s6();
      t4.store = p2, e3(t4, i3, p2);
    }
    read(r2, t4) {
      u2(this, r2, t4);
    }
    write(r2 = {}, t4) {
      return d2(this, r2, t4);
    }
    toJSON(r2) {
      return this.write({}, r2);
    }
    static fromJSON(r2, t4) {
      return n2.call(this, r2, t4);
    }
  };
  return u4 = e([n("esri.core.JSONSupport")], u4), u4.prototype.toJSON.isDefaultToJSON = true, u4;
};
function n2(r2, t3) {
  if (!r2)
    return null;
  if (r2.declaredClass)
    throw new Error("JSON object is already hydrated");
  const s7 = new this();
  return s7.read(r2, t3), s7;
}
var l = class extends u3(y) {
};
l = e([n("esri.core.JSONSupport")], l);

export {
  e3 as e,
  u2 as u,
  d,
  g,
  d2,
  u3 as u2,
  l
};
//# sourceMappingURL=chunk-ICD7AJSY.js.map
