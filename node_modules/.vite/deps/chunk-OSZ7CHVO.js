import {
  s as s2
} from "./chunk-7S6G3GM7.js";
import {
  b
} from "./chunk-GSFXXEAM.js";
import {
  g
} from "./chunk-JT3LXQ47.js";
import {
  j2 as j
} from "./chunk-YPZEGNLG.js";
import {
  d,
  n8 as n
} from "./chunk-2QOWZFCU.js";
import {
  e
} from "./chunk-IVBXK6OP.js";
import {
  s2 as s
} from "./chunk-HFTNOKM2.js";
import {
  r,
  t
} from "./chunk-CBQWMOBK.js";

// node_modules/@arcgis/core/views/layers/ImageryLayerView.js
var m = (m2) => {
  let c = class extends m2 {
    constructor() {
      super(...arguments), this.view = null;
    }
    async fetchPopupFeatures(e2, s3) {
      const { layer: p } = this;
      if (!e2)
        throw new s("imagerylayerview:fetchPopupFeatures", "Nothing to fetch without area", { layer: p });
      const { popupEnabled: a } = p, m3 = s2(p, s3);
      if (!a || t(m3))
        throw new s("imagerylayerview:fetchPopupFeatures", "Missing required popupTemplate or popupEnabled", { popupEnabled: a, popupTemplate: m3 });
      const c2 = await m3.getRequiredFields(), l = new b();
      l.timeExtent = this.timeExtent, l.geometry = e2, l.outFields = c2, l.outSpatialReference = e2.spatialReference;
      const y = this.view.resolution, h = "2d" === this.view.type ? new j(y, y, this.view.spatialReference) : new j(0.5 * y, 0.5 * y, this.view.spatialReference), { returnTopmostRaster: w, showNoDataRecords: d2 } = m3.layerOptions || { returnTopmostRaster: true, showNoDataRecords: false }, f = { returnDomainValues: true, returnTopmostRaster: w, pixelSize: h, showNoDataRecords: d2, signal: r(s3) ? s3.signal : null };
      return p.queryVisibleRasters(l, f).then((e3) => e3);
    }
    canResume() {
      var _a;
      return !!super.canResume() && !((_a = this.timeExtent) == null ? void 0 : _a.isEmpty);
    }
  };
  return e([d()], c.prototype, "layer", void 0), e([d()], c.prototype, "suspended", void 0), e([d(g)], c.prototype, "timeExtent", void 0), e([d()], c.prototype, "view", void 0), c = e([n("esri.views.layers.ImageryLayerView")], c), c;
};

export {
  m
};
//# sourceMappingURL=chunk-OSZ7CHVO.js.map
