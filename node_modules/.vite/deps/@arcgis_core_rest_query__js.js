import {
  a2 as a3,
  m,
  m2,
  n,
  n2 as n3,
  s as s3,
  s2 as s5,
  s3 as s6,
  s4 as s7,
  u
} from "./chunk-5YWIJLO7.js";
import {
  n as n2,
  s as s4
} from "./chunk-MR6FXIW4.js";
import {
  a as a2,
  s as s2
} from "./chunk-22YODLVL.js";
import "./chunk-TB42IUV7.js";
import "./chunk-ZWMYDR2G.js";
import "./chunk-ZZY5IDKU.js";
import "./chunk-6SWQ7R36.js";
import "./chunk-Z4FD36CT.js";
import "./chunk-OZT6RDST.js";
import "./chunk-4I3W4KD5.js";
import "./chunk-JNXH4TTS.js";
import "./chunk-6FKG7JUE.js";
import "./chunk-L2YBXQTH.js";
import "./chunk-S4ZKPFDU.js";
import "./chunk-YG6VFATO.js";
import {
  x
} from "./chunk-4XBERLPX.js";
import {
  K,
  b
} from "./chunk-GSFXXEAM.js";
import "./chunk-QZTJM4HG.js";
import "./chunk-WODSLTZT.js";
import "./chunk-JMZLJZMP.js";
import "./chunk-TBT57L4K.js";
import "./chunk-P6G64ARX.js";
import "./chunk-RN2KRYDN.js";
import "./chunk-BLINZ65M.js";
import "./chunk-TADZYUVR.js";
import "./chunk-C5ULLWJ7.js";
import "./chunk-HFDYAQZS.js";
import "./chunk-HJHWUUQQ.js";
import "./chunk-TMBOFNWA.js";
import "./chunk-ZNEGSJWK.js";
import "./chunk-EI4MOLML.js";
import "./chunk-4SBWV5M2.js";
import "./chunk-CF56UYH2.js";
import "./chunk-5TRUGQDM.js";
import "./chunk-PZG7CR4Y.js";
import "./chunk-2HDG7SIE.js";
import "./chunk-56RHM4A6.js";
import "./chunk-ACJD5XFJ.js";
import "./chunk-OO2JXX7L.js";
import "./chunk-6DWU2ZQF.js";
import "./chunk-Q3R7XFM5.js";
import "./chunk-JCPK2OXG.js";
import "./chunk-HVM5D6S5.js";
import "./chunk-JYHTO6QC.js";
import "./chunk-FTLBKDGL.js";
import "./chunk-5Z5455ZY.js";
import "./chunk-D7DLEBS2.js";
import "./chunk-H7JF6Q7A.js";
import "./chunk-TT2HIXWQ.js";
import "./chunk-OIPX3EDD.js";
import "./chunk-NWRK6QLX.js";
import "./chunk-HPH3FMVB.js";
import "./chunk-OOZMA7DN.js";
import "./chunk-Y7FSCP47.js";
import "./chunk-65A2N4LL.js";
import "./chunk-GVELBHGI.js";
import "./chunk-5N3FSR63.js";
import "./chunk-C4LU7RDX.js";
import "./chunk-EPCCNF3D.js";
import "./chunk-4PRVTUEZ.js";
import "./chunk-DMJWTK32.js";
import "./chunk-FVPTCNCX.js";
import "./chunk-BPZGJQOB.js";
import "./chunk-ZOKX6UGH.js";
import "./chunk-PKZEO23A.js";
import "./chunk-43S7PUMG.js";
import "./chunk-AIRC226G.js";
import "./chunk-BNPOKP6A.js";
import "./chunk-CHNDTVQJ.js";
import "./chunk-VLCG72SW.js";
import "./chunk-Q72YFZUL.js";
import "./chunk-YPZEGNLG.js";
import "./chunk-3NMRL5CR.js";
import "./chunk-SN4RUQ4N.js";
import "./chunk-XRL56EGK.js";
import "./chunk-ZIHDQYKE.js";
import "./chunk-GSRNZQFV.js";
import "./chunk-ICD7AJSY.js";
import "./chunk-2QOWZFCU.js";
import "./chunk-IVBXK6OP.js";
import "./chunk-YAAIZ67O.js";
import "./chunk-5EQKHR4M.js";
import {
  y
} from "./chunk-U3PSONS6.js";
import {
  s2 as s
} from "./chunk-HFTNOKM2.js";
import "./chunk-23NWA6WL.js";
import "./chunk-CVWDM4C7.js";
import "./chunk-G5JBUC5N.js";
import {
  a,
  r,
  t
} from "./chunk-CBQWMOBK.js";
import "./chunk-AC2VUBZ6.js";

// node_modules/@arcgis/core/rest/query/executeQuery.js
async function c(o, t2, r2, e) {
  return m3(o, t2, r2, e).then((o2) => p(t2, o2, r2, e));
}
async function m3(o, r2, e, i) {
  var _a;
  const n4 = { ...i }, f = d(r2, e), u2 = null != ((_a = r2.outStatistics) == null ? void 0 : _a[0]), c2 = a("featurelayer-pbf-statistics"), m4 = !u2 || c2;
  let p2;
  if ("pbf" === e.format && m4)
    try {
      p2 = await n(o, f, n4);
    } catch (y3) {
      if ("query:parsing-pbf" !== y3.name)
        throw y3;
      e.format = "json";
    }
  return "json" !== e.format && m4 || (p2 = await a2(o, f, n4)), l(e.fieldsIndex, p2.fields), p2;
}
function l(o, t2) {
  if (r(o) && r(t2))
    for (const r2 of t2) {
      const t3 = o.get(r2.name);
      t3 && Object.assign(r2, t3.toJSON());
    }
}
async function p(o, t2, r2, n4) {
  if (!y2(o, r2 == null ? void 0 : r2.infoFor3D) || t(r2.infoFor3D) || !t2.features || !t2.features.length)
    return x.fromJSON(t2);
  const { meshFeatureSetFromJSON: a4 } = await y(import("./meshFeatureSet-ZMVSY6IE.js"), n4);
  return a4(o, r2.infoFor3D, t2);
}
function d(t2, i) {
  let a4 = b.from(t2);
  if (a4.sourceSpatialReference = a4.sourceSpatialReference || (i == null ? void 0 : i.sourceSpatialReference), (i.gdbVersion || i.dynamicDataSource) && (a4 = a4 === t2 ? a4.clone() : a4, a4.gdbVersion = t2.gdbVersion || i.gdbVersion, a4.dynamicDataSource = t2.dynamicDataSource ? K.from(t2.dynamicDataSource) : i.dynamicDataSource), r(i.infoFor3D) && y2(t2, i == null ? void 0 : i.infoFor3D)) {
    a4 = a4 === t2 ? a4.clone() : a4, a4.formatOf3DObjects = null;
    for (const o of i.infoFor3D.queryFormats) {
      if ("3D_glb" === o.id) {
        a4.formatOf3DObjects = o.id;
        break;
      }
      "3D_gltf" !== o.id || a4.formatOf3DObjects || (a4.formatOf3DObjects = o.id);
    }
    if (!a4.formatOf3DObjects)
      throw new s("query:unsupported-3d-query-formats", "Could not find any supported 3D object query format. Only supported formats are 3D_glb and 3D_gltf");
    if (t(a4.outFields) || !a4.outFields.includes("*")) {
      a4 = a4 === t2 ? a4.clone() : a4, t(a4.outFields) && (a4.outFields = []);
      const { originX: o, originY: r2, originZ: n4, translationX: s8, translationY: f, translationZ: u2, scaleX: c2, scaleY: m4, scaleZ: l2, rotationX: p2, rotationY: d2, rotationZ: y3, rotationDeg: D } = i.infoFor3D.transformFieldRoles;
      a4.outFields.push(o, r2, n4, s8, f, u2, c2, m4, l2, p2, d2, y3, D);
    }
  }
  return a4;
}
function y2(o, t2) {
  return r(t2) && o.returnGeometry && "xyFootprint" !== o.multipatchOption && !o.outStatistics;
}
export {
  a3 as executeAttachmentQuery,
  n2 as executeForCount,
  m as executeForExtent,
  s4 as executeForIds,
  s7 as executeForTopCount,
  m2 as executeForTopExtents,
  s6 as executeForTopIds,
  c as executeQuery,
  s2 as executeQueryJSON,
  s3 as executeQueryPBF,
  m3 as executeRawQuery,
  a2 as executeRawQueryJSON,
  n as executeRawQueryPBF,
  n3 as executeRelationshipQuery,
  u as executeRelationshipQueryForCount,
  s5 as executeTopFeaturesQuery,
  l as normalizeFields
};
//# sourceMappingURL=@arcgis_core_rest_query__js.js.map
