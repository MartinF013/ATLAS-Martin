{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightConfiguration.js", "../../@arcgis/core/views/3d/analysis/LineOfSightAnalysisResult.js", "../../@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightComputation.js", "../../@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightIntersectionResult.js", "../../@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightRayIntersector.js", "../../@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightController.js", "../../@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightToolConfiguration.js", "../../@arcgis/core/views/3d/analysis/LineOfSight/lineOfSightToolUtils.js", "../../@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightTool.js", "../../@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightVisualization.js", "../../@arcgis/core/views/3d/analysis/LineOfSightAnalysisView3D.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../Color.js\";import r from\"../../../../core/Accessor.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";let s=class extends r{constructor(o){super(o),this.innerWidth=2,this.outerWidth=8,this.visibleInnerColor=new e([3,252,111,1]),this.visibleOuterColor=new e([3,252,111,.15]),this.occludedInnerColor=new e([252,3,69,1]),this.occludedOuterColor=new e([252,3,69,.1]),this.undefinedInnerColor=new e([255,255,255,1]),this.undefinedOuterColor=new e([127,127,127,.2])}};o([t({type:Number})],s.prototype,\"innerWidth\",void 0),o([t({type:Number})],s.prototype,\"outerWidth\",void 0),o([t({type:e})],s.prototype,\"visibleInnerColor\",void 0),o([t({type:e})],s.prototype,\"visibleOuterColor\",void 0),o([t({type:e})],s.prototype,\"occludedInnerColor\",void 0),o([t({type:e})],s.prototype,\"occludedOuterColor\",void 0),o([t({type:e})],s.prototype,\"undefinedInnerColor\",void 0),o([t({type:e})],s.prototype,\"undefinedOuterColor\",void 0),s=o([i(\"esri.views.3d.analysis.LineOfSight.LineOfSightConfiguration\")],s);export{s as LineOfSightConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";let s=class extends t{constructor(o){super(o),this.target=null,this.intersectedGraphic=null,this.intersectedLocation=null,this.elevationAlignedTargetLocation=null,this.visible=void 0}};o([e()],s.prototype,\"target\",void 0),o([e()],s.prototype,\"intersectedGraphic\",void 0),o([e()],s.prototype,\"intersectedLocation\",void 0),o([e()],s.prototype,\"elevationAlignedTargetLocation\",void 0),o([e({type:Boolean})],s.prototype,\"visible\",void 0),s=o([r(\"esri.views.3d.analysis.LineOfSightAnalysisResult\")],s);export{s as LineOfSightAnalysisResult};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import o from\"../../../../core/Accessor.js\";import{property as e}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c as s}from\"../../../../chunks/vec3f64.js\";let i=class extends o{constructor(t){super(t),this.elevationAlignedTargetLocation=null,this.inputPoints={isValid:!1,observer:s(),observerSurfaceNormal:null,observerFeatureId:null,target:s(),targetSurfaceNormal:null,targetFeatureId:null,observerAdjusted:s(),targetAdjusted:s()},this.computationResult={start:s(),end:s(),intersection:s(),isValid:!1,isTargetVisible:!1},this.result=null}notifyResultChanged(){this.notifyChange(\"computationResult\")}notifyInputPointsChanged(){this.notifyChange(\"inputPoints\")}};t([e()],i.prototype,\"target\",void 0),t([e()],i.prototype,\"elevationAlignedTargetLocation\",void 0),t([e()],i.prototype,\"inputPoints\",void 0),t([e()],i.prototype,\"computationResult\",void 0),t([e()],i.prototype,\"result\",void 0),i=t([r(\"esri.views.3d.analysis.LineOfSight.LineOfSightComputation\")],i);export{i as LineOfSightComputation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import o from\"../../../../core/Accessor.js\";import{equals as t}from\"../../../../core/arrayUtils.js\";import{clone as s}from\"../../../../core/lang.js\";import{equalsMaybe as i}from\"../../../../core/maybe.js\";import{property as e}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{equals as c}from\"../../../../geometry/support/ray.js\";var a;let n=a=class extends o{constructor(r){super(r)}clone(){return new a({type:this.type,id:s(this.id),point:s(this.point),normal:s(this.normal),ray:s(this.ray),graphic:this.graphic})}equals(r){return this.type===r.type&&this.id===r.id&&i(this.point,r.point)&&t(this.normal,r.normal)&&c(this.ray,r.ray)&&this.graphic===r.graphic}};r([e()],n.prototype,\"type\",void 0),r([e({constructOnly:!0})],n.prototype,\"id\",void 0),r([e({constructOnly:!0})],n.prototype,\"point\",void 0),r([e({constructOnly:!0})],n.prototype,\"normal\",void 0),r([e({constructOnly:!0})],n.prototype,\"graphic\",void 0),r([e({constructOnly:!0})],n.prototype,\"ray\",void 0),n=a=r([p(\"esri.views.3d.analysis.LineOfSight.LineOfSightIntersectionResult\")],n);export{n as LineOfSightIntersectionResult};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{isNone as t,isSome as s}from\"../../../../core/maybe.js\";import{screenPointObjectToArray as o}from\"../../../../core/screenUtils.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c,n as a,g as p,a as l}from\"../../../../chunks/vec3.js\";import{d as m,a as d,c as u}from\"../../../../chunks/vec3f64.js\";import{create as h,copy as f,fromPoints as y}from\"../../../../geometry/support/ray.js\";import{sv2d as g}from\"../../../../geometry/support/vectorStacks.js\";import{getObjectId as I}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{LineOfSightIntersectionResult as j}from\"./LineOfSightIntersectionResult.js\";import{isI3sIntersectorResult as w}from\"../../layers/i3s/Intersector.js\";import{fromScreen as v}from\"../../support/geometryUtils/ray.js\";import{isTerrainIntersectorResult as b}from\"../../terrain/Intersector.js\";import{newIntersector as R}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as C,IntersectorType as S}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{toGraphic as U}from\"../../webgl-engine/lib/intersectorUtilsConversions.js\";let O=class extends r{constructor(e){super(e),this._terrainIntersectionOptionsLayerUids=new Set([\"terrain\"])}initialize(){this.intersector=R(this.view.state.viewingMode),this.intersector.options.hud=!1,this.intersector.options.store=C.MIN}getScreenPointIntersection(e){const r=o(e,g.get()),t=v(this.view.state.camera,r,M);return this._getRayIntersection(t)}_getRayIntersection(e,r){if(t(e)||t(this.view.sceneIntersectionHelper))return null;this.intersector.options.store=C.MIN,this.view.sceneIntersectionHelper.intersectToolIntersectorRay(e,this.intersector,r);const o=this.intersector.results.min;if(!o.getIntersectionPoint(H))return null;const i=this.view.renderCoordsHelper.fromRenderCoords(H,this.view.spatialReference),n=m(o.normal);if(w(o))return new j({type:S.OBJECT,id:`${o.target.layerUid}/${o.target.nodeIndex}/${o.target.componentIndex}`,point:i,normal:n,ray:f(e),graphic:null});if(b(o))return new j({type:S.TERRAIN,id:o.target.lij.slice(),point:i,normal:n,ray:f(e),graphic:null});const c=U(o,this.view);if(s(c)){const r=c.layer,t=c.sourceLayer;let s;if(t)if(\"scene\"===t.type)s=I(c,t.objectIdField);else s=c.uid;else s=c.uid;return new j({type:S.OBJECT,id:`${r.uid}/${s}`,point:i,normal:n,ray:f(e),graphic:c})}return null}updateFromGroundIntersection(e,r,t){const o=H,i=L,n=T,m=_,u=x;c(i,e),this.view.renderCoordsHelper.worldUpAtPosition(i,n),a(n,n);const h=this.view.basemapTerrain.elevationBounds,f=this.view.renderCoordsHelper.getAltitude(i),g=h?Math.abs(h.max-h.min):100,I=f>0?1:-1;p(m,n,I*(g+Math.abs(r))),l(o,i,m),y(o,i,M);const j=this._getRayIntersection(M,{include:this._terrainIntersectionOptionsLayerUids});return s(j)&&s(j.point)?(this.view.renderCoordsHelper.toRenderCoords(j.point,u),p(m,n,I*r),l(t,u,m),d(j.normal)):(c(t,e),null)}};e([i()],O.prototype,\"view\",void 0),e([i()],O.prototype,\"intersector\",void 0),O=e([n(\"esri.views.3d.analysis.LineOfSight.LineOfSightRayIntersector\")],O);const H=u(),L=u(),T=u(),_=u(),x=u(),M=h();export{O as LineOfSightRayIntersector};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import{getFeatureId as t}from\"../../../../analysis/featureReferenceUtils.js\";import o from\"../../../../core/Accessor.js\";import i from\"../../../../core/Evented.js\";import n from\"../../../../core/Handles.js\";import{handlesGroup as r,makeHandle as s}from\"../../../../core/handleUtils.js\";import{equals as a}from\"../../../../core/lang.js\";import c from\"../../../../core/Logger.js\";import{isNone as l,isSome as u,abortMaybe as p,unwrapOr as d,none as h}from\"../../../../core/maybe.js\";import{createTask as g,ignoreAbortErrors as v}from\"../../../../core/promiseUtils.js\";import{watch as m,on as f,syncAndInitial as _,sync as b}from\"../../../../core/reactiveUtils.js\";import{property as y}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as C}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c as I,i as T,b as O,n as P,g as S,a as j,j as w,v as R}from\"../../../../chunks/vec3.js\";import{c as A}from\"../../../../chunks/vec3f64.js\";import{WatchUpdatingTracking as E}from\"../../../../core/support/WatchUpdatingTracking.js\";import{projectOrLoad as L,projectBoundingRect as F}from\"../../../../geometry/projection.js\";import{empty as V,containsPointObject as H,intersectsSegment as D}from\"../../../../geometry/support/aaBoundingRect.js\";import{fromPoints as x,create as N}from\"../../../../geometry/support/ray.js\";import{zValueInAbsoluteHeightMode as k}from\"../../../../support/elevationInfoUtils.js\";import{LineOfSightAnalysisResult as z}from\"../LineOfSightAnalysisResult.js\";import{LineOfSightComputation as G}from\"./LineOfSightComputation.js\";import{LineOfSightRayIntersector as M}from\"./LineOfSightRayIntersector.js\";import{logFailedGeometryProjectionError as U}from\"../support/projectionUtils.js\";import{StoreResults as Z}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{toGraphic as q,hasLod as B,getIntersectedFeatureBSRadius as W}from\"../../webgl-engine/lib/intersectorUtilsConversions.js\";import{ImmediateTask as J,TaskPriority as K}from\"../../../support/Scheduler.js\";import Q from\"../../../../geometry/Point.js\";const X=c.getLogger(\"esri.views.3d.analysis.LineOfSight.LineOfSightController\");let Y=class extends(i.EventedMixin(o)){constructor(e){super(e),this.updateOnCameraChange=!0,this._effectiveObserverElevationMode=\"absolute-height\",this._observerFeatureId=null,this._updatingHandles=new E,this._frameTask=J,this._handles=new n,this._computationHandles=new n,this._externalObserverUpdate=!0}initialize(){const e=this.view.resourceController?.scheduler;this._frameTask=e?e.registerTask(K.LINE_OF_SIGHT_TOOL):J,this._intersector=new M({view:this.view}),this._handles.add([this._connectObserver(),this._connectComputations(),this._connectTargets()])}destroy(){this._handles.destroy(),this._computationHandles.destroy(),this._computations.removeAll(),this._updatingHandles.destroy()}get updating(){return this._frameTask.updating||this._updatingHandles.updating}get priority(){return this._frameTask.priority}set priority(e){this._frameTask.priority=e}get _computations(){return this.analysisViewData.computations}get _elevationAlignedObserverPositionRenderSpace(){return this.analysisViewData.observerEngineLocation}set _elevationAlignedObserverPositionRenderSpace(e){this.analysisViewData.observerEngineLocation=e}get _screenPixelSize(){return this.view.state.camera.computeScreenPixelSizeAt(this._elevationAlignedObserverPositionRenderSpace)}getLineOfSightComputationDependencies(e){const{inputPoints:t}=e;return{inputPoints:t}}_computeResult(e){const t=e.computation,{inputPoints:o,computationResult:i}=t,{observerAdjusted:n,targetAdjusted:r}=o,{start:s,end:a}=i;I(s,n),I(a,r);this._canCompute(t)?this._computeIntersection(e):this._interpolateIntersection(e),t.notifyResultChanged(),this.emit(\"result-changed\",{target:e.computation.target,result:t.result})}_updateAdjustedPointsFromFeatures(e){const o=this.view,{sceneIntersectionHelper:i}=o,{inputPoints:n}=e,{observerAdjusted:r,observerFeatureId:s,targetFeatureId:a,targetAdjusted:c}=n;if(l(s)&&l(a))return;const p=T(r,c),d=this._intersector.intersector,h=x(n.observer,n.target,te);d.options.store=Z.ALL,i.intersectToolIntersectorRay(h,d);let g=null,v=null,m=null,f=null;for(const _ of d.results.all){const e=q(_,this.view);if(l(e)||l(_.distanceInRenderSpace))continue;const i=t(e);l(i)||(u(s)&&i===s&&(l(g)&&(g=this._getFeatureDistanceThreshold(_,o,p)),_.distanceInRenderSpace<g&&(m=_)),u(a)&&i===a&&(l(v)&&(v=this._getFeatureDistanceThreshold(_,o,p)),l(f)&&_.distanceInRenderSpace<p&&p-_.distanceInRenderSpace<v&&(f=_)))}u(m)&&m.getIntersectionPoint(r)&&(n.observerSurfaceNormal=m.getTransformedNormal(A())),u(f)&&f.getIntersectionPoint(c)&&(n.targetSurfaceNormal=f.getTransformedNormal(A()))}_getFeatureDistanceThreshold(e,t,o){if(B(e)){const i=W(e,t);if(u(i))return Math.min(i*ie,o)}return 1e-5*o}_adjustStartEndPositions(e){const t=this._screenPixelSize,o=this.view,{inputPoints:i}=e,{observer:n,observerSurfaceNormal:r,target:s,targetSurfaceNormal:a,observerAdjusted:c,targetAdjusted:l}=i,p=ee;I(c,n),I(l,s),this._updateAdjustedPointsFromFeatures(e),u(r)?I(p,r):O(p,l,c);const d=t;P(p,p),S(p,p,Math.min(d,1)),j(c,c,p),u(a)?I(p,a):O(p,c,l);const h=o.state.camera.computeScreenPixelSizeAt(l);P(p,p),S(p,p,Math.min(h,1)),j(l,l,p)}_computeIntersection({computation:e,interpolationInfo:t}){const{view:o}=this,{sceneIntersectionHelper:i,renderCoordsHelper:n}=o;if(l(i))return;const r=this._intersector.intersector,{computationResult:s,inputPoints:a}=e,{observer:c,target:p}=a,{start:d,end:h}=s,g=x(d,h,te);r.options.store=Z.MIN,i.intersectToolIntersectorRay(g,r);const v=r.results.min,m=s.intersection,f=ee;let _=!0;if(u(v)&&v.getIntersectionPoint(m)){I(t.originalIntersection,m),I(t.originalObserver,d),I(t.originalTarget,h),n.fromRenderCoords(m,f,o.spatialReference);const e=1-w(h,p)/w(d,p);_=w(c,m)>=e*w(c,p)}const b=new Q(f,o.spatialReference);{const{result:t,target:i}=e;u(t)?(t.target=i,t.intersectedGraphic=_?null:q(v,o),t.intersectedLocation=_?null:b,t.visible=_):e.result=new z({target:i,elevationAlignedTargetLocation:e.elevationAlignedTargetLocation,intersectedGraphic:_?null:q(v,o),intersectedLocation:_?null:b,visible:_})}s.isValid=a.isValid=!0,s.isTargetVisible=_}_interpolateIntersection({computation:e,interpolationInfo:t}){const{computationResult:o,inputPoints:i}=e,{start:n,end:r,intersection:s}=o,{originalIntersection:a,originalObserver:c,originalTarget:l}=t;if(I(s,a),i.isValid){const e=ee,t=w(c,a)/w(c,l);R(e,n,c),S(e,e,1-t),j(s,s,e),R(e,r,l),S(e,e,t),j(s,s,e),o.isValid=!0}else e.result=null,o.isValid=!1,o.isTargetVisible=!1}_canCompute(e){const t=this.analysisViewData.elevationAlignedObserver,o=this.view.frustum;if(l(t)||l(e.elevationAlignedTargetLocation)||l(o))return!1;const{observerAdjusted:i,targetAdjusted:n}=e.inputPoints,r=o.intersectsPoint(i),s=o.intersectsPoint(n);return r&&s}_onObserverPositionChange(e,o,i,n,r){if(this._externalObserverUpdate=r,l(e))return this.analysisViewData.elevationAlignedObserver=null,void(this._observerFeatureId=null);if(l(o))return U(this.analysis,e.spatialReference,X),void(this.analysisViewData.elevationAlignedObserver=null);const s=this._getEffectiveElevationInfo(o,i),{absoluteZ:a,elevation:c}=k(o.x,o.y,o.z,this.view.spatialReference,this.view,s),u=o.clone();u.z=a,this._effectiveObserverElevationMode=s.mode,this.analysisViewData.elevationAlignedObserver=u;const p=A();this.view.renderCoordsHelper.toRenderCoords(u,p),this._elevationAlignedObserverPositionRenderSpace=p,this._observerGroundOffsetRenderSpace=a-c,this._observerFeatureId=t(n),this.priority=K.LINE_OF_SIGHT_TOOL_INTERACTIVE}_onObserverRenderSpacePositionChangeForComputation(e,t,o,i,n){const{inputPoints:r}=e;switch(I(r.observer,t),r.observerFeatureId=n,r.observerSurfaceNormal=null,i){case\"on-the-ground\":case\"relative-to-ground\":{const e=this._intersector.updateFromGroundIntersection(r.observer,o,r.observer);l(r.observerFeatureId)&&(r.observerSurfaceNormal=e)}}this._adjustStartEndPositions(e),e.notifyInputPointsChanged(),this.priority=K.LINE_OF_SIGHT_TOOL_INTERACTIVE}_onTargetPositionChange(e,o,i,n,r,s=!0){const a=e.inputPoints;if(s&&(a.isValid=!1),l(i))return u(o)&&U(this.analysis,o.spatialReference,X),e.elevationAlignedTargetLocation=null,void e.notifyInputPointsChanged();const c=this._getEffectiveElevationInfo(i,n),{absoluteZ:p,elevation:d}=k(i.x,i.y,i.z,this.view.spatialReference,this.view,c),h=i.clone();switch(h.z=p,e.elevationAlignedTargetLocation=h,this.view.renderCoordsHelper.toRenderCoords(e.elevationAlignedTargetLocation,a.target),a.targetFeatureId=t(r),a.targetSurfaceNormal=null,c.mode){case\"on-the-ground\":case\"relative-to-ground\":{const e=this._intersector.updateFromGroundIntersection(a.target,p-d,a.target);l(a.targetFeatureId)&&(a.targetSurfaceNormal=e)}}this._adjustStartEndPositions(e),e.notifyInputPointsChanged(),this.priority=K.LINE_OF_SIGHT_TOOL_INTERACTIVE}_connectComputationToTarget(e){return r([m((()=>({computation:e,targetPosition:e.target.position,targetElevationInfo:e.target.elevationInfo,targetFeatureInfo:e.target.feature,projectedTargetPosition:L(e.target.position,this.view.spatialReference)})),(({computation:e,targetPosition:t,targetElevationInfo:o,targetFeatureInfo:i,projectedTargetPosition:n})=>{u(n.pending)?this._updatingHandles.addPromise(n.pending):this._onTargetPositionChange(e,t,n.geometry,o,i)}),_)])}_connectComputationToObserver(e){return m((()=>({computation:e,observer:this.analysisViewData.elevationAlignedObserver})),(({computation:e})=>{this._externalObserverUpdate&&(e.inputPoints.isValid=!1,e.notifyInputPointsChanged())}),_)}_connectComputationToRenderSpaceObserver(e){return m((()=>({computation:e,observer:this._elevationAlignedObserverPositionRenderSpace,observerGroundOffset:this._observerGroundOffsetRenderSpace,observerElevationMode:this._effectiveObserverElevationMode,observerFeatureId:this._observerFeatureId})),(({computation:e,observer:t,observerGroundOffset:o,observerElevationMode:i,observerFeatureId:n})=>{this._onObserverRenderSpacePositionChangeForComputation(e,t,o,i,n)}),_)}_connectComputationToCamera(e){return m((()=>({camera:this.view.state.camera,isDirty:this._isCameraDirty})),(({isDirty:t})=>{!this.updateOnCameraChange||e.inputPoints.isValid&&!t||e.notifyInputPointsChanged()}),b)}_connectComputationToSlicePlane(e){return m((()=>this.view.slicePlane),(()=>{e.inputPoints.isValid=!1,e.notifyInputPointsChanged()}))}_connectComputationToElevation(e){const t=(o,i)=>{const n=this.analysis.observer,r=e.target;let s=null,a=null,c=null,p=null,d=null,h=null;if(u(n)&&u(n.position)){const e=L(n.position,this.view.spatialReference);if(u(e.pending))return this._updatingHandles.addPromise(e.pending),void e.pending.finally((()=>t(o,i)));s=e.geometry,a=n.elevationInfo,c=n.feature}if(u(r.position)){const e=L(r.position,this.view.spatialReference);if(u(e.pending))return this._updatingHandles.addPromise(e.pending),void e.pending.finally((()=>t(o,i)));p=e.geometry,d=r.elevationInfo,h=r.feature}l(s)&&l(p)||(F(o,i,oe,this.view.spatialReference),u(s)&&H(oe,s)&&this._onObserverPositionChange(u(n)?n.position:null,s,a,c,!1),u(p)&&H(oe,p)&&this._onTargetPositionChange(e,r.position,p,d,h,!1),u(s)&&u(p)&&D(oe,s,p)&&e.notifyInputPointsChanged())};return this.view.elevationProvider.on(\"elevation-change\",(e=>t(e.extent,e.spatialReference)))}_connectComputationToTask(e){let t=h;const o={computation:e,interpolationInfo:{originalIntersection:A(),originalObserver:A(),originalTarget:A()}};return r([m((()=>this.getLineOfSightComputationDependencies(e)),(()=>{t=p(t),t=g((async e=>{await v(this._frameTask.schedule((()=>this._computeResult(o)),e))}))}),{sync:!0,initial:!0,equals:a}),s((()=>t=p(t)))])}_connectComputation(e){const t=this._computationHandles;t.has(e)||t.add([this._connectComputationToTarget(e),this._connectComputationToObserver(e),this._connectComputationToRenderSpaceObserver(e),this._connectComputationToCamera(e),this._connectComputationToSlicePlane(e),this._connectComputationToElevation(e),this._connectComputationToTask(e)],e)}_disconnectComputation(e){this._computationHandles.remove(e)}_onComputationCollectionChange({added:e,removed:t}){for(const o of t)this._disconnectComputation(o);for(const o of e)this._connectComputation(o)}_onTargetCollectionChange({added:e,removed:t}){for(const o of t)this._removeTarget(o);for(const o of e)this._addTarget(o)}_onCursorTargetChange(e,t){u(t)&&this._removeTarget(t),u(e)&&this._addTarget(e)}_addTarget(e){this._computations.some((t=>t.target===e))||this._computations.add(new G({target:e}))}_removeTarget(e){const t=this._computations.findIndex((t=>t.target===e));this._computations.removeAt(t)}_connectObserver(){return r([m((()=>({observerPosition:u(this.analysis.observer)?this.analysis.observer.position:null,projectedObserverPosition:L(u(this.analysis.observer)?this.analysis.observer.position:null,this.view.spatialReference),observerElevationInfo:u(this.analysis.observer)?this.analysis.observer.elevationInfo:null,observerFeatureInfo:u(this.analysis.observer)?this.analysis.observer.feature:null})),(({observerPosition:e,projectedObserverPosition:t,observerElevationInfo:o,observerFeatureInfo:i})=>{u(t.pending)?this._updatingHandles.addPromise(t.pending):this._onObserverPositionChange(e,t.geometry,o,i,!0)}),_)])}_connectComputations(){return f((()=>this._computations),\"change\",(e=>this._onComputationCollectionChange(e)),{onListenerAdd:e=>{for(const t of e)this._connectComputation(t)},onListenerRemove:e=>{for(const t of e)this._disconnectComputation(t)},sync:!0})}_connectTargets(){return r([this._updatingHandles.addOnCollectionChange((()=>this.analysis.targets),(e=>this._onTargetCollectionChange(e)),{initial:!0,final:!0}),m((()=>this.analysisViewData.cursorTarget),((e,t)=>{this._onCursorTargetChange(e,t)}))])}get _isCameraDirty(){const e=this.analysisViewData.elevationAlignedObserver,{view:t}=this,{renderCoordsHelper:o}=t;if(l(e)||l(o))return!1;const i=ee;o.toRenderCoords(e,i);const n=t.state.camera.computeScreenPixelSizeAt(i);return Math.abs((n-this._screenPixelSize)/this._screenPixelSize)>$}_getEffectiveElevationInfo(e,t){return e.hasZ?d(t,{mode:\"absolute-height\",offset:0}):{mode:\"on-the-ground\",offset:0}}};e([y({constructOnly:!0})],Y.prototype,\"analysis\",void 0),e([y({constructOnly:!0})],Y.prototype,\"analysisViewData\",void 0),e([y({constructOnly:!0})],Y.prototype,\"view\",void 0),e([y()],Y.prototype,\"updating\",null),e([y()],Y.prototype,\"priority\",null),e([y()],Y.prototype,\"updateOnCameraChange\",void 0),e([y()],Y.prototype,\"_computations\",null),e([y()],Y.prototype,\"_elevationAlignedObserverPositionRenderSpace\",null),e([y()],Y.prototype,\"_observerGroundOffsetRenderSpace\",void 0),e([y()],Y.prototype,\"_effectiveObserverElevationMode\",void 0),e([y()],Y.prototype,\"_observerFeatureId\",void 0),e([y()],Y.prototype,\"_screenPixelSize\",null),e([y({readOnly:!0})],Y.prototype,\"_updatingHandles\",void 0),e([y()],Y.prototype,\"_frameTask\",void 0),e([y()],Y.prototype,\"_isCameraDirty\",null),Y=e([C(\"esri.views.3d.analysis.LineOfSight.LineOfSightController\")],Y);const $=.1,ee=A(),te=N(),oe=V(),ie=.05;export{Y as LineOfSightController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import o from\"../../../../Color.js\";import t from\"../../../../core/Accessor.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";let s=class extends t{constructor(e){super(e),this.enabled=!0,this.glowColor=new o([255,127,0]),this.glowWidth=8,this.innerColor=new o([255,255,255]),this.innerWidth=.75,this.globalAlpha=.75}};e([r({type:Boolean})],s.prototype,\"enabled\",void 0),e([r({type:o})],s.prototype,\"glowColor\",void 0),e([r({type:Number})],s.prototype,\"glowWidth\",void 0),e([r({type:o})],s.prototype,\"innerColor\",void 0),e([r({type:Number})],s.prototype,\"innerWidth\",void 0),e([r({type:Number})],s.prototype,\"globalAlpha\",void 0),s=e([i(\"esri.views.3d.interactive.analysisTools.lineOfSight.LineOfSightLaserLineConfiguration\")],s);let p=class extends t{constructor(e){super(e),this.size=.5,this.color=new o([255,127,0,.75])}};e([r({type:Number})],p.prototype,\"size\",void 0),e([r({type:o})],p.prototype,\"color\",void 0),p=e([i(\"esri.views.3d.interactive.analysisTools.lineOfSight.LineOfSightObserverConfiguration\")],p);let n=class extends t{constructor(e){super(e),this.size=.5,this.visibleColor=new o([3,252,111,.75]),this.occludedColor=new o([252,3,69,.75]),this.undefinedColor=new o([127,127,127,.75])}};e([r({type:Number})],n.prototype,\"size\",void 0),e([r({type:o})],n.prototype,\"visibleColor\",void 0),e([r({type:o})],n.prototype,\"occludedColor\",void 0),e([r({type:o})],n.prototype,\"undefinedColor\",void 0),n=e([i(\"esri.views.3d.interactive.analysisTools.lineOfSight.LineOfSightTargetConfiguration\")],n);class l extends t{constructor(e){super(e),this.innerWidth=2,this.outerWidth=8,this.visibleInnerColor=new o([3,252,111,1]),this.visibleOuterColor=new o([3,252,111,.15]),this.occludedInnerColor=new o([252,3,69,1]),this.occludedOuterColor=new o([252,3,69,.1]),this.undefinedInnerColor=new o([255,255,255,1]),this.undefinedOuterColor=new o([127,127,127,.2])}}e([r({type:Number})],l.prototype,\"innerWidth\",void 0),e([r({type:Number})],l.prototype,\"outerWidth\",void 0),e([r({type:o})],l.prototype,\"visibleInnerColor\",void 0),e([r({type:o})],l.prototype,\"visibleOuterColor\",void 0),e([r({type:o})],l.prototype,\"occludedInnerColor\",void 0),e([r({type:o})],l.prototype,\"occludedOuterColor\",void 0),e([r({type:o})],l.prototype,\"undefinedInnerColor\",void 0),e([r({type:o})],l.prototype,\"undefinedOuterColor\",void 0);let d=class extends t{constructor(e){super(e),this.laserLine=new s,this.observer=new p,this.target=new n,this.lineOfSight=new l}};e([r({type:s})],d.prototype,\"laserLine\",void 0),e([r({type:p})],d.prototype,\"observer\",void 0),e([r({type:n})],d.prototype,\"target\",void 0),e([r({type:l})],d.prototype,\"lineOfSight\",void 0),d=e([i(\"esri.views.3d.interactive.analysisTools.lineOfSight.LineOfSightToolConfiguration\")],d);export{l as LineOfSightConfiguration,s as LineOfSightLaserLineConfiguration,p as LineOfSightObserverConfiguration,n as LineOfSightTargetConfiguration,d as LineOfSightToolConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport o from\"../../../../Color.js\";import{Manipulator3D as t}from\"../../interactive/Manipulator3D.js\";import{createManipulatorMaterial as e}from\"../../interactive/manipulatorUtils.js\";import{disableDisplayOnGrab as r}from\"../../interactive/editingTools/manipulatorUtils.js\";import i from\"../../webgl-engine/lib/GeometryUtil.js\";import{ManipulatorStateCustomFlags as s}from\"../../../interactive/interfaces.js\";function m(t,r,s){return{geometry:i.createSphereGeometry(t,32,32),material:e(o.toUnitRGBA(r)),stateMask:s}}function n(o){const t=[];return o.customColor1&&t.push(m(o.size,o.customColor1,s.Custom1)),o.customColor2&&t.push(m(o.size,o.customColor2,s.Custom2)),o.customColor3&&t.push(m(o.size,o.customColor3,s.Custom3)),o.color&&t.push(m(o.size,o.color)),t}function u(o,e){const i=n(e),s=new t({view:o,renderObjects:i,elevationInfo:{mode:\"absolute-height\",offset:0}});return r(s),s}export{u as createSphereManipulator,m as createSphereManipulatorRenderObject,n as createSphereManipulatorRenderObjects};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../Color.js\";import i from\"../../../../analysis/LineOfSightAnalysisObserver.js\";import r from\"../../../../analysis/LineOfSightAnalysisTarget.js\";import a from\"../../../../core/Collection.js\";import n from\"../../../../core/Handles.js\";import s from\"../../../../core/Logger.js\";import{destroyMaybe as o,isSome as l,isNone as c,applySome as u}from\"../../../../core/maybe.js\";import{watch as p,syncAndInitial as h,sync as d,on as g}from\"../../../../core/reactiveUtils.js\";import{property as m}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as _}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as v,fromPoints as b}from\"../../../../geometry/support/lineSegment.js\";import{getGraphicEffectiveElevationInfo as y,getConvertedElevation as f}from\"../../../../support/elevationInfoUtils.js\";import T from\"../../../../symbols/support/ElevationInfo.js\";import{LineOfSightRayIntersector as C}from\"./LineOfSightRayIntersector.js\";import{LineOfSightToolConfiguration as M}from\"./LineOfSightToolConfiguration.js\";import{createSphereManipulator as w,createSphereManipulatorRenderObjects as L}from\"./lineOfSightToolUtils.js\";import{LaserlineVisualElement as k}from\"../../interactive/visualElements/LaserlineVisualElement.js\";import{IntersectorType as V}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import\"../../../input/ViewEvents.js\";import{AnalysisToolBase as O}from\"../../../interactive/AnalysisToolBase.js\";import{createManipulatorDragEventPipeline as S}from\"../../../interactive/dragEventPipeline.js\";import{ManipulatorStateCustomFlags as D}from\"../../../interactive/interfaces.js\";import{createScreenPointFromEvent as E}from\"../../../support/screenUtils.js\";import{MouseButton as I}from\"../../../input/IViewEvents.js\";var R;!function(e){e.Ready=\"ready\",e.Creating=\"creating\",e.Created=\"created\"}(R||(R={}));const j=a.ofType(r),P=s.getLogger(\"esri.views.3d.interactive.analysisTools.lineOfSight.LineOfSightTool\");let H=class extends O{constructor(e){super(e),this.preferManipulatorCursor=!0,this.removeIncompleteOnCancel=!1,this.configuration=new M,this.analysisViewData=null,this._laserlineVisualElement=null,this._grabbedManipulator=null,this._analysisHandles=new n,this._handles=new n,this._manipulatorHandles=new n,this._targetTrackerManipulator=null}initialize(){this._intersector=new C({view:this.view}),this._handles.add(p((()=>this.state),(e=>{e===R.Created&&this.finishToolCreation()}),h)),this._observerManipulator=this._createObserverManipulator(),this._handles.add([p((()=>({...this.configuration.observer})),(()=>this._updateObserverManipulatorStyle()),d),p((()=>this.analysisViewData.elevationAlignedObserver),(e=>this._onObserverLocationChange(e)),h),p((()=>({...this.configuration.laserLine})),(()=>this._createVisualElements()),h),p((()=>this._laserLineRendererDependencies()),(e=>this._updateLaserLineRenderer(e))),this._connectComputations()])}destroy(){this._handles=o(this._handles),this._manipulatorHandles=o(this._manipulatorHandles),this._analysisHandles=o(this._analysisHandles),this._observerManipulator=null,this._clearCursorTracker(),this._removeVisualElements(),this._intersector=null,this._set(\"analysis\",null)}get state(){return this.active?l(this._grabbedManipulator)?R.Created:R.Creating:l(this.analysis.observer)&&l(this.analysis.observer.position)?R.Created:R.Ready}get cursor(){return this.active&&this._showTracker?\"crosshair\":null}get updating(){return!!l(this.analysisViewData)&&this.analysisViewData.updating}get _showTracker(){return this.active&&\"mouse\"===this._latestPointerMovePointerType}get _shouldRenderTracker(){return this._showTracker&&l(this.analysis.observer)&&l(this.analysis.observer.position)&&!this.hasFocusedManipulators}continue(){this.view.activeTool=this}stop(){this.view.activeTool=null}onEditableChange(){this.analysisViewData.editable=this.internallyEditable}onInputEvent(e){switch(e.type){case\"immediate-double-click\":this._doubleClickHandler(e);break;case\"key-down\":this._keyDownHandler(e);break;case\"pointer-move\":this._pointerMoveHandler(e)}}onInputEventAfter(e){if(\"immediate-click\"===e.type)this._clickHandler(e)}onShow(){}onHide(){this._grabbedManipulator=null}onDeactivate(){this._clearCursorTracker()}_connectComputations(){return g((()=>this.analysisViewData.computations),\"change\",(e=>this._onComputationsCollectionChange(e)),{onListenerAdd:e=>{for(const t of e)this._connectComputation(t)},onListenerRemove:e=>{for(const t of e)this._disconnectComputation(t)},sync:!0})}_onComputationsCollectionChange({added:e,removed:t}){for(const i of t)this._disconnectComputation(i);for(const i of e)this._connectComputation(i)}_connectComputation(e){if(this.destroyed)return void P.warn(\"Attempting to connect an analysis to a destroyed LineOfSight tool. Ignoring.\");const t=this._analysisHandles;if(t.has(e))return;const i=this._createTargetManipulator(e.target);c(this._targetTrackerManipulator)&&i.metadata.target===this.analysisViewData.cursorTarget&&(this._targetTrackerManipulator=i,this._targetTrackerManipulator.available=!1,this._targetTrackerManipulator.interactive=!1,this._updateLaserLineRenderer()),t.add([p((()=>this._getLineOfSightManipulatorStateDependencies(e)),(()=>this._updateManipulatorState(i,e)),h),p((()=>e.elevationAlignedTargetLocation),(e=>this._onTargetLocationChange(e,i)),h)],e)}_disconnectComputation(e){if(this.destroyed)return void P.warn(\"Attempting to disconnect an analysis from a destroyed LineOfSight tool. Ignoring.\");this._analysisHandles.remove(e);const t=this._getTargetManipulator(e.target);l(t)&&(this.manipulators.remove(t),this._manipulatorHandles.remove(t),l(this._targetTrackerManipulator)&&this._targetTrackerManipulator===t&&(this._targetTrackerManipulator=null))}_clearCursorTracker(){this.analysisViewData.cursorTarget=o(this.analysisViewData.cursorTarget)}_createManipulator(e,t,i){const r=w(this.view,e);return r.metadata=i,this._manipulatorHandles.add([t(r),r.events.on(\"grab-changed\",(e=>this._manipulatorGrabChanged(r,e))),r.events.on(\"immediate-click\",(e=>this._manipulatorClick(r,e)))],r),this.manipulators.add(r),r}_createTargetManipulator(e){const t=this.configuration,i={size:t.target.size,customColor1:t.target.visibleColor,customColor2:t.target.occludedColor,customColor3:t.target.undefinedColor,visible:!0},r={target:e,type:\"target\"},a=this._createManipulator(i,(e=>this._createTargetManipulatorDragPipeline(e)),r);return l(e.position)?a.elevationAlignedLocation=e.position:a.available=!1,a}_getTargetManipulator(e){let t=null;return this.manipulators.forEach((i=>{const r=i.manipulator;c(t)&&\"target\"===r.metadata.type&&r.metadata.target===e&&(t=r)})),t}_createObserverManipulator(){const e=this.configuration,t={size:e.observer.size,color:e.observer.color,visible:!0};return this._createManipulator(t,(e=>this._createObserverManipulatorDragPipeline(e)),{type:\"observer\",intersection:null})}_updateObserverManipulatorStyle(){const e=this._observerManipulator,t=this.configuration.observer,i={size:t.size,color:t.color,visible:e.available};e.renderObjects=L(i)}_screenToIntersection(){return e=>{const t=this._intersector.getScreenPointIntersection(e.screenEnd);return c(t)?null:{...e,intersection:t}}}_createTargetManipulatorDragPipeline(e){return S(e,((t,i,r)=>{i.next(this._screenToIntersection()).next(this._updateTargetDragStep(e)).next((()=>this._updateLaserLineRenderer())),r.next(this._cancelTargetDragStep(e.metadata.target)).next((()=>this._updateLaserLineRenderer()))}))}_createObserverManipulatorDragPipeline(e){return S(e,((e,t,i)=>{t.next(this._screenToIntersection()).next(this._updateObserverDragStep()).next((()=>this._updateLaserLineRenderer())),i.next(this._cancelObserverDragStep()).next((()=>this._updateLaserLineRenderer()))}))}_updateObserverDragStep(){return e=>(l(e.intersection.point)?(c(this.analysis.observer)&&(this.analysis.observer=new i),this._updateFromIntersection(this.analysis.observer,e.intersection)):this.analysis.observer=null,e)}_cancelObserverDragStep(){const e=l(this.analysis.observer)&&l(this.analysis.observer.position)?this.analysis.observer.clone():null;return t=>(this.analysis.observer=e,t)}_updateTargetDragStep(e){return t=>{this._updateFromIntersection(e.metadata.target,t.intersection);const i=t.intersection.point;return l(i)&&(e.elevationAlignedLocation=i),t}}_cancelTargetDragStep(e){const t=u(e.position,(e=>e.clone()));return i=>(e.position=t,i)}_manipulatorGrabChanged(e,t){switch(t.action){case\"start\":this._grabbedManipulator=e;break;case\"end\":this._grabbedManipulator===e&&(this._grabbedManipulator=null)}}_updateManipulatorState(e,t){const{isValid:i,isTargetVisible:r}=t.computationResult;e.state=i?r?D.Custom1:D.Custom2:D.Custom3}_getLineOfSightManipulatorStateDependencies(e){const{isValid:t,isTargetVisible:i}=e.computationResult;return{isValid:t,isTargetVisible:i}}_laserLineRendererDependencies(){return{laserlineVisualElement:this._laserlineVisualElement,grabbedManipulator:this._grabbedManipulator,shouldRenderTracker:this._shouldRenderTracker,observerPosition:l(this.analysis.observer)?this.analysis.observer.position:null,visible:this.visible}}_updateLaserLineRenderer(e=this._laserLineRendererDependencies()){const{laserlineVisualElement:t,grabbedManipulator:i,shouldRenderTracker:r,observerPosition:a,visible:n}=e;if(c(t))return;const s=l(i)?i:r&&l(a)?this._targetTrackerManipulator:null;this.configuration.laserLine.enabled&&l(s)&&n?(t.visible=!0,t.heightManifoldTarget=s.renderLocation,s!==this._observerManipulator?t.lineVerticalPlaneSegment=b(this._observerManipulator.renderLocation,s.renderLocation,A):t.lineVerticalPlaneSegment=null):(t.visible=!1,t.heightManifoldTarget=null,t.lineVerticalPlaneSegment=null)}_createVisualElements(){const e=this.configuration.laserLine;this._removeVisualElements(),this._laserlineVisualElement=new k({view:this.view,attached:!0,visible:this.visible,style:{glowColor:t.toUnitRGB(e.glowColor),glowWidth:e.glowWidth,innerColor:t.toUnitRGB(e.innerColor),innerWidth:e.innerWidth,globalAlpha:e.globalAlpha}})}_removeVisualElements(){l(this._laserlineVisualElement)&&(this._laserlineVisualElement.destroy(),this._laserlineVisualElement=null)}_onObserverLocationChange(e){c(e)?this._observerManipulator.available=!1:(this._observerManipulator.metadata.intersection=null,this._observerManipulator.available=!0,this._observerManipulator.elevationAlignedLocation=e)}_onTargetLocationChange(e,t){l(e)?(t.elevationAlignedLocation=e,t!==this._targetTrackerManipulator&&(t.available=!0)):t.available=!1}_addPointFromClickEvent(e){const t=this._intersector.getScreenPointIntersection(e);if(!c(t)&&!c(t.point))if(l(this.analysis.observer)&&l(this.analysis.observer.position)){this._clearCursorTracker();const e=new r;this._updateFromIntersection(e,t),this.analysis.targets.add(e)}else{const e=new i;this._updateFromIntersection(e,t),this.analysis.observer=e}}_clickHandler(e){this.active&&e.button!==I.Right&&(this._addPointFromClickEvent(E(e)),e.stopPropagation())}_doubleClickHandler(e){this.active&&e.button!==I.Right&&(this.stop(),e.stopPropagation())}_keyDownHandler(e){this.active&&\"Escape\"===e.key&&(this.stop(),e.stopPropagation())}_pointerMoveHandler(e){if(this.hasFocusedManipulators)return;if(this._latestPointerMovePointerType=e.pointerType,this._updateLaserLineRenderer(),!this._showTracker||c(this.analysis.observer)||c(this.analysis.observer.position))return;const t=E(e),i=this._intersector.getScreenPointIntersection(t);l(i)&&l(i.point)&&(c(this.analysisViewData.cursorTarget)&&(this.analysisViewData.cursorTarget=new r),this._updateFromIntersection(this.analysisViewData.cursorTarget,i),this._updateLaserLineRenderer())}_updateFromIntersection(e,t){if(c(t.point))return e.position=null,e.elevationInfo=null,void(e.feature=null);switch(t.type){case V.OBJECT:if(l(t.graphic)){const i=t.graphic,r=y(i);\"on-the-ground\"===r.mode&&(r.mode=\"relative-to-ground\",r.offset=0),e.elevationInfo=new T(r),e.feature=i}else e.elevationInfo=null,e.feature=null;break;case V.TERRAIN:case V.I3S:e.elevationInfo=new T({mode:\"on-the-ground\"}),e.feature=null;break;default:e.elevationInfo=null,e.feature=null}const i=t.point.clone();i.z=f(this.view,i,{mode:\"absolute-height\",offset:0},e.elevationInfo),e.position=i}_manipulatorClick(e,t){if(\"observer\"===e.metadata.type||e.grabbing||e.dragging||t.button!==I.Right||this.analysis.targets.length<=1)return;const{target:i}=e.metadata;this.analysis.targets.remove(i),t.stopPropagation()}get testInfo(){return{laserLineVisualElement:this._laserlineVisualElement}}};e([m({constructOnly:!0})],H.prototype,\"view\",void 0),e([m({constructOnly:!0})],H.prototype,\"analysis\",void 0),e([m({readOnly:!0})],H.prototype,\"state\",null),e([m({readOnly:!0})],H.prototype,\"cursor\",null),e([m({readOnly:!0})],H.prototype,\"preferManipulatorCursor\",void 0),e([m()],H.prototype,\"removeIncompleteOnCancel\",void 0),e([m({readOnly:!0})],H.prototype,\"updating\",null),e([m({type:M})],H.prototype,\"configuration\",void 0),e([m({constructOnly:!0})],H.prototype,\"analysisViewData\",void 0),e([m({readOnly:!0})],H.prototype,\"_showTracker\",null),e([m()],H.prototype,\"_latestPointerMovePointerType\",void 0),e([m()],H.prototype,\"_shouldRenderTracker\",null),e([m()],H.prototype,\"_laserlineVisualElement\",void 0),e([m()],H.prototype,\"_grabbedManipulator\",void 0),H=e([_(\"esri.views.3d.interactive.analysisTools.lineOfSight.LineOfSightTool\")],H);const A=v();export{j as LineOfSightTargetCollection,H as LineOfSightTool};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../Color.js\";import t from\"../../../../core/Accessor.js\";import o from\"../../../../core/Handles.js\";import{makeHandle as n}from\"../../../../core/handleUtils.js\";import{equals as s}from\"../../../../core/lang.js\";import{destroyMaybe as r,isNone as a}from\"../../../../core/maybe.js\";import{watch as l,on as c,initial as u}from\"../../../../core/reactiveUtils.js\";import{property as d}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as m}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c as h}from\"../../../../chunks/mat4f64.js\";import{b as p}from\"../../../../chunks/vec3.js\";import{d as v,c as f}from\"../../../../chunks/vec3f64.js\";import{LineVisualElement as g}from\"../../interactive/visualElements/LineVisualElement.js\";import{PointVisualElement as b}from\"../../interactive/visualElements/PointVisualElement.js\";let V=class extends t{constructor(i){super(i),this._lineOfSightVisualizations=[],this._computationHandles=new o}initialize(){this.own(this._connectComputations()),this._createObserverVisualization()}destroy(){this._computationHandles=r(this._computationHandles),this._observerVisualElement=r(this._observerVisualElement)}get visible(){return this.analysisViewData.visible}get interactiveAndEditable(){return this.analysisViewData.interactive&&this.analysisViewData.editable}get testInfo(){return{visualizations:this._lineOfSightVisualizations}}get _configuration(){return this.analysisViewData.configuration}_createLineOfSightVisualization(){const i=this._configuration,t=this.view,o={view:t,attached:!0,width:i.outerWidth,innerWidth:i.innerWidth},n=e.toUnitRGBA(i.visibleOuterColor),s=e.toUnitRGBA(i.visibleInnerColor),r=e.toUnitRGBA(i.occludedOuterColor),a=e.toUnitRGBA(i.occludedInnerColor),l=e.toUnitRGBA(i.undefinedOuterColor),c=e.toUnitRGBA(i.undefinedInnerColor),u={visibleLineVisualElement:new g({...o,color:n,innerColor:s}),occludedLineVisualElement:new g({...o,color:r,innerColor:a}),undefinedLineVisualElement:new g({...o,color:l,innerColor:c}),targetVisualElement:new b({view:t,attached:!0,..._,size:8})};return this._lineOfSightVisualizations.push(u),u}_destroyLineOfSightVisualization(i){i.visibleLineVisualElement=r(i.visibleLineVisualElement),i.occludedLineVisualElement=r(i.occludedLineVisualElement),i.undefinedLineVisualElement=r(i.undefinedLineVisualElement),i.targetVisualElement=r(i.targetVisualElement),this._lineOfSightVisualizations.splice(this._lineOfSightVisualizations.indexOf(i),1)}_updateLineOfSightVisualization(i,t,o){const n=this._configuration,{computationResult:s,inputPoints:r}=i,{start:l,end:c,intersection:u,isValid:d,isTargetVisible:m}=s,{observer:h}=r,f=O;f[12]=h[0],f[13]=h[1],f[14]=h[2];const g=p(y,l,h),b=p(C,c,h),V=p(E,u,h),{visibleLineVisualElement:_,occludedLineVisualElement:L,undefinedLineVisualElement:A,targetVisualElement:w}=t,z=a(this.analysisViewData.elevationAlignedObserver)||a(i.elevationAlignedTargetLocation),S=this.visible&&!z;_.visible=S,L.visible=S,A.visible=S,w.visible=S,w.attached=!o.interactiveAndEditable,S&&(_.geometry=null,L.geometry=null,A.geometry=null,w.geometry=i.elevationAlignedTargetLocation,d?m?(_.geometry=[[v(g),v(b)]],_.transform=f,_.color=e.toUnitRGBA(n.visibleOuterColor),w.color=e.toUnitRGBA(n.visibleInnerColor)):(_.geometry=[[v(g),v(V)]],_.transform=f,_.color=e.toUnitRGBA(n.occludedOuterColor),L.geometry=[[v(V),v(b)]],L.transform=f,w.color=e.toUnitRGBA(n.occludedInnerColor)):(A.geometry=[[v(g),v(b)]],A.transform=f,w.color=e.toUnitRGBA(n.undefinedInnerColor)))}_getLineOfSightVisualizationDependencies(i){const{computationResult:e}=i,{occludedOuterColor:t,visibleOuterColor:o}=this._configuration;return{computationResult:e,occludedOuterColor:t,visibleOuterColor:o,visible:this.visible,interactiveAndEditable:this.interactiveAndEditable}}_connectComputation(i){const e=this._computationHandles;if(e.has(i))return;const t=this._createLineOfSightVisualization();e.add([l((()=>this._getLineOfSightVisualizationDependencies(i)),(e=>this._updateLineOfSightVisualization(i,t,e)),{sync:!0,initial:!0,equals:s}),n((()=>this._destroyLineOfSightVisualization(t)))],i)}_disconnectComputation(i){this._computationHandles.remove(i)}_connectComputations(){return c((()=>this.analysisViewData.computations),\"change\",(i=>this._onComputationsCollectionChange(i)),{sync:!0,onListenerAdd:i=>{for(const e of i)this._connectComputation(e)},onListenerRemove:i=>{for(const e of i)this._disconnectComputation(e)}})}_onComputationsCollectionChange({added:i,removed:e}){for(const t of e)this._disconnectComputation(t);for(const t of i)this._connectComputation(t)}_createObserverVisualization(){const i=e.toUnitRGBA(this._configuration.visibleInnerColor),t=new b({view:this.view,attached:!1,color:i,..._});this._observerVisualElement=t,this.own(l((()=>({observer:this.analysisViewData.elevationAlignedObserver,interactiveAndEditable:this.interactiveAndEditable,visible:this.visible})),(({observer:i,interactiveAndEditable:e,visible:o})=>{a(i)||e||!o?t.attached=!1:(t.geometry=i,this._observerVisualElement.attached=!0)}),u))}};i([d({constructOnly:!0})],V.prototype,\"analysis\",void 0),i([d({constructOnly:!0})],V.prototype,\"analysisViewData\",void 0),i([d({constructOnly:!0})],V.prototype,\"view\",void 0),i([d({readOnly:!0})],V.prototype,\"visible\",null),i([d()],V.prototype,\"interactiveAndEditable\",null),i([d()],V.prototype,\"testInfo\",null),i([d()],V.prototype,\"_configuration\",null),V=i([m(\"esri.views.3d.analysis.LineOfSight.LineOfSightVisualization\")],V);const _={size:6,pixelSnappingEnabled:!1,primitive:\"circle\",elevationInfo:{mode:\"absolute-height\",offset:0},outlineSize:0},y=f(),C=f(),E=f(),O=h();export{V as LineOfSightVisualization};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import i from\"../../../core/Accessor.js\";import o from\"../../../core/Collection.js\";import s from\"../../../core/Evented.js\";import{destroyMaybe as r,isSome as e,applySome as n}from\"../../../core/maybe.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{c as p}from\"../../../chunks/vec3f64.js\";import{AnalysisView3D as y}from\"./AnalysisView3D.js\";import{LineOfSightConfiguration as u}from\"./LineOfSight/LineOfSightConfiguration.js\";import{LineOfSightController as h}from\"./LineOfSight/LineOfSightController.js\";import{LineOfSightTool as c}from\"./LineOfSight/LineOfSightTool.js\";import{LineOfSightVisualization as m}from\"./LineOfSight/LineOfSightVisualization.js\";import{connectAnalysisViewToTool as g,removeAnalysisViewTool as d}from\"../../analysis/analysisViewUtils.js\";let f=class extends(y(s.EventedMixin(i))){constructor(t){super(t),this.type=\"line-of-sight-view-3d\",this.analysis=null,this.tool=null,this.computations=new o,this.elevationAlignedObserver=null,this.configuration=new u,this.observerEngineLocation=p(),this.cursorTarget=null,this.editable=!0}initialize(){const t=this.view,i=this.analysis;this._analysisController=new h({analysis:i,analysisViewData:this,view:t}),this._analysisVisualization=new m({analysis:i,analysisViewData:this,view:t}),this.own([this._analysisController.on(\"result-changed\",(t=>{t.target!==this.cursorTarget&&this.emit(\"result-changed\",t)})),g(this,c)])}destroy(){d(this),this._analysisController=r(this._analysisController),this._analysisVisualization=r(this._analysisVisualization)}get results(){return this.computations.map((t=>t.result))}get priority(){return this._analysisController.priority}set priority(t){this._analysisController.priority=t}get updating(){return e(this._analysisController)&&this._analysisController.updating}getResultForTarget(t){const i=this.computations.find((i=>i.target===t));return n(i,(t=>t.result))}get testInfo(){return{visualization:this._analysisVisualization,controller:this._analysisController}}};t([a({readOnly:!0})],f.prototype,\"type\",void 0),t([a({constructOnly:!0,nonNullable:!0})],f.prototype,\"analysis\",void 0),t([a()],f.prototype,\"tool\",void 0),t([a({readOnly:!0})],f.prototype,\"results\",null),t([a()],f.prototype,\"priority\",null),t([a()],f.prototype,\"computations\",void 0),t([a()],f.prototype,\"elevationAlignedObserver\",void 0),t([a()],f.prototype,\"configuration\",void 0),t([a()],f.prototype,\"observerEngineLocation\",void 0),t([a()],f.prototype,\"cursorTarget\",void 0),t([a()],f.prototype,\"updating\",null),t([a()],f.prototype,\"editable\",void 0),t([a()],f.prototype,\"_analysisController\",void 0),t([a()],f.prototype,\"_analysisVisualization\",void 0),f=t([l(\"esri.views.3d.analysis.LineOfSightAnalysisView3D\")],f);const v=f;export{v as default};\n"],
  "mappings": "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",
  "names": ["s", "o", "l", "d", "n", "s", "o", "d", "n", "i", "t", "n", "d", "a", "n", "r", "m", "d", "O", "e", "x", "t", "r", "d", "s", "o", "i", "n", "l", "c", "L", "T", "m", "_", "u", "h", "f", "j", "n", "e", "c", "u", "O", "t", "o", "i", "r", "s", "a", "p", "d", "h", "te", "v", "m", "f", "_", "l", "w", "j", "U", "s", "e", "l", "d", "n", "p", "m", "t", "r", "s", "w", "l", "n", "o", "u", "e", "i", "e", "j", "H", "a", "d", "u", "O", "l", "w", "U", "t", "i", "r", "n", "p", "s", "x", "f", "V", "i", "u", "t", "o", "n", "l", "s", "r", "a", "c", "_", "d", "m", "h", "f", "O", "e", "y", "C", "L", "A", "w", "z", "S", "f", "n", "t", "j", "s", "i", "V", "c", "H", "m", "d", "v"]
}
