{
  "version": 3,
  "sources": ["../../@arcgis/core/symbols/support/webStyleSymbolUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSymbol3D as t}from\"../../symbols.js\";import{isDevEnvironment as e,adjustStaticAGOUrl as r}from\"../../core/devEnvironmentUtils.js\";import o from\"../../core/Error.js\";import{isSome as l}from\"../../core/maybe.js\";import{urlToObject as n,removeFile as m}from\"../../core/urlUtils.js\";import s from\"../../portal/Portal.js\";import{f as i}from\"../../chunks/persistableUrlUtils.js\";import{fromJSON as a}from\"./jsonUtils.js\";import p from\"./StyleOrigin.js\";import{requestJSON as u,makeCIMSymbolRef as y,fetchStyle as f,symbolUrlFromStyleItem as c,Style2DUrlTemplate as b}from\"./styleUtils.js\";import{Thumbnail as g}from\"./Thumbnail.js\";function j(t,e,r,l){return t.name?t.styleName&&\"Esri2DPointSymbolsStyle\"===t.styleName?d(t,e,l):f(t,e,l).then((o=>h(o,t.name,e,r,l))):Promise.reject(new o(\"symbolstyleutils:style-symbol-reference-name-missing\",\"Missing name in style symbol reference\"))}function h(f,b,j,h,d){const U=f.data,N=j&&l(j.portal)?j.portal:s.getDefault(),w={portal:N,url:n(f.baseUrl),origin:\"portal-item\"},D=U.items.find((t=>t.name===b));if(!D){const t=`The symbol name '${b}' could not be found`;return Promise.reject(new o(\"symbolstyleutils:symbol-name-not-found\",t,{symbolName:b}))}let P=i(c(D,h),w),S=D.thumbnail&&D.thumbnail.href;const E=D.thumbnail&&D.thumbnail.imageData;e()&&(P=r(P),S=r(S));const O={portal:N,url:n(m(P)),origin:\"portal-item\"};return u(P,d).then((e=>{const r=\"cimRef\"===h?y(e.data):e.data,o=a(r,O);if(o&&t(o)){if(S){const t=i(S,w);o.thumbnail=new g({url:t})}else E&&(o.thumbnail=new g({url:`data:image/png;base64,${E}`}));f.styleUrl?o.styleOrigin=new p({portal:j.portal,styleUrl:f.styleUrl,name:b}):f.styleName&&(o.styleOrigin=new p({portal:j.portal,styleName:f.styleName,name:b}))}return o}))}function d(t,e,r){const o=b.replace(/\\{SymbolName\\}/gi,t.name),i=l(e.portal)?e.portal:s.getDefault();return u(o,r).then((t=>{const e=y(t.data);return a(e,{portal:i,url:n(m(o)),origin:\"portal-item\"})}))}export{h as fetchSymbolFromStyle,j as resolveWebStyleSymbol};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAI2nB,SAASA,GAAE,GAAE,GAAEC,IAAEC,IAAE;AAAC,SAAO,EAAE,OAAK,EAAE,aAAW,8BAA4B,EAAE,YAAUC,GAAE,GAAE,GAAED,EAAC,IAAEE,GAAE,GAAE,GAAEF,EAAC,EAAE,KAAM,OAAG,EAAE,GAAE,EAAE,MAAK,GAAED,IAAEC,EAAC,CAAE,IAAE,QAAQ,OAAO,IAAI,EAAE,wDAAuD,wCAAwC,CAAC;AAAC;AAAC,SAAS,EAAE,GAAE,GAAEF,IAAEK,IAAEF,IAAE;AAAC,QAAMG,KAAE,EAAE,MAAK,IAAEN,MAAG,EAAEA,GAAE,MAAM,IAAEA,GAAE,SAAO,EAAE,WAAW,GAAE,IAAE,EAAC,QAAO,GAAE,KAAI,EAAE,EAAE,OAAO,GAAE,QAAO,cAAa,GAAE,IAAEM,GAAE,MAAM,KAAM,OAAG,EAAE,SAAO,CAAE;AAAE,MAAG,CAAC,GAAE;AAAC,UAAM,IAAE,oBAAoB;AAAwB,WAAO,QAAQ,OAAO,IAAI,EAAE,0CAAyC,GAAE,EAAC,YAAW,EAAC,CAAC,CAAC;AAAA,EAAC;AAAC,MAAI,IAAE,EAAE,EAAE,GAAED,EAAC,GAAE,CAAC,GAAE,IAAE,EAAE,aAAW,EAAE,UAAU;AAAK,QAAM,IAAE,EAAE,aAAW,EAAE,UAAU;AAAU,IAAE,MAAI,IAAE,EAAE,CAAC,GAAE,IAAE,EAAE,CAAC;AAAG,QAAM,IAAE,EAAC,QAAO,GAAE,KAAI,EAAE,GAAE,CAAC,CAAC,GAAE,QAAO,cAAa;AAAE,SAAOL,GAAE,GAAEG,EAAC,EAAE,KAAM,OAAG;AAAC,UAAMF,KAAE,aAAWI,KAAEE,GAAE,EAAE,IAAI,IAAE,EAAE,MAAK,IAAEA,GAAEN,IAAE,CAAC;AAAE,QAAG,KAAGG,GAAE,CAAC,GAAE;AAAC,UAAG,GAAE;AAAC,cAAM,IAAE,EAAE,GAAE,CAAC;AAAE,UAAE,YAAU,IAAI,EAAE,EAAC,KAAI,EAAC,CAAC;AAAA,MAAC;AAAM,cAAI,EAAE,YAAU,IAAI,EAAE,EAAC,KAAI,yBAAyB,IAAG,CAAC;AAAG,QAAE,WAAS,EAAE,cAAY,IAAI,EAAE,EAAC,QAAOJ,GAAE,QAAO,UAAS,EAAE,UAAS,MAAK,EAAC,CAAC,IAAE,EAAE,cAAY,EAAE,cAAY,IAAI,EAAE,EAAC,QAAOA,GAAE,QAAO,WAAU,EAAE,WAAU,MAAK,EAAC,CAAC;AAAA,IAAE;AAAC,WAAO;AAAA,EAAC,CAAE;AAAC;AAAC,SAASG,GAAE,GAAE,GAAEF,IAAE;AAAC,QAAM,IAAE,EAAE,QAAQ,oBAAmB,EAAE,IAAI,GAAEO,KAAE,EAAE,EAAE,MAAM,IAAE,EAAE,SAAO,EAAE,WAAW;AAAE,SAAOR,GAAE,GAAEC,EAAC,EAAE,KAAM,CAAAQ,OAAG;AAAC,UAAMC,KAAEH,GAAEE,GAAE,IAAI;AAAE,WAAOF,GAAEG,IAAE,EAAC,QAAOF,IAAE,KAAI,EAAE,GAAE,CAAC,CAAC,GAAE,QAAO,cAAa,CAAC;AAAA,EAAC,CAAE;AAAC;",
  "names": ["j", "r", "l", "d", "c", "h", "U", "p", "i", "t", "e"]
}
