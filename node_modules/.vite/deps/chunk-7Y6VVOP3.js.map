{
  "version": 3,
  "sources": ["../../@arcgis/core/portal/support/resourceExtension.js", "../../@arcgis/core/core/accessorSupport/decorators/persistable.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{getPathExtension as i}from\"../../core/urlUtils.js\";function p(i){return o[n(i)]||e}function n(i){return i instanceof Blob?i.type:t(i.url)}function t(p){const n=i(p);return g[n]||a}const o={},a=\"text/plain\",e=o[a],g={png:\"image/png\",jpeg:\"image/jpeg\",jpg:\"image/jpg\",bmp:\"image/bmp\",gif:\"image/gif\",json:\"application/json\",txt:\"text/plain\",xml:\"application/xml\",svg:\"image/svg+xml\",zip:\"application/zip\",pbf:\"application/vnd.mapbox-vector-tile\",gz:\"application/gzip\"};for(const l in g)o[g[l]]=l;export{p as getResourceContentExtension};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as r,get as e}from\"../../maybe.js\";import{isMultiOriginJSONMixin as o}from\"../../multiOriginJSONSupportUtils.js\";import{isAbsolute as i,isBlobProtocol as n,join as s,getPathExtension as u}from\"../../urlUtils.js\";import{generateUUID as p}from\"../../uuid.js\";import{getOwnPropertyMetadata as a}from\"../metadata.js\";import{nameToId as c}from\"../PropertyOrigin.js\";import{propertyJSONMeta as l}from\"./property.js\";import{getResourceContentExtension as f}from\"../../../portal/support/resourceExtension.js\";import{r as m,t as y,M as h,i as d,p as g}from\"../../../chunks/persistableUrlUtils.js\";function w(r){const e=t(r)&&r.origins?r.origins:[void 0];return(t,o)=>{const i=v(r,t,o);for(const r of e){const e=l(t,r,o);for(const t in i)e[t]=i[t]}}}function v(r,e,o){if(t(r)&&\"resource\"===r.type)return U(r,e,o);switch(t(r)&&r.type?r.type:\"other\"){case\"other\":return{read:!0,write:!0};case\"url\":{const{read:t,write:r}=g;return{read:t,write:r}}}}function U(e,s,u){const p=a(s,u);return{type:String,read:(t,r,e)=>{const o=m(t,r,e);return p.type===String?o:\"function\"==typeof p.type?new p.type({url:o}):void 0},write:{writer(s,a,l,f){if(!f||!f.resources)return\"string\"==typeof s?void(a[l]=y(s,f)):void(a[l]=s.write({},f));const m=R(s),g=m?y(m,{...f,verifyItemRelativeUrls:f&&f.verifyItemRelativeUrls?{writtenUrls:f.verifyItemRelativeUrls.writtenUrls,rootPath:null}:null},h.NO):null,w=p.type!==String&&(!o(this)||f&&f.origin&&this.originIdOf(u)>c(f.origin));f&&f.portalItem&&t(g)&&!i(g)?w?I(this,u,s,g,a,l,f,e):O(g,a,l,f):f&&f.portalItem&&(r(g)||t(d(g))||n(g)||w)?j(this,u,s,g,a,l,f,e):a[l]=g}}}}function j(t,r,o,i,u,a,c,l){const m=p(),y=b(o,i,c),h=s(e(l,\"prefix\"),m),d=`${h}.${f(y)}`,g=c.portalItem.resourceFromPath(d);n(i)&&c.resources.pendingOperations.push(P(i).then((t=>{g.path=`${h}.${f(t)}`,u[a]=g.itemRelativeUrl})).catch((()=>{}))),S(t,r,g,y,c.resources.toAdd),u[a]=g.itemRelativeUrl}function I(t,r,e,o,i,n,s,p){const a=s.portalItem.resourceFromPath(o),c=b(e,o,s);f(c)===u(a.path)?(S(t,r,a,c,s.resources.toUpdate),i[n]=o):j(t,r,e,o,i,n,s,p)}function O(t,r,e,o){o.resources.toKeep.push({resource:o.portalItem.resourceFromPath(t)}),r[e]=t}function S(t,r,e,o,i){i.push({resource:e,content:o,finish:e=>{N(t,r,e)}})}function b(t,r,e){return\"string\"==typeof t?{url:r}:new Blob([JSON.stringify(t.toJSON(e))],{type:\"application/json\"})}async function P(t){const r=(await import(\"../../../request.js\")).default,{data:e}=await r(t,{responseType:\"blob\"});return e}function R(t){return r(t)?null:\"string\"==typeof t?t:t.url}function N(t,r,e){\"string\"==typeof t[r]?t[r]=e.url:t[r].url=e.url}export{w as persistable};\n"],
  "mappings": "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",
  "names": ["i", "t", "p", "n", "r", "e", "t", "o", "i", "s", "p", "m", "a", "R", "g", "w", "I", "c", "y", "h", "n"]
}
