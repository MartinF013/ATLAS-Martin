{
  "version": 3,
  "sources": ["../../@arcgis/core/arcade/Dictionary.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport t from\"./ImmutableArray.js\";import{i as s,a as i,b as e,t as r,c as n,d as a,e as o,f as u,g as c,h as l,j as f,k as h,l as b}from\"../chunks/languageUtils.js\";import y from\"../geometry/Geometry.js\";function m(t,r=!1){if(null==t)return null;if(i(t))return u(t);if(s(t))return c(t);if(e(t))return l(t);if(f(t))return h(t);if(b(t)){const s=[];for(const i of t)s.push(m(i,r));return s}const n=new d;n.immutable=!1;for(const s of Object.keys(t)){const i=t[s];void 0!==i&&n.setField(s,m(i,r))}return n.immutable=r,n}class d{constructor(t){this.declaredClass=\"esri.arcade.Dictionary\",this.attributes=null,this.plain=!1,this.immutable=!0,this.attributes=t instanceof d?t.attributes:null==t?{}:t}field(t){const s=t.toLowerCase(),i=this.attributes[t];if(void 0!==i)return i;for(const e in this.attributes)if(e.toLowerCase()===s)return this.attributes[e];throw new Error(\"Field not Found : \"+t)}setField(t,s){if(this.immutable)throw new Error(\"Dictionary is Immutable\");const i=t.toLowerCase();if(void 0===this.attributes[t]){for(const t in this.attributes)if(t.toLowerCase()===i)return void(this.attributes[t]=s);this.attributes[t]=s}else this.attributes[t]=s}hasField(t){const s=t.toLowerCase();if(void 0!==this.attributes[t])return!0;for(const i in this.attributes)if(i.toLowerCase()===s)return!0;return!1}keys(){let t=[];for(const s in this.attributes)t.push(s);return t=t.sort(),t}castToText(){let n=\"\";for(const a in this.attributes){\"\"!==n&&(n+=\",\");const o=this.attributes[a];null==o?n+=JSON.stringify(a)+\":null\":s(o)||i(o)||e(o)?n+=JSON.stringify(a)+\":\"+JSON.stringify(o):o instanceof y||o instanceof t||o instanceof Array?n+=JSON.stringify(a)+\":\"+r(o):o instanceof Date?n+=JSON.stringify(a)+\":\"+JSON.stringify(o):null!==o&&\"object\"==typeof o&&void 0!==o.castToText&&(n+=JSON.stringify(a)+\":\"+o.castToText())}return\"{\"+n+\"}\"}static convertObjectToArcadeDictionary(t,s=!0){const i=new d;i.immutable=!1;for(const e in t){const s=t[e];void 0!==s&&i.setField(e.toString(),m(s))}return i.immutable=s,i}static convertJsonToArcade(t,s=!1){return m(t,s)}castAsJson(t=null){const s={};for(let i in this.attributes){const e=this.attributes[i];void 0!==e&&(t?.keyTranslate&&(i=t.keyTranslate(i)),s[i]=n(e,t))}return s}async castDictionaryValueAsJsonAsync(t,s,i,e=null,r){const n=await a(i,e,r);return t[s]=n,n}async castAsJsonAsync(t=null,s=null){const i={},e=[];for(let r in this.attributes){const a=this.attributes[r];s?.keyTranslate&&(r=s.keyTranslate(r)),void 0!==a&&(o(a)||a instanceof y||a instanceof Date?i[r]=n(a,s):e.push(this.castDictionaryValueAsJsonAsync(i,r,a,t,s)))}return e.length>0&&await Promise.all(e),i}}export{d as default};\n"],
  "mappings": "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",
  "names": ["t", "s"]
}
