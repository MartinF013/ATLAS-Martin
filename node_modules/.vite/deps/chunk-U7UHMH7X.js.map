{
  "version": 3,
  "sources": ["../../@arcgis/core/chunks/HeatmapDensity.glsl.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{addProjViewLocalOrigin as e}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{FloatPassUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as r}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as t}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{VertexAttribute as o}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function a(a){const s=new t;e(s,a);const{isAttributeDriven:d}=a;return s.attributes.add(o.POSITION,\"vec3\"),s.attributes.add(o.UV0,\"vec2\"),d&&(s.attributes.add(o.FEATUREATTRIBUTE,\"float\"),s.varyings.add(\"attributeValue\",\"float\")),s.varyings.add(\"unitCirclePos\",\"vec2\"),s.vertex.uniforms.add(new i(\"radius\",(({resolutionForScale:e,searchRadius:i},{camera:r,screenToWorldRatio:t})=>2*i*(0===e?1:e/t)*r.pixelRatio/r.fullViewport[2]))),s.vertex.code.add(r`\n    void main() {\n      unitCirclePos = uv0;\n\n      vec4 posProj = proj * (view * vec4(${o.POSITION}, 1.0));\n      vec4 quadOffset = vec4(unitCirclePos * radius, 0.0, 0.0);\n\n      ${d?r`attributeValue = ${o.FEATUREATTRIBUTE};`:\"\"}\n      gl_Position = posProj + quadOffset;\n    }\n  `),s.fragment.code.add(r`\n    void main() {\n      float radiusRatioSquared = dot(unitCirclePos, unitCirclePos);\n      if (radiusRatioSquared > 1.0) {\n        discard;\n      }\n\n      float oneMinusRadiusRatioSquared = 1.0 - radiusRatioSquared;\n      float density = oneMinusRadiusRatioSquared * oneMinusRadiusRatioSquared ${d?r` * attributeValue`:\"\"};\n      gl_FragColor = vec4(density);\n    }\n  `),s}const s=Object.freeze(Object.defineProperty({__proto__:null,build:a},Symbol.toStringTag,{value:\"Module\"}));export{s as H,a as b};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;AAI0c,SAAS,EAAEA,IAAE;AAAC,QAAMC,KAAE,IAAI;AAAE,IAAEA,IAAED,EAAC;AAAE,QAAK,EAAC,mBAAkBE,GAAC,IAAEF;AAAE,SAAOC,GAAE,WAAW,IAAI,EAAE,UAAS,MAAM,GAAEA,GAAE,WAAW,IAAI,EAAE,KAAI,MAAM,GAAEC,OAAID,GAAE,WAAW,IAAI,EAAE,kBAAiB,OAAO,GAAEA,GAAE,SAAS,IAAI,kBAAiB,OAAO,IAAGA,GAAE,SAAS,IAAI,iBAAgB,MAAM,GAAEA,GAAE,OAAO,SAAS,IAAI,IAAI,EAAE,UAAU,CAAC,EAAC,oBAAmB,GAAE,cAAaE,GAAC,GAAE,EAAC,QAAO,GAAE,oBAAmB,EAAC,MAAI,IAAEA,MAAG,MAAI,IAAE,IAAE,IAAE,KAAG,EAAE,aAAW,EAAE,aAAa,CAAC,CAAE,CAAC,GAAEF,GAAE,OAAO,KAAK,IAAI;AAAA;AAAA;AAAA;AAAA,2CAIh2B,EAAE;AAAA;AAAA;AAAA,QAGrCC,KAAE,qBAAqB,EAAE,sBAAoB;AAAA;AAAA;AAAA,GAGlD,GAAED,GAAE,SAAS,KAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gFAQuDC,KAAE,uBAAqB;AAAA;AAAA;AAAA,GAGpG,GAAED;AAAC;AAAC,IAAM,IAAE,OAAO,OAAO,OAAO,eAAe,EAAC,WAAU,MAAK,OAAM,EAAC,GAAE,OAAO,aAAY,EAAC,OAAM,SAAQ,CAAC,CAAC;",
  "names": ["a", "s", "d", "i"]
}
