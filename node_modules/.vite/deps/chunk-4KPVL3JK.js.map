{
  "version": 3,
  "sources": ["../../@arcgis/core/views/layers/TileLayerView.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Error.js\";import{isSome as t}from\"../../core/maybe.js\";import{eachAlways as o}from\"../../core/promiseUtils.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{calculateTolerance as p}from\"../../renderers/support/clickToleranceUtils.js\";const i=i=>{let c=class extends i{async fetchPopupFeatures(e,s){const{layer:a}=this;if(!e)throw new r(\"tilelayerview:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:a});if(\"tile\"!==a.type)throw new r(\"tilelayerview:fetchPopupFeatures\",\"Layer type should be 'tile'\",{type:a.type});const i=this.get(\"view.scale\"),c=a.allSublayers.toArray().filter((e=>{const r=0===e.minScale||i<=e.minScale,t=0===e.maxScale||i>=e.maxScale;return e.popupTemplate&&e.popupEnabled&&e.visible&&r&&t}));return o(c.map((async r=>{const o=r.createQuery(),a=t(s)?s.event:null,i=p({renderer:r.renderer,event:a});o.geometry=this.createFetchPopupFeaturesQueryGeometry(e,i),o.outFields=await r.popupTemplate.getRequiredFields();return(await r.queryFeatures(o)).features}))).then((e=>[].concat(...e.map((e=>e.value)).filter(Boolean))))}};return e([s()],c.prototype,\"layer\",void 0),c=e([a(\"esri.layers.mixins.TileLayerView\")],c),c};export{i as default};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;AAIghB,IAAM,IAAE,CAAAA,OAAG;AAAC,MAAI,IAAE,cAAcA,GAAC;AAAA,IAAC,MAAM,mBAAmBC,IAAEC,IAAE;AAAC,YAAK,EAAC,OAAM,EAAC,IAAE;AAAK,UAAG,CAACD;AAAE,cAAM,IAAI,EAAE,oCAAmC,iCAAgC,EAAC,OAAM,EAAC,CAAC;AAAE,UAAG,WAAS,EAAE;AAAK,cAAM,IAAI,EAAE,oCAAmC,+BAA8B,EAAC,MAAK,EAAE,KAAI,CAAC;AAAE,YAAMD,KAAE,KAAK,IAAI,YAAY,GAAEG,KAAE,EAAE,aAAa,QAAQ,EAAE,OAAQ,CAAAF,OAAG;AAAC,cAAMG,KAAE,MAAIH,GAAE,YAAUD,MAAGC,GAAE,UAAS,IAAE,MAAIA,GAAE,YAAUD,MAAGC,GAAE;AAAS,eAAOA,GAAE,iBAAeA,GAAE,gBAAcA,GAAE,WAASG,MAAG;AAAA,MAAC,CAAE;AAAE,aAAO,EAAED,GAAE,IAAK,OAAMC,OAAG;AAAC,cAAM,IAAEA,GAAE,YAAY,GAAEC,KAAE,EAAEH,EAAC,IAAEA,GAAE,QAAM,MAAKF,KAAEE,GAAE,EAAC,UAASE,GAAE,UAAS,OAAMC,GAAC,CAAC;AAAE,UAAE,WAAS,KAAK,sCAAsCJ,IAAED,EAAC,GAAE,EAAE,YAAU,MAAMI,GAAE,cAAc,kBAAkB;AAAE,gBAAO,MAAMA,GAAE,cAAc,CAAC,GAAG;AAAA,MAAQ,CAAE,CAAC,EAAE,KAAM,CAAAH,OAAG,CAAC,EAAE,OAAO,GAAGA,GAAE,IAAK,CAAAA,OAAGA,GAAE,KAAM,EAAE,OAAO,OAAO,CAAC,CAAE;AAAA,IAAC;AAAA,EAAC;AAAE,SAAO,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,SAAQ,MAAM,GAAE,IAAE,EAAE,CAAC,EAAE,kCAAkC,CAAC,GAAE,CAAC,GAAE;AAAC;",
  "names": ["i", "e", "s", "c", "r", "a"]
}
