import {
  t as t3
} from "./chunk-YAAIZ67O.js";
import {
  e,
  t as t2
} from "./chunk-5EQKHR4M.js";
import {
  D,
  m as m2,
  p
} from "./chunk-U3PSONS6.js";
import {
  s as s2,
  s2 as s3
} from "./chunk-HFTNOKM2.js";
import {
  $,
  B,
  M,
  N as N2,
  _,
  b,
  j,
  k,
  m as m3,
  w
} from "./chunk-23NWA6WL.js";
import {
  s
} from "./chunk-CVWDM4C7.js";
import {
  N,
  d,
  m,
  o as o2
} from "./chunk-G5JBUC5N.js";
import {
  A2 as A,
  F,
  a,
  o,
  q,
  r,
  t,
  v2 as v,
  y,
  y2,
  z
} from "./chunk-CBQWMOBK.js";

// node_modules/@arcgis/core/core/iteratorUtils.js
function n(n13) {
  const o15 = [];
  return function* () {
    yield* o15;
    for (const t14 of n13)
      o15.push(t14), yield t14;
  };
}
function o3(n13, o15) {
  for (const t14 of n13)
    if (null != t14 && o15(t14))
      return t14;
}
function t4(n13) {
  return null != n13 && "function" == typeof n13[Symbol.iterator];
}

// node_modules/@arcgis/core/core/handleUtils.js
function r2(r8) {
  return n2(() => r8.forEach((r9) => r(r9) && r9.remove()));
}
function n2(e10) {
  return { remove: () => {
    e10 && (e10(), e10 = void 0);
  } };
}
function o4(r8) {
  return n2(() => {
    const n13 = r8();
    r(n13) && n13.remove();
  });
}
function t5(r8) {
  return n2(r(r8) ? () => r8.destroy() : void 0);
}
function u(e10, r8) {
  const o15 = setTimeout(e10, r8);
  return n2(() => clearTimeout(o15));
}

// node_modules/@arcgis/core/core/accessorSupport/utils.js
function e2(r8) {
  return r8 ? r8.__accessor__ ? r8.__accessor__ : r8.propertyInvalidated ? r8 : null : null;
}
function i(r8, n13) {
  return null != r8 && r8.metadatas && null != r8.metadatas[n13];
}
function o5(r8, n13, t14) {
  if (t14) {
    return l(r8, n13, { policy: t14, path: "" });
  }
  return l(r8, n13, null);
}
function l(r8, e10, i11) {
  return e10 ? Object.keys(e10).reduce((r9, u10) => {
    let o15 = null, a7 = "merge";
    if (i11 && (o15 = i11.path ? `${i11.path}.${u10}` : u10, a7 = i11.policy(o15)), "replace" === a7)
      return r9[u10] = e10[u10], r9;
    if (void 0 === r9[u10])
      return r9[u10] = m(e10[u10]), r9;
    let s14 = r9[u10], c12 = e10[u10];
    if (s14 === c12)
      return r9;
    if (Array.isArray(c12) || Array.isArray(r9))
      s14 = s14 ? Array.isArray(s14) ? r9[u10] = s14.concat() : r9[u10] = [s14] : r9[u10] = [], c12 && (Array.isArray(c12) || (c12 = [c12]), c12.forEach((r10) => {
        s14.includes(r10) || s14.push(r10);
      }));
    else if (c12 && "object" == typeof c12)
      if (i11) {
        const n13 = i11.path;
        i11.path = q(o15), r9[u10] = l(s14, c12, i11), i11.path = n13;
      } else
        r9[u10] = l(s14, c12, null);
    else
      r9.hasOwnProperty(u10) && !e10.hasOwnProperty(u10) || (r9[u10] = c12);
    return r9;
  }, r8 || {}) : r8;
}
function s4(r8) {
  return Array.isArray(r8) ? r8 : r8.split(".");
}
function c(r8) {
  return r8.includes(",") ? r8.split(",").map((r9) => r9.trim()) : [r8.trim()];
}
function f(r8) {
  if (Array.isArray(r8)) {
    const n13 = [];
    for (const t14 of r8)
      n13.push(...c(t14));
    return n13;
  }
  return c(r8);
}
function y3(n13, t14, e10, i11) {
  const u10 = f(t14);
  if (1 !== u10.length) {
    const t15 = u10.map((r8) => i11(n13, r8, e10));
    return r2(t15);
  }
  return i11(n13, u10[0], e10);
}
function h(r8) {
  let n13 = false;
  return () => {
    n13 || (n13 = true, r8());
  };
}

// node_modules/@arcgis/core/core/accessorSupport/PropertyOrigin.js
var r3;
!function(e10) {
  e10[e10.DEFAULTS = 0] = "DEFAULTS", e10[e10.COMPUTED = 1] = "COMPUTED", e10[e10.SERVICE = 2] = "SERVICE", e10[e10.PORTAL_ITEM = 3] = "PORTAL_ITEM", e10[e10.WEB_SCENE = 4] = "WEB_SCENE", e10[e10.WEB_MAP = 5] = "WEB_MAP", e10[e10.USER = 6] = "USER";
}(r3 || (r3 = {}));
var E = r3.USER + 1;
function t6(e10) {
  switch (e10) {
    case "defaults":
      return r3.DEFAULTS;
    case "service":
      return r3.SERVICE;
    case "portal-item":
      return r3.PORTAL_ITEM;
    case "web-scene":
      return r3.WEB_SCENE;
    case "web-map":
      return r3.WEB_MAP;
    case "user":
      return r3.USER;
  }
}
function n3(E2) {
  switch (E2) {
    case r3.DEFAULTS:
      return "defaults";
    case r3.SERVICE:
      return "service";
    case r3.PORTAL_ITEM:
      return "portal-item";
    case r3.WEB_SCENE:
      return "web-scene";
    case r3.WEB_MAP:
      return "web-map";
    case r3.USER:
      return "user";
  }
  return q(void 0);
}
function c2(e10) {
  return n3(e10);
}

// node_modules/@arcgis/core/core/accessorSupport/tracking/Flags.js
var i2;
!function(i11) {
  i11[i11.Dirty = 1] = "Dirty", i11[i11.Overriden = 2] = "Overriden", i11[i11.Computing = 4] = "Computing", i11[i11.NonNullable = 8] = "NonNullable", i11[i11.HasDefaultValue = 16] = "HasDefaultValue", i11[i11.DepTrackingInitialized = 32] = "DepTrackingInitialized", i11[i11.AutoTracked = 64] = "AutoTracked", i11[i11.ExplicitlyTracking = 128] = "ExplicitlyTracking";
}(i2 || (i2 = {}));

// node_modules/@arcgis/core/core/accessorSupport/tracking.js
var o6;
var i3 = [];
var c3 = s.getLogger("esri.core.Accessor");
function l2(t14) {
  void 0 !== o6 && o6.onObservableAccessed(t14);
}
var a2 = false;
var f2 = false;
function g(t14, n13, r8) {
  if (a2)
    return p2(t14, n13, r8);
  d2(t14);
  const e10 = n13.call(r8);
  return m4(), e10;
}
function u2(t14, n13) {
  return g(void 0, t14, n13);
}
function p2(t14, n13, r8) {
  const e10 = a2;
  a2 = true, d2(t14);
  let o15 = null;
  try {
    o15 = n13.call(r8);
  } catch (i11) {
    f2 && c3.error(i11);
  }
  return m4(), a2 = e10, o15;
}
function d2(t14) {
  o6 = t14, i3.push(t14);
}
function m4() {
  const t14 = i3.pop();
  o6 = i3.length > 0 ? i3[i3.length - 1] : void 0, void 0 !== t14 && t14.onTrackingEnd();
}
function y4(t14, n13) {
  if (n13.flags & i2.DepTrackingInitialized)
    return;
  const r8 = f2;
  f2 = false, n13.flags & i2.AutoTracked ? p2(n13, n13.metadata.get, t14) : h2(t14, n13), f2 = r8;
}
var A2 = [];
function h2(t14, r8) {
  r8.flags & i2.ExplicitlyTracking || (r8.flags |= i2.ExplicitlyTracking, p2(r8, () => {
    const e10 = r8.metadata.dependsOn || A2;
    for (const r9 of e10)
      if ("string" != typeof r9 || r9.includes(".")) {
        const e11 = s4(r9);
        for (let n13 = 0, r10 = t14; n13 < e11.length && null != r10 && "object" == typeof r10; ++n13)
          r10 = k2(r10, e11[n13], n13 !== e11.length - 1);
      } else
        k2(t14, r9, false);
  }), r8.flags &= ~i2.ExplicitlyTracking);
}
function k2(t14, n13, e10) {
  var _a;
  const o15 = "?" === n13[n13.length - 1] ? n13.slice(0, -1) : n13;
  if (null != t14.getItemAt || Array.isArray(t14)) {
    const n14 = parseInt(o15, 10);
    if (!isNaN(n14))
      return Array.isArray(t14) ? t14[n14] : t14.getItemAt(n14);
  }
  const i11 = (_a = e2(t14)) == null ? void 0 : _a.properties.get(o15);
  return i11 && (l2(i11), y4(t14, i11)), e10 ? t14[o15] : void 0;
}

// node_modules/@arcgis/core/core/accessorSupport/get.js
function e3(t14, e10) {
  const i11 = "?" === t14[t14.length - 1] ? t14.slice(0, -1) : t14;
  if (null != e10.getItemAt || Array.isArray(e10)) {
    const t15 = parseInt(i11, 10);
    if (!isNaN(t15))
      return Array.isArray(e10) ? e10[t15] : e10.getItemAt(t15);
  }
  const u10 = e2(e10);
  return i(u10, i11) ? u10.get(i11) : e10[i11];
}
function i4(t14, n13, r8) {
  if (null == t14)
    return t14;
  const u10 = e3(n13[r8], t14);
  return !u10 && r8 < n13.length - 1 ? void 0 : r8 === n13.length - 1 ? u10 : i4(u10, n13, r8 + 1);
}
function u3(n13, r8, u10 = 0) {
  return "string" != typeof r8 || r8.includes(".") ? i4(n13, s4(r8), u10) : e3(r8, n13);
}
function o7(t14, n13) {
  return u3(t14, n13);
}
function s5(t14, n13) {
  return void 0 !== u3(n13, t14);
}

// node_modules/@arcgis/core/core/accessorSupport/set.js
function n4(o15, r8, t14) {
  if (o15 && r8)
    if ("object" == typeof r8)
      for (const e10 of Object.getOwnPropertyNames(r8))
        n4(o15, e10, r8[e10]);
    else {
      if (r8.includes(".")) {
        const s14 = r8.split("."), i12 = s14.splice(s14.length - 1, 1)[0];
        return void n4(o7(o15, s14), i12, t14);
      }
      const i11 = o15.__accessor__;
      null != i11 && s6(r8, i11), o15[r8] = t14;
    }
}
function s6(t14, e10) {
  if (a("esri-unknown-property-errors") && !i5(t14, e10))
    throw new s3("set:unknown-property", c4(t14, e10));
}
function i5(o15, r8) {
  return null != r8.metadatas[o15];
}
function c4(o15, r8) {
  return "setting unknown property '" + o15 + "' on instance of " + r8.host.declaredClass;
}
s.getLogger("esri.core.accessorSupport.set");

// node_modules/@arcgis/core/core/PerformanceSampler.js
var t7 = 29;
var e4 = class {
  constructor(e10, s14 = t7) {
    this.name = e10, this._counter = 0, this._items = new Array(s14);
  }
  record(t14) {
    this._items[++this._counter % this._items.length] = t14;
  }
  get median() {
    return this._items.slice().sort((t14, e10) => t14 - e10)[Math.floor(this._items.length / 2)];
  }
  get average() {
    return this._items.reduce((t14, e10) => t14 + e10, 0) / this._items.length;
  }
  get last() {
    return this._items[this._counter % this._items.length];
  }
};

// node_modules/@arcgis/core/core/HeapSort.js
var o8;
!function(o15) {
  const t14 = (o16, t15, n14, e11) => {
    let i12 = t15, c12 = t15;
    const l10 = n14 >>> 1, r8 = o16[i12 - 1];
    for (; c12 <= l10; ) {
      c12 = i12 << 1, c12 < n14 && e11(o16[c12 - 1], o16[c12]) < 0 && ++c12;
      const t16 = o16[c12 - 1];
      if (e11(t16, r8) <= 0)
        break;
      o16[i12 - 1] = t16, i12 = c12;
    }
    o16[i12 - 1] = r8;
  }, n13 = (o16, t15) => o16 < t15 ? -1 : o16 > t15 ? 1 : 0;
  function e10(o16, e11, i12, c12) {
    void 0 === e11 && (e11 = 0), void 0 === i12 && (i12 = o16.length), void 0 === c12 && (c12 = n13);
    for (let n14 = i12 >>> 1; n14 > e11; n14--)
      t14(o16, n14, i12, c12);
    const l10 = e11 + 1;
    for (let n14 = i12 - 1; n14 > e11; n14--) {
      const i13 = o16[e11];
      o16[e11] = o16[n14], o16[n14] = i13, t14(o16, l10, n14, c12);
    }
  }
  function* i11(o16, e11, i12, c12) {
    void 0 === e11 && (e11 = 0), void 0 === i12 && (i12 = o16.length), void 0 === c12 && (c12 = n13);
    for (let n14 = i12 >>> 1; n14 > e11; n14--)
      t14(o16, n14, i12, c12), yield;
    const l10 = e11 + 1;
    for (let n14 = i12 - 1; n14 > e11; n14--) {
      const i13 = o16[e11];
      o16[e11] = o16[n14], o16[n14] = i13, t14(o16, l10, n14, c12), yield;
    }
  }
  o15.sort = e10, o15.iterableSort = i11;
}(o8 || (o8 = {}));
var t8 = o8;

// node_modules/@arcgis/core/core/PooledArray.js
var e5 = 1.5;
var l3 = 1.1;
var n5 = class {
  constructor(h6) {
    this.data = [], this._length = 0, this._allocator = void 0, this._deallocator = () => null, this._shrink = () => {
    }, this._hint = new y2(), h6 && (h6.initialSize && (this.data = new Array(h6.initialSize)), h6.allocator && (this._allocator = h6.allocator), void 0 !== h6.deallocator && (this._deallocator = h6.deallocator), h6.shrink && (this._shrink = () => r4(this)));
  }
  toArray() {
    return this.data.slice(0, this.length);
  }
  filter(t14) {
    const h6 = new Array();
    for (let i11 = 0; i11 < this._length; i11++) {
      const s14 = this.data[i11];
      t14(s14) && h6.push(s14);
    }
    return h6;
  }
  getItemAt(t14) {
    if (!(t14 < 0 || t14 >= this._length))
      return this.data[t14];
  }
  includes(t14, h6) {
    const i11 = this.data.indexOf(t14, h6);
    return -1 !== i11 && i11 < this.length;
  }
  get length() {
    return this._length;
  }
  set length(t14) {
    if (t14 > this._length) {
      if (this._allocator) {
        for (; this._length < t14; )
          this.data[this._length++] = this._allocator(this.data[this._length]);
        return;
      }
      this._length = t14;
    } else {
      if (this._deallocator)
        for (let h6 = t14; h6 < this._length; ++h6)
          this.data[h6] = this._deallocator(this.data[h6]);
      this._length = t14, this._shrink();
    }
  }
  clear() {
    this.length = 0;
  }
  prune() {
    this.clear(), this.data = [];
  }
  push(t14) {
    this.data[this._length++] = t14;
  }
  pushArray(t14, h6 = t14.length) {
    for (let i11 = 0; i11 < h6; i11++)
      this.data[this._length++] = t14[i11];
  }
  fill(t14, h6) {
    for (let i11 = 0; i11 < h6; i11++)
      this.data[this._length++] = t14;
  }
  pushNew() {
    this._allocator && (this.data[this.length] = this._allocator(this.data[this.length]));
    const t14 = this.data[this._length];
    return ++this._length, t14;
  }
  unshift(t14) {
    this.data.unshift(t14), this._length++, r4(this);
  }
  pop() {
    if (0 === this.length)
      return;
    const t14 = this.data[this.length - 1];
    return this.length = this.length - 1, this._shrink(), t14;
  }
  remove(t14) {
    const i11 = v(this.data, t14, this.length, this._hint);
    if (-1 !== i11)
      return this.data.splice(i11, 1), this.length = this.length - 1, t14;
  }
  removeUnordered(t14) {
    const h6 = A(this.data, t14, this.length, this._hint);
    return void 0 !== h6 && (this.length = this.length - 1), this._shrink(), h6;
  }
  removeUnorderedIndex(t14) {
    if (!(t14 >= this.length || t14 < 0))
      return this.swapElements(t14, this.length - 1), this.pop();
  }
  removeUnorderedMany(t14, h6 = t14.length, i11) {
    this.length = z(this.data, t14, this.length, h6, this._hint, i11), this._shrink();
  }
  front() {
    if (0 !== this.length)
      return this.data[0];
  }
  back() {
    if (0 !== this.length)
      return this.data[this.length - 1];
  }
  swapElements(t14, h6) {
    t14 >= this.length || h6 >= this.length || t14 === h6 || ([this.data[t14], this.data[h6]] = [this.data[h6], this.data[t14]]);
  }
  sort(t14) {
    t8.sort(this.data, 0, this.length, t14);
  }
  iterableSort(t14) {
    return t8.iterableSort(this.data, 0, this.length, t14);
  }
  some(t14, h6) {
    for (let i11 = 0; i11 < this.length; ++i11)
      if (t14.call(h6, this.data[i11], i11, this.data))
        return true;
    return false;
  }
  filterInPlace(t14, h6) {
    let i11 = 0;
    for (let s14 = 0; s14 < this._length; ++s14) {
      const a7 = this.data[s14];
      t14.call(h6, a7, s14, this.data) && (this.data[s14] = this.data[i11], this.data[i11] = a7, i11++);
    }
    if (this._deallocator)
      for (let s14 = i11; s14 < this._length; s14++)
        this.data[s14] = this._deallocator(this.data[s14]);
    return this._length = i11, this._shrink(), this;
  }
  forAll(t14, h6) {
    const i11 = this.length, s14 = this.data;
    for (let a7 = 0; a7 < i11; ++a7)
      t14.call(h6, s14[a7], a7, s14);
  }
  forEach(t14, h6) {
    for (let i11 = 0; i11 < this.length; ++i11)
      t14.call(h6, this.data[i11], i11, this.data);
  }
  map(t14, h6) {
    const i11 = new Array(this.length);
    for (let s14 = 0; s14 < this.length; ++s14)
      i11[s14] = t14.call(h6, this.data[s14], s14, this.data);
    return i11;
  }
  reduce(t14, h6) {
    let i11 = h6;
    for (let s14 = 0; s14 < this.length; ++s14)
      i11 = t14(i11, this.data[s14], s14, this.data);
    return i11;
  }
  has(t14) {
    const h6 = this.length, i11 = this.data;
    for (let s14 = 0; s14 < h6; ++s14)
      if (i11[s14] === t14)
        return true;
    return false;
  }
};
function r4(t14) {
  t14.data.length > e5 * t14.length && (t14.data.length = Math.floor(t14.length * l3));
}

// node_modules/@arcgis/core/core/time.js
function n6(n13) {
  return n13;
}
function r5(r8) {
  return n6(1e3 * r8);
}
function t9(n13) {
  return n13;
}
function u4(n13) {
  return t9(1e-3 * n13);
}

// node_modules/@arcgis/core/core/scheduling.js
var c5 = class {
  constructor(e10) {
    this.phases = e10, this.paused = false, this.ticks = -1, this.removed = false;
  }
};
var m5 = class {
  constructor(e10) {
    this.callback = e10, this.isActive = true;
  }
  remove() {
    this.isActive = false;
  }
};
var l4 = 0;
var p3 = 0;
var u5 = { time: n6(0), deltaTime: n6(0), elapsedFrameTime: n6(0), frameDuration: n6(0) };
var f3 = ["prepare", "preRender", "render", "postRender", "update", "finish"];
var h3 = [];
var d3 = new n5();
var w2 = class {
  constructor(e10) {
    this._task = e10;
  }
  remove() {
    this._task.removed = true;
  }
  pause() {
    this._task.paused = true;
  }
  resume() {
    this._task.paused = false;
  }
};
var k3 = { frameTasks: d3, willDispatch: false, clearFrameTasks: j2, dispatch: b2, executeFrameTasks: D2 };
function v2(e10) {
  const r8 = new m5(e10);
  return h3.push(r8), k3.willDispatch || (k3.willDispatch = true, t3(b2)), r8;
}
function A3(e10) {
  const t14 = new c5(e10);
  return d3.push(t14), null == T && (l4 = performance.now(), T = requestAnimationFrame(x)), new w2(t14);
}
var T = null;
function j2(e10 = false) {
  d3.forAll((e11) => {
    e11.removed = true;
  }), e10 && _2();
}
function F2(e10) {
  p3 = Math.max(0, e10);
}
function x() {
  const e10 = performance.now();
  T = null, T = d3.length > 0 ? requestAnimationFrame(x) : null, k3.executeFrameTasks(e10);
}
function D2(e10) {
  const t14 = n6(e10 - l4);
  l4 = e10;
  const r8 = p3 > 0 ? p3 : 1e3 / 60, s14 = Math.max(0, t14 - r8);
  for (let o15 = 0; o15 < f3.length; o15++) {
    const n13 = performance.now(), a7 = f3[o15];
    d3.forAll((n14) => {
      var _a;
      if (n14.paused || n14.removed)
        return;
      0 === o15 && n14.ticks++;
      n14.phases[a7] && (u5.time = e10, u5.deltaTime = 0 === n14.ticks ? n6(0) : t14, u5.elapsedFrameTime = n6(performance.now() - e10), u5.frameDuration = n6(r8 - s14), (_a = n14.phases[a7]) == null ? void 0 : _a.call(n14, u5));
    }), R[o15].record(performance.now() - n13);
  }
  _2(), q2.record(performance.now() - e10);
}
var g2 = new n5();
function _2() {
  d3.forAll((e10) => {
    e10.removed && g2.push(e10);
  }), d3.removeUnorderedMany(g2.data, g2.length), g2.clear();
}
function b2() {
  for (; h3.length; ) {
    const t14 = q(h3.shift());
    t14.isActive && t14.callback();
  }
  k3.willDispatch = false;
}
function y5(e10 = 1, r8) {
  const s14 = D(), i11 = () => {
    p(r8) ? s14.reject(m2()) : 0 === e10 ? s14() : (--e10, t3(() => i11()));
  };
  return i11(), s14.promise;
}
var R = f3.map((e10) => new e4(e10));
var q2 = new e4("total");

// node_modules/@arcgis/core/core/uid.js
var t10 = 0;
var n7 = 0;
function e6() {
  return ++t10;
}

// node_modules/@arcgis/core/core/accessorSupport/metadata.js
var o9 = class {
  constructor(t14) {
    this.autoDestroy = false, this.properties = t14;
  }
};
function n8(r8) {
  let n13 = r8.constructor.__accessorMetadata__;
  const c12 = Object.prototype.hasOwnProperty.call(r8.constructor, "__accessorMetadata__");
  if (n13) {
    if (!c12) {
      const e10 = Object.create(n13.properties), c13 = n13.autoDestroy;
      for (const r9 in e10)
        e10[r9] = m(e10[r9]);
      n13 = new o9(e10), n13.autoDestroy = c13, Object.defineProperty(r8.constructor, "__accessorMetadata__", { value: n13, enumerable: false, configurable: true, writable: true });
    }
  } else
    n13 = new o9({}), Object.defineProperty(r8.constructor, "__accessorMetadata__", { value: n13, enumerable: false, configurable: true, writable: true });
  return q(r8.constructor.__accessorMetadata__);
}
function c6(t14) {
  return n8(t14).properties;
}
function s7(t14, e10) {
  const r8 = c6(t14);
  let o15 = r8[e10];
  return o15 || (o15 = r8[e10] = {}), o15;
}
function i6(t14, e10) {
  return o5(t14, e10, _3);
}
var p4 = /^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;
function _3(t14) {
  return p4.test(t14) ? "replace" : "merge";
}

// node_modules/@arcgis/core/core/accessorSupport/decorators/property.js
function d4(n13 = {}) {
  return (o15, i11) => {
    if (o15 === Function.prototype)
      throw new Error(`Inappropriate use of @property() on a static field: ${o15.name}.${i11}. Accessor does not support static properties.`);
    const s14 = Object.getOwnPropertyDescriptor(o15, i11), a7 = s7(o15, i11);
    s14 && (s14.get || s14.set ? (a7.get = s14.get || a7.get, a7.set = s14.set || a7.set) : "value" in s14 && ("value" in n13 && s.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${i11}" on "${o15.constructor.name}" already defined in the metadata`, n13), a7.value = n13.value = s14.value)), null != n13.readOnly && (a7.readOnly = n13.readOnly);
    const c12 = n13.aliasOf;
    if (c12) {
      const t14 = "string" == typeof c12 ? c12 : c12.source, e10 = "string" == typeof c12 ? null : true === c12.overridable;
      let r8;
      a7.dependsOn = [t14], a7.get = function() {
        let e11 = o7(this, t14);
        if ("function" == typeof e11) {
          r8 || (r8 = t14.split(".").slice(0, -1).join("."));
          const n14 = o7(this, r8);
          n14 && (e11 = e11.bind(n14));
        }
        return e11;
      }, a7.readOnly || (a7.set = e10 ? function(t15) {
        void 0 !== t15 ? this._override(i11, t15) : this._clearOverride(i11);
      } : function(e11) {
        n4(this, t14, e11);
      });
    }
    const p10 = n13.type, u10 = n13.types;
    a7.cast || (p10 ? a7.cast = h4(p10) : u10 && (Array.isArray(u10) ? a7.cast = m3(N2(u10[0])) : a7.cast = N2(u10))), n13.range && (a7.cast = v3(a7.cast, n13.range)), i6(a7, n13);
  };
}
function y6(t14, e10, r8) {
  const n13 = s7(t14, r8);
  n13.json || (n13.json = {});
  let o15 = n13.json;
  return void 0 !== e10 && (o15.origins || (o15.origins = {}), o15.origins[e10] || (o15.origins[e10] = {}), o15 = o15.origins[e10]), o15;
}
function h4(t14) {
  let e10 = 0, r8 = t14;
  if (_(t14))
    return B(t14);
  for (; Array.isArray(r8) && 1 === r8.length && "string" != typeof r8[0] && "number" != typeof r8[0]; )
    r8 = r8[0], e10++;
  const l10 = r8;
  if (k(l10))
    return 0 === e10 ? M(l10) : $(M(l10), e10);
  if (1 === e10)
    return w(l10);
  if (e10 > 1)
    return j(l10, e10);
  const f8 = t14;
  return f8.from ? f8.from : b(f8);
}
function v3(t14, e10) {
  return (r8) => {
    let n13 = +t14(r8);
    return null != e10.step && (n13 = Math.round(n13 / e10.step) * e10.step), null != e10.min && (n13 = Math.max(e10.min, n13)), null != e10.max && (n13 = Math.min(e10.max, n13)), n13;
  };
}

// node_modules/@arcgis/core/core/Warning.js
var t11 = class extends s2 {
  constructor(e10, s14, r8) {
    if (super(e10, s14, r8), !(this instanceof t11))
      return new t11(e10, s14, r8);
  }
};
t11.prototype.type = "warning";

// node_modules/@arcgis/core/core/accessorSupport/extensions/serializableProperty/type.js
function e7(e10) {
  return !!e10 && e10.prototype && e10.prototype.declaredClass && 0 === e10.prototype.declaredClass.indexOf("esri.core.Collection");
}

// node_modules/@arcgis/core/core/accessorSupport/extensions/serializableProperty/reader.js
var i7 = s.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");
function p5(t14, r8, n13) {
  var _a, _b;
  t14 && (!n13 && !r8.read || ((_a = r8.read) == null ? void 0 : _a.reader) || false === ((_b = r8.read) == null ? void 0 : _b.enabled) || l5(t14) && o2("read.reader", s8(t14), r8));
}
function s8(t14) {
  var _a, _b;
  const e10 = t14.ndimArray ?? 0;
  if (e10 > 1)
    return c7(t14);
  if (1 === e10)
    return a3(t14);
  if ("type" in t14 && d5(t14.type)) {
    const e11 = (_b = (_a = t14.type.prototype) == null ? void 0 : _a.itemType) == null ? void 0 : _b.Type, r8 = a3("function" == typeof e11 ? { type: e11 } : { types: e11 });
    return (e12, n13, o15) => {
      const i11 = r8(e12, n13, o15);
      return i11 ? new t14.type(i11) : i11;
    };
  }
  return u6(t14);
}
function u6(t14) {
  return "type" in t14 ? y7(t14.type) : g3(t14.types);
}
function y7(t14) {
  return t14.prototype.read ? (e10, r8, n13) => {
    if (null == e10)
      return e10;
    const o15 = typeof e10;
    if ("object" !== o15)
      return void i7.error(`Expected JSON value of type 'object' to deserialize type '${t14.prototype.declaredClass}', but got '${o15}'`);
    const p10 = new t14();
    return p10.read(e10, n13), p10;
  } : t14.fromJSON;
}
function f4(t14, e10, r8, n13) {
  return 0 !== n13 && Array.isArray(e10) ? e10.map((e11) => f4(t14, e11, r8, n13 - 1)) : t14(e10, void 0, r8);
}
function c7(t14) {
  const e10 = u6(t14), r8 = f4.bind(null, e10), n13 = t14.ndimArray ?? 0;
  return (t15, e11, o15) => {
    if (null == t15)
      return t15;
    t15 = r8(t15, o15, n13);
    let i11 = n13, p10 = t15;
    for (; i11 > 0 && Array.isArray(p10); )
      i11--, p10 = p10[0];
    if (void 0 !== p10)
      for (let r9 = 0; r9 < i11; r9++)
        t15 = [t15];
    return t15;
  };
}
function a3(t14) {
  const e10 = u6(t14);
  return (t15, r8, n13) => {
    if (null == t15)
      return t15;
    if (Array.isArray(t15)) {
      const r9 = [];
      for (const o16 of t15) {
        const t16 = e10(o16, void 0, n13);
        void 0 !== t16 && r9.push(t16);
      }
      return r9;
    }
    const o15 = e10(t15, void 0, n13);
    return void 0 !== o15 ? [o15] : void 0;
  };
}
function d5(t14) {
  if (!e7(t14))
    return false;
  const e10 = t14.prototype.itemType;
  return !(!e10 || !e10.Type) && ("function" == typeof e10.Type ? m6(e10.Type) : j3(e10.Type));
}
function l5(t14) {
  return "types" in t14 ? j3(t14.types) : m6(t14.type);
}
function m6(t14) {
  return !Array.isArray(t14) && (!!t14 && t14.prototype && ("read" in t14.prototype || "fromJSON" in t14 || d5(t14)));
}
function j3(t14) {
  for (const e10 in t14.typeMap) {
    if (!m6(t14.typeMap[e10]))
      return false;
  }
  return true;
}
function g3(t14) {
  let e10 = null;
  const n13 = t14.errorContext ?? "type";
  return (o15, p10, s14) => {
    if (null == o15)
      return o15;
    const u10 = typeof o15;
    if ("object" !== u10)
      return void i7.error(`Expected JSON value of type 'object' to deserialize, but got '${u10}'`);
    e10 || (e10 = v4(t14));
    const y13 = t14.key;
    if ("string" != typeof y13)
      return;
    const f8 = o15[y13], c12 = f8 ? e10[f8] : t14.defaultKeyValue ? t14.typeMap[t14.defaultKeyValue] : void 0;
    if (!c12) {
      const t15 = `Type '${f8 || "unknown"}' is not supported`;
      return s14 && s14.messages && o15 && s14.messages.push(new t11(`${n13}:unsupported`, t15, { definition: o15, context: s14 })), void i7.error(t15);
    }
    const a7 = new c12();
    return a7.read(o15, s14), a7;
  };
}
function v4(t14) {
  var _a, _b;
  const e10 = {};
  for (const r8 in t14.typeMap) {
    const o15 = t14.typeMap[r8], i11 = n8(o15.prototype);
    if ("function" == typeof t14.key)
      continue;
    const p10 = i11.properties[t14.key];
    if (!p10)
      continue;
    ((_a = p10.json) == null ? void 0 : _a.type) && Array.isArray(p10.json.type) && 1 === p10.json.type.length && "string" == typeof p10.json.type[0] && (e10[p10.json.type[0]] = o15);
    const s14 = (_b = p10.json) == null ? void 0 : _b.write;
    if (!s14 || !s14.writer) {
      e10[r8] = o15;
      continue;
    }
    const u10 = s14.target, y13 = "string" == typeof u10 ? u10 : t14.key, f8 = {};
    s14.writer(r8, f8, y13), f8[y13] && (e10[f8[y13]] = o15);
  }
  return e10;
}

// node_modules/@arcgis/core/core/accessorSupport/interfaces.js
var I;
!function(I3) {
  I3[I3.INITIALIZING = 0] = "INITIALIZING", I3[I3.CONSTRUCTING = 1] = "CONSTRUCTING", I3[I3.CONSTRUCTED = 2] = "CONSTRUCTED";
}(I || (I = {}));

// node_modules/@arcgis/core/core/accessorSupport/extensions/serializableProperty/originAliases.js
function n9(n13) {
  if (n13.json && n13.json.origins) {
    const o15 = n13.json.origins, e10 = { "web-document": ["web-scene", "web-map"] };
    for (const n14 in e10)
      if (o15[n14]) {
        const s14 = o15[n14];
        e10[n14].forEach((n15) => {
          o15[n15] = s14;
        }), delete o15[n14];
      }
  }
}

// node_modules/@arcgis/core/core/accessorSupport/extensions/serializableProperty/shorthands.js
function e8(e10) {
  if (e10.json || (e10.json = {}), o10(e10.json), n10(e10.json), r6(e10.json), e10.json.origins)
    for (const t14 in e10.json.origins)
      o10(e10.json.origins[t14]), n10(e10.json.origins[t14]), r6(e10.json.origins[t14]);
  return true;
}
function r6(e10) {
  e10.name && (e10.read && "object" == typeof e10.read ? void 0 === e10.read.source && (e10.read.source = e10.name) : e10.read = { source: e10.name }, e10.write && "object" == typeof e10.write ? void 0 === e10.write.target && (e10.write.target = e10.name) : e10.write = { target: e10.name });
}
function o10(e10) {
  "boolean" == typeof e10.read ? e10.read = { enabled: e10.read } : "function" == typeof e10.read ? e10.read = { enabled: true, reader: e10.read } : e10.read && "object" == typeof e10.read && void 0 === e10.read.enabled && (e10.read.enabled = true);
}
function n10(e10) {
  "boolean" == typeof e10.write ? e10.write = { enabled: e10.write } : "function" == typeof e10.write ? e10.write = { enabled: true, writer: e10.write } : e10.write && "object" == typeof e10.write && void 0 === e10.write.enabled && (e10.write.enabled = true);
}

// node_modules/@arcgis/core/core/accessorSupport/extensions/serializableProperty/writer.js
var i8 = s.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer");
function o11(r8, e10) {
  if (!e10.write || e10.write.writer || false === e10.write.enabled && !e10.write.overridePolicy)
    return;
  const t14 = (r8 == null ? void 0 : r8.ndimArray) ?? 0;
  r8 && (1 === t14 || "type" in r8 && e7(r8.type)) ? e10.write.writer = c8 : t14 > 1 ? e10.write.writer = w3(t14) : e10.types ? Array.isArray(e10.types) ? e10.write.writer = f5(e10.types[0]) : e10.write.writer = s9(e10.types) : e10.write.writer = p6;
}
function s9(r8) {
  return (e10, t14, n13, i11) => e10 ? u7(e10, r8, i11) ? p6(e10, t14, n13, i11) : void 0 : p6(e10, t14, n13, i11);
}
function u7(e10, t14, n13) {
  for (const r8 in t14.typeMap)
    if (e10 instanceof t14.typeMap[r8])
      return true;
  if (n13 == null ? void 0 : n13.messages) {
    const o15 = t14.errorContext ?? "type", s14 = `Values of type '${("function" != typeof t14.key ? e10[t14.key] : e10.declaredClass) ?? "Unknown"}' cannot be written`;
    n13 && n13.messages && e10 && n13.messages.push(new s3(`${o15}:unsupported`, s14, { definition: e10, context: n13 })), i8.error(s14);
  }
  return false;
}
function f5(r8) {
  return (e10, t14, n13, i11) => {
    if (!e10 || !Array.isArray(e10))
      return p6(e10, t14, n13, i11);
    return p6(e10.filter((e11) => u7(e11, r8, i11)), t14, n13, i11);
  };
}
function p6(r8, e10, n13, i11) {
  o2(n13, y8(r8, i11), e10);
}
function y8(r8, e10) {
  return r8 && "function" == typeof r8.write ? r8.write({}, e10) : r8 && "function" == typeof r8.toJSON ? r8.toJSON() : "number" == typeof r8 ? a4(r8) : r8;
}
function a4(r8) {
  return r8 === -1 / 0 ? -Number.MAX_VALUE : r8 === 1 / 0 ? Number.MAX_VALUE : isNaN(r8) ? null : r8;
}
function c8(r8, e10, n13, i11) {
  let o15;
  null === r8 ? o15 = null : r8 && "function" == typeof r8.map ? (o15 = r8.map((r9) => y8(r9, i11)), "function" == typeof o15.toArray && (o15 = o15.toArray())) : o15 = [y8(r8, i11)], o2(n13, o15, e10);
}
function l6(r8, e10, t14) {
  return 0 !== t14 && Array.isArray(r8) ? r8.map((r9) => l6(r9, e10, t14 - 1)) : y8(r8, e10);
}
function w3(r8) {
  return (e10, n13, i11, o15) => {
    let s14;
    if (null === e10)
      s14 = null;
    else {
      s14 = l6(e10, o15, r8);
      let t14 = r8, n14 = s14;
      for (; t14 > 0 && Array.isArray(n14); )
        t14--, n14 = n14[0];
      if (void 0 !== n14)
        for (let r9 = 0; r9 < t14; r9++)
          s14 = [s14];
    }
    o2(i11, s14, n13);
  };
}

// node_modules/@arcgis/core/core/accessorSupport/extensions/serializableProperty.js
function o12(r8, n13) {
  return a5(r8, "read", n13);
}
function s10(r8, n13) {
  return a5(r8, "write", n13);
}
function a5(r8, n13, e10) {
  let t14 = r8 && r8.json;
  if (r8 && r8.json && r8.json.origins && e10) {
    const i11 = r8.json.origins[e10.origin];
    i11 && ("any" === n13 || n13 in i11) && (t14 = i11);
  }
  return t14;
}
function p7(r8) {
  const n13 = y9(r8);
  if (r8.json.origins)
    for (const t14 in r8.json.origins) {
      const o15 = r8.json.origins[t14], s14 = o15.types ? f6(o15) : n13;
      p5(s14, o15, false), o15.types && !o15.write && r8.json.write && r8.json.write.enabled && (o15.write = { ...r8.json.write }), o11(s14, o15);
    }
  p5(n13, r8.json, true), o11(n13, r8.json);
}
function y9(r8) {
  return r8.json.types ? u8(r8.json) : r8.type ? j4(r8) : u8(r8);
}
function f6(r8) {
  return r8.type ? j4(r8) : u8(r8);
}
function j4(n13) {
  if (!n13.type)
    return;
  let e10 = 0, t14 = n13.type;
  for (; Array.isArray(t14) && !k(t14); )
    t14 = t14[0], e10++;
  return { type: t14, ndimArray: e10 };
}
function u8(r8) {
  if (!r8.types)
    return;
  let n13 = 0, e10 = r8.types;
  for (; Array.isArray(e10); )
    e10 = e10[0], n13++;
  return { types: e10, ndimArray: n13 };
}
function c9(r8) {
  e8(r8) && (n9(r8), p7(r8));
}

// node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js
var s11 = /* @__PURE__ */ new Set();
var i9 = /* @__PURE__ */ new Set();
function n11(e10) {
  return (r8) => {
    r8.prototype.declaredClass = e10, c10(r8);
    const o15 = [], n13 = [];
    let a7 = r8.prototype;
    for (; a7; )
      a7.hasOwnProperty("initialize") && !s11.has(a7.initialize) && (s11.add(a7.initialize), o15.push(a7.initialize)), a7.hasOwnProperty("destroy") && !i9.has(a7.destroy) && (i9.add(a7.destroy), n13.push(a7.destroy)), a7 = Object.getPrototypeOf(a7);
    s11.clear(), i9.clear();
    class l10 extends r8 {
      constructor(...e11) {
        if (super(...e11), this.constructor === l10 && "function" == typeof this.postscript) {
          if (o15.length && Object.defineProperty(this, "initialize", { enumerable: false, configurable: true, value() {
            for (let e12 = o15.length - 1; e12 >= 0; e12--)
              o15[e12].call(this);
          } }), n13.length) {
            let e12 = false;
            Object.defineProperty(this, "destroy", { enumerable: false, configurable: true, value() {
              if (!e12) {
                e12 = true;
                for (let e13 = 0; e13 < n13.length; e13++)
                  n13[e13].call(this);
              }
            } });
          }
          this.postscript(...e11);
        }
      }
    }
    return l10.__accessorMetadata__ = n8(r8.prototype), l10.prototype.declaredClass = e10, l10;
  };
}
function a6(e10, t14) {
  return null == t14.get ? function() {
    const t15 = this.__accessor__.properties.get(e10);
    if (void 0 === t15)
      return;
    l2(t15);
    const o15 = this.__accessor__.store;
    return o15.has(e10) ? o15.get(e10) : t15.metadata.value;
  } : function() {
    const t15 = this.__accessor__.properties.get(e10);
    if (void 0 !== t15)
      return t15.getComputed();
  };
}
function c10(r8) {
  const s14 = r8.prototype, i11 = n8(s14).properties, n13 = {};
  for (const t14 of Object.getOwnPropertyNames(i11)) {
    const r9 = i11[t14];
    c9(r9), n13[t14] = { enumerable: true, configurable: true, get: a6(t14, r9), set(o15) {
      const s15 = this.__accessor__;
      if (void 0 !== s15) {
        if (!Object.isFrozen(this)) {
          if (s15.initialized && r9.readOnly)
            throw new TypeError(`[accessor] cannot assign to read-only property '${t14}' of ${this.declaredClass}`);
          if (s15.lifecycle === I.CONSTRUCTED && r9.constructOnly)
            throw new TypeError(`[accessor] cannot assign to construct-only property '${t14}' of ${this.declaredClass}`);
          s15.set(t14, o15);
        }
      } else
        Object.defineProperty(this, t14, { enumerable: true, configurable: true, writable: true, value: o15 });
    } };
  }
  Object.defineProperties(r8.prototype, n13);
}

// node_modules/@arcgis/core/core/accessorSupport/tracking/ObservationHandle.js
var s12 = class {
  constructor(r8, s14) {
    this._observers = r8, this._observer = s14;
  }
  remove() {
    F(this._observers, this._observer);
  }
};

// node_modules/@arcgis/core/core/accessorSupport/Property.js
var l7 = class {
  constructor(s14, t14, e10) {
    this.properties = s14, this.propertyName = t14, this.metadata = e10, this._observers = null, this._accessed = null, this._handles = null, this.flags = i2.Dirty | (e10.nonNullable ? i2.NonNullable : 0) | (e10.hasOwnProperty("value") ? i2.HasDefaultValue : 0) | (void 0 === e10.get ? i2.DepTrackingInitialized : 0) | (void 0 === e10.dependsOn ? i2.AutoTracked : 0);
  }
  destroy() {
    if (this.flags & i2.Dirty && this._observers) {
      const s14 = this._observers.slice();
      for (const t14 of s14)
        t14.onCommitted();
    }
    this._accessed = null, this._observers = null, this._clearObservationHandles();
  }
  getComputed() {
    l2(this);
    const o15 = this.properties.store, l10 = this.propertyName, a7 = this.flags, h6 = o15.get(l10);
    if (a7 & i2.Computing)
      return h6;
    if (~a7 & i2.Dirty && o15.has(l10))
      return h6;
    this.flags |= i2.Computing;
    const d8 = this.properties.host;
    let c12;
    a7 & i2.AutoTracked ? c12 = g(this, this.metadata.get, d8) : (h2(d8, this), c12 = this.metadata.get.call(d8)), o15.set(l10, c12, r3.COMPUTED);
    const u10 = o15.get(l10);
    return u10 === h6 ? this.flags &= ~i2.Dirty : u2(this.commit, this), this.flags &= ~i2.Computing, u10;
  }
  onObservableAccessed(s14) {
    s14 !== this && (null === this._accessed && (this._accessed = []), this._accessed.includes(s14) || this._accessed.push(s14));
  }
  onTrackingEnd() {
    this._clearObservationHandles(), this.flags |= i2.DepTrackingInitialized;
    const s14 = this._accessed;
    if (null === s14)
      return;
    let t14 = this._handles;
    null === t14 && (t14 = this._handles = []);
    for (let e10 = 0; e10 < s14.length; ++e10)
      t14.push(s14[e10].observe(this));
    s14.length = 0;
  }
  observe(s14) {
    return null === this._observers && (this._observers = []), this._observers.includes(s14) || this._observers.push(s14), new s12(this._observers, s14);
  }
  notifyChange() {
    this.onInvalidated(), this.onCommitted();
  }
  invalidate() {
    this.onInvalidated();
  }
  onInvalidated() {
    ~this.flags & i2.Overriden && (this.flags |= i2.Dirty);
    const s14 = this._observers;
    if (null !== s14)
      for (let t14 = 0; t14 < s14.length; ++t14)
        s14[t14].onInvalidated();
  }
  commit() {
    this.flags &= ~i2.Dirty, this.onCommitted();
  }
  onCommitted() {
    if (null === this._observers)
      return;
    const s14 = this._observers.slice();
    for (let t14 = 0; t14 < s14.length; ++t14)
      s14[t14].onCommitted();
  }
  _clearObservationHandles() {
    const s14 = this._handles;
    if (null !== s14) {
      for (let t14 = 0; t14 < s14.length; ++t14)
        s14[t14].remove();
      s14.length = 0;
    }
  }
};

// node_modules/@arcgis/core/core/accessorSupport/Store.js
var t12 = class {
  constructor() {
    this._values = /* @__PURE__ */ new Map(), this.multipleOriginsSupported = false;
  }
  clone(s14) {
    const r8 = new t12();
    return this._values.forEach((t14, i11) => {
      s14 && s14.has(i11) || r8.set(i11, m(t14));
    }), r8;
  }
  get(e10) {
    return this._values.get(e10);
  }
  originOf() {
    return r3.USER;
  }
  keys() {
    return [...this._values.keys()];
  }
  set(e10, s14) {
    this._values.set(e10, s14);
  }
  delete(e10) {
    this._values.delete(e10);
  }
  has(e10) {
    return this._values.has(e10);
  }
  forEach(e10) {
    this._values.forEach(e10);
  }
};

// node_modules/@arcgis/core/core/accessorSupport/Properties.js
function g4(t14, e10, s14) {
  return void 0 !== t14;
}
function d6(t14, e10, s14, r8) {
  return void 0 !== t14 && (!(null == s14 && t14.flags & i2.NonNullable) || (r8.lifecycle, I.INITIALIZING, false));
}
function m7(t14) {
  return t14 && "function" == typeof t14.destroy;
}
s.getLogger("esri.core.accessorSupport.Properties");
var v5 = class {
  constructor(t14) {
    this.host = t14, this.properties = /* @__PURE__ */ new Map(), this.ctorArgs = null, this.destroyed = false, this.lifecycle = I.INITIALIZING, this.store = new t12(), this._origin = r3.USER;
    const e10 = this.host.constructor.__accessorMetadata__, s14 = e10.properties;
    for (const i11 in s14) {
      const t15 = new l7(this, i11, s14[i11]);
      this.properties.set(i11, t15);
    }
    this.metadatas = s14, this._autoDestroy = e10.autoDestroy;
  }
  initialize() {
    this.lifecycle = I.CONSTRUCTING;
  }
  constructed() {
    this.lifecycle = I.CONSTRUCTED;
  }
  destroy() {
    if (this.destroyed = true, this._autoDestroy)
      for (const [t14, e10] of this.properties) {
        const s14 = this.internalGet(t14);
        s14 && m7(s14) && (s14.destroy(), ~e10.flags & i2.NonNullable && this._internalSet(e10, null)), e10.destroy();
      }
    else
      for (const [t14, e10] of this.properties)
        e10.destroy();
  }
  get initialized() {
    return this.lifecycle !== I.INITIALIZING;
  }
  get(t14) {
    const e10 = this.properties.get(t14);
    if (e10.metadata.get)
      return e10.getComputed();
    l2(e10);
    const s14 = this.store;
    return s14.has(t14) ? s14.get(t14) : e10.metadata.value;
  }
  originOf(t14) {
    const e10 = this.store.originOf(t14);
    if (void 0 === e10) {
      const e11 = this.properties.get(t14);
      if (void 0 !== e11 && e11.flags & i2.HasDefaultValue)
        return "defaults";
    }
    return n3(e10);
  }
  has(t14) {
    return !!this.properties.has(t14) && this.store.has(t14);
  }
  keys() {
    return [...this.properties.keys()];
  }
  internalGet(t14) {
    const e10 = this.properties.get(t14);
    if (g4(e10))
      return this.store.has(t14) ? this.store.get(t14) : e10.metadata.value;
  }
  internalSet(t14, e10) {
    const s14 = this.properties.get(t14);
    g4(s14) && this._internalSet(s14, e10);
  }
  getDependsInfo(t14, e10, s14) {
    const i11 = this.properties.get(e10);
    if (!g4(i11))
      return "";
    const o15 = /* @__PURE__ */ new Set(), n13 = g({ onObservableAccessed: (t15) => o15.add(t15), onTrackingEnd: () => {
    } }, () => {
      var _a;
      return (_a = i11.metadata.get) == null ? void 0 : _a.call(t14);
    });
    let a7 = `${s14}${t14.declaredClass.split(".").pop()}.${e10}: ${n13}
`;
    if (0 === o15.size)
      return a7;
    s14 += "  ";
    for (const l10 of o15) {
      if (!(l10 instanceof l7))
        continue;
      const t15 = l10.properties.host, e11 = l10.propertyName, i12 = e2(t15);
      a7 += i12 ? i12.getDependsInfo(t15, e11, s14) : `${s14}${e11}: undefined
`;
    }
    return a7;
  }
  setAtOrigin(t14, e10, s14) {
    const i11 = this.properties.get(t14);
    if (g4(i11))
      return this._setAtOrigin(i11, e10, s14);
  }
  isOverridden(t14) {
    const e10 = this.properties.get(t14);
    return void 0 !== e10 && !!(e10.flags & i2.Overriden);
  }
  clearOverride(t14) {
    const e10 = this.properties.get(t14);
    void 0 !== e10 && e10.flags & i2.Overriden && (e10.flags &= ~i2.Overriden, e10.notifyChange());
  }
  override(t14, e10) {
    const s14 = this.properties.get(t14);
    if (!d6(s14, t14, e10, this))
      return;
    const i11 = s14.metadata.cast;
    if (i11) {
      const t15 = this._cast(i11, e10), { valid: s15, value: r8 } = t15;
      if (I2.release(t15), !s15)
        return;
      e10 = r8;
    }
    s14.flags |= i2.Overriden, this._internalSet(s14, e10);
  }
  set(t14, e10) {
    const s14 = this.properties.get(t14);
    if (!d6(s14, t14, e10, this))
      return;
    const i11 = s14.metadata.cast;
    if (i11) {
      const t15 = this._cast(i11, e10), { valid: s15, value: r9 } = t15;
      if (I2.release(t15), !s15)
        return;
      e10 = r9;
    }
    const r8 = s14.metadata.set;
    r8 ? r8.call(this.host, e10) : this._internalSet(s14, e10);
  }
  setDefaultOrigin(t14) {
    this._origin = t6(t14);
  }
  getDefaultOrigin() {
    return n3(this._origin);
  }
  notifyChange(t14) {
    const e10 = this.properties.get(t14);
    void 0 !== e10 && e10.notifyChange();
  }
  invalidate(t14) {
    const e10 = this.properties.get(t14);
    void 0 !== e10 && e10.invalidate();
  }
  commit(t14) {
    const e10 = this.properties.get(t14);
    void 0 !== e10 && e10.commit();
  }
  _internalSet(t14, e10) {
    const s14 = this.lifecycle !== I.INITIALIZING ? this._origin : r3.DEFAULTS;
    this._setAtOrigin(t14, e10, s14);
  }
  _setAtOrigin(e10, s14, i11) {
    const r8 = this.store, o15 = e10.propertyName;
    r8.has(o15, i11) && d(s14, r8.get(o15)) && ~e10.flags & i2.Overriden && i11 === r8.originOf(o15) || (e10.invalidate(), r8.set(o15, s14, i11), e10.commit(), y4(this.host, e10));
  }
  _cast(t14, e10) {
    const s14 = I2.acquire();
    return s14.valid = true, s14.value = e10, t14 && (s14.value = t14.call(this.host, e10, s14)), s14;
  }
};
var y10 = class {
  constructor() {
    this.value = null, this.valid = true;
  }
  acquire() {
    this.valid = true;
  }
  release() {
    this.value = null;
  }
};
var I2 = new e(y10);

// node_modules/@arcgis/core/core/ReentrantObjectPool.js
var t13 = class extends e {
  constructor() {
    super(...arguments), this._set = /* @__PURE__ */ new Set();
  }
  destroy() {
    super.destroy(), this._set = y(this._set);
  }
  acquire(...e10) {
    const s14 = super.acquire(...e10);
    return this._set.delete(s14), s14;
  }
  release(e10) {
    e10 && !this._set.has(e10) && (super.release(e10), this._set.add(e10));
  }
  _dispose(e10) {
    this._set.delete(e10), super._dispose(e10);
  }
};

// node_modules/@arcgis/core/core/SetUtils.js
function n12(r8, n13) {
  for (const o15 of r8.entries())
    if (n13(o15[0]))
      return true;
  return false;
}
function o13(n13, o15) {
  const t14 = /* @__PURE__ */ new Set();
  return r(n13) && n13.forEach((r8) => t14.add(r8)), r(o15) && o15.forEach((r8) => t14.add(r8)), t14;
}

// node_modules/@arcgis/core/core/accessorSupport/tracking/SimpleTrackingTarget.js
var s13 = class {
  constructor(s14) {
    this._notify = s14, this._accessed = [], this._handles = [], this._invalidCount = 0;
  }
  destroy() {
    this._accessed.length = 0, this.clear();
  }
  onInvalidated() {
    this._invalidCount++;
  }
  onCommitted() {
    const s14 = this._invalidCount;
    if (1 === s14)
      return this._invalidCount = 0, void this._notify();
    this._invalidCount = s14 > 0 ? s14 - 1 : 0;
  }
  onObservableAccessed(s14) {
    this._accessed.includes(s14) || this._accessed.push(s14);
  }
  onTrackingEnd() {
    const s14 = this._handles, t14 = this._accessed;
    for (let e10 = 0; e10 < t14.length; ++e10)
      s14.push(t14[e10].observe(this));
    t14.length = 0;
  }
  clear() {
    const s14 = this._handles;
    for (let t14 = 0; t14 < s14.length; ++t14)
      s14[t14].remove();
    s14.length = 0;
  }
};

// node_modules/@arcgis/core/core/accessorSupport/trackingUtils.js
var r7 = false;
var e9 = [];
function o14(e10, o15) {
  let u10 = new s13(s14), l10 = null, f8 = false;
  function s14() {
    if (!u10 || f8)
      return;
    if (r7)
      return void i10(s14);
    const t14 = l10;
    u10.clear(), r7 = true, f8 = true, l10 = g(u10, e10), f8 = false, r7 = false, o15(l10, t14), c11();
  }
  function m9() {
    u10 && (u10.destroy(), u10 = null, l10 = null);
  }
  return f8 = true, l10 = g(u10, e10), f8 = false, { remove: m9 };
}
function u9(r8, e10) {
  let o15 = new s13(l10), u10 = null;
  function l10() {
    e10(u10, c12);
  }
  function i11() {
    o15 && (o15.destroy(), o15 = null), u10 = null;
  }
  function c12() {
    return o15 ? (o15.clear(), u10 = g(o15, r8), u10) : null;
  }
  return c12(), { remove: i11 };
}
function l8(e10) {
  let o15 = new s13(l10), u10 = false;
  function l10() {
    o15 && !u10 && (r7 ? i10(l10) : (o15.clear(), r7 = true, u10 = true, g(o15, e10), u10 = false, r7 = false, c11()));
  }
  function f8() {
    o15 && (o15.destroy(), o15 = null);
  }
  return u10 = true, g(o15, e10), u10 = false, { remove: f8 };
}
function i10(n13) {
  e9.includes(n13) || e9.unshift(n13);
}
function c11() {
  for (; e9.length; )
    e9.pop()();
}

// node_modules/@arcgis/core/core/accessorSupport/watch.js
var h5;
!function(e10) {
  e10[e10.Untracked = 0] = "Untracked", e10[e10.Tracked = 1] = "Tracked";
}(h5 || (h5 = {}));
var f7 = class {
  constructor() {
    this.uid = e6(), this.removed = false, this.type = null, this.oldValue = null, this.callback = null, this.getValue = null, this.target = null, this.path = null, this.equals = null;
  }
  static acquireUntracked(e10, r8, o15, l10, n13) {
    return this.pool.acquire(h5.Untracked, e10, r8, o15, l10, n13, d);
  }
  static acquireTracked(e10, t14, r8, o15) {
    return this.pool.acquire(h5.Tracked, e10, t14, r8, null, null, o15);
  }
  notify(e10, t14) {
    this.type === h5.Untracked ? this.callback.call(this.target, e10, t14, this.path, this.target) : this.callback.call(null, e10, t14);
  }
  acquire(e10, t14, r8, o15, l10, n13, s14) {
    this.uid = e6(), this.removed = false, this.type = e10, this.oldValue = t14, this.callback = r8, this.getValue = o15, this.target = l10, this.path = n13, this.equals = s14;
  }
  release() {
    this.target = this.path = this.oldValue = this.callback = this.getValue = null, this.uid = e6(), this.removed = true;
  }
};
f7.pool = new t13(f7);
var m8 = new t2();
var p8 = /* @__PURE__ */ new Set();
var v6;
function g5(e10) {
  p8.delete(e10), p8.add(e10), v6 || (v6 = v2(j5));
}
function k4(e10) {
  if (e10.removed)
    return;
  const t14 = e10.oldValue, r8 = e10.getValue();
  e10.equals(t14, r8) || (e10.oldValue = r8, e10.notify(r8, t14));
}
function q3(e10) {
  for (const t14 of p8.values())
    t14.target === e10 && (t14.removed = true);
}
function j5() {
  let e10 = 10;
  for (; v6 && e10--; ) {
    v6 = null;
    const e11 = y11(), t14 = m8.acquire();
    for (const r8 of e11) {
      const e12 = r8.uid;
      k4(r8), e12 === r8.uid && r8.removed && t14.push(r8);
    }
    for (const r8 of p8)
      r8.removed && (t14.push(r8), p8.delete(r8));
    for (const r8 of t14)
      f7.pool.release(r8);
    m8.release(t14), m8.release(e11), V.forEach((e12) => e12());
  }
}
function y11() {
  const e10 = m8.acquire();
  e10.length = p8.size;
  let t14 = 0;
  for (const r8 of p8)
    e10[t14] = r8, ++t14;
  return p8.clear(), e10;
}
var V = /* @__PURE__ */ new Set();
function U(e10) {
  return V.add(e10), { remove() {
    V.delete(e10);
  } };
}
function b3(e10, t14, r8) {
  let o15 = y3(e10, t14, r8, (e11, t15, r9) => {
    let l10, n13, i11 = u9(() => u3(e11, t15), (i12, s14) => {
      e11.__accessor__.destroyed || l10 && l10.uid !== n13 ? o15.remove() : (l10 || (l10 = f7.acquireUntracked(i12, r9, s14, e11, t15), n13 = l10.uid), g5(l10));
    });
    return { remove: h(() => {
      i11.remove(), l10 && (l10.uid !== n13 || l10.removed || (l10.removed = true, g5(l10)), l10 = null), o15 = i11 = null;
    }) };
  });
  return o15;
}
function T2(e10, r8, o15) {
  const l10 = y3(e10, r8, o15, (e11, r9, o16) => {
    let n13 = false;
    return o14(() => u3(e11, r9), (i11, s14) => {
      e11.__accessor__.destroyed ? l10.remove() : n13 || (n13 = true, d(s14, i11) || o16.call(e11, i11, s14, r9, e11), n13 = false);
    });
  });
  return l10;
}
function w4(e10, t14, r8, o15 = false) {
  return !e10.__accessor__ || e10.__accessor__.destroyed ? { remove() {
  } } : o15 ? T2(e10, t14, r8) : b3(e10, t14, r8);
}
function S(e10, t14, r8) {
  let o15, l10, n13 = u9(e10, (e11, i11) => {
    o15 && o15.uid !== l10 ? n13.remove() : (o15 || (o15 = f7.acquireTracked(e11, t14, i11, r8), l10 = o15.uid), g5(o15));
  });
  return { remove: h(() => {
    n13.remove(), o15 && (o15.uid !== l10 || o15.removed || (o15.removed = true, g5(o15)), o15 = null), n13 = null;
  }) };
}
function A4(e10, t14, r8) {
  let o15 = false;
  return o14(e10, (e11, l10) => {
    o15 || (o15 = true, r8(l10, e11) || t14(e11, l10), o15 = false);
  });
}
function P(e10, t14, o15 = false, l10 = N) {
  return o15 ? A4(e10, t14, l10) : S(e10, t14, l10);
}
function x2(e10) {
  return n12(p8, (t14) => t14.oldValue === e10);
}

// node_modules/@arcgis/core/core/Accessor.js
var p9;
function l9(t14) {
  var _a;
  if (null == t14)
    return { value: t14 };
  if (Array.isArray(t14))
    return { type: [t14[0]], value: null };
  switch (typeof t14) {
    case "object":
      return ((_a = t14.constructor) == null ? void 0 : _a.__accessorMetadata__) || t14 instanceof Date ? { type: t14.constructor, value: t14 } : t14;
    case "boolean":
      return { type: Boolean, value: t14 };
    case "string":
      return { type: String, value: t14 };
    case "number":
      return { type: Number, value: t14 };
    case "function":
      return { type: t14, value: null };
    default:
      return;
  }
}
var d7 = Symbol("Accessor-Handles");
var y12 = class {
  constructor(...t14) {
    if (this[p9] = null, this.constructor === y12)
      throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");
    Object.defineProperty(this, "__accessor__", { enumerable: false, value: new v5(this) }), t14.length > 0 && this.normalizeCtorArgs && (this.__accessor__.ctorArgs = this.normalizeCtorArgs.apply(this, t14));
  }
  static createSubclass(t14 = {}) {
    if (Array.isArray(t14))
      throw new Error("Multi-inheritance unsupported since 4.16");
    const { properties: r8, declaredClass: e10, constructor: s14 } = t14;
    delete t14.declaredClass, delete t14.properties, delete t14.constructor;
    const o15 = this;
    class c12 extends o15 {
      constructor(...t15) {
        super(...t15), this.inherited = null, s14 && s14.apply(this, t15);
      }
    }
    n8(c12.prototype);
    for (const i11 in t14) {
      const r9 = t14[i11];
      c12.prototype[i11] = "function" == typeof r9 ? function(...t15) {
        const e11 = this.inherited;
        let s15;
        this.inherited = function(...t16) {
          if (o15.prototype[i11])
            return o15.prototype[i11].apply(this, t16);
        };
        try {
          s15 = r9.apply(this, t15);
        } catch (c13) {
          throw this.inherited = e11, c13;
        }
        return this.inherited = e11, s15;
      } : t14[i11];
    }
    for (const i11 in r8) {
      const t15 = l9(r8[i11]);
      d4(t15)(c12.prototype, i11);
    }
    return n11(e10)(c12);
  }
  postscript(t14) {
    const r8 = this.__accessor__, e10 = r8.ctorArgs || t14;
    r8.initialize(), e10 && (this.set(e10), r8.ctorArgs = null), r8.constructed(), this.initialize();
  }
  initialize() {
  }
  destroy() {
    this.destroyed || (o(this[d7], (t14) => {
      t14.forEach((t15) => t15.remove());
    }), this[d7] = null, q3(this), this.__accessor__.destroy());
  }
  get initialized() {
    return this.__accessor__ && this.__accessor__.initialized || false;
  }
  get constructed() {
    return this.__accessor__ && this.__accessor__.lifecycle === I.CONSTRUCTED || false;
  }
  get destroyed() {
    return this.__accessor__ && this.__accessor__.destroyed || false;
  }
  commitProperty(t14) {
    this.get(t14);
  }
  get(t14) {
    return o7(this, t14);
  }
  hasOwnProperty(t14) {
    return this.__accessor__ ? this.__accessor__.has(t14) : Object.prototype.hasOwnProperty.call(this, t14);
  }
  keys() {
    return this.__accessor__ ? this.__accessor__.keys() : [];
  }
  set(t14, r8) {
    return n4(this, t14, r8), this;
  }
  watch(t14, r8, e10) {
    return w4(this, t14, r8, e10);
  }
  own(r8) {
    let s14 = this[d7];
    if (t(s14) && (s14 = this[d7] = /* @__PURE__ */ new Set()), t4(r8))
      for (const t14 of r8)
        s14.add(t14);
    else
      s14.add(r8);
  }
  _clearOverride(t14) {
    return this.__accessor__.clearOverride(t14);
  }
  _override(t14, r8) {
    return this.__accessor__.override(t14, r8);
  }
  _isOverridden(t14) {
    return this.__accessor__.isOverridden(t14);
  }
  notifyChange(t14) {
    this.__accessor__.notifyChange(t14);
  }
  _get(t14) {
    return this.__accessor__.internalGet(t14);
  }
  _set(t14, r8) {
    return this.__accessor__.internalSet(t14, r8), this;
  }
};
p9 = d7;

export {
  n,
  o3 as o,
  t4 as t,
  r2 as r,
  n2,
  o4 as o2,
  t5 as t2,
  u,
  e2 as e,
  o5 as o3,
  h,
  u3 as u2,
  s5 as s,
  s7 as s2,
  r3 as r2,
  E,
  t6 as t3,
  n3,
  c2 as c,
  l2 as l,
  g,
  s12 as s3,
  t13 as t4,
  e4 as e2,
  n5 as n4,
  n6 as n5,
  r5 as r3,
  t9 as t5,
  u4 as u3,
  v2 as v,
  A3 as A,
  F2 as F,
  y5 as y,
  n12 as n6,
  o13 as o4,
  n7,
  e6 as e3,
  s13 as s4,
  l8 as l2,
  U,
  P,
  x2 as x,
  d4 as d,
  y6 as y2,
  v3 as v2,
  t11 as t6,
  s8 as s5,
  a4 as a,
  o12 as o5,
  s10 as s6,
  a5 as a2,
  n11 as n8,
  y12 as y3
};
//# sourceMappingURL=chunk-2QOWZFCU.js.map
