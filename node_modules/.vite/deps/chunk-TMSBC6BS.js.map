{
  "version": 3,
  "sources": ["../../@arcgis/core/core/CollectionFlattener.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import o from\"./Collection.js\";import{HandleOwnerMixin as s}from\"./HandleOwner.js\";import{isSome as r,isNone as e}from\"./maybe.js\";import\"./has.js\";import\"./Error.js\";import\"./Logger.js\";import\"./accessorSupport/watch.js\";import{autorun as i}from\"./accessorSupport/trackingUtils.js\";import{property as n}from\"./accessorSupport/decorators/property.js\";import\"./arrayUtils.js\";import\"./accessorSupport/ensureType.js\";import{subclass as c}from\"./accessorSupport/decorators/subclass.js\";let l=class extends(s(o)){constructor(t){super(t),this.getCollections=null}initialize(){this.handles.add(i((()=>this._refresh())))}destroy(){this.getCollections=null}_refresh(){const t=r(this.getCollections)?this.getCollections():null;if(e(t))return void this.removeAll();let o=0;for(const s of t)r(s)&&(o=this._processCollection(o,s));this.splice(o,this.length)}_createNewInstance(t){return new o(t)}_processCollection(t,o){if(!o)return t;const s=this.itemFilterFunction?this.itemFilterFunction:t=>!!t;for(const r of o)if(r){if(s(r)){const o=this.indexOf(r,t);o>=0?o!==t&&this.reorder(r,t):this.add(r,t),++t}if(this.getChildrenFunction){const o=this.getChildrenFunction(r);if(Array.isArray(o))for(const s of o)t=this._processCollection(t,s);else t=this._processCollection(t,o)}}return t}};t([n()],l.prototype,\"getCollections\",void 0),t([n()],l.prototype,\"getChildrenFunction\",void 0),t([n()],l.prototype,\"itemFilterFunction\",void 0),l=t([c(\"esri.core.CollectionFlattener\")],l);const p=l;export{p as default};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;AAI8gB,IAAIA,KAAE,cAAc,EAAE,CAAC,EAAE;AAAA,EAAC,YAAYC,IAAE;AAAC,UAAMA,EAAC,GAAE,KAAK,iBAAe;AAAA,EAAI;AAAA,EAAC,aAAY;AAAC,SAAK,QAAQ,IAAI,EAAG,MAAI,KAAK,SAAS,CAAE,CAAC;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,SAAK,iBAAe;AAAA,EAAI;AAAA,EAAC,WAAU;AAAC,UAAMA,KAAE,EAAE,KAAK,cAAc,IAAE,KAAK,eAAe,IAAE;AAAK,QAAG,EAAEA,EAAC;AAAE,aAAO,KAAK,KAAK,UAAU;AAAE,QAAI,IAAE;AAAE,eAAU,KAAKA;AAAE,QAAE,CAAC,MAAI,IAAE,KAAK,mBAAmB,GAAE,CAAC;AAAG,SAAK,OAAO,GAAE,KAAK,MAAM;AAAA,EAAC;AAAA,EAAC,mBAAmBA,IAAE;AAAC,WAAO,IAAI,EAAEA,EAAC;AAAA,EAAC;AAAA,EAAC,mBAAmBA,IAAE,GAAE;AAAC,QAAG,CAAC;AAAE,aAAOA;AAAE,UAAM,IAAE,KAAK,qBAAmB,KAAK,qBAAmB,CAAAA,OAAG,CAAC,CAACA;AAAE,eAAUC,MAAK;AAAE,UAAGA,IAAE;AAAC,YAAG,EAAEA,EAAC,GAAE;AAAC,gBAAMC,KAAE,KAAK,QAAQD,IAAED,EAAC;AAAE,UAAAE,MAAG,IAAEA,OAAIF,MAAG,KAAK,QAAQC,IAAED,EAAC,IAAE,KAAK,IAAIC,IAAED,EAAC,GAAE,EAAEA;AAAA,QAAC;AAAC,YAAG,KAAK,qBAAoB;AAAC,gBAAME,KAAE,KAAK,oBAAoBD,EAAC;AAAE,cAAG,MAAM,QAAQC,EAAC;AAAE,uBAAUC,MAAKD;AAAE,cAAAF,KAAE,KAAK,mBAAmBA,IAAEG,EAAC;AAAA;AAAO,YAAAH,KAAE,KAAK,mBAAmBA,IAAEE,EAAC;AAAA,QAAC;AAAA,MAAC;AAAC,WAAOF;AAAA,EAAC;AAAC;AAAE,EAAE,CAAC,EAAE,CAAC,GAAED,GAAE,WAAU,kBAAiB,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,uBAAsB,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,GAAEA,GAAE,WAAU,sBAAqB,MAAM,GAAEA,KAAE,EAAE,CAAC,EAAE,+BAA+B,CAAC,GAAEA,EAAC;AAAE,IAAM,IAAEA;",
  "names": ["l", "t", "r", "o", "s"]
}
