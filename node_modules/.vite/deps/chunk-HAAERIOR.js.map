{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/layers/support/overlayImageUtils.js", "../../@arcgis/core/views/3d/layers/DynamicLayerView3D.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{width as t,height as e,intersects as n}from\"../../../../geometry/support/aaBoundingRect.js\";import{Geometry as r}from\"../../webgl-engine/lib/Geometry.js\";import i from\"../../webgl-engine/lib/GeometryUtil.js\";import{VertexAttribute as o}from\"../../webgl-engine/lib/VertexAttribute.js\";function a(n,r,i){const o=t(n)/e(n),a={width:i,height:i};return o>1.0001?a.height=i/o:o<.9999&&(a.width=i*o),a.width=Math.round(a.width/(t(n)/t(r))),a.height=Math.round(a.height/(e(n)/e(r))),a}function h(t){return i.createSquareGeometry([[t[0],t[1],-1],[t[2],t[1],-1],[t[2],t[3],-1],[t[0],t[3],-1]])}function l(t,e){if(!n(t,e))return h(e);const i=[t[1]-e[1],Math.min(t[3],e[3])-Math.max(t[1],e[1]),e[3]-t[3],123456],a=[t[0]-e[0],Math.min(t[2],e[2])-Math.max(t[0],e[0]),e[2]-t[2],123456],l=e[2]-e[0],u=e[3]-e[1],m=a[0]>0&&a[2]>0?3:2,c=i[0]>0&&i[2]>0?3:2,g=(c+1)*(m+1),w=new Float64Array(3*g),f=new Float32Array(2*g),d=new Uint32Array(6*(c*m-1));let y=0,M=0,b=0,p=0,x=0;for(let n=0;n<4;n++){const t=i[n];if(t<=0)continue;let r=0;for(let i=0;i<4;i++){const t=a[i];t<=0||(w[M++]=e[0]+r,w[M++]=e[1]+y,w[M++]=-1,f[b++]=r/l,f[b++]=y/u,i<3&&n<3&&(1!==i||1!==n)&&(d[x++]=p,d[x++]=p+1,d[x++]=p+m+1,d[x++]=p+1,d[x++]=p+m+2,d[x++]=p+m+1),p++,r+=t)}y+=t}const A=new Uint32Array(d.length);return new r([[o.POSITION,{size:3,data:w,exclusive:!0}],[o.NORMAL,{size:3,data:s,exclusive:!0}],[o.UV0,{size:2,data:f,exclusive:!0}]],[[o.POSITION,d],[o.NORMAL,A],[o.UV0,d]])}const s=[0,0,1];export{a as computeImageExportSize,h as createGeometryForExtent,l as createOuterImageGeometry};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{forEach as t,result as r}from\"../../../core/asyncUtils.js\";import{makeHandle as i}from\"../../../core/handleUtils.js\";import a from\"../../../core/Logger.js\";import{isNone as s,isSome as n}from\"../../../core/maybe.js\";import{debounce as o,isAbortError as l,eachAlways as h,onAbort as m,isAborted as d,createAbortError as c,throwIfAborted as g}from\"../../../core/promiseUtils.js\";import{whenOnce as u}from\"../../../core/reactiveUtils.js\";import{property as p}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as f}from\"../../../core/accessorSupport/decorators/subclass.js\";import y from\"../../../geometry/Extent.js\";import{equals as _,create as w,width as x,height as R,copy as v,intersection as b}from\"../../../geometry/support/aaBoundingRect.js\";import{DrapeSourceType as S}from\"./interfaces.js\";import{LayerView3D as E}from\"./LayerView3D.js\";import{computeImageExportSize as j,createGeometryForExtent as I,createOuterImageGeometry as A}from\"./support/overlayImageUtils.js\";import{toViewIfLocal as C}from\"./support/projectExtentUtils.js\";import D from\"../support/debugFlags.js\";import{OverlayIndex as G}from\"../terrain/interfaces.js\";import{UpdatePolicy as L}from\"../webgl-engine/lib/basicInterfaces.js\";import{ModelDirty as M}from\"../webgl-engine/lib/ModelDirtyTypes.js\";import{RenderGeometry as T}from\"../webgl-engine/lib/RenderGeometry.js\";import{Texture as P}from\"../webgl-engine/lib/Texture.js\";import{ImageMaterial as O}from\"../webgl-engine/materials/ImageMaterial.js\";import U from\"../../layers/LayerView.js\";import V from\"../../layers/RefreshableLayerView.js\";import{isScaleRangeActive as H}from\"../../support/layerViewUtils.js\";import{TextureWrapMode as N}from\"../../webgl/enums.js\";const z=a.getLogger(\"esri.views.3d.layers.DynamicLayerView3D\");let F=class extends(V(E(U))){constructor(){super(...arguments),this.drapeSourceType=S.RasterImage,this.updatePolicy=L.SYNC,this.fullExtentInLocalViewSpatialReference=null,this.maximumDataResolution=null,this._images=new Array,this._extents=new Array,this._overlays=new Array,this.updateWhenStationary=!0,this._drapeSourceRenderer=null,this.refreshDebounced=o((async e=>{this.destroyed||await this._doRefresh(e).catch((e=>{l(e)||a.getLogger(this.declaredClass).error(e)}))}),2e3)}initialize(){this._drapeSourceRenderer=this.view.basemapTerrain.overlayManager.registerGeometryDrapeSource(this),this.handles.add(i((()=>this.view.basemapTerrain.overlayManager.unregisterDrapeSource(this)))),this.addResolvingPromise(C(this).then((e=>this._set(\"fullExtentInLocalViewSpatialReference\",e)))),this.updatingHandles.add((()=>this.suspended),(()=>this._suspendedChangeHandler())),this.handles.add(this.view.resourceController.scheduler.registerIdleStateCallbacks((()=>{this._isScaleRangeActive()&&this.notifyChange(\"suspended\")}),(()=>{}))),this._isScaleRangeLayer()&&this.updatingHandles.add((()=>this.layer.effectiveScaleRange),(()=>this.notifyChange(\"suspended\")))}destroy(){this.clear()}setDrapingExtent(e,t){this._spatialReference=t,e.forEach((e=>{this._overlays[e.index]=e,this._updateImageExtent(e)}))}_updateImageExtent(e){const t=this._clippedExtent(e.extent,W);if(s(t))return;const r=j(e.extent,t,e.resolution);let i=e.pixelRatio*this.view.state.pixelRatio;if(\"imageMaxWidth\"in this.layer||\"imageMaxHeight\"in this.layer){const e=this.layer.imageMaxWidth,t=this.layer.imageMaxHeight;if(r.width>e){const t=e/r.width;r.height=Math.floor(r.height*t),r.width=e,i*=t}if(r.height>t){const e=t/r.height;r.width=Math.floor(r.width*e),r.height=t,i*=e}}const a=this._extents[e.index];a&&_(a.extent,t)&&this._imageSizeEquals(t,a.imageSize,r)||(this._extents[e.index]={extent:w(t),imageSize:r,pixelRatio:i},this.suspended||this._fetch(e.index).catch((e=>{l(e)||z.error(e)})))}clear(){for(let e=0;e<this._images.length;e++)this._clearImage(e)}async doRefresh(){return this._doRefresh()}async _doRefresh(e){if(this.suspended)return;const t=[];for(let r=0;r<this._extents.length;r++)this._extents[r]&&t.push(this._fetch(r,e));await h(t)}canResume(){if(!super.canResume())return!1;const e=this.layer;if(this._isScaleRangeActive()){const{minScale:t,maxScale:r}=e.effectiveScaleRange,i=this.view.scale;if(i<r||t>0&&i>t)return!1}return!0}isUpdating(){return this._images.some((e=>!!e.loadingPromise))}async processResult(e,t,r){(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement)&&(e.image=t)}findExtentInfoAt(e){for(const t of this._extents){const r=t.extent;if(new y(r[0],r[1],r[2],r[3],this._spatialReference).contains(e))return t}return null}getFetchOptions(){}async redraw(e,r){await t(this._images,(async(t,i)=>{t&&(await e(t,r),await this._createStageObjects(i,t.image,r))}))}_imageSizeEquals(e,t,r){if(!this.maximumDataResolution)return!1;const i=x(e)/this.maximumDataResolution.x,a=R(e)/this.maximumDataResolution.y,s=i/t.width,n=a/t.height,o=i/r.width,l=a/r.height,h=Math.abs(s-o),m=Math.abs(n-l),d=D.TESTS_DISABLE_OPTIMIZATIONS?0:1.5;return h<=d&&m<=d}async _fetch(e,t){if(this.suspended)return;const r=this._extents[e],i=r.extent;this._images[e]||(this._images[e]={texture:null,material:null,renderGeometry:null,loadingPromise:null,loadingAbortController:null,image:null,pixelData:null,renderExtent:w(i)});const a=this._images[e];a.loadingAbortController&&(a.loadingAbortController.abort(),a.loadingAbortController=null);const s=new y(i[0],i[1],i[2],i[3],this._spatialReference);if(0===s.width||0===s.height)return void this._clearImage(e);const n=new AbortController;a.loadingAbortController=n,m(t,(()=>n.abort()));const o=n.signal,h=this._waitFetchReady(o).then((async()=>{const t={requestAsImageElement:!0,pixelRatio:this._overlays[e].pixelRatio,...this.getFetchOptions(),signal:o},{height:i,width:a}=r.imageSize;return this.layer.fetchImage(s,a,i,t)})).then((e=>{if(d(o))throw z.warnOnce(\"A call to fetchImage resolved even though the request was aborted. fetchImage should not resolve if options.signal.aborted is true.\"),c();return this.processResult(a,e)})).then((()=>{v(a.renderExtent,i)})).finally((()=>{h===a.loadingPromise&&(a.loadingPromise=null,a.loadingAbortController=null)}));a.loadingPromise=h,this.notifyChange(\"updating\"),await h.then((async()=>{if(o.aborted)throw c();await this._createStageObjects(e,a.image,o),this.notifyChange(\"updating\")})).catch((e=>{throw e&&!l(e)&&z.error(e),this.notifyChange(\"updating\"),e}))}_clearImage(e){const t=this._images[e];if(t){n(t.renderGeometry)&&(this._drapeSourceRenderer.removeGeometries([t.renderGeometry],M.Geometry.UPDATE),t.renderGeometry=null);const e=this.view._stage;e.remove(t.texture),t.texture=null,e.remove(t.material),t.material=null,t.loadingAbortController&&(t.loadingAbortController.abort(),t.loadingAbortController=null),t.loadingPromise=null,t.image=null,t.pixelData=null}}async _createStageObjects(e,t,i){const a=this.view._stage,o=this._images[e],l=()=>{a.remove(o.texture),o.texture=null,n(o.renderGeometry)&&(this._drapeSourceRenderer.removeGeometries([o.renderGeometry],M.Geometry.UPDATE),o.renderGeometry=null)};if(t){const n=new P(t,{width:t.width,height:t.height,preMultiplyAlpha:!0,wrap:{s:N.CLAMP_TO_EDGE,t:N.CLAMP_TO_EDGE}});let h;if(await r(this._images[e===G.INNER?G.OUTER:G.INNER].loadingPromise),g(i),e===G.INNER)h=I(o.renderExtent);else{const e=this._images[0].renderExtent;if(!e)return void l();h=A(e,o.renderExtent)}l(),a.add(n),await a.loadImmediate(n),o.texture=n,s(o.material)?(o.material=new O({transparent:!0,textureId:n.id}),a.add(o.material)):o.material.setParameters({textureId:n.id}),o.renderGeometry=new T(h,o.material),o.renderGeometry.origin=this._overlays[e].renderLocalOrigin,this._drapeSourceRenderer.addGeometries([o.renderGeometry],M.Geometry.UPDATE)}else l(),a.remove(o.material),o.material=null}_isScaleRangeLayer(){return\"effectiveScaleRange\"in this.layer}_isScaleRangeActive(){const e=this.layer;if(!this._isScaleRangeLayer())return!1;const{minScale:t,maxScale:r}=e.effectiveScaleRange;return H(t,r)}_clippedExtent(e,t){if(\"local\"!==this.view.viewingMode)return v(t,e);const r=this.view.basemapTerrain;return r.ready?b(e,r.extent,t):v(t,e)}_suspendedChangeHandler(){this.suspended?this.clear():this.refreshDebounced()}async _waitFetchReady(e){await u((()=>this.view.stationary),e),g(e)}};e([p()],F.prototype,\"layer\",void 0),e([p()],F.prototype,\"suspended\",void 0),e([p({readOnly:!0})],F.prototype,\"fullExtentInLocalViewSpatialReference\",void 0),e([p()],F.prototype,\"updating\",void 0),F=e([f(\"esri.views.3d.layers.DynamicLayerView3D\")],F);const q=F,W=w();export{q as default};\n"],
  "mappings": "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",
  "names": ["a", "n", "r", "i", "o", "s", "t", "T", "l", "e", "E", "u", "m", "g", "f", "d", "M", "p", "x", "n", "u", "e", "l", "t", "r", "a", "i", "s", "o", "h", "m", "d", "E", "T"]
}
