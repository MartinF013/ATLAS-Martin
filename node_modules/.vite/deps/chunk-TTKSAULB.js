import {
  t as t3
} from "./chunk-WJDUBZ7S.js";
import {
  t as t2
} from "./chunk-NAB3NF54.js";
import {
  i
} from "./chunk-MDCKEJ7B.js";
import {
  k
} from "./chunk-U3PSONS6.js";
import {
  p,
  r,
  t
} from "./chunk-CBQWMOBK.js";

// node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLTextureMaterial.js
var h = class extends t3 {
  constructor(t4) {
    super(t4), this._numLoading = 0, this._disposed = false, this._textureRepository = t4.textureRep, this._textureId = t4.textureId, this._acquire(t4.textureId, (t5) => this._texture = t5), this._acquire(t4.normalTextureId, (t5) => this._textureNormal = t5), this._acquire(t4.emissiveTextureId, (t5) => this._textureEmissive = t5), this._acquire(t4.occlusionTextureId, (t5) => this._textureOcclusion = t5), this._acquire(t4.metallicRoughnessTextureId, (t5) => this._textureMetallicRoughness = t5);
  }
  dispose() {
    this._texture = p(this._texture), this._textureNormal = p(this._textureNormal), this._textureEmissive = p(this._textureEmissive), this._textureOcclusion = p(this._textureOcclusion), this._textureMetallicRoughness = p(this._textureMetallicRoughness), this._disposed = true;
  }
  ensureResources(t4) {
    return 0 === this._numLoading ? i.LOADED : i.LOADING;
  }
  get textureBindParameters() {
    return new o(r(this._texture) ? this._texture.glTexture : null, r(this._textureNormal) ? this._textureNormal.glTexture : null, r(this._textureEmissive) ? this._textureEmissive.glTexture : null, r(this._textureOcclusion) ? this._textureOcclusion.glTexture : null, r(this._textureMetallicRoughness) ? this._textureMetallicRoughness.glTexture : null);
  }
  updateTexture(e) {
    (t(this._texture) || e !== this._texture.id) && (this._texture = p(this._texture), this._textureId = e, this._acquire(this._textureId, (t4) => this._texture = t4));
  }
  _acquire(e, r2) {
    if (t(e))
      return void r2(null);
    const u = this._textureRepository.acquire(e);
    if (k(u))
      return ++this._numLoading, void u.then((e2) => {
        if (this._disposed)
          return p(e2), void r2(null);
        r2(e2);
      }).finally(() => --this._numLoading);
    r2(u);
  }
};
var o = class extends t2 {
  constructor(t4 = null, e = null, s = null, i2 = null, r2 = null) {
    super(), this.texture = t4, this.textureNormal = e, this.textureEmissive = s, this.textureOcclusion = i2, this.textureMetallicRoughness = r2;
  }
};

export {
  h,
  o
};
//# sourceMappingURL=chunk-TTKSAULB.js.map
