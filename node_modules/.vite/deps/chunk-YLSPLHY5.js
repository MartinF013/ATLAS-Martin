import {
  h
} from "./chunk-7OZR6JFF.js";
import {
  A
} from "./chunk-ERNXFM5T.js";
import {
  o
} from "./chunk-TEJEYVH4.js";
import {
  T
} from "./chunk-3DCTMZI6.js";
import {
  i
} from "./chunk-MDCKEJ7B.js";
import {
  O
} from "./chunk-VMF4NMEB.js";
import {
  r
} from "./chunk-CBQWMOBK.js";

// node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterials.js
var a = class {
  constructor(r2, e) {
    this._material = r2, this._repository = e, this._map = /* @__PURE__ */ new Map();
  }
  destroy() {
    this._map.forEach((e, t) => {
      r(e) && this._repository.release(this._material, i2(t));
    });
  }
  load(e, s) {
    this._map.has(s) || this._map.set(s, this._repository.acquire(this._material, i2(s)));
    const a2 = this._map.get(s);
    if (r(a2)) {
      if (a2.ensureResources(e) === i.LOADED)
        return a2;
      this._repository.requestRender();
    }
    return null;
  }
};
function i2(r2) {
  switch (r2) {
    case A.MATERIAL:
      return o.Color;
    case A.MATERIAL_ALPHA:
      return o.Alpha;
    case A.MATERIAL_DEPTH:
      return o.Depth;
    case A.MATERIAL_NORMAL:
      return o.Normal;
    case A.MATERIAL_DEPTH_SHADOWMAP_ALL:
      return o.Shadow;
    case A.MATERIAL_HIGHLIGHT:
      return o.Highlight;
    case A.MATERIAL_DEPTH_SHADOWMAP_HIGHLIGHT:
    case A.MATERIAL_DEPTH_SHADOWMAP_DEFAULT:
      return o.Shadow;
  }
}

// node_modules/@arcgis/core/views/3d/webgl-engine/materials/internal/DefaultBufferWriter.js
var f = T().vec3f(O.POSITION);
var o2 = T().vec3f(O.POSITION).vec2f(O.UV0);
var u = T().vec3f(O.POSITION).vec4u8(O.COLOR);
var i3 = class {
  constructor(e) {
    this.vertexBufferLayout = e;
  }
  allocate(e) {
    return this.vertexBufferLayout.createBuffer(e);
  }
  elementCount(e) {
    return e.indices.get(O.POSITION).length;
  }
  write(e, t, f2, o3) {
    h(t, this.vertexBufferLayout, e.transformation, e.invTranspTransformation, f2, o3);
  }
};

export {
  a,
  i2 as i,
  f,
  o2 as o,
  u,
  i3 as i2
};
//# sourceMappingURL=chunk-YLSPLHY5.js.map
