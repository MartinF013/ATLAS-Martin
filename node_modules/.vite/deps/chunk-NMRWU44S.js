import {
  U,
  t4 as t,
  x
} from "./chunk-2QOWZFCU.js";

// node_modules/@arcgis/core/views/3d/support/PropertiesPool.js
var o = class {
  constructor(r, o2) {
    this.owner = o2, this.properties = {}, this.afterDispatchHandle = null;
    for (const t2 in r) {
      const o3 = r[t2], s = new t(o3, null, null, 2, 2);
      this.properties[t2] = { pool: s, acquired: [] };
    }
    this.afterDispatchHandle = U(() => this._release());
  }
  destroy() {
    this.afterDispatchHandle && (this.afterDispatchHandle.remove(), this.afterDispatchHandle = null);
    for (const e in this.properties) {
      const t2 = this.properties[e];
      for (const e2 of t2.acquired)
        x(e2) || t2.pool.release(e2);
      t2.pool.destroy(), t2.pool = null, t2.acquired = null;
    }
    this.properties = null, this.owner = null;
  }
  get(e) {
    const t2 = this.owner._get(e), r = this.properties[e];
    let o2 = r.pool.acquire();
    for (r.acquired.push(o2); o2 === t2; )
      r.acquired.push(o2), o2 = r.pool.acquire();
    return o2;
  }
  _release() {
    for (const e in this.properties) {
      const t2 = this.properties[e];
      let o2 = 0;
      for (const e2 of t2.acquired)
        x(e2) ? t2.acquired[o2++] = e2 : t2.pool.release(e2);
      t2.acquired.length = o2;
    }
  }
};

export {
  o
};
//# sourceMappingURL=chunk-NMRWU44S.js.map
