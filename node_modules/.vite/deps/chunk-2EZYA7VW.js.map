{
  "version": 3,
  "sources": ["../../@arcgis/core/renderers/visualVariables/support/visualVariableUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";import a from\"../../../Graphic.js\";import{neverReached as r}from\"../../../core/compilerUtils.js\";import i from\"../../../core/Logger.js\";import{isNone as n,isSome as t}from\"../../../core/maybe.js\";import{meterIn as s}from\"../../support/lengthUtils.js\";import{isSizeVariable as o,isValidNumber as l,TransformationType as c,InputValueType as u}from\"./sizeVariableUtils.js\";const f=i.getLogger(\"esri.renderers.visualVariables.support.visualVariableUtils\"),p=new a,d=Math.PI,v=/^\\s*(return\\s+)?\\$view\\.scale\\s*(;)?\\s*$/i;function b(a,r,i){const s=\"visualVariables\"in a&&a.visualVariables?a.visualVariables.find((e=>\"color\"===e.type)):a;if(!s)return;if(\"esri.renderers.visualVariables.ColorVariable\"!==s.declaredClass)return void f.warn(\"The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable\");const o=\"number\"==typeof r,l=o?null:r,c=l&&l.attributes;let u=o?r:null;const p=s.field,{ipData:d,hasExpression:v}=s.cache;let b=s.cache.compiledFunc;if(!p&&!v){const e=s.stops;return e&&e[0]&&e[0].color}if(\"number\"!=typeof u)if(v){if(n(i)||n(i.arcade))return void f.error(\"Use of arcade expressions requires an arcade context\");const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},a=i.arcade.arcadeUtils,r=a.getViewInfo(e),t=a.createExecContext(l,r);if(!b){const e=a.createSyntaxTree(s.valueExpression);b=a.createFunction(e),s.cache.compiledFunc=b}u=a.executeFunction(b,t)}else c&&(u=c[p]);const h=s.normalizationField,m=c?parseFloat(c[h]):void 0;if(null!=u&&(!h||o||!isNaN(m)&&0!==m)){isNaN(m)||o||(u/=m);const a=R(u,d);if(a){const r=a[0],n=a[1],o=r===n?s.stops[r].color:e.blendColors(s.stops[r].color,s.stops[n].color,a[2],t(i)?i.color:void 0);return new e(o)}}}function h(e,a,r){const i=\"visualVariables\"in e&&e.visualVariables?e.visualVariables.find((e=>\"opacity\"===e.type)):e;if(!i)return;if(\"esri.renderers.visualVariables.OpacityVariable\"!==i.declaredClass)return void f.warn(\"The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable\");const t=\"number\"==typeof a,s=t?null:a,o=s&&s.attributes;let l=t?a:null;const c=i.field,{ipData:u,hasExpression:p}=i.cache;let d=i.cache.compiledFunc;if(!c&&!p){const e=i.stops;return e&&e[0]&&e[0].opacity}if(\"number\"!=typeof l)if(p){if(n(r)||n(r.arcade))return void f.error(\"Use of arcade expressions requires an arcade context\");const e={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},a=r.arcade.arcadeUtils,t=a.getViewInfo(e),o=a.createExecContext(s,t);if(!d){const e=a.createSyntaxTree(i.valueExpression);d=a.createFunction(e),i.cache.compiledFunc=d}l=a.executeFunction(d,o)}else o&&(l=o[c]);const v=i.normalizationField,b=o?parseFloat(o[v]):void 0;if(null!=l&&(!v||t||!isNaN(b)&&0!==b)){isNaN(b)||t||(l/=b);const e=R(l,u);if(e){const a=e[0],r=e[1];if(a===r)return i.stops[a].opacity;{const n=i.stops[a].opacity;return n+(i.stops[r].opacity-n)*e[2]}}}}function m(e,a,r){const i=\"visualVariables\"in e&&e.visualVariables?e.visualVariables.find((e=>\"rotation\"===e.type)):e;if(!i)return;if(\"esri.renderers.visualVariables.RotationVariable\"!==i.declaredClass)return void f.warn(\"The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable\");const t=i.axis||\"heading\",s=\"heading\"===t&&\"arithmetic\"===i.rotationType?90:0,o=\"heading\"===t&&\"arithmetic\"===i.rotationType?-1:1,l=\"number\"==typeof a?null:a,c=l&&l.attributes,u=i.field,{hasExpression:p}=i.cache;let d=i.cache.compiledFunc,v=0;if(!u&&!p)return v;if(p){if(n(r)||n(r.arcade))return void f.error(\"Use of arcade expressions requires an arcade context\");const e={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},a=r.arcade.arcadeUtils,t=a.getViewInfo(e),s=a.createExecContext(l,t);if(!d){const e=a.createSyntaxTree(i.valueExpression);d=a.createFunction(e),i.cache.compiledFunc=d}v=a.executeFunction(d,s)}else c&&(v=c[u]||0);return v=\"number\"!=typeof v||isNaN(v)?null:s+o*v,v}function V(e,a,r){const i=\"number\"==typeof a,s=i?null:a,o=s&&s.attributes;let c=i?a:null;const{isScaleDriven:p}=e.cache;let d=e.cache.compiledFunc;if(p){const a=t(r)?r.scale:void 0,i=t(r)?r.view:void 0;c=null==a||\"3d\"===i?x(e):a}else if(!i)switch(e.inputValueType){case u.Expression:{if(n(r)||n(r.arcade))return void f.error(\"Use of arcade expressions requires an arcade context\");const a={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},i=r.arcade.arcadeUtils,t=i.getViewInfo(a),o=i.createExecContext(s,t);if(!d){const a=i.createSyntaxTree(e.valueExpression);d=i.createFunction(a),e.cache.compiledFunc=d}c=i.executeFunction(d,o);break}case u.Field:o&&(c=o[e.field]);break;case u.Unknown:c=null}if(!l(c))return null;if(i||!e.normalizationField)return c;const v=o?parseFloat(o[e.normalizationField]):null;return l(v)&&0!==v?c/v:null}function x(e){let a=null,r=null;const i=e.stops;return i?(a=i[0].value,r=i[i.length-1].value):(a=e.minDataValue||0,r=e.maxDataValue||0),(a+r)/2}function y(e,a,r){const i=\"visualVariables\"in e&&e.visualVariables?e.visualVariables.find((e=>\"size\"===e.type)):e;if(!i)return;if(\"esri.renderers.visualVariables.SizeVariable\"!==i.declaredClass)return void f.warn(\"The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable\");const n=M(V(i,a,r),i,a,r,i.cache.ipData);return null==n||isNaN(n)?0:n}function w(e,a,r){return null==e?null:o(e)?y(e,a,r):l(e)?e:null}function g(e,a,r){return l(r)&&e>r?r:l(a)&&e<a?a:e}function z(e,a,r,i){return e+(w(a.minSize,r,i)||a.minDataValue)}function F(e,a,r){const i=e.stops;let n=i&&i.length&&i[0].size;return null==n&&(n=e.minSize),w(n,a,r)}function S(e,a,r,i){const n=(e-a.minDataValue)/(a.maxDataValue-a.minDataValue),s=w(a.minSize,r,i),o=w(a.maxSize,r,i),l=t(i)?i.shape:void 0;if(e<=a.minDataValue)return s;if(e>=a.maxDataValue)return o;if(\"area\"===a.scaleBy&&l){const e=\"circle\"===l,a=e?d*(s/2)**2:s*s,r=a+n*((e?d*(o/2)**2:o*o)-a);return e?2*Math.sqrt(r/d):Math.sqrt(r)}return s+n*(o-s)}function E(e,a,r,i){const n=t(i)?i.shape:void 0,s=e/a.minDataValue,o=w(a.minSize,r,i),l=w(a.maxSize,r,i);let c=null;return c=\"circle\"===n?2*Math.sqrt(s*(o/2)**2):\"square\"===n||\"diamond\"===n||\"image\"===n?Math.sqrt(s*o**2):s*o,g(c,o,l)}function U(e,a,r,i,n){const[t,s,o]=R(e,n);if(t===s)return w(a.stops[t].size,r,i);{const e=w(a.stops[t].size,r,i);return e+(w(a.stops[s].size,r,i)-e)*o}}function C(e,a,r,i){const n=(t(i)&&i.resolution?i.resolution:1)*s[a.valueUnit],o=w(a.minSize,r,i),l=w(a.maxSize,r,i),{valueRepresentation:c}=a;let u=null;return u=\"area\"===c?2*Math.sqrt(e/d)/n:\"radius\"===c||\"distance\"===c?2*e/n:e/n,g(u,o,l)}function D(e){return e}function M(e,a,r,i,n){switch(a.transformationType){case c.Additive:return z(e,a,r,i);case c.Constant:return F(a,r,i);case c.ClampedLinear:return S(e,a,r,i);case c.Proportional:return E(e,a,r,i);case c.Stops:return U(e,a,r,i,n);case c.RealWorldSize:return C(e,a,r,i);case c.Identity:return D(e);case c.Unknown:return null}}function k(e,a,r){const{isScaleDriven:i}=e.cache;if(!(i&&\"3d\"===r||a))return null;const n={scale:a,view:r};let t=w(e.minSize,p,n),s=w(e.maxSize,p,n);if(null!=t||null!=s){if(t>s){const e=s;s=t,t=e}return{minSize:t,maxSize:s}}}function N(e,a,r){if(!e.visualVariables)return;const i=[],n=[],t=[],s=[],o=[];for(const l of e.visualVariables)switch(l.type){case\"color\":n.push(l);break;case\"opacity\":t.push(l);break;case\"rotation\":o.push(l);break;case\"size\":s.push(l)}return n.forEach((e=>{const n=b(e,a,r);i.push({variable:e,value:n})})),t.forEach((e=>{const n=h(e,a,r);i.push({variable:e,value:n})})),o.forEach((e=>{const n=m(e,a,r);i.push({variable:e,value:n})})),s.forEach((e=>{const n=y(e,a,r);i.push({variable:e,value:n})})),i.filter((e=>null!=e.value))}function R(e,a){if(!a)return;let r=0,i=a.length-1;return a.some(((a,n)=>e<a?(i=n,!0):(r=n,!1))),[r,i,(e-a[r])/(a[i]-a[r])]}function T(e,a,i){const n=[\"proportional\",\"proportional\",\"proportional\"];for(const t of e){const e=t.useSymbolValue?\"symbol-value\":y(t,a,i);switch(t.axis){case\"width\":n[0]=e;break;case\"depth\":n[1]=e;break;case\"height\":n[2]=e;break;case\"width-and-depth\":n[0]=e,n[1]=e;break;case\"all\":case void 0:case null:n[0]=e,n[1]=e,n[2]=e;break;default:r(t.axis)}}return n}export{T as getAllSizes,b as getColor,h as getOpacity,m as getRotationAngle,y as getSize,M as getSizeForValue,w as getSizeFromNumberOrVariable,k as getSizeRangeAtScale,N as getVisualVariableValues,v as viewScaleRE};\n"],
  "mappings": "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",
  "names": ["r", "i", "s", "e", "l", "p", "d", "v", "b", "a", "t", "h", "m", "n", "o", "g"]
}
