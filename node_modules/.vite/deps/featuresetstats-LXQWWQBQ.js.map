{
  "version": 3,
  "sources": ["../../@arcgis/core/arcade/functions/featuresetstats.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{p as n,y as t,l as r,b as e,n as a,C as i}from\"../../chunks/languageUtils.js\";import{calculateStat as u}from\"./fieldStats.js\";import{WhereClause as c}from\"../../core/sql/WhereClause.js\";async function o(n,e,o,f,l,d){if(1===f.length){if(r(f[0]))return u(n,f[0],i(f[1],-1));if(a(f[0]))return u(n,f[0].toArray(),i(f[1],-1))}else if(2===f.length){if(r(f[0]))return u(n,f[0],i(f[1],-1));if(a(f[0]))return u(n,f[0].toArray(),i(f[1],-1));if(t(f[0])){const t=await f[0].load(),r=await s(c.create(f[1],t.getFieldsIndex()),d,l);return f[0].calculateStatistic(n,r,i(f[2],1e3),e.abortSignal)}}else if(3===f.length&&t(f[0])){const t=await f[0].load(),r=await s(c.create(f[1],t.getFieldsIndex()),d,l);return f[0].calculateStatistic(n,r,i(f[2],1e3),e.abortSignal)}return u(n,f,-1)}async function s(n,t,r){const e=n.getVariables();if(e.length>0){const a=[];for(let n=0;n<e.length;n++){const i={name:e[n]};a.push(await t.evaluateIdentifier(r,i))}const i={};for(let n=0;n<e.length;n++)i[e[n]]=a[n];return n.parameters=i,n}return n}function f(i){\"async\"===i.mode&&(i.functions.stdev=function(n,t){return i.standardFunctionAsync(n,t,(function(t,r,e){return o(\"stdev\",t,r,e,n,i)}))},i.functions.variance=function(n,t){return i.standardFunctionAsync(n,t,(function(t,r,e){return o(\"variance\",t,r,e,n,i)}))},i.functions.average=function(n,t){return i.standardFunctionAsync(n,t,(function(t,r,e){return o(\"mean\",t,r,e,n,i)}))},i.functions.mean=function(n,t){return i.standardFunctionAsync(n,t,(function(t,r,e){return o(\"mean\",t,r,e,n,i)}))},i.functions.sum=function(n,t){return i.standardFunctionAsync(n,t,(function(t,r,e){return o(\"sum\",t,r,e,n,i)}))},i.functions.min=function(n,t){return i.standardFunctionAsync(n,t,(function(t,r,e){return o(\"min\",t,r,e,n,i)}))},i.functions.max=function(n,t){return i.standardFunctionAsync(n,t,(function(t,r,e){return o(\"max\",t,r,e,n,i)}))},i.functions.count=function(u,c){return i.standardFunctionAsync(u,c,(function(i,u,c){if(n(c,1,1),t(c[0]))return c[0].count(i.abortSignal);if(r(c[0])||e(c[0]))return c[0].length;if(a(c[0]))return c[0].length();throw new Error(\"Invalid Parameters for Count\")}))})}export{f as registerFunctions};\n"],
  "mappings": "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",
  "names": ["o", "f", "l", "n", "i", "t", "u", "c"]
}
