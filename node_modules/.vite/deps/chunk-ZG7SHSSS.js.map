{
  "version": 3,
  "sources": ["../../@arcgis/core/layers/support/I3SIndexInfo.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import o from\"../../core/Error.js\";import{isSome as r}from\"../../core/maybe.js\";async function n(n,t,s,a,i,d){let l=null;if(r(s)){const o=`${n}/nodepages/`,t=o+Math.floor(s.rootIndex/s.nodesPerPage);try{return{type:\"page\",rootPage:(await e(t,{query:{f:\"json\",token:a},responseType:\"json\",signal:d})).data,rootIndex:s.rootIndex,pageSize:s.nodesPerPage,lodMetric:s.lodSelectionMetricType,urlPrefix:o}}catch(f){r(i)&&i.warn(\"#fetchIndexInfo()\",\"Failed to load root node page. Falling back to node documents.\",t,f),l=f}}if(!t)return null;const p=`${n}/nodes/`,c=p+(t&&t.split(\"/\").pop());try{return{type:\"node\",rootNode:(await e(c,{query:{f:\"json\",token:a},responseType:\"json\",signal:d})).data,urlPrefix:p}}catch(f){throw new o(\"sceneservice:root-node-missing\",\"Root node missing.\",{pageError:l,nodeError:f,url:c})}}export{n as fetchIndexInfo};\n"],
  "mappings": ";;;;;;;;;;;AAIgH,eAAe,EAAEA,IAAE,GAAEC,IAAE,GAAE,GAAE,GAAE;AAAC,MAAI,IAAE;AAAK,MAAG,EAAEA,EAAC,GAAE;AAAC,UAAM,IAAE,GAAGD,iBAAeE,KAAE,IAAE,KAAK,MAAMD,GAAE,YAAUA,GAAE,YAAY;AAAE,QAAG;AAAC,aAAM,EAAC,MAAK,QAAO,WAAU,MAAM,EAAEC,IAAE,EAAC,OAAM,EAAC,GAAE,QAAO,OAAM,EAAC,GAAE,cAAa,QAAO,QAAO,EAAC,CAAC,GAAG,MAAK,WAAUD,GAAE,WAAU,UAASA,GAAE,cAAa,WAAUA,GAAE,wBAAuB,WAAU,EAAC;AAAA,IAAC,SAAO,GAAN;AAAS,QAAE,CAAC,KAAG,EAAE,KAAK,qBAAoB,kEAAiEC,IAAE,CAAC,GAAE,IAAE;AAAA,IAAC;AAAA,EAAC;AAAC,MAAG,CAAC;AAAE,WAAO;AAAK,QAAM,IAAE,GAAGF,aAAW,IAAE,KAAG,KAAG,EAAE,MAAM,GAAG,EAAE,IAAI;AAAG,MAAG;AAAC,WAAM,EAAC,MAAK,QAAO,WAAU,MAAM,EAAE,GAAE,EAAC,OAAM,EAAC,GAAE,QAAO,OAAM,EAAC,GAAE,cAAa,QAAO,QAAO,EAAC,CAAC,GAAG,MAAK,WAAU,EAAC;AAAA,EAAC,SAAO,GAAN;AAAS,UAAM,IAAI,EAAE,kCAAiC,sBAAqB,EAAC,WAAU,GAAE,WAAU,GAAE,KAAI,EAAC,CAAC;AAAA,EAAC;AAAC;",
  "names": ["n", "s", "t"]
}
