{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/layers/support/featureReference.js", "../../@arcgis/core/views/3d/layers/support/FeatureTile.js", "../../@arcgis/core/views/3d/layers/support/FeatureTileFetcher3D.js", "../../@arcgis/core/views/3d/layers/support/FeatureTileFetcher3DDebugger.js", "../../@arcgis/core/layers/graphics/controllers/FeatureTileController3D.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/HeatmapTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/lib/DrapedHeatmapRenderer.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/HeatmapDensityTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/materials/HeatmapDensityMaterial.js", "../../@arcgis/core/views/3d/layers/support/HeatmapFeatureProcessor.js", "../../@arcgis/core/views/3d/layers/FeatureLikeLayerView3D.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport\"../../../../layers/graphics/dehydratedFeatures.js\";import{equals as e}from\"../../../../layers/graphics/dehydratedFeatureComparison.js\";class s{constructor(e,s){this.highestResolutionVersion=null,this.versions=[],this.ref(e,s)}get isReferenced(){return 0!==this.versions.length}get isSingle(){return 1===this.versions.length&&1===this.versions[0].refCount}ref(s,t){const r=this.feature;i.oldVersion=r,this.feature&&Object.defineProperty(s,\"uid\",{value:this.feature.uid,configurable:!0});for(const o of this.versions)if(o.resolution===t){o.refCount++;const t=this.highestResolutionVersion===o&&!e(s,o.feature);return(t||this.highestResolutionVersion!==o)&&(o.feature=s),i.newVersion=t?s:r,i}const n={feature:s,resolution:t,refCount:1};return this.versions.push(n),!this.highestResolutionVersion||t<this.highestResolutionVersion.resolution?(i.newVersion=s,this.highestResolutionVersion=n):i.newVersion=r,i}unref(e){for(let s=0;s<this.versions.length;s++){const t=this.versions[s];if(t.resolution===e)return t.refCount--,i.oldVersion=this.feature,0===t.refCount&&(this.versions[s]=this.versions[this.versions.length-1],this.versions.length--,this.highestResolutionVersion===t&&(this._recalculateHighestResolutionVersion(),i.oldVersion=t.feature)),i.newVersion=this.feature,i}return null}get feature(){return this.highestResolutionVersion?this.highestResolutionVersion.feature:null}_recalculateHighestResolutionVersion(){if(0===this.versions.length)return void(this.highestResolutionVersion=null);let e=this.versions[0];for(let s=1;s<this.versions.length;s++){const t=this.versions[s];t.resolution<e.resolution&&(e=t)}this.highestResolutionVersion=e}}class t{constructor(e){this._feature=e,this.refCount=1}get isReferenced(){return 0!==this.refCount}get isSingle(){return 1===this.refCount}ref(s){return++this.refCount,i.oldVersion=this._feature,this.feature&&Object.defineProperty(s,\"uid\",{value:this.feature.uid,configurable:!0}),e(this._feature,s)||(this._feature=s),i.newVersion=this._feature,i}unref(){return i.oldVersion=this._feature,this.refCount>0&&(this.refCount--,!this.isReferenced)?(i.newVersion=null,i):(i.newVersion=this._feature,i)}get feature(){return this._feature}}const i={oldVersion:null,newVersion:null};export{s as MultiFeatureReference,t as SingleFeatureReference};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{shuffle as t}from\"../../../../core/arrayUtils.js\";import{unwrapOr as e,isSome as s,isNone as i}from\"../../../../core/maybe.js\";import{create as r,fromExtent as u,intersects as a,copy as h,POSITIVE_INFINITY as n,intersection as f}from\"../../../../geometry/support/aaBoundingRect.js\";import{numVertices as _,estimateSize as d,getObjectId as m}from\"../../../../layers/graphics/dehydratedFeatures.js\";const l=16438,F=new Set;class E{constructor(t){this.descriptor=t,this.fetchStatus=o.FETCH_NEEDED,this._features=null,this._numVertices=0,this._featureLimit=0,this.featuresMissing=!0,this._shuffled=!1,this._numFeatures=c,this._emptyFeatureRatio=0,this._estimatedSize=-1,this._estimatedUnusedSize=0,this._estimatedUnusedSizeDirty=!1,this._availableFields=F,this._displayingFeatures=null,this.alive=!0,this.filtered=!1}get displayingFeatures(){return this._displayingFeatures}set displayingFeatures(t){this._displayingFeatures=t,this.extentIncludingBorrowedFeatures=null}get perTileMaximumNumberOfFeaturesExceeded(){return!this.filtered&&(this.featuresMissing||this.features&&this.featureLimit!==this.features.length)}get features(){return this._features}get featureLimit(){return this._featureLimit}set featureLimit(t){this._featureLimit!==t&&(this._featureLimit=t,this._estimatedUnusedSizeDirty=!0)}get availableFields(){return this._availableFields}setFeatures(t,s,i){this._availableFields=e(i,F),this._features=t,this._shuffled=!1,this._estimatedSize=-1,this._estimatedUnusedSizeDirty=!0,t&&t.length>0?(this._emptyFeatureRatio=s/(t.length+s),this._numVertices=t.reduce(((t,e)=>t+_(e.geometry)),0)):(this._emptyFeatureRatio=0,this._numVertices=0)}get emptyFeatureRatio(){return this._emptyFeatureRatio}get numFeatures(){return this.hasPreciseFeatureCount?this._numFeatures:this._features?this._features.length:0}set numFeatures(t){this._numFeatures=t}get hasPreciseFeatureCount(){return this._numFeatures>c}get needsFeatureCount(){return this._numFeatures===c}get numVertices(){return this._numVertices}get id(){return this.descriptor.id}get estimatedSize(){return this.updateMemoryEstimates(),this._estimatedSize}get estimatedUnusedSize(){return this._estimatedUnusedSize}updateMemoryEstimates(){if(this._estimatedSize<0){if(this._estimatedSize=0,this._estimatedUnusedSize=0,this._features)for(let t=0;t<this._features.length;++t){const e=d(this._features[t]);this._estimatedSize+=e,t>=this.featureLimit&&(this._estimatedUnusedSize+=e)}return!0}if(this._estimatedUnusedSizeDirty){if(this._estimatedUnusedSize=0,this._estimatedUnusedSizeDirty=!1,this._features)for(let t=this.featureLimit;t<this._features.length;++t)this._estimatedUnusedSize+=d(this._features[t]);return!0}return!1}get isFetching(){return this.fetchStatus===o.FETCHING||this.fetchStatus===o.REFETCHING}get isRefetching(){return this.fetchStatus===o.REFETCHING}get needsFetching(){return this.fetchStatus===o.FETCH_NEEDED||this.fetchStatus===o.REFETCH_NEEDED}get needsRefetching(){return this.fetchStatus===o.REFETCH_NEEDED}get isFetched(){return this.fetchStatus===o.DONE||this.fetchStatus===o.FULL}resetFetching(){this.fetchStatus=this.fetchStatus===o.REFETCHING?o.REFETCH_NEEDED:o.FETCH_NEEDED}get needsDisplayUpdate(){return!!this._features&&!S(this._features,this.displayingFeatures,this.featureLimit)}intersects(t){return!t||!this.descriptor.extent||(u(t,D),a(this.descriptor.extent,D))}intersectionIncludingBorrowed(t,e){const i=s(this.extentIncludingBorrowedFeatures)?this.extentIncludingBorrowedFeatures:this.descriptor.extent;return t||i?(t?(u(t,e),f(e,i,e)):h(e,i),e):(h(e,n),e)}_shuffle(e){this._features.sort(((t,s)=>m(t,e)-m(s,e))),t(this._features,l),this._shuffled=!0,this._estimatedUnusedSizeDirty=!0}reduceFeatures(t,e,s){if(t<=0)return!1;if(!this._features)return this.featureLimit=0,!1;let i=!1;this.featureLimit=Math.ceil(this.numFeatures*t),this.featureLimit>this._features.length&&(this.featureLimit=this._features.length,this.fetchStatus===o.DONE&&this._features.length>0&&(this.fetchStatus=o.REFETCH_NEEDED,i=!0)),!this._shuffled&&t<1&&this._shuffle(s);const r=Math.max(this.featureLimit,Math.ceil(e*this.numFeatures));return this._features.length>r&&(this._features.length=r,this.featuresMissing=!0,this.fetchStatus===o.FULL&&(this.fetchStatus=o.DONE)),i}get cache(){return{availableFields:this._availableFields,features:this.features,numFeatures:this._numFeatures,emptyFeatureRatio:this._emptyFeatureRatio,fetchStatus:this.fetchStatus,featuresMissing:this.featuresMissing}}set cache(t){this.requestController=null,this._availableFields=t.availableFields,this._features=t.features,this._numFeatures=t.numFeatures,this._emptyFeatureRatio=t.emptyFeatureRatio,this.fetchStatus=t.fetchStatus,this.featuresMissing=t.featuresMissing,this._estimatedSize=-1,this._estimatedUnusedSizeDirty=!0}}const c=-1,g=-2;var o;function S(t,e,s){if(i(e)||i(t)||s!==e.length||s>t.length)return!1;for(let i=0;i<s;++i)if(t[i]!==e[i])return!1;return!0}!function(t){t[t.FETCH_NEEDED=0]=\"FETCH_NEEDED\",t[t.REFETCH_NEEDED=1]=\"REFETCH_NEEDED\",t[t.FETCHING=2]=\"FETCHING\",t[t.REFETCHING=3]=\"REFETCHING\",t[t.DONE=4]=\"DONE\",t[t.FULL=5]=\"FULL\"}(o||(o={}));const D=r();export{g as FAILED_FEATURE_COUNT,E as FeatureTile,o as FetchStatus};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import s from\"../../../../core/Handles.js\";import i from\"../../../../core/Logger.js\";import{someMap as r}from\"../../../../core/MapUtils.js\";import{isSome as a,destroyMaybe as n,isNone as o,unwrap as u}from\"../../../../core/maybe.js\";import{isAbortError as l,eachAlways as h,throwIfAborted as c}from\"../../../../core/promiseUtils.js\";import{on as d}from\"../../../../core/reactiveUtils.js\";import{schedule as p}from\"../../../../core/scheduling.js\";import{property as f}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as m}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as g,equals as F,clone as y,expand as _,toExtent as T}from\"../../../../geometry/support/aaBoundingRect.js\";import{getObjectId as x,hasVertices as E}from\"../../../../layers/graphics/dehydratedFeatures.js\";import C from\"../../../../rest/support/QuantizationParameters.js\";import R from\"../../../../rest/support/Query.js\";import{ViewingMode as b}from\"../../../ViewingMode.js\";import{MultiFeatureReference as v,SingleFeatureReference as M}from\"./featureReference.js\";import{FAILED_FEATURE_COUNT as D,FetchStatus as w,FeatureTile as j}from\"./FeatureTile.js\";import{tilesAreRelated as O}from\"../../terrain/tileUtils.js\";import{ImmediateTask as P,TaskPriority as N}from\"../../../support/Scheduler.js\";const U=i.getLogger(\"esri.views.3d.layers.support.FeatureTileFetcher3D\");let I=class extends t{constructor(e){super(e),this._useTileCount=!1,this.updating=!1,this.updatingTotal=0,this.updatingRemaining=0,this.expectedFeatureDiff=0,this.maximumNumberOfFeaturesExceeded=!1,this.maximumNumberOfFeaturesExceededThrottle=1e3,this._fullRatio=1,this._farRatio=1,this.changes={updates:{adds:new Array,removes:new Array},adds:new Array,removes:new Array},this.handles=new s,this._frameTask=P,this._dirty=!1,this.featureTiles=new Map,this.displayingFeatureReferences=new Map,this.numDisplayingFeatureReferences=0,this.suspended=!0,this.pendingEdits=null}set maximumNumberOfFeatures(e){e=e||1/0;const t=this._get(\"maximumNumberOfFeatures\");e===t||e<1||(this._set(\"maximumNumberOfFeatures\",e),this._maximumFeaturesUpdated(t,e))}set memoryFactor(e){this.memoryFactor!==e&&(this._set(\"memoryFactor\",e),this._setDirty())}set lodFactor(e){this.lodFactor!==e&&(this._set(\"lodFactor\",e),this.supportsResolution&&this.refetch())}get useTileCount(){return this._useTileCount&&a(this.context.query.queryFeatureCount)}set useTileCount(e){this._useTileCount=e,this.notifyChange(\"useTileCount\")}get memoryForUnusedFeatures(){let e=0;return this.featureTiles.forEach((t=>e+=t.estimatedUnusedSize)),e}get totalVertices(){let e=0;return this.featureTiles.forEach((t=>e+=t.numVertices)),e}get totalFeatures(){let e=0;return this.featureTiles.forEach((t=>e+=t.numFeatures)),e}set filterExtent(e){if(e&&this.context.tilingScheme&&!e.spatialReference.equals(this.context.tilingScheme.spatialReference))return void U.error(\"#filterExtent=\",\"extent needs to be in the same spatial reference as the tiling scheme\");const t=this._get(\"filterExtent\");if(t===e||t&&e&&t.equals(e))return;const s=e?e.clone():null;this._set(\"filterExtent\",s),this._reclip(s,t)}initialize(){this.handles.add(d((()=>this.tileDescriptors),\"change\",(()=>this._setDirty()),{onListenerAdd:()=>this._setDirty()})),this.objectIdField=this.context.objectIdField,this.FeatureReferenceClass=this.context.capabilities.supportsMultipleResolutions?v:M;const e=this.context.scheduler;a(e)&&(this._frameTask=e.registerTask(N.FEATURE_TILE_FETCHER,this)),this._setDirty()}destroy(){this._frameTask.remove(),this.handles=n(this.handles),this.featureTiles.forEach((e=>{this._cancelFetchTile(e),this._removeTile(e)})),this.featureTiles.clear(),this.displayingFeatureReferences.clear(),this.pendingEdits&&(this.pendingEdits.controller.abort(),this.pendingEdits=null)}get paused(){return this.suspended||!!this.pendingEdits}restart(){this.featureTiles.forEach((e=>{this._cancelFetchTile(e),this._clearTile(e),this._resetFetchTile(e)})),a(this.context.memoryCache)&&this.context.memoryCache.clear(),this._setDirty()}refetch(){this.featureTiles.forEach((e=>{this._cancelFetchTile(e),this._resetFetchTile(e)})),a(this.context.memoryCache)&&this.context.memoryCache.clear(),this._setDirty()}suspend(){this.suspended||(this.suspended=!0,this._pause(),this._setDirty())}resume(){this.suspended&&(this.suspended=!1,this._unpause())}_pause(){this.paused&&(this.featureTiles.forEach((e=>this._cancelFetchTile(e))),this._updated())}_unpause(){this.paused||(this._setDirty(),this._updated())}get availableFields(){let e=null;return this.featureTiles.forEach((t=>{o(t.displayingFeatures)||0===t.displayingFeatures.length||(o(e)?e=new Set(t.availableFields):e.forEach((s=>{t.availableFields.has(s)||u(e).delete(s)})))})),a(e)?e:new Set}applyEdits(e){this.pendingEdits||(this.pendingEdits={edits:Promise.resolve(),count:0,controller:new AbortController},this._pause());const t=this.pendingEdits;t.count++;const s=t.edits.then((()=>e.result.catch((e=>{if(l(e))throw e;return null})).then((e=>e?(this._applyEditsDeleteFeatures(e.deletedFeatures),this._applyEditsAddUpdateFeatures(e.addedFeatures,e.updatedFeatures,t.controller.signal).then((()=>e))):e)).then((e=>(0==--t.count&&(this.pendingEdits===t&&(this.pendingEdits=null),a(this.context.memoryCache)&&this.context.memoryCache.clear(),this._unpause(),this._updated()),e)))));return t.edits=s,this._updated(),s}_applyEditsDeleteFeatures(e){if(0===e.length)return;const t=this.context.globalIdField,s=t&&this.availableFields.has(t),i=new Set,r=this.objectIdField;e.forEach((({objectId:e,globalId:a})=>{if((!e||e<0)&&t){s||U.errorOncePerTick(`Editing the specified service requires the layer's globalIdField, ${t} to be included the layer's outFields for updates to be reflected in the view`);const e=this.features.find((e=>e.attributes&&e.attributes[t]===a));e&&i.add(x(e,r))}else i.add(e)})),this.featureTiles.forEach((e=>{if(!e.features)return;const t=e.features.filter((e=>!i.has(x(e,this.objectIdField))));t.length!==e.features.length&&(e.setFeatures(t,0,e.availableFields),this._invalidateCounts())}))}async _applyEditsAddUpdateFeatures(e,t,s){const i=[],r=new Set;if(e.forEach((e=>i.push(e.objectId))),t.forEach((e=>{i.push(e.objectId),r.add(e.objectId)})),0===i.length)return;const a=[];this.featureTiles.forEach((e=>{const t=this._applyEditsAddUpdateTile(e,i,r,s);t&&a.push(t)})),await h(a)}async _applyEditsAddUpdateTile(e,t,s,i){if(!e.features)return;const r=this._createQuery(e);r.resultType=void 0,r.cacheHint=!1,r.objectIds=t;const a=await this._queryFeatures(r,i);let n=null;if(s.size>0){const t=e.features.filter((e=>!s.has(x(e,this.objectIdField))));t.length!==e.features.length&&(n=t)}if(a.features.length>0){n||(n=e.features.slice());for(const e of a.features)n.push(e)}n&&(e.hasPreciseFeatureCount&&(e.numFeatures=Math.max(e.numFeatures,n.length)),e.setFeatures(n,0,k(e.availableFields,a.fields)),this._invalidateCounts())}_queryFeatures(e,t){return this.context.query.queryFeaturesDehydrated(e,{signal:t,timeout:G})}_setDirty(){this._dirty=!0,this._updated()}get running(){return this.updating}runTask(e){if(this._frameTask.processQueue(e),!this._dirty||!this.constructed)return;this._dirty=!1;const t=this._getListOfTiles();if(this._markTilesNotAlive(t),!e.run((()=>this._addTiles(t,e)))||!e.run((()=>this._filterExtentTiles(t,e)))||!e.run((()=>this._removeTiles(t,e)))||e.done)return void this._setDirty();const s=this._sortTiles(t);e.run((()=>this._displayTiles(s,e)))&&e.run((()=>this._fetchTiles(s,e)))&&e.run((()=>this._updateMemoryEstimates(s,e)))||this._setDirty(),this._updated(),this.updating||this._updateMaximumNumberOfFeaturesExceeded()}_markTilesNotAlive(e){for(const t of e)t.alive=!1}_addTiles(e,t){return!this.suspended&&(this.tileDescriptors.forEach((s=>{const i=this.featureTiles.get(s.id);i?i.alive=!0:t.done||(e.push(this._addTile(s)),t.madeProgress())})),t.hasProgressed)}_filterExtentTiles(e,t){for(const s of e){if(t.done)break;s.alive&&(s.filtered=!s.intersects(this.filterExtent),s.filtered&&(this._clearTile(s),t.madeProgress()))}return t.hasProgressed}_removeTiles(e,t){for(let s=e.length-1;s>=0&&!t.done;s--){const i=e[s];i.alive||(this._removeTile(i),s!==e.length-1&&(e[s]=e[e.length-1]),e.pop(),t.madeProgress())}return t.hasProgressed}_sortTiles(e){return e.sort(((e,t)=>e.descriptor.loadPriority-t.descriptor.loadPriority)),e}_displayTiles(e,t){const s=this._updateRatio(e),i=e=>{const t=this._fullRatio<1?s(e)*this._farRatio:1;return e.reduceFeatures(t,this.memoryFactor,this.objectIdField)&&this._setDirty(),this._showTile(e)};for(const r of e)if(!t.run((()=>i(r)))){this._setDirty();break}return t.hasProgressed}_fetchTiles(e,t){if(this.paused)return!1;let s=!1;for(const i of e){if(!i.needsFetching)continue;const e=a(this.context.memoryCache)?this.context.memoryCache.pop(i.id):null;if(a(e))i.cache=e,this._setDirty(),this._scheduleUpdated(),t.madeProgress();else{if(this._needsNumFeatures(i)){const e=new AbortController,r=this._fetchTileCount(i,e.signal);this._handleRequest(i,r,e,(()=>i.numFeatures=D)),s=!0,t.madeProgress()}if(t.done)return!0}}if(s)return t.hasProgressed;for(const i of e)if(i.needsFetching){const e=new AbortController,s=this._fetchTile(i,e.signal);if(this._handleRequest(i,s,e,(e=>{i.setFeatures([],0,null),this._invalidateCounts(),i.featuresMissing=!1,this.context.logFetchError(U,e)})),t.madeProgress(),t.done)return!0}return t.hasProgressed}_updateMemoryEstimates(e,t){return e.some((e=>!t.run((()=>e.updateMemoryEstimates()))&&(this._setDirty(),!0))),t.hasProgressed}_reclip(e,t){if(!this.constructed)return;const s=new Array;this.featureTiles.forEach((i=>{o(i.displayingFeatures)||0===i.displayingFeatures.length||(i.intersectionIncludingBorrowed(t,z),i.intersectionIncludingBorrowed(e,B),F(z,B)||s.push(i))})),this._refreshDisplayingFeatures(s),this._updated()}_refreshDisplayingFeatures(e){const t=new Set,s=this.changes.updates;for(const i of e)if(!o(i.displayingFeatures))for(const e of i.displayingFeatures){const i=x(e,this.objectIdField);if(t.has(i))continue;t.add(i);const{feature:r}=this.displayingFeatureReferences.get(i);s.removes.push(r),s.adds.push(r)}this._applyChanges()}_updated(){let e=0;this.paused||this.featureTiles.forEach((t=>t.isFetching?++e:0));const t=this._dirty||e>0||!!this.pendingEdits;if(this._set(\"updating\",t),t){let t=0,s=0,i=0,r=0,n=0;const o=this.displayingFeatureReferences.size/this.numDisplayingFeatureReferences;this.featureTiles.forEach((e=>{if(++s,e.isFetching&&e.hasPreciseFeatureCount){const t=this._maximumFeaturesForTile(e)*(1-e.emptyFeatureRatio),s=a(e.displayingFeatures)?e.displayingFeatures.length*o:0;n+=t-s}e.needsFetching?++r:e.numFeatures>0&&(++i,t+=e.numFeatures)})),r+=e;let u=0,l=0;t?(l=t,u=Math.min(r*t/i,t)):(l=s,u=r),n=Math.min(this.maximumNumberOfFeatures-this.features.length,n),this._set(\"updatingTotal\",l),this._set(\"updatingRemaining\",u),this._set(\"expectedFeatureDiff\",n)}else this._set(\"updatingTotal\",0),this._set(\"updatingRemaining\",0),this._set(\"expectedFeatureDiff\",0);this.debugger&&this.debugger.update()}_updateMaximumNumberOfFeaturesExceeded(){const e=r(this.featureTiles,(e=>e.perTileMaximumNumberOfFeaturesExceeded));this._set(\"maximumNumberOfFeaturesExceeded\",e)}_updateRatio(e){const t=A(e),s=e=>1/(1<<Math.max(0,t-e.descriptor.lij[0]));let i=0,r=0;for(const a of e){const e=a.numFeatures;i+=e,r+=e*s(a)}return this._fullRatio=Math.min(1,this.maximumNumberOfFeatures/i),this._farRatio=this.maximumNumberOfFeatures/r,this._scheduleUpdated(),s}_maximumFeaturesUpdated(e,t){e!==t&&(t>e&&this.featureTiles.forEach((e=>{if(!e.featuresMissing)return;const t=this._maximumFeaturesForTile(e);e.features&&(e.features.length>=t||e.fetchStatus===w.FULL)||(this._cancelFetchTile(e),this._resetFetchTile(e))})),this._setDirty())}_addTile(e){const t=new j(e);return this.featureTiles.set(t.id,t),this._resetFetchTile(t),this._referenceDisplayingFeaturesFromRelatedTiles(t),t}_referenceDisplayingFeaturesFromRelatedTiles(e){const t=e.descriptor.resolution;this.featureTiles.forEach((s=>{if(!(o(s.displayingFeatures)||e===s||e.descriptor.lij&&s.descriptor.lij&&!O(e.descriptor.lij,s.descriptor.lij))){o(e.displayingFeatures)&&(e.displayingFeatures=[]),e.descriptor.extent&&s.descriptor.extent&&(o(e.extentIncludingBorrowedFeatures)&&(e.extentIncludingBorrowedFeatures=y(e.descriptor.extent)),_(e.extentIncludingBorrowedFeatures,s.descriptor.extent,e.extentIncludingBorrowedFeatures));for(const i of s.displayingFeatures){e.displayingFeatures.push(i);const s=this.displayingFeatureReferences.get(x(i,this.objectIdField));s.ref(s.feature,t),this.numDisplayingFeatureReferences++}}})),e.featureLimit=a(e.displayingFeatures)?e.displayingFeatures.length:0}_removeTile(e){this._clearTile(e),this.featureTiles.delete(e.id)}_resetFetchTile(e){e.filtered=!e.intersects(this.filterExtent),e.filtered?e.needsFetching&&(e.fetchStatus=w.DONE):e.fetchStatus=w.FETCH_NEEDED}_cancelFetchTile(e){const t=e.requestController;a(t)&&(e.requestController=null,e.resetFetching(),t.abort())}async _fetchTileCount(e,t){return e.numFeatures=await this._fetchCount(e,t),this._updateRatio(this._getListOfTiles()),e.fetchStatus===w.REFETCHING?w.REFETCH_NEEDED:w.FETCH_NEEDED}async _fetchTile(e,t){const s=this._maximumFeaturesForTile(e);if(s<=0)return Q(e);const i=this._getMaxRecordCount(e),r=Math.ceil(s/i);if(q(e)||!this.context.capabilities.supportsMaxRecordCountFactor||e.numFeatures<=s&&r>R.MAX_MAX_RECORD_COUNT_FACTOR)return this._fetchPagedTile(e,t);const a=this._createQuery(e);if(a.maxRecordCountFactor=Math.ceil(s/i),e.isRefetching&&e.features&&e.features.length>0){const t=Math.ceil(e.features.length/(1-e.emptyFeatureRatio)/i);a.maxRecordCountFactor=Math.max(t+1,a.maxRecordCountFactor)}const{features:n,exceededTransferLimit:o,fields:u}=await this._queryFeatures(a,t),l=o?a.maxRecordCountFactor>=R.MAX_MAX_RECORD_COUNT_FACTOR?w.FULL:w.DONE:w.FULL;return await this._frameTask.schedule((()=>{e.featuresMissing=n.length<e.numFeatures||o;const t=this._removeEmptyFeatures(n);e.setFeatures(n,t,H(u))}),t),c(t),this._invalidateCounts(),l}async _fetchCount(e,t){return this.context.query.queryFeatureCount(this._createFeatureCountQuery(e),{signal:t})}async _fetchPagedTile(e,t){let s,i=0,r=0,a=0,n=this._maximumFeaturesForTile(e)-a;const o=this._getMaxRecordCount(e);let l=null;for(;;){const h=this._createQuery(e),d=this._setPagingParameters(h,i,n,o),{features:p,exceededTransferLimit:f,fields:m}=await this._queryFeatures(h,t);if(await this._frameTask.schedule((()=>{d&&(i+=u(h.num)),a+=p.length,r+=this._removeEmptyFeatures(p),e.featuresMissing=i<e.numFeatures||f,s=s?s.concat(p):p,l=k(l,m),e.setFeatures(s,r,l)}),t),c(t),this._invalidateCounts(),this._setDirty(),n=this._maximumFeaturesForTile(e)-a,!d||!f||n<=0)return f?w.DONE:w.FULL}}_createFeatureCountQuery(e){const t=this._createQuery(e);return this.context.capabilities.supportsCacheHint&&(t.resultType=void 0,t.cacheHint=!0),t}_createQuery(e){const t=this.context.createQuery(),s=e.descriptor.extent;if(s){const e=this.context.tilingScheme.spatialReference;t.geometry=T(s,e)}return this._setResolutionParams(t,e),this._useTileQuery(e)?t.resultType=\"tile\":this.context.capabilities.supportsCacheHint&&(t.cacheHint=!0),t}_setPagingParameters(e,t,s,i){return!!this.context.capabilities.supportsPagination&&(e.start=t,s>0&&this.context.capabilities.supportsMaxRecordCountFactor?(e.maxRecordCountFactor=Math.ceil(s/i),e.num=Math.min(e.maxRecordCountFactor*i,s)):e.num=Math.min(i),!0)}_getEffectiveTileResolution(e){if(null==e.descriptor.resolution)return null;const t=this.context.viewingMode===b.Global?this.context.tilingScheme.resolutionAtLevel(3):1/0;return Math.min(e.descriptor.resolution,t)/this.lodFactor}get supportsResolution(){return this.context.capabilities.supportsMultipleResolutions&&\"point\"!==this.context.geometryType}_setResolutionParams(e,t){if(!this.supportsResolution)return;const s=this._getEffectiveTileResolution(t);null!=s&&(this.context.capabilities.supportsQuantization?e.quantizationParameters=new C({mode:\"view\",originPosition:\"upper-left\",tolerance:s,extent:this.context.fullExtent}):\"polyline\"===this.context.geometryType&&(e.maxAllowableOffset=s))}_removeEmptyFeatures(e){const t=e.length;for(let s=0;s<e.length;){const t=e[s];E(t.geometry)?++s:(e[s]=e[e.length-1],--e.length)}return t-e.length}_needsNumFeatures(e){return this.useTileCount&&e.needsFeatureCount&&!q(e)}_getMaxRecordCount(e){const{tileMaxRecordCount:t,maxRecordCount:s}=this.context;return this._useTileQuery(e)&&a(t)&&t>0&&this.context.capabilities.supportsResultType?t:a(s)&&s>0?s:V}_useTileQuery(e){return(!q(e)||!this.context.capabilities.supportsCacheHint)&&this.context.capabilities.supportsResultType}_handleRequest(e,t,s,i){e.fetchStatus=e.needsRefetching?w.REFETCHING:w.FETCHING,e.requestController=s;let r=!1;t.then((t=>{e.requestController=null,e.fetchStatus=t})).catch((t=>{e.requestController===s&&(e.requestController=null,e.fetchStatus=w.DONE),l(t)?r=!0:i(t)})).then((()=>{r||this._setDirty(),this._scheduleUpdated()}))}_scheduleUpdated(){this.handles&&!this.handles.has(\"scheduleUpdated\")&&this.handles.add(p((()=>{this.handles.remove(\"scheduleUpdated\"),this._updated()})),\"scheduleUpdated\")}_showTile(e){if(a(e.displayingFeatures)&&!e.needsDisplayUpdate)return!1;const t=e.features;if(0===e.featureLimit||!t){const t=a(e.displayingFeatures)&&e.displayingFeatures.length>0;return this._hideTileFeatures(e),e.displayingFeatures=[],t}const s=e.descriptor.resolution,i=this.changes.updates,r=this.changes.adds,n=Math.min(e.featureLimit,t.length);e.featureLimit=n;for(let a=0;a<n;++a){const e=t[a],n=x(e,this.objectIdField),o=this.displayingFeatureReferences.get(n);if(o){const t=o.ref(e,s);t.oldVersion!==t.newVersion&&(i.removes.push(t.oldVersion),i.adds.push(t.newVersion))}else this.displayingFeatureReferences.set(n,new this.FeatureReferenceClass(e,s)),r.push(e);this.numDisplayingFeatureReferences++}return this._hideTileFeatures(e),this._applyChanges(),e.displayingFeatures=t.slice(0,n),!0}_hideTile(e){this._cancelFetchTile(e),this._hideTileFeatures(e)}_hideTileFeatures(e){if(o(e.displayingFeatures))return;const t=this.changes.updates,s=this.changes.removes;for(const i of e.displayingFeatures){const r=x(i,this.objectIdField),a=this.displayingFeatureReferences.get(r);if(!a)continue;const n=a.unref(e.descriptor.resolution);this.numDisplayingFeatureReferences--,n?n.oldVersion!==n.newVersion&&(null==n.newVersion?(this.displayingFeatureReferences.delete(r),s.push(n.oldVersion)):(t.adds.push(n.newVersion),t.removes.push(n.oldVersion))):console.error(\"Hiding unreferenced feature\")}this._applyChanges(),e.displayingFeatures=null}_applyChanges(){const e=this.changes.updates;e.removes.length>0&&(this.features.removeMany(e.removes),e.removes.length=0),e.adds.length>0&&(this.features.addMany(e.adds),e.adds.length=0);const t=this.changes.adds,s=this.changes.removes,i=Math.min(t.length,s.length);let r=0;for(;r<i;){const e=Math.min(r+X,i);this.features.addMany(t.slice(r,e)),this.features.removeMany(s.slice(r,e)),r=e}t.length>i&&this.features.addMany(0===r?t:t.slice(r)),s.length>i&&this.features.removeMany(0===r?s:s.slice(r)),t.length=0,s.length=0}_clearTile(e){if(this._hideTile(e),e.features&&a(this.context.memoryCache)){const t=16+e.estimatedSize;this.context.memoryCache.put(e.id,e.cache,t)}e.setFeatures(null,0,null),this._invalidateCounts()}_invalidateCounts(){this.notifyChange(\"totalVertices\"),this.notifyChange(\"totalFeatures\"),this.notifyChange(\"memoryForUnusedFeatures\")}_getListOfTiles(){return Array.from(this.featureTiles.values())}get storedFeatures(){return this._getListOfTiles().reduce(((e,t)=>e+(t.features?t.features.length:0)),0)}_maximumFeaturesForTile(e){const t=e.hasPreciseFeatureCount?e.numFeatures:1/0,s=e.hasPreciseFeatureCount?t:this.maximumNumberOfFeatures,i=this._fullRatio<1?this._farRatio:1;return Math.min(Math.ceil(s*i/(1-e.emptyFeatureRatio)),t)}get test(){return{process:e=>this.runTask(e),getFeatureTileById:e=>this.featureTiles.get(e),forEachFeatureTile:e=>this.featureTiles.forEach(e)}}};function q(e){return\"dummy-tile-full-extent\"===e.id}function A(e){let t=0;for(const s of e)s.features&&s.features.length>0&&s.alive&&(t=Math.max(t,s.descriptor.lij[0]));return t}function S(e){const t=e.capabilities.query;return{supportsMultipleResolutions:L(e),supportsPagination:!(!t||!t.supportsPagination),supportsResultType:!(!t||!t.supportsResultType),supportsCacheHint:!(!t||!t.supportsCacheHint),supportsQuantization:!(!t||!t.supportsQuantization),supportsQuantizationEditMode:!(!t||!t.supportsQuantizationEditMode),supportsMaxRecordCountFactor:!(!t||!t.supportsMaxRecordCountFactor),supportsFormatPBF:!(!t||!t.supportsFormatPBF)}}function L(e){switch(e.geometryType){case\"polyline\":return!0;case\"polygon\":return e.capabilities&&e.capabilities.query&&e.capabilities.query.supportsQuantization;default:return!1}}function Q(e){return e.setFeatures([],0,null),e.featuresMissing=!1,w.DONE}function H(e){return o(e)?new Set:new Set(e.map((e=>e.name)))}function k(e,t){if(o(e)||o(t))return H(t);const s=new Set;for(const{name:i}of t)e.has(i)&&s.add(i);return s}e([f({constructOnly:!0})],I.prototype,\"features\",void 0),e([f()],I.prototype,\"tileDescriptors\",void 0),e([f({value:1/0})],I.prototype,\"maximumNumberOfFeatures\",null),e([f({value:1})],I.prototype,\"memoryFactor\",null),e([f({value:1})],I.prototype,\"lodFactor\",null),e([f()],I.prototype,\"useTileCount\",null),e([f({readOnly:!0})],I.prototype,\"updating\",void 0),e([f({readOnly:!0})],I.prototype,\"updatingTotal\",void 0),e([f({readOnly:!0})],I.prototype,\"updatingRemaining\",void 0),e([f({readOnly:!0})],I.prototype,\"expectedFeatureDiff\",void 0),e([f({readOnly:!0})],I.prototype,\"memoryForUnusedFeatures\",null),e([f({readOnly:!0})],I.prototype,\"maximumNumberOfFeaturesExceeded\",void 0),e([f({constructOnly:!0})],I.prototype,\"maximumNumberOfFeaturesExceededThrottle\",void 0),e([f({readOnly:!0})],I.prototype,\"totalVertices\",null),e([f({readOnly:!0})],I.prototype,\"totalFeatures\",null),e([f()],I.prototype,\"filterExtent\",null),e([f({constructOnly:!0})],I.prototype,\"context\",void 0),I=e([m(\"esri.views.3d.layers.support.FeatureTileFetcher3D\")],I);const V=2e3,z=g(),B=g(),G=6e5,X=200;export{I as FeatureTileFetcher3D,S as contextCapabilitiesFromLayer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Graphic.js\";import t from\"../../../../geometry/Polygon.js\";import i from\"../../../../symbols/FillSymbol3DLayer.js\";import s from\"../../../../symbols/PointSymbol3D.js\";import a from\"../../../../symbols/PolygonSymbol3D.js\";import o from\"../../../../symbols/TextSymbol3DLayer.js\";import{TilingScheme as r}from\"../../terrain/TilingScheme.js\";const h=[[0,179,255],[117,62,128],[0,104,255],[215,189,166],[32,0,193],[98,162,206],[102,112,129],[52,125,0],[142,118,246],[138,83,0],[92,122,255],[122,55,83],[0,142,255],[81,40,179],[0,200,244],[13,24,127],[0,170,147],[19,58,241],[22,44,35]];class l{constructor(e,t,s){this.loadingGraphics=new Map,this.loadedGraphics=new Map,this.pendingGraphics=new Map,this._enabled=!0,this.tileFetcher=e,this.view=s,this.tilingScheme=new r(t),this.loadedSymbols=h.map((e=>new a(new i({material:{color:[e[0],e[1],e[2],.6]},outline:{color:\"black\",size:1}})))),this.loadingSymbols=[new a(new i({material:{color:[200,200,200,.4]},outline:{color:[30,30,30],size:1}}))],this.pendingSymbols=[new a(new i({material:{color:[100,100,100,.4]},outline:{color:[30,30,30],size:1}}))],this.dataExtentSymbol=new a(new i({material:{color:[0,0,0,0]},outline:{color:\"green\",size:4}}))}destroy(){this.enabled=!1}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.update()}update(){this._enabled?(this._synchronizeMaps(this.loadingGraphics,{filter:e=>e.isFetching,symbols:this.loadingSymbols}),this._synchronizeMaps(this.loadedGraphics,{filter:e=>!e.isFetching,symbols:this.loadedSymbols}),this._synchronizeMaps(this.pendingGraphics,{filter:e=>!e.isFetching,symbols:this.pendingSymbols}),this.showDataExtent(this.tileFetcher.filterExtent)):(this.loadingGraphics.forEach((e=>{this.view.graphics.removeMany(e)})),this.loadingGraphics.clear(),this.loadedGraphics.forEach((e=>{this.view.graphics.removeMany(e)})),this.loadedGraphics.clear(),this.pendingGraphics.forEach((e=>{this.view.graphics.removeMany(e)})),this.pendingGraphics.clear(),this.dataExtentGraphic&&(this.view.graphics.remove(this.dataExtentGraphic),this.dataExtentGraphic=null))}showDataExtent(i){if(this.dataExtentGraphic&&(this.view.graphics.remove(this.dataExtentGraphic),this.dataExtentGraphic=null),!i)return;const s=t.fromExtent(i);this.dataExtentGraphic=new e({geometry:s,symbol:this.dataExtentSymbol}),this.view.graphics.add(this.dataExtentGraphic)}_synchronizeMaps(t,i){const a=[];t.forEach(((e,t)=>{const s=this.tileFetcher.test.getFeatureTileById(t);s&&i.filter(s)||(this.view.graphics.removeMany(e),a.push(t))})),a.forEach((e=>t.delete(e))),this.tileFetcher.test.forEachFeatureTile((a=>{if(i.filter(a)&&!t.has(a.id)){const[r,h,l]=a.descriptor.lij;this.tilingScheme.ensureMaxLod(r);const n=this.tilingScheme.getExtentGeometry(r,h,l),c=[new e({geometry:n,symbol:i.symbols[r%i.symbols.length]}),new e({geometry:n.center,symbol:new s({verticalOffset:{screenLength:40/.75},callout:{type:\"line\",color:\"white\",border:{color:\"black\"}},symbolLayers:[new o({text:`${r}/${h}/${l}`,halo:{color:\"white\",size:1/.75},material:{color:\"black\"},size:16})]})})];t.set(a.id,c),this.view.graphics.addMany(c)}}))}}export{l as FeatureTileFetcher3DDebugger};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{result as i}from\"../../../core/asyncUtils.js\";import r from\"../../../core/Collection.js\";import\"../../../core/has.js\";import s from\"../../../core/Error.js\";import a from\"../../../core/Handles.js\";import{clone as o}from\"../../../core/lang.js\";import n from\"../../../core/Logger.js\";import{isSome as l,destroyMaybe as c,removeMaybe as h,isNone as u}from\"../../../core/maybe.js\";import{EsriPromiseMixin as d}from\"../../../core/Promise.js\";import{isAbortError as m,eachAlways as p}from\"../../../core/promiseUtils.js\";import{initial as f,whenOnce as y,watch as g,syncAndInitial as x,sync as F}from\"../../../core/reactiveUtils.js\";import{property as v}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as _}from\"../../../core/accessorSupport/decorators/subclass.js\";import{WatchUpdatingTracking as T}from\"../../../core/support/WatchUpdatingTracking.js\";import{isHostedAgolService as E}from\"../../support/arcgisLayerUrl.js\";import{projectGeometry as w}from\"../../../portal/support/geometryServiceUtils.js\";import C from\"../../../rest/support/StatisticDefinition.js\";import{FeatureTileFetcher3D as b}from\"../../../views/3d/layers/support/FeatureTileFetcher3D.js\";import{FeatureTileFetcher3DDebugger as D}from\"../../../views/3d/layers/support/FeatureTileFetcher3DDebugger.js\";import S from\"../../../views/3d/support/debugFlags.js\";const O=n.getLogger(\"esri.layers.graphics.controllers.FeatureTileController3D\");let I=class extends(d(t)){constructor(e){super(e),this.type=\"feature-tile-3d\",this.watchUpdatingTracking=new T,this.serviceDataExtent=null,this.serviceDataCount=P.NO_SERVICE_DATA_COUNT,this.vertexLimitExceeded=!1,this.displayFeatureLimit=null,this.suspended=!1,this.tileFetcher=null,this.handles=new a,this.fetchDataInfoPromise=null,this.fetchDataInfoAbortController=null,this.lifeCycleAbortController=new AbortController}set extent(e){if(e&&!e.spatialReference.equals(this.layerView.view.spatialReference))return void O.error(\"#extent=\",\"extent needs to be in the same spatial reference as the view\");const t=this._get(\"extent\");if(t===e)return;if(t&&e&&t.equals(e))return;const i=e?e.clone():null;this._set(\"extent\",i)}get updating(){return!!(l(this.tileFetcher)&&this.tileFetcher.updating||null!=this.fetchDataInfoPromise||\"tiles\"===this.mode&&this.layerView.view.featureTiles&&this.layerView.view.featureTiles.updating||this.watchUpdatingTracking&&this.watchUpdatingTracking.updating)}get updatingTotal(){return this.updating&&l(this.tileFetcher)?this.tileFetcher.updatingTotal:0}get updatingRemaining(){return this.updating&&l(this.tileFetcher)?this.tileFetcher.updatingRemaining:0}get expectedFeatureDiff(){return this.updating&&l(this.tileFetcher)?this.tileFetcher.expectedFeatureDiff:0}get memoryForUnusedFeatures(){return l(this.tileFetcher)?this.tileFetcher.memoryForUnusedFeatures:0}get maximumNumberOfFeaturesExceeded(){return!(!l(this.tileFetcher)||!this.tileFetcher.maximumNumberOfFeaturesExceeded)}get maximumNumberOfFeatures(){return l(this.displayFeatureLimit)?this.displayFeatureLimit.maximumNumberOfFeatures:0}set maximumNumberOfFeatures(e){e!==this.maximumNumberOfFeatures&&(null==e?this._clearOverride(\"maximumNumberOfFeatures\"):this._override(\"maximumNumberOfFeatures\",e))}get hasMaximumNumberOfFeaturesOverride(){return this._isOverridden(\"maximumNumberOfFeatures\")}get mode(){const e=this.layerView.layer;if(\"feature\"===e.type&&l(e.infoFor3D))return\"snapshot\";if(!1===this.layerView.view.qualitySettings?.graphics3D?.snapshotAvailable||this.serviceDataCount===P.NO_SERVICE_DATA_COUNT||this.vertexLimitExceeded)return\"tiles\";const t=this.layerView.view,i=t&&t.featureTiles,r=i&&i.tilingScheme;if(e&&e.minScale&&this.serviceDataExtent&&r){const t=this._approximateExtentSizeAtScale(e.minScale,r);if((this.serviceDataExtent.width/t+this.serviceDataExtent.height/t)/2>P.MAX_SNAPSHOT_MIN_SCALE_FACTOR)return\"tiles\"}return!this.maximumNumberOfFeatures||this.serviceDataCount<=this.maximumNumberOfFeatures?\"snapshot\":\"tiles\"}get maxTotalSnapshotVertices(){const e=this._get(\"maxTotalSnapshotVertices\")||0,t=\"snapshot\"===this.mode&&l(this.tileFetcher)&&this.tileFetcher.totalVertices||0;return Math.max(e,t)}_approximateExtentSizeAtScale(e,t){const i=this.layerView.view,r=Math.ceil((i.width/t.pixelSize+i.height/t.pixelSize)/2),s=t.levels[0];return r*((s.tileSize[0]/(s.scale/e)+s.tileSize[1]/(s.scale/e))/2)}get tileDescriptors(){return\"snapshot\"===this.mode?new r([{id:\"dummy-tile-full-extent\",lij:[0,0,0]}]):this.layerView.view.featureTiles?this.layerView.view.featureTiles.tiles:new r}get test(){return{fetchDataInfoPromise:this.fetchDataInfoPromise,tileFetcher:this.tileFetcher}}initialize(){this.watchUpdatingTracking.add((()=>this.vertexLimitInfo),(()=>this.watchUpdatingTracking.addPromise(this._updateVertexLimitExceeded(null,this.lifeCycleAbortController.signal)))),this.watchUpdatingTracking.add((()=>this.mode),(()=>this._modeChanged()),f),this.addResolvingPromise(Promise.resolve().then((()=>this._verifyCapabilities())).then((()=>this.watchUpdatingTracking.addPromise(this._fetchServiceDataInfo()))).then((()=>this._initializeTileFetcher())))}_verifyCapabilities(){const e=this.layerView.layer;if(!e.get(\"capabilities.operations.supportsQuery\")&&\"ogc-feature\"!==e.type)throw new s(\"graphicscontroller:query-capability-required\",\"Service requires query capabilities to be used as a feature layer\",{layer:e})}destroy(){this._cancelFetchServiceDataInfo(),this.tileFetcher=c(this.tileFetcher),this.handles=c(this.handles),this.tilesHandle=h(this.tilesHandle),this.lifeCycleAbortController&&(this.lifeCycleAbortController.abort(),this.lifeCycleAbortController=null),this.watchUpdatingTracking.destroy(),this._set(\"watchUpdatingTracking\",null)}suspend(){this.suspended||(this.suspended=!0,l(this.tileFetcher)&&this.tileFetcher.suspend())}resume(){this.suspended&&(this.suspended=!1,l(this.tileFetcher)&&this.tileFetcher.resume())}restart(){const e=()=>{l(this.tileFetcher)&&this.tileFetcher.restart()};this.watchUpdatingTracking.addPromise(this._fetchServiceDataInfo().then(e,e))}refetch(){const e=()=>{l(this.tileFetcher)&&this.tileFetcher.refetch()};this.watchUpdatingTracking.addPromise(this._fetchServiceDataInfo().then(e,e))}_initializeTileFetcher(){const e=this.layerView.view;if(!e)return;const t=y((()=>e.featureTiles?.tilingScheme),this.lifeCycleAbortController.signal);this.watchUpdatingTracking.addPromise(t),t.then((()=>{const{layerView:t,tileDescriptors:i}=this,r=t.layer,s=new b({context:this.context,filterExtent:this.extent,tileDescriptors:i,features:this.graphics});this.tileFetcher=s,this.suspended?this.tileFetcher.suspend():this.tileFetcher.resume();const a=this.layerView.view.resourceController;a&&this.handles.add(g((()=>a.memoryController.memoryFactor),(e=>s.memoryFactor=e),x));const o=\"polygon\"===this.context.geometryType?\"polygonLodFactor\":\"polyline\"===this.context.geometryType?\"polylineLodFactor\":null;o&&this.handles.add(g((()=>this.layerView.view?.qualitySettings?.graphics3D?.[o]),(e=>s.lodFactor=e||1),f));const n=e=>{s.maximumNumberOfFeatures=e,s.useTileCount=this.serviceDataCount>e},l=e=>s.useTileCount=e>this.maximumNumberOfFeatures;\"ogc-feature\"!==r.type&&this.watchUpdatingTracking.add((()=>r.createQueryVersion),(()=>this._dataFilterChanged())),this.watchUpdatingTracking.add((()=>t.availableFields),((e,t)=>this._availableFieldsChanged(t,e))),this.watchUpdatingTracking.add((()=>t.requiredFields),((e,t)=>this._requiredFieldsChanged(t,e))),this.handles.add([r.on(\"apply-edits\",(e=>this._applyEdits(e))),g((()=>this.extent),(e=>s.filterExtent=e),F),g((()=>this.tileDescriptors),(e=>s.tileDescriptors=e),F),g((()=>this.maximumNumberOfFeatures),n,x),g((()=>this.serviceDataCount),l,x),g((()=>S.FEATURE_TILE_FETCH_SHOW_TILES),(t=>{t&&s&&!s.debugger?(s.debugger=new D(s,e.featureTiles.tilingScheme.toTileInfo(),e),s.debugger.update()):!t&&this.tileFetcher&&s.debugger&&(s.debugger.destroy(),s.debugger=null)}),x)]),this.supportsExceedsLimitQuery||this.watchUpdatingTracking.add((()=>this.maxTotalSnapshotVertices),(()=>this.watchUpdatingTracking.addPromise(this._updateVertexLimitExceeded(null,this.lifeCycleAbortController.signal))))})).catch((()=>{}))}_modeChanged(){switch(this.mode){case\"tiles\":this.tilesHandle||(this.tilesHandle=this.layerView.view.featureTiles.addClient());break;default:O.warn(\"Unhandled feature layer mode \"+this.mode);case\"snapshot\":l(this.tilesHandle)&&(this.tilesHandle.remove(),this.tilesHandle=null)}}_dataFilterChanged(){this._set(\"maxTotalSnapshotVertices\",0),this.notifyChange(\"maxTotalSnapshotVertices\"),this.refetch()}_applyEdits(e){u(this.tileFetcher)||this.tileFetcher.applyEdits(e).then((e=>{e&&(e.deletedFeatures.length||e.updatedFeatures.length||e.addedFeatures.length)&&this.watchUpdatingTracking.addPromise(this._updateServiceDataExtent(this.lifeCycleAbortController.signal))})).catch((e=>{if(!m(e))throw e}))}_availableFieldsChanged(e,t){l(this.tileFetcher)&&L(this.tileFetcher.availableFields,t)&&this.refetch()}_requiredFieldsChanged(e,t){l(this.tileFetcher)&&L(this.tileFetcher.availableFields,t)&&this.restart()}_createVertexLimitExceededQuery(e){const t=this.layerView.layer,i=t.createQuery();return i.outStatistics=[new C({statisticType:\"exceedslimit\",maxVertexCount:e,outStatisticFieldName:\"exceedslimit\",maxPointCount:1e8,maxRecordCount:1e8})],t.capabilities.query.supportsCacheHint&&(i.cacheHint=!0),i}_createDataInfoQuery(){const e=this.layerView.layer,t=e.createQuery();return t.outSpatialReference=this.layerView.view.spatialReference,e.capabilities.query.supportsCacheHint&&(t.cacheHint=!0),t}_fullExtentIsAccurate(){const e=this.layerView.layer;if(e.definitionExpression)return!1;switch(e.type){case\"feature\":return E(e.url);case\"csv\":case\"geojson\":case\"ogc-feature\":case\"wfs\":return!0;default:return}}async _updateServiceDataExtent(e){try{await this._tryUpdateServiceDataExtent(e)}catch(t){m(t)||this._set(\"serviceDataExtent\",o(this.layerView.fullExtentInLocalViewSpatialReference))}}async _tryUpdateServiceDataExtent(e){const t=this.layerView,i=t.layer,r=i.capabilities.query.supportsExtent,s=o(t.fullExtentInLocalViewSpatialReference),a=i.fullExtent,n=this._fullExtentIsAccurate(),c=this.serviceDataCount;if(r&&c<=P.MAX_FEATURE_COUNT_FOR_EXTENT&&(!s||!n)&&\"queryExtent\"in i){const t=this._createDataInfoQuery(),r=await i.queryExtent(t,{timeout:P.QUERY_EXTENT_TIMEOUT,signal:e});this._set(\"serviceDataExtent\",r.extent)}else if(s)this._set(\"serviceDataExtent\",s);else if(l(a)){const r=\"portalItem\"in i?i.portalItem:null,s=await w(a,t.view.spatialReference,r,e);this._set(\"serviceDataExtent\",s)}else this._set(\"serviceDataExtent\",null)}async _updateServiceDataCount(e){const t=this.layerView.layer;if(!(\"queryFeatureCount\"in t))return void this._set(\"serviceDataCount\",P.NO_SERVICE_DATA_COUNT);const r=await i(t.queryFeatureCount(this._createDataInfoQuery(),{timeout:P.QUERY_STATISTICS_TIMEOUT,signal:e}));if(!0===r.ok)this._set(\"serviceDataCount\",r.value);else{if(m(r.error))throw r.error;this._set(\"serviceDataCount\",P.NO_SERVICE_DATA_COUNT)}}get vertexLimitInfo(){if(u(this.displayFeatureLimit)||u(this.displayFeatureLimit.averageSymbolComplexity))return null;const{averageSymbolComplexity:e,maximumTotalNumberOfPrimitives:t}=this.displayFeatureLimit,{primitivesPerCoordinate:i,primitivesPerFeature:r}=e,s=this._get(\"vertexLimitInfo\");return u(s)||s.maximumTotalNumberOfPrimitives!==t||s.primitivesPerCoordinate!==i||s.primitivesPerFeature!==r?{primitivesPerCoordinate:i,primitivesPerFeature:r,maximumTotalNumberOfPrimitives:t}:s}get supportsExceedsLimitQuery(){const e=this.layerView.layer;return e.capabilities&&e.capabilities.operations&&e.capabilities.operations.supportsExceedsLimitStatistics}get minimumNumberOfVerticesForGeometry(){switch(this.layerView.layer.geometryType){case\"point\":case\"multipoint\":return 1;case\"polygon\":return 4;case\"polyline\":return 2;case\"multipatch\":case\"mesh\":return 3;default:return 0}}async _updateVertexLimitExceeded(e,t){const r=this.vertexLimitInfo;if(u(r))return void this._set(\"vertexLimitExceeded\",!1);const s=r.primitivesPerFeature<=0,a=this.minimumNumberOfVerticesForGeometry>1;if(!s&&!a)return void this._set(\"vertexLimitExceeded\",!1);const{primitivesPerFeature:o,primitivesPerCoordinate:n,maximumTotalNumberOfPrimitives:c}=r;let h;0!==o&&l(e)&&await e;const d=this.serviceDataCount,p=d!==P.NO_SERVICE_DATA_COUNT;if(h=p?Math.ceil((c-d*o)/(n||1)):Math.ceil(c/(n||1)),a&&(h=Math.min(h,N)),p&&this.minimumNumberOfVerticesForGeometry*d>h)return void this._set(\"vertexLimitExceeded\",!0);if(!this.supportsExceedsLimitQuery)return void this._set(\"vertexLimitExceeded\",this.maxTotalSnapshotVertices>h);const f=await i(this.layerView.layer.queryFeatures(this._createVertexLimitExceededQuery(h),{timeout:P.QUERY_STATISTICS_TIMEOUT,signal:t}));if(!1===f.ok){if(m(f.error))throw f.error;return void this._set(\"vertexLimitExceeded\",!1)}const y=f.value.features[0];y&&y.attributes?this._set(\"vertexLimitExceeded\",!!y.attributes.exceedslimit):this._set(\"vertexLimitExceeded\",!1)}async _fetchServiceDataInfo(){this._cancelFetchServiceDataInfo();let e=new AbortController;const t=e.signal,i=this._updateServiceDataCount(t),r=p([i,this._updateVertexLimitExceeded(i,t)]),s=r.then((()=>this._updateServiceDataExtent(t))).catch((e=>{m(e)||O.error(\"#fetchServiceDataInfo()\",e)})).then((()=>{s===this.fetchDataInfoPromise&&(this.fetchDataInfoPromise=null,this.fetchDataInfoAbortController=null),e=null}));return e&&(this.fetchDataInfoPromise=s),this.fetchDataInfoAbortController=e,r.then((()=>{}),(()=>{}))}_cancelFetchServiceDataInfo(){const e=this.fetchDataInfoAbortController;e&&(this.fetchDataInfoAbortController=null,this.fetchDataInfoPromise=null,e.abort())}get debug(){return{storedFeatures:l(this.tileFetcher)?this.tileFetcher.storedFeatures:0,totalFeatures:l(this.tileFetcher)?this.tileFetcher.totalFeatures:0,totalVertices:l(this.tileFetcher)?this.tileFetcher.totalVertices:0}}};e([v({readOnly:!0})],I.prototype,\"type\",void 0),e([v({constructOnly:!0})],I.prototype,\"graphics\",void 0),e([v({constructOnly:!0})],I.prototype,\"layerView\",void 0),e([v({constructOnly:!0})],I.prototype,\"context\",void 0),e([v()],I.prototype,\"extent\",null),e([v()],I.prototype,\"updating\",null),e([v({readOnly:!0})],I.prototype,\"watchUpdatingTracking\",void 0),e([v()],I.prototype,\"updatingTotal\",null),e([v()],I.prototype,\"updatingRemaining\",null),e([v()],I.prototype,\"expectedFeatureDiff\",null),e([v()],I.prototype,\"memoryForUnusedFeatures\",null),e([v()],I.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([v({readOnly:!0})],I.prototype,\"serviceDataExtent\",void 0),e([v({readOnly:!0})],I.prototype,\"serviceDataCount\",void 0),e([v({readOnly:!0})],I.prototype,\"vertexLimitExceeded\",void 0),e([v()],I.prototype,\"displayFeatureLimit\",void 0),e([v({type:Number})],I.prototype,\"maximumNumberOfFeatures\",null),e([v({readOnly:!0})],I.prototype,\"mode\",null),e([v({readOnly:!0})],I.prototype,\"maxTotalSnapshotVertices\",null),e([v({readOnly:!0,dependsOn:[\"mode\"]})],I.prototype,\"tileDescriptors\",null),e([v()],I.prototype,\"tileFetcher\",void 0),e([v()],I.prototype,\"fetchDataInfoPromise\",void 0),e([v({readOnly:!0})],I.prototype,\"vertexLimitInfo\",null),I=e([_(\"esri.layers.graphics.controllers.FeatureTileController3D\")],I);const V=1e4,U=12e3,A=1e4,N=5e6;function L(e,t){if(!t)return!1;for(const i of t)if(!e.has(i))return!0;return!1}var P;!function(e){function t(){e.MAX_FEATURE_COUNT_FOR_EXTENT=V,e.QUERY_STATISTICS_TIMEOUT=U,e.QUERY_EXTENT_TIMEOUT=A}e.NO_SERVICE_DATA_COUNT=1/0,e.MAX_SNAPSHOT_MIN_SCALE_FACTOR=5,e.reset=t}(P||(P={})),P.reset();export{I as FeatureTileController3D,P as FeatureTileController3DConstants};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{NoParameters as e}from\"../core/shaderModules/interfaces.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as i}from\"../lib/DefaultVertexAttributeLocations.js\";import{blendingDefault as s}from\"../lib/OrderIndependentTransparency.js\";import{Program as o}from\"../lib/Program.js\";import{H as n}from\"../../../../chunks/Heatmap.glsl.js\";import{PrimitiveType as l}from\"../../../webgl/enums.js\";import{makePipelineState as a,defaultColorWriteParams as m}from\"../../../webgl/renderState.js\";class d extends e{constructor(){super(...arguments),this.colorRamp=null,this.densityMap=null,this.searchRadius=1,this.fieldTotal=0,this.minDensity=0,this.maxDensity=100}}class p extends t{constructor(e,r){super(e,r,(()=>this.destroy()))}initializeProgram(e){const r=p.shader.get().build();return new o(e.rctx,r,i)}initializePipeline(){return a({blending:s,colorWrite:m,depthTest:null,depthWrite:null})}get primitiveType(){return l.TRIANGLE_STRIP}}p.shader=new r(n,(()=>import(\"./Heatmap.glsl.js\")));export{d as HeatmapPassParameters,p as HeatmapTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{releaseMaybe as e,disposeMaybe as r,isSome as a}from\"../../../../core/maybe.js\";import{watch as i}from\"../../../../core/reactiveUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{ViewingMode as h}from\"../../../ViewingMode.js\";import{ShaderTechniqueConfiguration as n}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{createQuadVAO as m}from\"./glUtil3D.js\";import{SortedRenderGeometryRenderer as p}from\"./SortedRenderGeometryRenderer.js\";import{HeatmapPassParameters as c,HeatmapTechnique as l}from\"../shaders/HeatmapTechnique.js\";import{TargetType as d,DepthStencilTargetType as u,TextureType as _,PixelFormat as R,SizedPixelFormat as y,PixelType as g,TextureSamplingMode as f,TextureWrapMode as x,ClearBufferBit as D}from\"../../../webgl/enums.js\";import{FramebufferObject as T}from\"../../../webgl/FramebufferObject.js\";import{Texture as w}from\"../../../webgl/Texture.js\";import{vertexCount as P}from\"../../../webgl/Util.js\";let b=class extends p{constructor(t){super(t),this.pixelRatio=1,this._colorRampData=new Uint8ClampedArray(4),this.type=\"draped-heatmap\",this._heatmapParameters=new c}initialize(){const t={colorTarget:d.TEXTURE,depthStencilTarget:u.NONE,width:0,height:0},{capabilities:e}=this.rctx,{R32F:r}=e.colorBufferFloat,{textureFloatLinear:a}=e.textureFloat,s=null!=r,o={target:_.TEXTURE_2D,pixelFormat:s?R.RED:R.RGBA,internalFormat:s?y.R32F:R.RGBA,dataType:g.FLOAT,samplingMode:a?f.LINEAR:f.NEAREST,wrapMode:x.CLAMP_TO_EDGE,width:0,height:0};this._densityMap=new T(this.rctx,t,o),this._quad=m(this.rctx);const p=this._colorRampData,c={target:_.TEXTURE_2D,pixelFormat:R.RGBA,dataType:g.UNSIGNED_BYTE,samplingMode:f.LINEAR,wrapMode:x.CLAMP_TO_EDGE,width:p.length/4,height:1};this._colorRamp=new w(this.rctx,c,p),this._technique=new l({rctx:this.rctx,viewingMode:h.Local},new n),this._heatmapParameters.densityMap=this._densityMap.colorTexture,this.own(i((()=>[this.colorRampData,this.minDensity,this.maxDensity,this.fieldTotal,this.pixelRatio,this.searchRadius]),(()=>this.rendererContext.notifyContentChanged())))}destroy(){this._technique=e(this._technique),this._densityMap=r(this._densityMap),this._quad=r(this._quad),this._colorRamp=r(this._colorRamp)}get searchRadius(){return this._heatmapParameters.searchRadius}set searchRadius(t){t!==this._heatmapParameters.searchRadius&&(this._heatmapParameters.searchRadius=t,this.notifyChange(\"searchRadius\"))}get minDensity(){return this._heatmapParameters.minDensity}set minDensity(t){t!==this._heatmapParameters.minDensity&&(this._heatmapParameters.minDensity=t,this.notifyChange(\"minDensity\"))}get maxDensity(){return this._heatmapParameters.maxDensity}set maxDensity(t){t!==this._heatmapParameters.maxDensity&&(this._heatmapParameters.maxDensity=t,this.notifyChange(\"maxDensity\"))}get fieldTotal(){return this._heatmapParameters.fieldTotal}set fieldTotal(t){this._heatmapParameters.fieldTotal=t,this.notifyChange(\"fieldTotal\")}get colorRampData(){return this._colorRampData}set colorRampData(t){const{colorRamp:e}=this._heatmapParameters;if(a(e)&&t!==this._colorRampData){const r=e.descriptor.width,a=t.length/4;a!==r&&e.resize(a,1),e.setData(t)}this._colorRampData=t}get _colorRamp(){return this._heatmapParameters.colorRamp}set _colorRamp(t){this._heatmapParameters.colorRamp=t}get hasHighlights(){return!1}get hasWater(){return!1}get rendersOccluded(){return!1}render(t,e){const r=this._sortedMaterialRenderers,a=r.length;if(a<1)return;const i=this.rctx.getBoundFramebufferObject(),s=this.rctx.getViewport(),{pixelRatio:o}=this,h=Math.ceil(s.width*o),n=Math.ceil(s.height*o);this._densityMap.resize(h,n),this.rctx.bindFramebuffer(this._densityMap),this.rctx.setViewport(0,0,h,n),this.rctx.clear(D.COLOR_BUFFER_BIT);let m=!1;for(let p=0;p<a;p++){const a=r.getItemAt(p);a.material.shouldRender(t)&&(m=m||a.materialRenderer.render(t.pass,e))}this.rctx.bindFramebuffer(i),this.rctx.setViewport(s.x,s.y,s.width,s.height),m&&(this.rctx.bindVAO(this._quad),this.rctx.useProgram(this._technique.program),this._technique.bindPipelineState(this.rctx),this._technique.bindPass(this._heatmapParameters,t.bindParameters),this.rctx.drawArrays(this._technique.primitiveType,0,P(this._quad,\"geometry\")))}};t([s()],b.prototype,\"searchRadius\",null),t([s()],b.prototype,\"minDensity\",null),t([s()],b.prototype,\"maxDensity\",null),t([s()],b.prototype,\"fieldTotal\",null),t([s()],b.prototype,\"pixelRatio\",void 0),t([s()],b.prototype,\"colorRampData\",null),t([s()],b.prototype,\"_colorRampData\",void 0),b=t([o(\"esri.views.3d.webgl-engine.lib.DrapedHeatmapRenderer\")],b);export{b as DrapedHeatmapRenderer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as o}from\"../lib/DefaultVertexAttributeLocations.js\";import{MaterialParameters as s}from\"../lib/Material.js\";import{Program as n}from\"../lib/Program.js\";import{DefaultTechniqueConfiguration as a}from\"../materials/DefaultTechniqueConfiguration.js\";import{H as l}from\"../../../../chunks/HeatmapDensity.glsl.js\";import{BlendOperation as u,BlendFactor as m}from\"../../../webgl/enums.js\";import{makePipelineState as c,simpleBlendingParams as d,defaultColorWriteParams as h}from\"../../../webgl/renderState.js\";var p;!function(e){e[e.Screen=0]=\"Screen\",e[e.World=1]=\"World\"}(p||(p={}));class f extends s{constructor(){super(...arguments),this.searchRadius=128,this.resolutionForScale=0}}class b extends t{initializeProgram(e){const r=b.shader.get().build(this.configuration);return new n(e.rctx,r,o)}initializePipeline(){return c({blending:d(m.ONE,m.ONE,u.ADD),colorWrite:h,depthTest:null,depthWrite:null})}destroy(){super.destroy()}}b.shader=new r(l,(()=>import(\"./HeatmapDensity.glsl.js\")));class j extends a{constructor(){super(...arguments),this.isAttributeDriven=!1}}e([i()],j.prototype,\"isAttributeDriven\",void 0);export{f as HeatmapDensityPassParameters,b as HeatmapDensityTechnique,j as HeatmapDensityTechniqueConfiguration,p as RadiusMode};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../core/maybe.js\";import{a as t,s as r}from\"../../../../chunks/vec2.js\";import{a as s}from\"../../../../chunks/vec2f64.js\";import{isVec2 as i}from\"../../../../core/libs/gl-matrix-2/types/vec2.js\";import{newLayout as n}from\"../../support/buffer/InterleavedLayout.js\";import o from\"../lib/GLMaterial.js\";import{Material as a}from\"../lib/Material.js\";import{RenderPass as u}from\"../lib/RenderPass.js\";import{RenderSlot as c}from\"../lib/RenderSlot.js\";import{VertexAttribute as f}from\"../lib/VertexAttribute.js\";import{writePosition as l,writeBufferFloat as m}from\"./internal/bufferWriterUtils.js\";import{HeatmapDensityPassParameters as p,HeatmapDensityTechniqueConfiguration as h,HeatmapDensityTechnique as T}from\"../shaders/HeatmapDensityTechnique.js\";export{RadiusMode}from\"../shaders/HeatmapDensityTechnique.js\";const d=2;class A extends p{constructor(){super(...arguments),this.isAttributeDriven=!1}}class b extends a{constructor(e){super(e,new A),this._techniqueConfig=new h}requiresSlot(e,t){return e===c.DRAPED_MATERIAL&&t===u.MATERIAL}getConfiguration(){return this._techniqueConfig.isAttributeDriven=this.parameters.isAttributeDriven,this._techniqueConfig}createGLMaterial(e){return new I(e)}intersect(s,n,o,a,u,c,l,m,p){if(e(p)||!i(c))return;const h=s.vertexAttributes.get(f.POSITION),{parameters:T}=this,{searchRadius:A}=T,{screenToWorldRatio:b}=s,I=A*b+d*b,g=I*I,v=h.data.length/h.size;for(let e=0;e<v;e++){const s=e*h.size,i=t(E,h.data[s],h.data[s+1]);r(i,c)<g&&l(p.dist,p.normal,-1,!1)}}createBufferWriter(){return new g(this.parameters.isAttributeDriven?R:v)}}class I extends o{beginSlot(e){return this.ensureTechnique(T,e)}}class g{constructor(e){this.vertexBufferLayout=e}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return e.indices.get(f.POSITION).length*j}write(e,t,r,s){l(t.indices.get(f.POSITION),t.vertexAttributes.get(f.POSITION).data,e.transformation,r.position,s,j);const i=t.indices.get(f.POSITION).length,n=r.uv0;let o=s;for(let u=0;u<i;++u)n.setValues(o++,-1,-1),n.setValues(o++,1,-1),n.setValues(o++,1,1),n.setValues(o++,1,1),n.setValues(o++,-1,1),n.setValues(o++,-1,-1);const a=\"featureAttribute\"in r?r.featureAttribute:null;a&&m(t.indices.get(f.FEATUREATTRIBUTE),t.vertexAttributes.get(f.FEATUREATTRIBUTE).data,a,s,j)}}const v=n().vec3f(f.POSITION).vec2f(f.UV0),R=v.clone().f32(f.FEATUREATTRIBUTE),j=6;function x(e){return e instanceof b}const E=s();export{b as HeatmapDensityMaterial,A as HeatmapDensityMaterialParameters,x as isHeatMapDensityMaterial};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{estimateAttributesObjectSize as r,estimateFixedArraySize as t,estimateNumberByteSize as i}from\"../../../../core/byteSizeEstimations.js\";import a from\"../../../../core/Error.js\";import{HandleOwner as o}from\"../../../../core/HandleOwner.js\";import{makeHandle as s}from\"../../../../core/handleUtils.js\";import n from\"../../../../core/Logger.js\";import{isSome as l,disposeMaybe as d,unwrap as p,isNone as m,applySome as u,mapSome as h}from\"../../../../core/maybe.js\";import{initial as c,sync as y,watch as _}from\"../../../../core/reactiveUtils.js\";import{pt2px as f}from\"../../../../core/screenUtils.js\";import{property as g}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as R}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c as F}from\"../../../../chunks/vec3.js\";import{c as b}from\"../../../../chunks/vec3f64.js\";import{projectPointToVector as w}from\"../../../../geometry/projection.js\";import{getResolutionForScale as v}from\"../../../../geometry/support/scaleUtils.js\";import{getObjectId as S}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{convertFromPoint as P}from\"../../../../layers/graphics/featureConversionUtils.js\";import{OptimizedFeature as j}from\"../../../../layers/graphics/OptimizedFeature.js\";import T from\"../../../../layers/graphics/OptimizedGeometry.js\";import x from\"../../../../layers/graphics/data/FeatureStore.js\";import{isNumericField as G}from\"../../../../layers/support/fieldUtils.js\";import{generateGradient as M}from\"../../../../renderers/support/heatmapUtils.js\";import{DrapeSourceType as N}from\"../interfaces.js\";import{DRAPED_Z as O}from\"../../terrain/OverlayRenderer.js\";import{UpdatePolicy as E,PrimitiveType as H}from\"../../webgl-engine/lib/basicInterfaces.js\";import{DrapedHeatmapRenderer as I}from\"../../webgl-engine/lib/DrapedHeatmapRenderer.js\";import{Geometry as C}from\"../../webgl-engine/lib/Geometry.js\";import{ModelDirty as U}from\"../../webgl-engine/lib/ModelDirtyTypes.js\";import{RenderGeometry as W}from\"../../webgl-engine/lib/RenderGeometry.js\";import{VertexAttribute as L}from\"../../webgl-engine/lib/VertexAttribute.js\";import{HeatmapDensityMaterial as V}from\"../../webgl-engine/materials/HeatmapDensityMaterial.js\";const D=n.getLogger(\"esri.views.3d.layers.support.HeatmapFeatureProcessor\"),A=112;let B=class extends o{constructor(e){super(e),this.type=\"heatmap\",this.filterVisibility={filterChanged(){},dirty:!1},this.preferredUpdatePolicy=E.ASYNC,this.dataExtent=null,this.drapeSourceType=N.Features,this._renderGeometries=new Map,this._material=new V({}),this._materialWithField=new V({isAttributeDriven:!0}),this._fieldTotal=0,this._drapeSourceRenderer=null}initialize(){this._featureStore=new x({geometryType:\"esriGeometryPoint\",hasZ:this.hasZ,hasM:this.hasM});const{colorBufferFloat:e,textureFloat:r}=this._renderView.capabilities,{floatBufferBlendWorking:t}=this._renderView.renderingContext.driverTest;if(!r?.textureFloat)throw new a(\"heatmap:missing-texture-float\",\"HeatmapRenderer requires WebGL2 or the WebGL1 extension OES_texture_float.\");if(!e?.textureFloat)throw new a(\"heatmap:missing-color-buffer-float\",\"HeatmapRenderer requires the WebGL2 extension EXT_color_buffer_float or the WebGL1 extension WEBGL_color_buffer_float.\");if(!e?.floatBlend)throw new a(\"heatmap:missing-float-blend\",\"HeatmapRenderer requires the WebGL extension EXT_float_blend.\");if(!t)throw new a(\"heatmap:missing-float-blend\",\"HeatmapRenderer requires the WebGL extension EXT_float_blend. This device claims support for it, but does not actually support it.\");this._drapeSourceRenderer=this.view.basemapTerrain.overlayManager.registerDrapeSource(this,I,this._rendererParameters),this.updatingHandles.addOnCollectionChange((()=>this._loadedPointGraphics),(e=>this._onLoadedFeaturesChange(e)),c),this.updatingHandles.addWhen((()=>this._materialParameters),(e=>this._forEachMaterial((r=>r.setParameters(e)))),c),this.updatingHandles.add((()=>this._rendererParameters),(e=>this._drapeSourceRenderer.set(e))),this.updatingHandles.add((()=>this._heatmapRendererField),(()=>{this._recreate()}),y),this.updatingHandles.add((()=>({fieldName:this._heatmapRendererFieldName,numeric:this._heatmapRendererFieldIsNumeric})),(({fieldName:e,numeric:r})=>{if(l(e)&&r){let r=0;this._featureStore.forEach((t=>r+=t.attributes[e]??0)),this._fieldTotal=r}else this._fieldTotal=this._featureStore.numFeatures}),c),this.handles.add([_((()=>({fieldName:this._heatmapRendererFieldName,field:this._heatmapRendererField})),(({fieldName:e,field:r})=>{e&&!r&&D.warn(`Heatmap renderer field '${e}' for layer '${this.layer.title??this.layer.id}' not found`)})),_((()=>({field:this._heatmapRendererField,numeric:this._heatmapRendererFieldIsNumeric})),(({field:e,numeric:r})=>{l(e)&&!r&&D.warn(`Heatmap renderer field '${e.name}' for layer '${this.layer.title??this.layer.id}' does not contain numeric values and cannot be used to drive the heatmap density`)})),s((()=>this.view.basemapTerrain.overlayManager.unregisterDrapeSource(this)))])}destroy(){this._renderGeometries.clear(),this._material=d(this._material),this._materialWithField=d(this._materialWithField),this._featureStore.clear(),this._featureStore=null}get layer(){return this.owner.layer}get featureStore(){return this._featureStore}get updating(){return this.updatingHandles.updating}get updatingRemaining(){return 0}get suspendInfo(){return{}}get legendEnabled(){return!0}get displayFeatureLimit(){const e=this.owner?.view?.resourceController?.memoryController?.memoryFactor??1,r=this.owner?.view?.qualitySettings,t=r?Math.ceil(r.heatmap.maxTotalNumberOfFeatures*e):0;return{minimumTotalNumberOfFeatures:0,maximumTotalNumberOfFeatures:t,maximumTotalNumberOfPrimitives:t*2,maximumNumberOfFeatures:t}}get hasZ(){return\"hasZ\"in this.layer&&this.layer.hasZ}get hasM(){return\"hasM\"in this.layer&&this.layer.hasM}get view(){return this.owner.view}get fullOpacity(){return this.owner.fullOpacity}get updatePolicy(){return this.owner.updatePolicy}get scaleVisibilitySuspended(){return!1}get usedMemory(){const e=this.usedMemoryPerFeature*this._featureStore.numFeatures,{R32F:r}=this._renderView?.capabilities?.colorBufferFloat,t=null!=r?1:4,i=4,a=Math.ceil(this._overlayRenderer?.overlays[0]?.resolution*this._densityMapPixelRatio)??0;return a*a*t*i+e+(l(this._heatmapRenderer)?f(Math.min(this._heatmapRenderer.radius,A)):0)*t*i}get usedMemoryPerFeature(){if(0===this._featureStore.numFeatures)return 0;let e=0;this._featureStore.forEach((t=>e+=r(t.attributes))),e/=this._featureStore.numFeatures;const a=i(),o=6;return o*t([0,0,0],a)+o*t([0,0],a)+(this._heatmapRendererFieldIsNumeric?o*a:0)+e}get unprocessedMemoryEstimate(){return 0}get performanceInfo(){return{core:{visible:this._featureStore.numFeatures,missing:0,pending:0},elevationUpdating:!1,visibilityFrustum:!0,visibilityScale:!0}}get _overlayRenderer(){return this.view.basemapTerrain.overlayManager.renderer}get _overlaySpatialReference(){return p(this._overlayRenderer.spatialReference)}get _rendererParameters(){return{...this._radiusParameter,...this._densityParameters,...this._colorRampParameter,...this._pixelRatioParameter}}get _materialParameters(){return{...this._radiusParameter,...this._resolutionForScaleParameter}}get _densityParameters(){const e=this._heatmapRenderer;if(m(e))return null;const{minDensity:r,maxDensity:t}=e;return{minDensity:r,maxDensity:t,fieldTotal:this._fieldTotal}}get _radiusParameter(){return u(this._heatmapRenderer,(({radius:e})=>({searchRadius:f(this._clampSearchRadius(e))})))}get _resolutionForScaleParameter(){return u(this._heatmapRenderer,(({referenceScale:e})=>({resolutionForScale:0===e?0:v(e,this.view.spatialReference)})))}get _colorRampParameter(){return u(this._heatmapRenderer,(e=>({colorRampData:M(e.colorStops)})))}get _pixelRatioParameter(){return{pixelRatio:this._densityMapPixelRatio}}get _densityMapPixelRatio(){const e=this.owner?.view?.resourceController?.memoryController?.memoryFactor??1;return(this.owner?.view?.qualitySettings.heatmap.pixelRatio??1)*Math.sqrt(e)}get _renderView(){return this.view._stage.renderView}get _featuresArePoints(){return\"point\"===this.layer.geometryType}get _loadedPointGraphics(){return this.owner.loadedGraphics}get _heatmapRenderer(){const e=this.layer.renderer;return\"heatmap\"===e?.type?e:null}get _heatmapRendererFieldName(){return u(this._heatmapRenderer,(e=>e.field))}get _heatmapRendererField(){return u(this._heatmapRendererFieldName,(e=>this.layer.fieldsIndex.get(e)))}get _heatmapRendererFieldIsNumeric(){const e=this._heatmapRendererField;return!m(e)&&G(e)}async whenGraphicBounds(){return null}computeAttachmentOrigin(){return null}highlight(){return q}maskOccludee(){return q}setObjectIdVisibility(){}async setup(){}_onLoadedFeaturesChange(e){if(!this._featuresArePoints)return;const{objectIdField:r}=this.layer;this._featureStore.removeManyById(e.removed.map((e=>S(e,r)))),this._featureStore.addMany(e.added.map((e=>new j(P(new T,e.geometry),e.attributes,u(e.centroid,(e=>P(new T,e))),S(e,r)))));const t=e.added,i=e.removed;this._fieldTotal+=this._computeFieldTotalChange(t,i);const a=h(i,(({uid:e})=>{const r=this._renderGeometries.get(e);return this._renderGeometries.delete(e),r})),o=t.map((e=>{const r=this._pointGraphicToRenderGeometry(e);return this._renderGeometries.set(e.uid,r),r}));a.length>0&&this._drapeSourceRenderer.removeGeometries(a,U.Geometry.REMOVE),o.length>0&&this._drapeSourceRenderer.addGeometries(o,U.Geometry.ADD),(o.length>0||a.length>0)&&this._renderView.requestRender()}_recreate(){if(!this._loadedPointGraphics)return;const e=this._loadedPointGraphics.toArray();this._onLoadedFeaturesChange({added:e,removed:e})}_pointGraphicToRenderGeometry(e){const r=this._heatmapRendererFieldName,t=l(r)?this._materialWithField:this._material,i=b();w(e.geometry,i,this._overlaySpatialReference),i[2]=O;const a=[[L.POSITION,{data:i,size:i.length}]],o=this._heatmapRendererFieldIsNumeric;l(r)&&a.push([L.FEATUREATTRIBUTE,{data:[o?e.attributes[r]??0:0],size:1}]);const s=new W(new C(a,null,H.Point),t,{layerUid:this.layer.uid,graphicUid:e.uid});return F(s.boundingSphere,i),s}_forEachMaterial(e){e(this._material),e(this._materialWithField)}_computeFieldTotalChange(e,r){if(m(this._heatmapRendererFieldName)||!this._heatmapRendererFieldIsNumeric)return e.length-r.length;const t=this._heatmapRendererFieldName,i=(e,r)=>e+(r.attributes[t]??0);return e.reduce(i,0)-r.reduce(i,0)}_clampSearchRadius(e){return e>A&&D.warnOnce(`SceneView supports a maximum radius of ${A} pt for HeatmapRenderer.`),Math.min(e,A)}};e([g()],B.prototype,\"type\",void 0),e([g({constructOnly:!0})],B.prototype,\"owner\",void 0),e([g()],B.prototype,\"layer\",null),e([g()],B.prototype,\"featureStore\",null),e([g()],B.prototype,\"updating\",null),e([g()],B.prototype,\"updatingRemaining\",null),e([g()],B.prototype,\"suspendInfo\",null),e([g()],B.prototype,\"legendEnabled\",null),e([g()],B.prototype,\"filterVisibility\",void 0),e([g()],B.prototype,\"displayFeatureLimit\",null),e([g()],B.prototype,\"preferredUpdatePolicy\",void 0),e([g()],B.prototype,\"hasZ\",null),e([g()],B.prototype,\"hasM\",null),e([g()],B.prototype,\"dataExtent\",void 0),e([g()],B.prototype,\"view\",null),e([g()],B.prototype,\"fullOpacity\",null),e([g()],B.prototype,\"updatePolicy\",null),e([g()],B.prototype,\"drapeSourceType\",void 0),e([g()],B.prototype,\"_featureStore\",void 0),e([g()],B.prototype,\"_overlayRenderer\",null),e([g()],B.prototype,\"_overlaySpatialReference\",null),e([g()],B.prototype,\"_rendererParameters\",null),e([g()],B.prototype,\"_materialParameters\",null),e([g()],B.prototype,\"_densityParameters\",null),e([g()],B.prototype,\"_radiusParameter\",null),e([g()],B.prototype,\"_resolutionForScaleParameter\",null),e([g()],B.prototype,\"_colorRampParameter\",null),e([g()],B.prototype,\"_pixelRatioParameter\",null),e([g()],B.prototype,\"_densityMapPixelRatio\",null),e([g()],B.prototype,\"_renderGeometries\",void 0),e([g()],B.prototype,\"_material\",void 0),e([g()],B.prototype,\"_materialWithField\",void 0),e([g()],B.prototype,\"_renderView\",null),e([g()],B.prototype,\"_featuresArePoints\",null),e([g()],B.prototype,\"_loadedPointGraphics\",null),e([g()],B.prototype,\"_heatmapRenderer\",null),e([g()],B.prototype,\"_heatmapRendererFieldName\",null),e([g()],B.prototype,\"_heatmapRendererField\",null),e([g()],B.prototype,\"_heatmapRendererFieldIsNumeric\",null),e([g()],B.prototype,\"_fieldTotal\",void 0),e([g()],B.prototype,\"_drapeSourceRenderer\",void 0),B=e([R(\"esri.views.3d.layers.support.HeatmapFeatureProcessor\")],B);const q=s();export{B as HeatmapFeatureProcessor,A as MAX_RADIUS_PT};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Error.js\";import{destroyMaybe as r,get as s,isNone as i}from\"../../../core/maybe.js\";import{initial as o,whenOnce as n}from\"../../../core/reactiveUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{hydrateGraphic as p}from\"../../../layers/graphics/hydratedFeatures.js\";import{FeatureTileController3D as u}from\"../../../layers/graphics/controllers/FeatureTileController3D.js\";import c from\"../../../rest/support/Query.js\";import h from\"./graphics/Graphics3DFeatureProcessor.js\";import{QueryEngine as d}from\"./graphics/QueryEngine.js\";import{HeatmapFeatureProcessor as y}from\"./support/HeatmapFeatureProcessor.js\";import{toViewIfLocal as m}from\"./support/projectExtentUtils.js\";import{UpdatePolicy as g}from\"../webgl-engine/lib/basicInterfaces.js\";import{TaskPriority as f}from\"../../support/Scheduler.js\";const E=E=>{let b=class extends E{constructor(){super(...arguments),this.controller=null,this.updatePolicy=g.SYNC,this.suspendResumeExtentMode=\"computed\",this.slicePlaneEnabled=!1,this.fullExtentInLocalViewSpatialReference=null,this.suspendResumeExtent=null,this._controllerCreated=!1,this.clippingExtent=null,this.supportsHeightUnitConversion=!0,this.pendingController=null,this.queryEngine=null}initialize(){const e=this.layer;\"isTable\"in e&&e.isTable?this.addResolvingPromise(Promise.reject(new t(\"featurelayerview:table-not-supported\",\"table feature layer can't be displayed\",{layer:e}))):(this.addResolvingPromise(this._validateGeometryType()),this.updatingHandles.add((()=>this.layer.renderer),(e=>this._recreateProcessor(e)),o),this.addResolvingPromise((async()=>{const e=await m(this);this.fullExtentInLocalViewSpatialReference=e,await this._initializeController()})()),this.updatingHandles.add((()=>this.updatePolicy),(e=>this.processor.preferredUpdatePolicy=e)),this.queryEngine=new d({layerView:this,priority:f.FEATURE_QUERY_ENGINE}),this.notifyChange(\"updating\"))}destroy(){this._destroyPendingController(),this.controller=r(this.controller),this._set(\"processor\",r(this.processor)),this.queryEngine=r(this.queryEngine),this.loadedGraphics=null}_destroyPendingController(){this.pendingController=r(this.pendingController)}get legendEnabled(){return this.canResume()&&this.processor?.legendEnabled}get graphics3DProcessor(){return\"graphics-3d\"===this.processor?.type?this.processor:null}get heatmapProcessor(){return\"heatmap\"===this.processor?.type?this.processor:null}getHit(e){let t=null;return this.loadedGraphics?.forEach((r=>{r.uid===e&&(t=p(r,this.layer))})),t?{type:\"graphic\",graphic:t,layer:t.layer}:null}whenGraphicBounds(e,t){return this.processor?.whenGraphicBounds(e,t)}computeAttachmentOrigin(e,t){return this.processor?.computeAttachmentOrigin(e,t)}queryFeatures(e,t){return this.queryEngine.executeQuery(this._ensureQuery(e),s(t,\"signal\"))}queryObjectIds(e,t){return this.queryEngine.executeQueryForIds(this._ensureQuery(e),s(t,\"signal\"))}queryFeatureCount(e,t){return this.queryEngine.executeQueryForCount(this._ensureQuery(e),s(t,\"signal\"))}queryExtent(e,t){return this.queryEngine.executeQueryForExtent(this._ensureQuery(e),s(t,\"signal\"))}_ensureQuery(e){return i(e)?this.createQuery():c.from(e)}highlight(e){return this.processor.highlight(e,this.layer.objectIdField)}maskOccludee(e){return this.processor.maskOccludee(e)}canResume(){return super.canResume()&&!this.processor?.scaleVisibilitySuspended}getSuspendInfo(){const e=super.getSuspendInfo();return this.processor?{...e,...this.processor.suspendInfo}:e}isUpdating(){return!(!this.processor||this.processor.destroyed)&&!(this._controllerCreated&&!this.controller?.updating&&this.view?.basemapTerrain?.ready&&!this.processor.updating)}async _initializeController(){const e=this.createController();this.pendingController=e,await e.when(),this._setControllerWhenInitialized(e)}async _setControllerWhenInitialized(e){try{await this.when()}catch(t){}this._controllerCreated=!0,this.notifyChange(\"updating\"),this.isResolved()&&!this.destroyed?(await n((()=>this.view?.basemapTerrain?.ready)),this.beforeSetController(e),this.pendingController=null,this.controller=e,this.loadedGraphics=e.graphics,this.notifyChange(\"updating\")):this._destroyPendingController()}_updateClippingExtent(e){if(this.clippingExtent=e,!this.controller)return!1;switch(this.controller.type){case\"stream\":return!1;case\"feature-tile-3d\":return this.controller.extent=e,!0}}async _validateGeometryType(){switch(this.layer.geometryType){case\"multipatch\":case\"multipoint\":throw new t(\"featurelayerview3d:unsupported-geometry-type\",\"Unsupported geometry type ${geometryType}\",{geometryType:this.layer.geometryType})}}_recreateProcessor(e){const t=\"heatmap\"===e?.type,r=\"heatmap\"===this.processor?.type,s=this.processor;if(s&&t===r)return;const i=t?new y({owner:this}):new h({owner:this,frustumVisibilityEnabled:!0,scaleVisibilityEnabled:!0,filterVisibilityEnabled:!0,timeExtentEnabled:!0,elevationAlignmentEnabled:!0,elevationFeatureExpressionEnabled:!0,preferredUpdatePolicy:this.updatePolicy,updateClippingExtent:e=>this._updateClippingExtent(e)});this._set(\"processor\",i),s?.destroy(),this.queryEngine?.clear(),this.addResolvingPromise(i.setup())}_getResourceInfo(){const e=this.controller instanceof u?this.controller:null;return{displayedNumberOfFeatures:this.loadedGraphics.length,maximumNumberOfFeatures:e?.maximumNumberOfFeatures??-1,totalNumberOfFeatures:e?.serviceDataCount??-1,nodes:0,...this.processor.performanceInfo}}get performanceInfo(){return this._getResourceInfo()}};return e([a()],b.prototype,\"loadedGraphics\",void 0),e([a()],b.prototype,\"suspended\",void 0),e([a({readOnly:!0})],b.prototype,\"legendEnabled\",null),e([a()],b.prototype,\"updating\",void 0),e([a()],b.prototype,\"controller\",void 0),e([a()],b.prototype,\"processor\",void 0),e([a({readOnly:!0})],b.prototype,\"updatePolicy\",void 0),e([a({readOnly:!0})],b.prototype,\"suspendResumeExtentMode\",void 0),e([a({type:Boolean})],b.prototype,\"slicePlaneEnabled\",void 0),e([a({readOnly:!0})],b.prototype,\"suspendInfo\",void 0),e([a()],b.prototype,\"graphics3DProcessor\",null),e([a()],b.prototype,\"heatmapProcessor\",null),b=e([l(\"esri.views.3d.layers.FeatureLikeLayerView3D\")],b),b};export{E as FeatureLikeLayerView3D};\n"],
  "mappings": "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",
  "names": ["s", "e", "t", "r", "i", "o", "n", "l", "F", "E", "t", "o", "c", "s", "i", "e", "w", "S", "D", "U", "a", "O", "r", "g", "u", "U", "s", "I", "e", "t", "a", "i", "r", "O", "n", "G", "g", "B", "o", "u", "l", "A", "E", "p", "h", "Q", "b", "d", "f", "m", "S", "V", "L", "h", "l", "e", "t", "s", "M", "S", "f", "i", "v", "g", "a", "r", "n", "c", "j", "O", "s", "I", "m", "e", "c", "P", "t", "i", "r", "j", "a", "l", "o", "n", "L", "g", "h", "d", "p", "f", "y", "V", "U", "A", "d", "t", "p", "e", "r", "o", "E", "c", "b", "y", "t", "d", "V", "e", "r", "a", "s", "o", "U", "L", "D", "u", "p", "c", "l", "i", "h", "n", "m", "p", "e", "f", "o", "b", "r", "E", "s", "T", "c", "t", "j", "i", "d", "A", "f", "b", "e", "j", "t", "E", "I", "s", "n", "o", "a", "u", "c", "l", "m", "p", "h", "T", "g", "v", "i", "r", "R", "E", "n", "D", "s", "A", "B", "d", "e", "o", "b", "u", "r", "t", "l", "_e", "i", "a", "q", "O", "E", "n", "T", "g", "c", "E", "b", "o", "e", "s", "l", "t", "r", "c", "j", "i", "B", "I", "d", "n"]
}
