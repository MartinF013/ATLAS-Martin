{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/webgl-engine/shaders/ShadowCastVisualizeTechniqueConfiguration.js", "../../@arcgis/core/chunks/ShadowCastVisualize.glsl.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import{parameter as e,ShaderTechniqueConfiguration as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";var t;!function(o){o[o.Gradient=0]=\"Gradient\",o[o.Threshold=1]=\"Threshold\",o[o.COUNT=2]=\"COUNT\"}(t||(t={}));class r extends i{constructor(){super(...arguments),this.visualization=t.Gradient,this.bandsEnabled=!1}}o([e({count:t.COUNT})],r.prototype,\"visualization\",void 0),o([e()],r.prototype,\"bandsEnabled\",void 0);export{t as ShadowCastVisualization,r as ShadowCastVisualizeTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{ScreenSpacePass as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.js\";import{ReadLinearDepth as r}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js\";import{CameraSpace as o}from\"../views/3d/webgl-engine/core/shaderLibrary/util/CameraSpace.glsl.js\";import{RgbaFloatEncoding as a}from\"../views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js\";import{Float4PassUniform as s}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{FloatPassUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as n}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as l}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as d}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{s as t}from\"./ShadowCastAccumulate.glsl.js\";import{ShadowCastVisualization as c}from\"../views/3d/webgl-engine/shaders/ShadowCastVisualizeTechniqueConfiguration.js\";function m(m){const g=new l,u=g.fragment;u.include(a),u.include(r),g.include(o),g.include(e);const{visualization:p,bandsEnabled:w}=m;u.constants.add(\"inverseSampleValue\",\"float\",t),u.uniforms.add([new d(\"shadowCastMap\",(e=>e.shadowCastMap)),new i(\"sampleScale\",(e=>e.sampleScale)),new i(\"opacityFromElevation\",(e=>e.opacityFromElevation)),new s(\"uColor\",(e=>e.color))]);const h=p===c.Gradient,f=p===c.Threshold;return h&&w?u.uniforms.add(new i(\"bandSize\",(e=>e.bandSize))):f&&u.uniforms.add(new i(\"threshold\",(e=>e.threshold))),u.code.add(n`\n      void main(void) {\n        vec4 record = texture2D(shadowCastMap, uv);\n        float pixelSamples = record.r * inverseSampleValue;\n        if (pixelSamples < 1.0) {\n          discard;\n        }\n\n        float strength = pixelSamples * sampleScale;\n\n        ${f?n`\n            if (strength <= threshold) {\n              discard;\n            }`:\"\"}\n\n        ${h&&w?n`strength = ceil(strength / bandSize) * bandSize;`:\"\"}\n\n        gl_FragColor = vec4(uColor.xyz, uColor.a * opacityFromElevation ${h?n`* strength`:\"\"});\n      }\n    `),g}const g=Object.freeze(Object.defineProperty({__proto__:null,build:m},Symbol.toStringTag,{value:\"Module\"}));export{g as S,m as b};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAI0K,IAAIA;AAAE,CAAC,SAASC,IAAE;AAAC,EAAAA,GAAEA,GAAE,WAAS,CAAC,IAAE,YAAWA,GAAEA,GAAE,YAAU,CAAC,IAAE,aAAYA,GAAEA,GAAE,QAAM,CAAC,IAAE;AAAO,EAAED,OAAIA,KAAE,CAAC,EAAE;AAAE,IAAM,IAAN,cAAgB,EAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,gBAAcA,GAAE,UAAS,KAAK,eAAa;AAAA,EAAE;AAAC;AAAC,EAAE,CAACE,GAAE,EAAC,OAAMF,GAAE,MAAK,CAAC,CAAC,GAAE,EAAE,WAAU,iBAAgB,MAAM,GAAE,EAAE,CAACE,GAAE,CAAC,GAAE,EAAE,WAAU,gBAAe,MAAM;;;ACA0kB,SAAS,EAAEC,IAAE;AAAC,QAAMC,KAAE,IAAI,KAAEC,KAAED,GAAE;AAAS,EAAAC,GAAE,QAAQ,CAAC,GAAEA,GAAE,QAAQC,EAAC,GAAEF,GAAE,QAAQG,EAAC,GAAEH,GAAE,QAAQI,EAAC;AAAE,QAAK,EAAC,eAAc,GAAE,cAAa,EAAC,IAAEL;AAAE,EAAAE,GAAE,UAAU,IAAI,sBAAqB,SAAQ,CAAC,GAAEA,GAAE,SAAS,IAAI,CAAC,IAAI,EAAE,iBAAiB,CAAAI,OAAGA,GAAE,aAAc,GAAE,IAAI,EAAE,eAAe,CAAAA,OAAGA,GAAE,WAAY,GAAE,IAAI,EAAE,wBAAwB,CAAAA,OAAGA,GAAE,oBAAqB,GAAE,IAAIA,GAAE,UAAU,CAAAA,OAAGA,GAAE,KAAM,CAAC,CAAC;AAAE,QAAM,IAAE,MAAIC,GAAE,UAAS,IAAE,MAAIA,GAAE;AAAU,SAAO,KAAG,IAAEL,GAAE,SAAS,IAAI,IAAI,EAAE,YAAY,CAAAI,OAAGA,GAAE,QAAS,CAAC,IAAE,KAAGJ,GAAE,SAAS,IAAI,IAAI,EAAE,aAAa,CAAAI,OAAGA,GAAE,SAAU,CAAC,GAAEJ,GAAE,KAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAU7jD,IAAE;AAAA;AAAA;AAAA,iBAGG;AAAA;AAAA,UAEL,KAAG,IAAE,sDAAoD;AAAA;AAAA,0EAEO,IAAE,gBAAc;AAAA;AAAA,KAErF,GAAED;AAAC;AAAC,IAAM,IAAE,OAAO,OAAO,OAAO,eAAe,EAAC,WAAU,MAAK,OAAM,EAAC,GAAE,OAAO,aAAY,EAAC,OAAM,SAAQ,CAAC,CAAC;",
  "names": ["t", "o", "e", "m", "g", "u", "a", "n", "o", "e", "t"]
}
