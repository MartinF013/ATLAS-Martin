import {
  s2
} from "./chunk-HFTNOKM2.js";
import {
  s
} from "./chunk-CVWDM4C7.js";
import {
  a,
  a2,
  q,
  r,
  t
} from "./chunk-CBQWMOBK.js";

// node_modules/@arcgis/core/core/deprecate.js
var e = /* @__PURE__ */ new Set();
function i(n, i3, o2 = false) {
  o2 && e.has(i3) || (o2 && e.add(i3), n.warn(`ðŸ›‘ DEPRECATED - ${i3}`));
}
function r2(e4, i3, o2 = {}) {
  if (a("esri-deprecation-warnings")) {
    const { moduleName: n } = o2;
    s3(e4, `Property: ${(n ? n + "::" : "") + i3}`, o2);
  }
}
function s3(e4, o2, t5 = {}) {
  if (a("esri-deprecation-warnings")) {
    const { replacement: n, version: r4, see: s4, warnOnce: a3 } = t5;
    let c = o2;
    n && (c += `
	ðŸ› ï¸ Replacement: ${n}`), r4 && (c += `
	âš™ï¸ Version: ${r4}`), s4 && (c += `
	ðŸ”— See ${s4} for more details.`), i(e4, c, a3);
  }
}

// node_modules/@arcgis/core/core/events.js
function e2(e4) {
  return e4 && ("function" == typeof e4.on || "function" == typeof e4.addEventListener);
}
function r3(r4, t5, n) {
  if (!e2(r4))
    throw new TypeError("target is not a Evented or EventTarget object");
  if ("on" in r4)
    return r4.on(t5, n);
  if (Array.isArray(t5)) {
    const e4 = t5.slice();
    for (const t6 of e4)
      r4.addEventListener(t6, n);
    return { remove() {
      for (const t6 of e4)
        r4.removeEventListener(t6, n);
    } };
  }
  return r4.addEventListener(t5, n), { remove() {
    r4.removeEventListener(t5, n);
  } };
}
function t2(t5, n, o2) {
  if (!e2(t5))
    throw new TypeError("target is not a Evented or EventTarget object");
  if ("once" in t5)
    return t5.once(n, o2);
  const i3 = r3(t5, n, (e4) => {
    i3.remove(), o2.call(t5, e4);
  });
  return { remove() {
    i3.remove();
  } };
}
var o = { Win: "Meta", Scroll: "ScrollLock", Spacebar: " ", Down: "ArrowDown", Left: "ArrowLeft", Right: "ArrowRight", Up: "ArrowUp", Del: "Delete", Apps: "ContextMenu", Esc: "Escape", Multiply: "*", Add: "+", Subtract: "-", Decimal: ".", Divide: "/" };
function i2({ key: e4 }) {
  return o[e4] || e4;
}

// node_modules/@arcgis/core/core/clock.js
function e3(e4) {
  return { setTimeout: (t5, o2) => {
    const r4 = e4.setTimeout(t5, o2);
    return { remove: () => e4.clearTimeout(r4) };
  } };
}
var t3 = e3(globalThis);

// node_modules/@arcgis/core/core/promiseUtils.js
function m(t5 = "Aborted") {
  return new s2("AbortError", t5);
}
function f(t5, e4 = "Aborted") {
  if (p(t5))
    throw m(e4);
}
function h(t5) {
  return r(t5) ? "aborted" in t5 ? t5 : t5.signal : t5;
}
function p(t5) {
  const e4 = h(t5);
  return r(e4) && e4.aborted;
}
function w(t5) {
  if (g(t5))
    throw t5;
}
function b(t5) {
  if (!g(t5))
    throw t5;
}
function v(t5, e4) {
  const r4 = h(t5);
  if (!t(r4)) {
    if (!r4.aborted)
      return t2(r4, "abort", () => e4());
    e4();
  }
}
function d(t5, e4) {
  const r4 = h(t5);
  if (!t(r4))
    return f(r4), t2(r4, "abort", () => e4(m()));
}
function y(t5, e4) {
  const r4 = h(e4);
  return t(r4) ? t5 : new Promise((r5, n) => {
    let o2 = v(e4, () => n(m()));
    const i3 = () => o2 = a2(o2);
    t5.then(i3, i3), t5.then(r5, n);
  });
}
function g(t5) {
  return t5 && "AbortError" === t5.name;
}
async function j(t5) {
  try {
    return await t5;
  } catch (e4) {
    if (!g(e4))
      throw e4;
  }
}
async function A(t5, e4 = s.getLogger("esri")) {
  try {
    return await t5;
  } catch (r4) {
    g(r4) || e4.error(r4);
  }
}
function T() {
  let t5 = null;
  const e4 = new Promise((e5, r4) => {
    t5 = { promise: void 0, resolve: e5, reject: r4 };
  });
  return t5.promise = e4, t5;
}
async function E(t5) {
  if (!t5)
    return;
  if ("function" != typeof t5.forEach) {
    const e5 = Object.keys(t5), r4 = e5.map((e6) => t5[e6]), n = await E(r4), o2 = {};
    return e5.map((t6, e6) => o2[t6] = n[e6]), o2;
  }
  const e4 = t5;
  return new Promise((t6) => {
    const r4 = [];
    let n = e4.length;
    0 === n && t6(r4), e4.forEach((e5) => {
      const o2 = { promise: e5 || Promise.resolve(e5) };
      r4.push(o2), o2.promise.then((t7) => {
        o2.value = t7;
      }).catch((t7) => {
        o2.error = t7;
      }).then(() => {
        --n, 0 === n && t6(r4);
      });
    });
  });
}
async function C(t5) {
  return (await E(t5)).filter((t6) => !!t6.value).map((t6) => t6.value);
}
function L(t5, e4, r4) {
  const n = new AbortController();
  return v(r4, () => n.abort()), new Promise((r5, o2) => {
    let i3 = setTimeout(() => {
      i3 = 0, r5(e4);
    }, t5);
    v(n, () => {
      i3 && (clearTimeout(i3), o2(m()));
    });
  });
}
function k(t5) {
  return t5 && "function" == typeof t5.then;
}
function $(t5) {
  return k(t5) ? t5 : Promise.resolve(t5);
}
function x(t5, e4 = -1) {
  let r4, n, o2, i3, s4 = null;
  const u = (...l) => {
    if (r4) {
      n = l, i3 && i3.reject(m()), i3 = T();
      const t6 = q(i3.promise);
      if (s4) {
        const t7 = s4;
        s4 = null, t7.abort();
      }
      return t6;
    }
    if (o2 = i3 || T(), i3 = null, e4 > 0) {
      const n2 = new AbortController();
      r4 = $(t5(...l, n2.signal));
      const o3 = r4;
      L(e4).then(() => {
        r4 === o3 && (i3 ? n2.abort() : s4 = n2);
      });
    } else
      r4 = 1, r4 = $(t5(...l));
    const a3 = () => {
      const t6 = n;
      n = o2 = r4 = s4 = null, null != t6 && u(...t6);
    }, f2 = r4, h2 = o2;
    return f2.then(a3, a3), f2.then(h2.resolve, h2.reject), q(h2.promise);
  };
  return u;
}
function D() {
  let e4, r4;
  const n = new Promise((t5, n2) => {
    e4 = t5, r4 = n2;
  }), o2 = (t5) => {
    e4(t5);
  };
  return o2.resolve = (t5) => e4(t5), o2.reject = (t5) => r4(t5), o2.timeout = (e5, r5) => t3.setTimeout(() => o2.reject(r5), e5), o2.promise = n, o2;
}
function N(t5, e4) {
  return t5.then(e4, e4);
}
function O(t5, e4) {
  let r4, n = new AbortController();
  const o2 = t5(n.signal);
  let s4 = { promise: o2, finished: false, abort: () => {
    n && (n.abort(), n = null);
  } };
  const c = () => {
    s4 && (s4.finished = true, s4 = null), r(r4) && (r4.remove(), r4 = null), n = null;
  };
  return o2.then(c, c), r4 = v(e4, () => {
    r(s4) && s4.abort();
  }), s4;
}
async function q2(t5) {
  await Promise.resolve(), f(t5);
}

export {
  t3 as t,
  r2 as r,
  s3 as s,
  e2 as e,
  r3 as r2,
  i2 as i,
  m,
  f,
  p,
  w,
  b,
  v,
  d,
  y,
  g,
  j,
  A,
  T,
  E,
  C,
  L,
  k,
  $,
  x,
  D,
  N,
  O,
  q2 as q
};
//# sourceMappingURL=chunk-U3PSONS6.js.map
