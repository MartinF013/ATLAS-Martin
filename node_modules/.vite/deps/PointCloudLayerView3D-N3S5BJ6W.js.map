{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/layers/PointCloudWorkerHandle.js", "../../@arcgis/core/views/3d/layers/i3s/LoDUtil.js", "../../@arcgis/core/views/3d/layers/i3s/PagedNodeIndex.js", "../../@arcgis/core/views/3d/layers/i3s/PointCloudRendererUtil.js", "../../@arcgis/core/views/3d/layers/i3s/PointGraphic.js", "../../@arcgis/core/views/3d/layers/i3s/PointHighlights.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/PointRendererTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/PointRendererTechniqueConfiguration.js", "../../@arcgis/core/views/3d/layers/i3s/PointRenderer.js", "../../@arcgis/core/views/3d/layers/PointCloudLayerView3D.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../core/maybe.js\";import{WorkerHandle as r}from\"../../../core/workers/WorkerHandle.js\";class e extends r{constructor(t){super(\"PointCloudWorker\",\"transform\",{transform:t=>this._getTransferList(t)},t)}_getTransferList(r){const e=[r.geometryBuffer];if(t(r.primaryAttributeData)&&r.primaryAttributeData.buffer&&e.push(r.primaryAttributeData.buffer),t(r.modulationAttributeData)&&r.modulationAttributeData.buffer&&e.push(r.modulationAttributeData.buffer),t(r.filterAttributesData))for(const a of r.filterAttributesData)t(a)&&a.buffer&&e.push(a.buffer);for(const t of r.userAttributesData)t.buffer&&e.push(t.buffer);return e}}export{e as PointCloudWorkerHandle};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{e}from\"../../../../chunks/vec3.js\";function t(e,t,g){for(let n=0;n<t.length;n++)r[n]=!1,o[n]=null;for(let r=0;r<e.length;r++)n[r]=!1,l[r]=null;for(let n=0;n<t.length;n++){const o=h(t[n],e,g);o>=0&&(r[n]=!0,null!=l[o]?l[o].push(t[n]):l[o]=[t[n]])}for(let l=0;l<e.length;l++){const r=h(e[l],t,g);r>=0&&(n[l]=!0,null!=o[r]?o[r].push(e[l]):o[r]=[e[l]])}const u=[];for(let r=0;r<e.length;r++)null!=l[r]||n[r]||u.push({load:[],remove:[e[r]]});for(let n=0;n<t.length;n++)null!=o[n]||r[n]||u.push({load:[t[n]],remove:[]});for(let n=0;n<t.length;n++)null!=o[n]&&(o[n].length>1||o[n][0]!==t[n])&&u.push({load:[t[n]],remove:o[n]});for(let n=0;n<e.length;n++)null!=l[n]&&(l[n].length>1||l[n][0]!==e[n])&&u.push({load:l[n],remove:[e[n]]});return u}const n=[!1],l=[null],r=[!1],o=[null];function h(e,t,n){let l=e;for(;l>0;){const e=t.indexOf(l);if(e>=0)return e;l=n.getParentId(l)}return t.indexOf(l)}function g(t,n,l){return t.sort(((t,r)=>{if(0===t.load.length&&0===r.load.length)return 0;if(0===t.load.length)return-1;if(0===r.load.length)return 1;if(0===t.remove.length&&0===r.remove.length){const o=l.getRenderCenter(t.load[0]),h=l.getRenderCenter(r.load[0]);return e(o,n)-e(h,n)}if(0===t.remove.length)return-1;if(0===r.remove.length)return 1;if(1===t.load.length&&1===r.load.length){const o=l.getRenderCenter(t.load[0]),h=l.getRenderCenter(r.load[0]);return e(o,n)-e(h,n)}if(1===t.load.length)return-1;if(1===r.load.length)return 1;{const o=l.getRenderCenter(t.remove[0]),h=l.getRenderCenter(r.remove[0]);return e(o,n)-e(h,n)}}))}function u(e,t,n){for(let l=0;l<e.length;++l){const r=e[l];r.load.length>t&&1===r.remove.length&&d(e,r,n)}}function d(e,t,n){const l=[t.remove[0]],r=[];for(;1===l.length;){const e=l.pop();r.length=0;for(let o=0;o<t.load.length;o++){let h=t.load[o],g=n.getParentId(h);for(;g!==e;)h=g,g=n.getParentId(h);let u=l.indexOf(h);u<0&&(u=l.length,l.push(h),r.push([])),r[u].push(t.load[o])}}t.load=l;for(let o=0;o<l.length;o++)r[o].length>1?e.push({remove:[l[o]],load:r[o]}):l[o]=r[o][0]}export{t as nodeDiff,g as sortFrontToBack,u as splitWorkEntries,d as splitWorkEntry};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{create as e,contains as t,intersects as s}from\"../../../../geometry/support/aaBoundingBox.js\";import{transformObb as n}from\"./I3SUtil.js\";import{set as i,toAaBoundingBox as r,intersectPlane as o,ObbArray as p}from\"../../support/orientedBoundingBox.js\";class h{constructor(e,t,s){this._pages=[],this.pageSize=0,this._nodeSR=null,this._renderSR=null,this._nodeSR=e,this._renderSR=t,this.pageSize=s}addPage(e,t,s=0){for(;this._pages.length<e;)this._pages.push(null);const n=g(t,this._nodeSR,this._renderSR,s);this._pages[e]={nodes:t,renderObbs:n,parents:new Uint32Array(this.pageSize)},u(this._pages,this.pageSize)}hasPage(e){return!!this._pages[e]}getNode(e){const t=this.pageSize;return this._pages[l(e,t)].nodes[c(e,t)]}getRenderObb(e){const t=this.pageSize;return this._pages[l(e,t)].renderObbs[c(e,t)]}getRenderCenter(e){return this.getRenderObb(e).center}setRenderObb(e,t){const s=this.pageSize;i(t,this._pages[l(e,s)].renderObbs[c(e,s)])}getParentId(e){const t=this.pageSize;return this._pages[l(e,t)].parents[c(e,t)]}hasNodes(e,t){const s=l(e,this.pageSize),n=l(e+t-1,this.pageSize);for(let i=s;i<=n;i++)if(null==this._pages[i])return!1;return!0}forEachNodeId(e){for(let t=0;t<this._pages.length;t++){const s=this._pages[t];if(s)for(let n=0;n<s.nodes.length;n++)e(t*this.pageSize+n)}}createVisibilityTraverse(){const t={index:this,queue:[],masks:[],tempAabb:e()};return(e,s)=>a(t,e,s)}}function a(e,n,i){const p=e.index;if(!p.hasNodes(0,1))return;const h=e.queue;h.length=0,h.push(0);const a=e.masks;for(a.length=0,a.push(0);h.length>0;){const g=h.pop();let u=a.pop();const c=p.getNode(g),d=p.getRenderObb(g);let f=!0;if(null!=n.clippingBox){const i=1<<n.frustum.length;if(0==(u&i)){const o=r(d,e.tempAabb);t(n.clippingBox,o)?u|=i:s(n.clippingBox,o)||(f=!1)}}for(let e=0;e<n.frustum.length&&f;e++){const t=1<<e;if(0==(u&t)){const s=o(d,n.frustum[e]);s>0?f=!1:s<0&&(u|=t)}}if(i.predicate(g,c,f)){const e=c.firstChild,t=c.childCount;let s=!1;const n=l(e,p.pageSize),r=l(e+t-1,p.pageSize);for(let o=n;o<=r;o++)if(!p.hasPage(o)){i.pageMiss(g,o),s=!0;break}if(!s)for(let i=0;i<t;i++)h.push(e+i),a.push(u)}}}function g(e,t,s,i){const r=new p(e.length);for(let o=0;o<e.length;o++)n(e[o].obb,t,r.obbs[o],s,i);return r.obbs}function u(e,t){const s=[0];for(;s.length;){const n=s.pop(),i=e[l(n,t)].nodes[c(n,t)];for(let r=0;r<i.childCount;r++){const o=i.firstChild+r;null!=e[l(o,t)]&&(e[l(o,t)].parents[c(o,t)]=n,s.push(o))}}}function l(e,t){return e/t|0}function c(e,t){return e%t}export{h as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nfunction t(t){const e=t.renderer,n=e&&e.type,o=e&&t.renderer.toJSON()||null;let r=null,i=!1;\"point-cloud-unique-value\"===n||\"point-cloud-stretch\"===n||\"point-cloud-class-breaks\"===n?r=u(t.attributeStorageInfo,e.field):\"point-cloud-rgb\"===n?(r=l(t.attributeStorageInfo,e.field),i=null!=r):(r=l(t.attributeStorageInfo,\"RGB\"),i=null!=r);let a=null;return e&&e.colorModulation&&(a=u(t.attributeStorageInfo,e.colorModulation.field)),{rendererJSON:o,isRGBRenderer:i,primaryAttribute:r,modulationAttribute:a}}function e(t){const e=t.filters;return e?e.map((e=>({filterJSON:e.toJSON(),attributeInfo:u(t.attributeStorageInfo,e.field)}))):[]}function n(t){const e=t&&t.pointSizeAlgorithm;return e&&\"splat\"===e.type?e:null}function o(t){const e=t&&t.pointSizeAlgorithm;return e&&\"fixed-size\"===e.type?e:null}function r(t){const e=t&&t.pointSizeAlgorithm;return!(!e||!e.type)&&\"fixed-size\"===e.type}function l(t,e){for(const n of t)if(n.name===e&&null!=n.attributeValues&&\"UInt8\"===n.attributeValues.valueType&&3===n.attributeValues.valuesPerElement)return{name:e,storageInfo:n,useElevation:!1};return null}function u(t,e){for(const n of t)if(n.name===e){const t=\"embedded-elevation\"===n.encoding;return{name:e,storageInfo:t?null:n,useElevation:t}}return\"elevation\"===e.toLowerCase()?{name:e,storageInfo:null,useElevation:!0}:null}export{u as getAttributeInfo,e as getFilterInfo,o as getFixedSizeAlgorithm,t as getRendererInfo,n as getSplatSizeAlgorithm,r as rendererUsesFixedSizes};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import o from\"../../../../Graphic.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";let t=class extends o{constructor(r){super(r)}};r([s({constructOnly:!0,clonable:\"reference\"})],t.prototype,\"pointCloudMetadata\",void 0),t=r([e(\"esri.views.3d.layers.i3s.PointGraphic\")],t);export{t as PointGraphic};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{makeHandle as e}from\"../../../../core/handleUtils.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{Object3DState as i}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Object3DStateID as h}from\"../../webgl-engine/lib/Object3DStateID.js\";class s{constructor(e){this._context=e,this._highlights=new Set}get hasHighlights(){return this._highlights.size>0}destroy(){this._highlights=null}add(t){const i=new o(t);return this._highlights.add(i),this._enableSet(i),e((()=>this._removeSet(i)))}_removeSet(e){this._disableSet(e),this._highlights.delete(e)}_enableSet(e){e.enabled||(e.enabled=!0,this._context.forEachNode((t=>this._enableSetForNode(e,t))))}_enableSetForNode(e,t){if(!e.enabled)return;const i=e.ids.get(t.id);i&&i.forEach((i=>this._context.addHighlight(t,i,e.id)))}_disableSet(e){e.enabled&&(e.enabled=!1,this._context.forEachNode((t=>this._disableSetForNode(e,t))))}_disableSetForNode(e,t){e.enabled||this._context.removeHighlight(t,e.id)}nodeAdded(e){this._highlights.forEach((t=>this._enableSetForNode(t,e)))}nodeRemoved(e){this._highlights.forEach((t=>this._disableSetForNode(t,e)))}removeAll(){this._highlights.forEach((e=>this._disableSet(e)))}}class o{constructor(e){this.id=new h(i.Highlight),this.ids=new Map,this.enabled=!1;for(const i of e)t(i)&&this._add(i.nodeId,i.pointId)}_add(e,t){const i=this.ids.get(e);i?i.add(t):this.ids.set(e,new Set([t]))}}export{s as PointHighlights};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as t}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as i}from\"../lib/Program.js\";import{stencilWriteMaskOn as o,stencilBaseAllZerosParams as s}from\"../lib/StencilUtils.js\";import{P as n}from\"../../../../chunks/PointRenderer.glsl.js\";import{CompareFunction as l}from\"../../../webgl/enums.js\";import{makePipelineState as c,defaultDepthWriteParams as a,defaultColorWriteParams as u}from\"../../../webgl/renderState.js\";class m extends r{constructor(e,r,t){super(e,r,t)}initializeProgram(e){const r=m.shader.get().build(this.configuration);return new i(e.rctx,r,t)}initializePipeline(){return c({depthTest:{func:l.LESS},depthWrite:a,colorWrite:u,stencilWrite:this.configuration.hasOccludees?o:null,stencilTest:this.configuration.hasOccludees?s:null})}}m.shader=new e(n,(()=>import(\"./PointRenderer.glsl.js\")));export{m as PointRendererTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as o}from\"../core/shaderLibrary/ShaderOutputOptions.js\";import{parameter as t}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as r}from\"../materials/DefaultTechniqueConfiguration.js\";class i extends r{constructor(){super(...arguments),this.output=o.Color,this.hasSlicePlane=!1,this.drawScreenSize=!1,this.hasOccludees=!1}}e([t({count:o.COUNT})],i.prototype,\"output\",void 0),e([t()],i.prototype,\"hasSlicePlane\",void 0),e([t()],i.prototype,\"drawScreenSize\",void 0),e([t()],i.prototype,\"hasOccludees\",void 0),e([t({constValue:!0})],i.prototype,\"hasSliceInVertexProgram\",void 0);export{i as PointRendererTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as i,unwrap as t,disposeMaybe as s}from\"../../../../core/maybe.js\";import n from\"../../../../core/PooledArray.js\";import{f as r,m as o}from\"../../../../chunks/mat4.js\";import{c as h}from\"../../../../chunks/mat4f32.js\";import{b as a,l,g as c,o as d,e as u,p as m,s as g}from\"../../../../chunks/vec3.js\";import{c as p}from\"../../../../chunks/vec3f32.js\";import{c as f}from\"../../../../chunks/vec3f64.js\";import{s as _}from\"../../../../chunks/vec4.js\";import{create as S,POSITIVE_INFINITY as x,offset as z,contains as b,containsPoint as P,equals as w,set as R}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as A}from\"../../../../geometry/support/plane.js\";import{fromPoints as q}from\"../../../../geometry/support/ray.js\";import{PointHighlights as y}from\"./PointHighlights.js\";import{minimumDistancePlane as j,maximumDistancePlane as M,intersectLine as I,toAaBoundingBox as v}from\"../../support/orientedBoundingBox.js\";import{ShaderOutput as H}from\"../../webgl-engine/core/shaderLibrary/ShaderOutputOptions.js\";import{SlicePlaneParameters as T}from\"../../webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{NoParameters as L}from\"../../webgl-engine/core/shaderModules/interfaces.js\";import{Default3D as F}from\"../../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{newIntersectorResult as E}from\"../../webgl-engine/lib/Intersector.js\";import{IntersectorType as V,StoreResults as O}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{RenderPass as U}from\"../../webgl-engine/lib/RenderPass.js\";import{VertexAttribute as N}from\"../../webgl-engine/lib/VertexAttribute.js\";import{PointRendererTechnique as C}from\"../../webgl-engine/shaders/PointRendererTechnique.js\";import{PointRendererTechniqueConfiguration as B}from\"../../webgl-engine/shaders/PointRendererTechniqueConfiguration.js\";import{BufferObject as D}from\"../../../webgl/BufferObject.js\";import{DataType as W,PrimitiveType as G,Usage as k}from\"../../../webgl/enums.js\";import{VertexArrayObject as Y}from\"../../../webgl/VertexArrayObject.js\";import{VertexElementDescriptor as J}from\"../../../webgl/VertexElementDescriptor.js\";const K={positions:[new J(N.POSITION,3,W.FLOAT,0,12)],colors:[new J(N.COLOR,3,W.UNSIGNED_BYTE,0,3,!0)]};class Q{constructor(e){this._params=e,this.type=V.PCL,this.isGround=!1,this._highlights=new y({forEachNode:e=>this.forEachNode(e),addHighlight:(e,i,t)=>this._addHighlight(e,i,t),removeHighlight:(e,i)=>this._removeHighlight(e,i)}),this.canRender=!0,this.layerUid=\"\",this._useFixedSizes=!1,this._scaleFactor=1,this._minSizePx=0,this._useRealWorldSymbolSizes=!1,this._size=0,this._sizePx=0,this._slicePlaneEnabled=!1,this._clipBox=S(x),this._techniqueConfig=new B,this.tempMatrix4=h(),this.tempVec3=p(),this.nodes=new n}get needsHighlight(){return this._highlights.hasHighlights}initializeRenderContext(e){this._context=e,this._techniqueRep=this._context.shaderTechniqueRepository,e.requestRender()}uninitializeRenderContext(){}intersect(e,i,t,s){const n=f(),r=f(),o=f(),h=f(),g=A(),p=e.camera.perScreenPixelRatio/2,x=e.camera.near,w=this._getSizeParams();a(r,s,t);const R=1/l(r);c(r,r,R),d(o,r),_(g,r[0],r[1],r[2],-u(r,t));const y=new re,H=new re,T=new Array,L=S(),F=S(this._clipBox);z(F,-t[0],-t[1],-t[2],F),this.nodes.forAll((l=>{const c=l.splatSize*this._scaleFactor;let d=j(l.obb,g),f=M(l.obb,g);d-=ee(c,d+x,w,p,l.isLeaf),f-=ee(c,f+x,w,p,l.isLeaf);const _=f<0,S=null!=y.dist&&null!=H.dist&&y.dist<d*R&&H.dist>f*R;if(_||S)return;const A=$(c,f+x,w,p,l.isLeaf);if(!I(l.obb,t,r,A))return;const q=A*A;v(l.obb,L),z(L,-t[0],-t[1],-t[2],L);const E=!b(F,L);a(h,l.origin,t);const V=l.coordinates.length/3;for(let a=0;a<V;a++){if(n[0]=h[0]+l.coordinates[3*a],n[1]=h[1]+l.coordinates[3*a+1],n[2]=h[2]+l.coordinates[3*a+2],E&&!P(F,n))continue;const d=u(n,r),g=m(n)-d*d;if(g>q)continue;let f=d+x;const _=ee(c,f,w,p,l.isLeaf);if(d-_<0)continue;f-=_;const S=$(c,f,w,p,l.isLeaf);if(g>S*S)continue;const z=(d-_)*R,b=e=>(e.point=ie(l,a,e.point),e.dist=z,e.normal=o,e.node=l,e.pointId=a,e.layerUid=this.layerUid,e);if((null==y.dist||z<y.dist)&&(null==i||i(t,s,z))&&b(y),e.options.store!==O.MIN&&(null==H.dist||z>H.dist)&&(null==i||i(t,s,z))&&b(H),e.options.store===O.ALL&&(null==i||i(t,s,z))){const e=new re;T.push(b(e))}}}));const V=e=>{const{layerUid:i,node:t,pointId:s}=e;return{point:e.point,layerUid:i,graphicUid:s,createGraphic:()=>this._params.createGraphic(t,s,e.point)}},U=(e,i)=>{const t=V(i);e.set(this.type,t,i.dist,i.normal)};if(oe(y)){const i=e.results.min;(null==i.dist||y.dist<i.dist)&&U(i,y)}if(oe(H)&&e.options.store!==O.MIN){const i=e.results.max;(null==i.dist||H.dist>i.dist)&&U(i,H)}if(e.options.store===O.ALL){const i=q(t,s);for(const t of T){const s=E(i);U(s,t),e.results.all.push(s)}}}prepareTechnique(e){if(0===this.nodes.length||e.pass!==U.MATERIAL&&e.pass!==U.MATERIAL_DEPTH&&e.pass!==U.MATERIAL_HIGHLIGHT)return null;this.nodes.forAll((i=>{null==i.vao&&this._initNode(e,i)}));const i=this._getSizeParams();return this._techniqueConfig.drawScreenSize=i.drawScreenSpace,this._techniqueConfig.hasSlicePlane=this._slicePlaneEnabled,this._techniqueConfig.hasOccludees=e.bindParameters.hasOccludees,this._techniqueConfig.output=e.pass===U.MATERIAL_DEPTH?H.Depth:e.pass===U.MATERIAL_HIGHLIGHT?H.Highlight:H.Color,this._techniqueRep.releaseAndAcquire(C,this._techniqueConfig,this._technique)}render(e,i){const t=e.rctx,s=t.bindTechnique(i,he,e.bindParameters),n=e.bindParameters.camera,h=this._clipBox,a=!w(h,x,((e,i)=>e===i));a||(g(this.tempVec3,-1/0,-1/0,-1/0),s.setUniform3fv(\"clipMin\",this.tempVec3),g(this.tempVec3,1/0,1/0,1/0),s.setUniform3fv(\"clipMax\",this.tempVec3));const l=this._getSizeParams(),c=n.pixelRatio;l.drawFixedSize&&s.setUniform2f(\"pointScale\",l.fixedSize*c,n.fullHeight),this.nodes.forAll((d=>{if(0===d.coordinates.length||e.isHighlightPass&&!d.highlights)return;if(s.setUniform2f(\"screenMinMaxSize\",l.screenMinSize*c,Z(d.isLeaf)*c),!l.drawFixedSize){const e=d.splatSize*this._scaleFactor;s.setUniform2f(\"pointScale\",e*c,n.fullHeight/c)}const u=d.origin;a&&(g(this.tempVec3,h[0]-u[0],h[1]-u[1],h[2]-u[2]),s.setUniform3fv(\"clipMin\",this.tempVec3),g(this.tempVec3,h[3]-u[0],h[4]-u[1],h[5]-u[2]),s.setUniform3fv(\"clipMax\",this.tempVec3)),r(this.tempMatrix4,u),o(this.tempMatrix4,n.viewMatrix,this.tempMatrix4),s.setUniformMatrix4fv(\"modelView\",this.tempMatrix4),i.bindDraw(new T(u),e.bindParameters),t.bindVAO(d.vao),e.isHighlightPass?this._renderHighlightFragments(t,d):t.drawArrays(G.POINTS,0,d.coordinates.length/3)}))}_renderHighlightFragments(e,s){const n=s.highlights;if(i(n))return;let r=t(n[0].component),o=r+1;for(let i=1;i<n.length;i++){const s=t(n[i].component);if(s!==o){const i=o-r;i>0&&e.drawArrays(G.POINTS,r,i),r=s}o=s+1}const h=o-r;h>0&&e.drawArrays(G.POINTS,r,h)}set useFixedSizes(e){this._useFixedSizes!==e&&(this._useFixedSizes=e,this._requestRender())}get useFixedSizes(){return this._useFixedSizes}set scaleFactor(e){this._scaleFactor!==e&&(this._scaleFactor=e,this._requestRender())}get scaleFactor(){return this._scaleFactor}set minSizePx(e){this._minSizePx!==e&&(this._minSizePx=e,this._requestRender())}get minSizePx(){return this._minSizePx}set useRealWorldSymbolSizes(e){this._useRealWorldSymbolSizes!==e&&(this._useRealWorldSymbolSizes=e,this._requestRender())}get useRealWorldSymbolSizes(){return this._useRealWorldSymbolSizes}set size(e){this._size!==e&&(this._size=e,this._requestRender())}get size(){return this._size}set sizePx(e){this._sizePx!==e&&(this._sizePx=e,this._requestRender())}get sizePx(){return this._sizePx}set clippingBox(e){R(this._clipBox,e||x)}get slicePlaneEnabled(){return this._slicePlaneEnabled}set slicePlaneEnabled(e){this._slicePlaneEnabled!==e&&(this._slicePlaneEnabled=e,this._requestRender())}addNode(e){this.nodes.push(e),this._highlights.nodeAdded(e),this._requestRender()}removeNode(e){let i=null;return this.nodes.filterInPlace((t=>t.id!==e||(i=t,t.vao=s(t.vao),this._highlights.nodeRemoved(t),!1))),this._requestRender(),i}forEachNode(e){this.nodes.forAll(e)}removeAll(){this.nodes.forAll((e=>e.vao=s(e.vao))),this._highlights.removeAll(),this.nodes.clear(),this._requestRender()}highlight(e){return this._highlights.add(e)}_addHighlight(e,i,t){e.highlights=se(e.highlights,i,t),this._requestRender()}_removeHighlight(e,i){e.highlights=ne(e.highlights,i),this._requestRender()}_initNode(e,i){const t=e.rctx;i.vao=new Y(t,F,K,{positions:D.createVertex(t,k.STATIC_DRAW,i.coordinates),colors:D.createVertex(t,k.STATIC_DRAW,i.rgb)})}_requestRender(){this._context&&this._context.requestRender()}_getSizeParams(){const e=this._useFixedSizes,i=e&&!this._useRealWorldSymbolSizes;return{drawScreenSpace:i,drawFixedSize:e,fixedSize:i?this._sizePx:this._size,screenMinSize:e?0:this._minSizePx}}}function X(e){return e.hasOwnProperty(\"splatSize\")}function Z(e){return e?256:64}function $(e,i,t,s,n){if(t.drawScreenSpace)return t.fixedSize*i*s;const r=Z(n)*i*s;return t.drawFixedSize?Math.min(t.fixedSize/2,r):t.screenMinSize>0?Math.min(Math.max(t.screenMinSize*i*s,e/2),r):Math.min(e/2,r)}function ee(e,i,t,s,n){return t.drawScreenSpace?0:$(e,i,t,s,n)}function ie(e,t,s){return i(s)&&(s=f()),s[0]=e.origin[0]+e.coordinates[3*t],s[1]=e.origin[1]+e.coordinates[3*t+1],s[2]=e.origin[2]+e.coordinates[3*t+2],s}function te(i){return e(i.component)?i.component:-1}function se(e,t,s){i(e)&&(e=[]);const n={component:t,id:s};e.push(n);const r=te(n);let o=e.length-1;for(;o>0&&r<te(e[o-1]);)[e[o-1],e[o]]=[e[o],e[o-1]],--o;return e}function ne(e,t){if(i(e))return e;const s=e.filter((e=>e.id!==t));return 0===s.length?null:s}class re{constructor(){this.node=null,this.pointId=null,this.point=null,this.dist=null,this.normal=null,this.layerUid=\"\"}}function oe(i){return e(i.dist)&&e(i.point)&&e(i.pointId)&&e(i.node)}const he=new L;export{Q as PointRenderer,X as isInstanceOfNode};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{result as t,forEach as i}from\"../../../core/asyncUtils.js\";import r from\"../../../core/Collection.js\";import s from\"../../../core/Logger.js\";import{unwrapOr as o,isSome as n,isNone as a,mapSome as d}from\"../../../core/maybe.js\";import{eachAlways as l,isAbortError as h,eachAlwaysValues as u,throwIfAborted as p}from\"../../../core/promiseUtils.js\";import{initial as c,watch as _,sync as m}from\"../../../core/reactiveUtils.js\";import{pt2px as g}from\"../../../core/screenUtils.js\";import{estimateSize as f,isArrayBuffer as y}from\"../../../core/typedArrayUtil.js\";import{getMetersPerVerticalUnitForSR as b}from\"../../../core/unitUtils.js\";import{property as w}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as N}from\"../../../core/accessorSupport/decorators/subclass.js\";import{e as P}from\"../../../chunks/vec3.js\";import{a as x}from\"../../../chunks/vec3f32.js\";import{projectBoundingRect as v}from\"../../../geometry/projection.js\";import{create as C}from\"../../../geometry/support/aaBoundingBox.js\";import{containsPoint as S,create as A}from\"../../../geometry/support/aaBoundingRect.js\";import{create as I,fromNormalAndOffset as k}from\"../../../geometry/support/plane.js\";import{makeDehydratedPoint as V}from\"../../../layers/graphics/dehydratedFeatures.js\";import{CodedValue as R}from\"../../../layers/support/CodedValue.js\";import L from\"../../../layers/support/CodedValueDomain.js\";import\"../../../layers/support/Domain.js\";import\"../../../layers/support/InheritedDomain.js\";import\"../../../layers/support/RangeDomain.js\";import{unpackFieldNames as j}from\"../../../layers/support/fieldUtils.js\";import{PromiseQueue as U}from\"../../../layers/support/PromiseQueue.js\";import{getMetersPerUnit as D}from\"../../../symbols/support/unitConversionUtils.js\";import{LayerView3D as Q}from\"./LayerView3D.js\";import{PointCloudWorkerHandle as F}from\"./PointCloudWorkerHandle.js\";import{checkPointCloudLayerValid as z,checkPointCloudLayerCompatibleWithView as M}from\"./i3s/I3SUtil.js\";import{nodeDiff as W,sortFrontToBack as E,splitWorkEntries as O}from\"./i3s/LoDUtil.js\";import B from\"./i3s/PagedNodeIndex.js\";import{getSplatSizeAlgorithm as G,getFixedSizeAlgorithm as H,getRendererInfo as q,getFilterInfo as T,rendererUsesFixedSizes as $,getAttributeInfo as J}from\"./i3s/PointCloudRendererUtil.js\";import{getAttributeValues as K,readGeometry as X,elevationFromPositions as Y}from\"./i3s/PointCloudWorkerUtil.js\";import{PointGraphic as Z}from\"./i3s/PointGraphic.js\";import{PointRenderer as ee,isInstanceOfNode as te}from\"./i3s/PointRenderer.js\";import{PopupSceneLayerView as ie}from\"./support/PopupSceneLayerView.js\";import{projectToBoundingBox as re}from\"../support/extentUtils.js\";import{ClientType as se}from\"../support/index.js\";import{minimumDistancePlane as oe}from\"../support/orientedBoundingBox.js\";import{updatingProgress as ne}from\"../support/updatingProperties.js\";import{RenderSlot as ae}from\"../webgl-engine/lib/RenderSlot.js\";import de from\"../../layers/LayerView.js\";import{isScaleRangeActive as le,extractSafeScaleBounds as he,scaleBoundsPredicate as ue}from\"../../support/layerViewUtils.js\";import{TaskPriority as pe}from\"../../support/Scheduler.js\";const ce=s.getLogger(\"esri.views.3d.layers.PointCloudLayerView3D\"),_e=8,me=I();let ge=class extends(ie(Q(de))){constructor(){super(...arguments),this.type=\"point-cloud-3d\",this.maximumPointCount=4e6,this.slicePlaneEnabled=!1,this._renderer=null,this._rendererAdded=!1,this._renderedNodes=new Set,this._nodeScales=new Map,this._updateViewNeeded=!0,this._lodFactor=1,this._maxLoggedBoxWarnings=5,this._pageMultiplier=1,this._nodeLoadEpoch=0,this._indexQueue=[],this._workQueue=new Array,this._idleQueue=new U,this._indexPagesLoading=new Map,this._loadingNodes=new Map,this._recalcWork=!0,this._layerIsVisible=!1,this._codedDomainPopulationPromise=null,this._codedDomainPopulationAbortController=null,this._totalWork=0,this._index=null,this._loadingInitNodePage=!1,this._nodeIdArray=[]}get pointScale(){const e=G(this.layer&&this.layer.renderer),t=1;return e&&null!=e.scaleFactor?e.scaleFactor:t}get useRealWorldSymbolSizes(){const e=H(this.layer&&this.layer.renderer),t=!1;return e&&null!=e.useRealWorldSymbolSizes?e.useRealWorldSymbolSizes:t}get pointSize(){const e=H(this.layer&&this.layer.renderer),t=0;return e&&null!=e.size?e.size:t}get inverseDensity(){const e=96;return this.layer&&this.layer.renderer?1*e/this.layer.renderer.pointsPerInch:5}get availableFields(){const e=q(this.layer),t=new Set;e.primaryAttribute&&t.add(e.primaryAttribute.name),e.modulationAttribute&&t.add(e.primaryAttribute.name);const i=T(this.layer);if(i)for(const r of i)t.add(r.attributeInfo.name);if(this.layer.outFields)for(const r of j(this.layer.fieldsIndex,this.layer.outFields))t.add(r);return Array.from(t)}get _clippingBox(){if(!this.view||!this.view.clippingArea)return null;const e=C(),t=this.view.renderSpatialReference;return re(this.view.clippingArea,e,t)?e:null}get _elevationOffset(){const e=this.layer&&this.layer.elevationInfo;if(e&&\"absolute-height\"===e.mode){const t=b(this.layer.spatialReference),i=D(e.unit);return o(e.offset,0)*i/t}return 0}initialize(){const e=this.view.resourceController;this._worker=new F((t=>e.schedule(t))),this.addResolvingPromise(this._worker.promise),this._tmpPoint=V(0,0,0,this.layer.spatialReference),z(this.layer),M(this.layer,this.view),this._indexRequester=e.createStreamDataRequester(se.I3S_INDEX),this._dataRequester=e.createStreamDataRequester(se.I3S_DATA),this._initRenderer();const t=this._initNodePages(),i=this.view.resourceController.memoryController;this._memCache=i.newCache(this.layer.uid),this.updatingHandles.add((()=>this._clippingBox),(()=>this._setUpdateViewNeeded()),c),this.updatingHandles.add((()=>this._elevationOffset),(()=>this._elevationOffsetChanged()),c),this.updatingHandles.add((()=>this.layer.renderer),(()=>this._rendererChanged()),c),this.updatingHandles.add((()=>this.layer.filters),(()=>this._reload()),c),this.updatingHandles.add((()=>this.layer.outFields),(()=>this._reload()),c),this.updatingHandles.add((()=>this.layer.effectiveScaleRange),(()=>this._setUpdateViewNeeded())),this.updatingHandles.add((()=>this.view.state.contentCamera),(()=>this._setUpdateViewNeeded())),this.handles.add([this.view.basemapTerrain.on(\"scale-change\",(e=>this._scaleUpdateHandler(e))),_((()=>i.memoryFactor),(()=>this._setUpdateViewNeeded()),m)]),this.addResolvingPromise(t),this.when((()=>{this.handles.add([e.scheduler.registerTask(pe.POINT_CLOUD_LAYER,this),e.scheduler.registerIdleStateCallbacks((()=>this._idleBegin()),(()=>this._idleEnd())),this.updatingHandles.add((()=>this.suspended),(e=>{e?this._clearNodeState():this._setUpdateViewNeeded()}),c)])}),(()=>{this.updatingHandles.removeAll(),this.handles.removeAll()}))}_setUpdateViewNeeded(){this._updateViewNeeded=!0,this._updateLoading()}destroy(){this.cancelLoading(),this._worker&&(this._worker.destroy(),this._worker=null),this._destroyRenderer(),this._memCache.destroy(),this._memCache=null,this._codedDomainPopulationAbortController&&(this._codedDomainPopulationAbortController.abort(),this._codedDomainPopulationAbortController=null),this._codedDomainPopulationPromise=null}_initRenderer(){this._renderer=new ee({createGraphic:(e,t,i)=>this._createGraphic(e,t,i)}),this._renderer.layerUid=this.layer.uid,this.updatingHandles.add((()=>this._clippingBox),(e=>this._renderer.clippingBox=e),c),this.updatingHandles.add((()=>this.suspended),(e=>this._setPointsVisible(!e)),c),this.updatingHandles.add((()=>this.pointScale),(e=>this._renderer.scaleFactor=e),c),this._renderer.minSizePx=Math.sqrt(2),this.updatingHandles.add((()=>this.useRealWorldSymbolSizes),(e=>this._renderer.useRealWorldSymbolSizes=e),c),this.updatingHandles.add((()=>this.pointSize),(e=>{const t=g(e);this._renderer.size=e,this._renderer.sizePx=t}),c),this.updatingHandles.add((()=>this.slicePlaneEnabled),(e=>this._renderer.slicePlaneEnabled=e),c),this.updatingHandles.add((()=>this.inverseDensity),(()=>this._setUpdateViewNeeded()),c),this.updatingHandles.add((()=>this.maximumPointCount),(()=>this._setUpdateViewNeeded()),c),this.updatingHandles.add((()=>this.view.qualitySettings.sceneService.pointCloud.lodFactor),(e=>{this._lodFactor=e,this._setUpdateViewNeeded()}),c)}_destroyRenderer(){this._renderer.removeAll(),this._setPointsVisible(!1)}_createGraphic(e,t,i){const r=n(e.pointIdFilterMap)?e.pointIdFilterMap[t]:t,s=this.view.computeMapPointFromVec3d(i),o=this._createGraphicAttributes(e,r);return new Z({pointCloudMetadata:{nodeId:e.id,pointIndexInNode:t,attributePointIndexInNode:r,epoch:this._nodeLoadEpoch},geometry:s,attributes:o,layer:this.layer,sourceLayer:this.layer})}_createGraphicAttributes(e,t){const i={};for(const r of e.attributes)this._encodeGraphicAttribute(r.attributeInfo,r.values,t,i);return i}_encodeGraphicAttribute(e,t,i,r){const s=e.storageInfo&&e.storageInfo.attributeValues,o=s?s.valuesPerElement:1;if(1===o)r[e.name]=t[i];else if(\"UInt8\"===s.valueType&&o<=4){let s=0;const n=i*o;for(let e=n;e<n+o;e++)s=(s<<8)+t[e];r[e.name]=s}else r[e.name]=void 0}_setPointsVisible(e){e&&!this._rendererAdded?(this.view._stage.addRenderPlugin([ae.OPAQUE_MATERIAL],this._renderer),this._rendererAdded=!0):!e&&this._rendererAdded&&(this.view._stage.removeRenderPlugin(this._renderer),this._rendererAdded=!1)}_rendererChanged(){this._renderer.useFixedSizes=$(this.layer.renderer),this._reload()}_reload(){this._clearNodeState(),this._memCache.clear(),this._setUpdateViewNeeded()}_elevationOffsetChanged(){this._clearNodeState(),this._memCache.clear(),this._initNodePages()}_scaleUpdateHandler(e){const t=this.layer.effectiveScaleRange;le(t.minScale,t.maxScale)?v(e.extent,e.spatialReference,be,this.layer.spatialReference)&&(this._nodeScales.forEach(((t,i)=>{if(!this._renderedNodes.has(i))return void this._nodeScales.delete(i);const r=this._index.getNode(i);S(be,r.obb.center)&&this._nodeScales.set(i,e.scale)})),this._setUpdateViewNeeded()):this._nodeScales.clear()}_displayNodes(e){this._workQueue=W([...this._renderedNodes],e,this._index),E(this._workQueue,this.view.state.contentCamera.viewForward,this._index),O(this._workQueue,_e,this._index),this._updateQueues(),this._totalWork=this._computeWork(),this._updateLoading(),this._layerIsVisible=e.length>0||this._loadingInitNodePage,this.notifyChange(\"suspended\")}cancelLoading(){this._cancelNodeLoading(),this._cancelIndexLoading()}_cancelNodeLoading(){const e=new Array;this._loadingNodes.forEach((({abortController:t})=>e.push(t))),this._loadingNodes.clear();for(const t of e)t.abort();this._workQueue=[],this._idleQueue.cancelAll(),this._totalWork=this._computeWork(),this._updateLoading()}_updateQueues(){const e=new Set;this._workQueue.forEach((t=>t.load.forEach((t=>e.add(t)))));const t=new Array,i=new Map;this._loadingNodes.forEach(((r,s)=>{e.has(s)?i.set(s,r):t.push(r)})),this._loadingNodes=i;for(const{abortController:r}of t)r.abort();this._workQueue=this._workQueue.filter((e=>{for(const t of e.load)if(this._loadingNodes.has(t))return this._recalcWork=!0,!1;return!0})),this._totalWork=this._computeWork(),this._updateLoading()}_cancelIndexLoading(){this._indexQueue=[],this._indexPagesLoading.forEach((({abortController:e})=>e.abort())),this._indexPagesLoading.clear(),this._totalWork=this._computeWork(),this._updateLoading()}_clearNodeState(){this._nodeLoadEpoch++,this._renderedNodes.forEach((e=>this._removeFromRenderer(e))),this._cancelNodeLoading()}_idleBegin(){this._setUpdateViewNeeded()}_idleEnd(){this._setUpdateViewNeeded()}get running(){return this.suspended?this._updateViewNeeded:this._updateViewNeeded||this._indexQueue.length>0||this._workQueue.length>0||this._idleQueue.running}runTask(e){if(this.suspended){if(this._updateViewNeeded){this._updateViewNeeded=!1;const e=this._isRootNodeVisible();e!==this._layerIsVisible&&(this._layerIsVisible=e,this.notifyChange(\"suspended\")),this._updateLoading()}}else{for(e.run((()=>this._updateWorkQueues()));this._indexQueue.length>0&&e.run((()=>this._processIndexQueue())););this._processWorkQueue(e),this._idleQueue.runTask(e)}}_processIndexQueue(){const e=this._indexQueue.shift(),t=this._loadNodePage(e);return this._indexPagesLoading.set(e,t),t.promise.then((t=>{this._index.addPage(e,t,this._elevationOffset),this._setUpdateViewNeeded()})).then((()=>{this._indexPagesLoading.delete(e)}),(()=>{this._indexPagesLoading.delete(e)})),!0}_processWorkQueue(e){for(;!e.done;){const t=this._scheduleWorkEntry();if(a(t))return;this._processWorkEntry(t),e.madeProgress()}}_scheduleWorkEntry(){let e=this._workQueue.length;for(;e--;){const e=this._workQueue.shift();if(!e.remove.find((e=>!this._renderedNodes.has(e))))return e;this._workQueue.push(e)}return null}_processWorkEntry(e){if(0!==e.load.length)Promise.all(e.load.map((e=>{const t=new AbortController,i=this._memCache.pop(e.toString());return n(i)?this._loadingNodes.set(e,{abortController:t,promise:Promise.resolve(i)}):this._loadingNodes.has(e)||this._loadingNodes.set(e,{abortController:t,promise:this._loadNode(e,t.signal)}),this._loadingNodes.get(e).promise}))).then((t=>{for(let i=0;i<e.load.length;i++)if(t[i]){const r=this._setupRendererData(e.load[i],t[i]);this._addToRenderer(r)}for(const i of e.remove)this._removeFromRenderer(i)})).catch((()=>{})).then((()=>{for(const t of e.load)this._loadingNodes.delete(t);this._updateLoading(),this._recalcWork&&!this._idleQueue.running&&0===this._indexQueue.length&&0===this._loadingNodes.size&&(this._recalcWork=!1,this._setUpdateViewNeeded())})),this._updateLoading();else for(const t of e.remove)this._removeFromRenderer(t)}async _populateClassCodeCodedDomain(e,i){const r=\"CLASS_CODE\",s=this.layer.fieldsIndex.get(r);if(!s||s.domain)return;if(!e.includes(s.name))return;const o=await t(this.layer.queryCachedStatistics(r,{signal:i}));if(!1===o.ok)return;const n=o.value,a=n&&n.labels&&n.labels.labels;a&&Array.isArray(a)&&(s.domain=new L({name:\"CLASS_CODE\",codedValues:a.map((e=>new R({code:e.value,name:e.label})))}))}async prepareFetchPopupFeatures(e){return this._codedDomainPopulationPromise||(this._codedDomainPopulationAbortController=new AbortController,this._codedDomainPopulationPromise=this._populateClassCodeCodedDomain(e,this._codedDomainPopulationAbortController.signal).then((()=>{this._codedDomainPopulationAbortController=null}))),this._codedDomainPopulationPromise}async whenGraphicAttributes(e,t){const r=this._splitGraphicsPerNode(e),s=this.layer.attributeStorageInfo,o=t.map((e=>J(s,e))),n=async(e,t)=>{const r=this._index.getNode(t);await i(o,(async t=>{const i=t.useElevation?await this._loadElevationAttributeFromGeometry(r.resourceId):await this._loadAndParseAttribute(r,t);if(i)for(const r of e)if(this._isValidPointGraphic(r)){const e=r.pointCloudMetadata.attributePointIndexInNode;this._encodeGraphicAttribute(t,i,e,r.attributes)}}))},a=[];return r.forEach(((e,t)=>{a.push(n(e,t))})),await l(a),e}_isValidPointGraphic(e){return e instanceof Z&&e.pointCloudMetadata&&e.pointCloudMetadata.epoch===this._nodeLoadEpoch}_splitGraphicsPerNode(e){const t=new Map;for(const i of e){if(!this._isValidPointGraphic(i))continue;const e=i.pointCloudMetadata,r=t.get(e.nodeId);r?r.push(i):t.set(e.nodeId,[i])}return t}async _loadAndParseAttribute(e,t){const i=await this._loadAttribute(e.resourceId,t,null);return n(i)?K({attributeInfo:t,buffer:i},null,e.vertexCount):null}async _loadElevationAttributeFromGeometry(e){const t=this.layer.store.defaultGeometrySchema,i=X(t,await this._loadGeometry(e,null));return Y(i,i.length/3)}highlight(e){if(!e)return{remove(){}};const t=r.isCollection(e)?e.toArray():Array.isArray(e)?e:[e];return this._renderer.highlight(t.map((e=>this._graphicToPointDefinition(e))))}_graphicToPointDefinition(e){if(!this._isValidPointGraphic(e))return null;const{nodeId:t,pointIndexInNode:i}=e.pointCloudMetadata;return null!=t&&null!=i?{nodeId:t,pointId:i}:null}_computeWork(){let e=0;for(const t of this._workQueue)e+=t.load.length+t.remove.length;return e+=this._loadingNodes.size,e+=(this._indexQueue.length+this._indexPagesLoading.size)*this._index.pageSize,e+=this._loadingInitNodePage?100:0,e+=this._updateViewNeeded?100:0,e}get updatingProgressValue(){if(this.suspended)return this._updateViewNeeded?0:1;const e=this._computeWork();return 1-Math.min(this._totalWork,e)/this._totalWork}_updateLoading(){this.notifyChange(\"updating\"),this.notifyChange(\"updatingProgressValue\")}canResume(){return super.canResume()&&this._layerIsVisible}isUpdating(){return this.suspended?this._updateViewNeeded:this._computeWork()>0}_initNodePages(){const e=this.layer.store.index,t=e.nodesPerPage||e.nodePerIndexBlock;return this._index=new B(this.layer.spatialReference,this.view.renderCoordsHelper.spatialReference,t),this._cancelIndexLoading(),this._traverseVisible=this._index.createVisibilityTraverse(),this._loadingInitNodePage=!0,this._layerIsVisible=!0,this.notifyChange(\"suspended\"),this._updateLoading(),this._pageMultiplier=null!=e.nodesPerPage?1:e.nodePerIndexBlock,this._loadNodePage(0).promise.then((e=>{this._index.addPage(0,e,this._elevationOffset),this._loadingInitNodePage=!1,this._setUpdateViewNeeded()}))}_loadNodePage(e){const t=new AbortController,i=`${this.baseUrl}/nodepages/${e*this._pageMultiplier}`;return{promise:this._requestNodePage(i,t.signal).then((t=>t.nodes.map(((t,i)=>({resourceId:null!=t.resourceId?t.resourceId:e*this._index.pageSize+i,obb:t.obb,firstChild:t.firstChild,childCount:t.childCount,vertexCount:null!=t.vertexCount?t.vertexCount:t.pointCount,lodThreshold:null!=t.lodThreshold?t.lodThreshold:t.effectiveArea}))))),abortController:t}}_updateWorkQueues(){if(!this._updateViewNeeded)return!1;let e=this.inverseDensity/this._lodFactor*this._getLodMemoryFactor();const t=this.maximumPointCount*this._lodFactor*this._getLodMemoryFactor();let i=this._computeNodesForMinimumDensity(e),r=this._computePointCount(i),s=Math.sqrt(r/(.75*t));for(;r>t;)e*=s,i=this._computeNodesForMinimumDensity(e),r=this._computePointCount(i),s=Math.sqrt(2);return this._displayNodes(i),this._updateViewNeeded=!1,this._updateLoading(),!0}_computePointCount(e){let t=0;for(let i=0;i<e.length;i++){const r=this._index.getNode(e[i]);r&&(t+=r.vertexCount)}return t}_getLodMemoryFactor(){return this.view.resourceController.memoryController.memoryFactor}_isRootNodeVisible(){let e=!1;return this._traverseVisible({frustum:this.view.state.contentCamera.frustum,clippingBox:this._clippingBox},{predicate:(t,i,r)=>(e=r,!1),pageMiss:()=>{}}),e}_computeNodesForMinimumDensity(e){const t=this.view.state.contentCamera,i=t.frustum,r=this._clippingBox,s=t.viewForward,o=P(s,t.eye),n=k(s,-o,me),a=t.perScreenPixelRatio/2,d=e*e,l=this._nodeIdArray;l.length=0;const{minScale:h,maxScale:u}=he(this.layer),p=0===h&&0===u?e=>l.push(e):e=>{const t=this._getScale(e);ue(t,h,u)&&l.push(e)};return this._traverseVisible({frustum:i,clippingBox:r},{predicate:(e,t,i)=>{if(!i)return!1;if(0===t.childCount)return p(e),!1;const r=this._index.getRenderObb(e);return!(this._computeAveragePixelArea(r,t.lodThreshold,t.vertexCount,n,a)<=d)||(p(e),!1)},pageMiss:(e,t)=>{p(e),this._indexQueue.includes(t)||this._indexQueue.push(t)}}),l}_getScale(e){let t=this._nodeScales.get(e);if(null==t){const i=this._index.getNode(e).obb.center;this._tmpPoint.x=i[0],this._tmpPoint.y=i[1],this._tmpPoint.z=i[2],t=this.view.basemapTerrain.getScale(this._tmpPoint),this._nodeScales.set(e,t)}return t}_computeAveragePixelArea(e,t,i,r,s){const o=1e-7,n=Math.max(o,oe(e,r));return t/(n*n)/(4*s*s)/i}_loadNode(e,t){try{return this._loadNodeAsync(e,t)}catch(i){throw h(i)||ce.error(i),i}}async _loadAdditionalUserAttributes(e,t,i){const r=this.layer.outFields;if(!r)return[];const s=j(this.layer.fieldsIndex,r),o=new Set(e.map((e=>n(e)?e.name:null))),a=this.layer.attributeStorageInfo,l=[];for(const n of s){if(o.has(n))continue;const e=J(a,n);e&&l.push(t(e))}const h=await u(l);return p(i),d(h,(e=>e))}async _loadNodeAsync(e,t){const i=this._index.getNode(e),r=q(this.layer),s=T(this.layer),o=i.resourceId,d=async e=>{if(a(e))return null;if(e.useElevation)return{attributeInfo:e,buffer:null};const i=await this._loadAttribute(o,e,t);return n(i)?{attributeInfo:e,buffer:i}:null};return this._idleQueue.push((async()=>{const i=this._loadGeometry(o,t),{primaryAttribute:n,modulationAttribute:a}=r,l=d(n),h=d(a),u=s.map((e=>e.attributeInfo)),c=u.map((e=>d(e))),_=this._loadAdditionalUserAttributes([n,a,...u],d,t),[m,g,f,y,b]=await Promise.all([i,l,h,Promise.all(c),_]);p(t);const w={geometryBuffer:m,primaryAttributeData:g,modulationAttributeData:f,filterAttributesData:y,userAttributesData:b,schema:this.layer.store.defaultGeometrySchema,rendererInfo:r,filterInfo:s,obb:this._index.getRenderObb(e),elevationOffset:this._elevationOffset,inSR:this.layer.spatialReference.toJSON(),outSR:this.view.renderCoordsHelper.spatialReference.toJSON()};return this._worker.invoke(w,t)}),t)}async _loadGeometry(e,t){return this._requestData(`${this.baseUrl}/nodes/${e}/geometries/0`,t)}async _loadAttribute(e,t,i){if(a(t)||!t.storageInfo)return null;const r=t.storageInfo.key;return this._requestData(`${this.baseUrl}/nodes/${e}/attributes/${r}`,i)}_requestNodePage(e,t){const i={f:\"json\",token:this.layer.apiKey};return this._indexRequester.request(e,\"json\",{query:i,signal:t})}_requestData(e,t){return this._dataRequester.request(e,\"binary\",{query:{token:this.layer.apiKey},signal:t})}_removeFromRenderer(e){if(this._renderedNodes.has(e)){const t=this._renderer.removeNode(e);this._renderedNodes.delete(e),this._nodeScales.delete(e),this._memCache.put(t.id.toString(),t,ye(t))}}_addToRenderer(e){this._renderedNodes.has(e.id)||(this._renderedNodes.add(e.id),this._renderer.addNode(e))}_setupRendererData(e,t){const i=this._index.getNode(e),r=Math.sqrt(i.lodThreshold/i.vertexCount),s=this._index.getRenderObb(e);if(te(t))return t.splatSize=r,t.obb=s,t.origin=x(t.obb.center),t;const o=.01*Math.max(s.halfSize[0],s.halfSize[1],s.halfSize[2]);if(t.obb.halfSize[0]>s.halfSize[0]+o||t.obb.halfSize[1]>s.halfSize[1]+o||t.obb.halfSize[2]>s.halfSize[2]+o){if(this._maxLoggedBoxWarnings>0){const i=e=>`[${e.halfSize[0]}, ${e.halfSize[1]}, ${e.halfSize[2]}]`;ce.warn(`Node ${e} reported bounding box too small. got ${i(s)} but points cover ${i(t.obb)}`),0==--this._maxLoggedBoxWarnings&&ce.warn(\"  Too many bounding box errors, stopping reporting for this layer.\")}this._index.setRenderObb(e,t.obb)}return{id:e,coordinates:t.points,origin:x(s.center),rgb:t.rgb,attributes:t.attributes,pointIdFilterMap:t.pointIdFilterMap,highlights:null,splatSize:r,obb:s,isLeaf:0===i.childCount}}getUsedMemory(){let e=0;return this._renderer.forEachNode((t=>{e+=we,e+=f(t.coordinates);for(const i of t.attributes){const t=i.values;y(t.buffer)&&(e+=f(t))}})),e}getUnloadedMemory(){const e=this._renderedNodes.size;if(e<4)return 0;const t=[...this._renderedNodes].reduce(((e,t)=>e+this._index.getNode(t).vertexCount));let i=this._loadingNodes.size;for(let r=0;r<this._workQueue.length;r++)i+=this._workQueue[r].load.length,i-=this._workQueue[r].remove.length;if(i<0)return 0;return i*t/e*((this.getUsedMemory()-e*we)/t)+i*we}ignoresMemoryFactor(){return!1}get performanceInfo(){return{nodes:this._renderedNodes.size,displayedNumberOfFeatures:[...this._renderedNodes].reduce(((e,t)=>e+this._index.getNode(t).vertexCount),0),maximumNumberOfFeatures:this.maximumPointCount,totalNumberOfFeatures:-1,core:null,\"Loading Nodes\":this._loadingNodes.size,\"Index Queue\":this._indexQueue.length,\"Work Queue\":this._workQueue.length,\"Idle Queue\":this._idleQueue.length}}get test(){return{index:this._index,visibleNodes:this._renderedNodes}}};e([w()],ge.prototype,\"layer\",void 0),e([w({readOnly:!0,aliasOf:\"layer.parsedUrl.path\"})],ge.prototype,\"baseUrl\",void 0),e([w({readOnly:!0})],ge.prototype,\"pointScale\",null),e([w({readOnly:!0})],ge.prototype,\"useRealWorldSymbolSizes\",null),e([w({readOnly:!0})],ge.prototype,\"pointSize\",null),e([w({readOnly:!0})],ge.prototype,\"inverseDensity\",null),e([w()],ge.prototype,\"maximumPointCount\",void 0),e([w({readOnly:!0})],ge.prototype,\"availableFields\",null),e([w({readOnly:!0})],ge.prototype,\"_clippingBox\",null),e([w({readOnly:!0})],ge.prototype,\"_elevationOffset\",null),e([w({type:Boolean})],ge.prototype,\"slicePlaneEnabled\",void 0),e([w()],ge.prototype,\"updating\",void 0),e([w(ne)],ge.prototype,\"updatingProgress\",void 0),e([w({readOnly:!0})],ge.prototype,\"updatingProgressValue\",null),ge=e([N(\"esri.views.3d.layers.PointCloudLayerView3D\")],ge);const fe=ge;function ye(e){return 5*e.coordinates.length+128}const be=A(),we=160;export{fe as default};\n"],
  "mappings": "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",
  "names": ["e", "n", "t", "r", "a", "t", "e", "g", "n", "r", "o", "l", "h", "u", "d", "h", "e", "t", "s", "n", "g", "u", "l", "c", "i", "a", "p", "d", "f", "o", "b", "j", "r", "t", "e", "n", "o", "r", "i", "u", "l", "a", "t", "g", "r", "d", "n", "s", "e", "t", "i", "o", "r", "u", "m", "e", "r", "t", "o", "E", "W", "a", "c", "f", "i", "o", "e", "K", "t", "C", "e", "i", "s", "n", "r", "o", "h", "g", "p", "x", "T", "L", "F", "l", "c", "d", "f", "A", "P", "q", "E", "b", "V", "a", "_", "S", "U", "m", "u", "s", "_e", "p", "c", "n", "u", "e", "t", "o", "i", "r", "I", "x", "v", "A", "E", "g", "a", "d", "j", "h", "l", "L", "m", "f", "b"]
}
