import {
  f
} from "./chunk-W2HLA6I3.js";
import {
  c,
  r as r3
} from "./chunk-ZYIEYKCD.js";
import {
  l,
  o as o2
} from "./chunk-BPZGJQOB.js";
import {
  A,
  F,
  P,
  _,
  e,
  o,
  q,
  r as r2,
  s,
  u,
  z
} from "./chunk-PKZEO23A.js";
import {
  n
} from "./chunk-AIRC226G.js";
import {
  r
} from "./chunk-CBQWMOBK.js";

// node_modules/@arcgis/core/views/3d/support/mathUtils.js
function l2(t) {
  const n2 = t[0] * t[0] + t[4] * t[4] + t[8] * t[8], s2 = t[1] * t[1] + t[5] * t[5] + t[9] * t[9], r4 = t[2] * t[2] + t[6] * t[6] + t[10] * t[10];
  return Math.sqrt(Math.max(n2, s2, r4));
}
function p(t, s2) {
  const r4 = Math.sqrt(s2[0] * s2[0] + s2[4] * s2[4] + s2[8] * s2[8]), a = Math.sqrt(s2[1] * s2[1] + s2[5] * s2[5] + s2[9] * s2[9]), o3 = Math.sqrt(s2[2] * s2[2] + s2[6] * s2[6] + s2[10] * s2[10]);
  return o(t, r4, a, o3), t;
}
function q2(t, a, o3) {
  o3 = o3 || t;
  const c2 = P(t, a);
  o(o3, t[0] - c2 * a[0], t[1] - c2 * a[1], t[2] - c2 * a[2]), z(o3, o3);
}
function b(t, s2, o3) {
  Math.abs(t[0]) > Math.abs(t[1]) ? o(s2, 0, 1, 0) : o(s2, 1, 0, 0), _(o3, t, s2), z(s2, s2), _(s2, o3, t), z(o3, o3);
}
function g(t, n2, s2, r4, a, o3) {
  const c2 = t + (n2 - t) * a;
  return c2 + (s2 + (r4 - s2) * a - c2) * o3;
}
function k(t, n2, r4, a = n()) {
  const h = s(t), e2 = s(n2), M = P(t, n2) / (h * e2);
  if (M < 0.9999999999999999) {
    const s2 = Math.acos(M), o3 = ((1 - r4) * h + r4 * e2) / Math.sin(s2), i = o3 / h * Math.sin((1 - r4) * s2), f2 = o3 / e2 * Math.sin(r4 * s2);
    return q(A2, t, i), q(B, n2, f2), u(a, A2, B);
  }
  return A(a, t, n2, r4);
}
function v(t, n2, a, e2 = n(), M = n()) {
  const m = s(t), l4 = s(n2), p3 = P(t, n2) / (m * l4);
  if (p3 < 0.9999999999999999) {
    const s2 = Math.acos(p3), r4 = Math.sin(s2), o3 = Math.sin(a * s2), i = Math.sin((1 - a) * s2), h = (1 - a) * m + a * l4;
    {
      const s3 = h / r4, a2 = s3 / l4 * o3;
      q(A2, t, s3 / m * i), q(B, n2, a2), u(e2, A2, B);
    }
    {
      const f2 = 1 / m * (-Math.cos((1 - a) * s2) * s2 * h + i * (-m + l4));
      q(A2, t, f2);
      const e3 = 1 / l4 * (Math.cos(a * s2) * s2 * h + o3 * (-m + l4));
      q(B, n2, e3), u(M, A2, B), q(M, M, 1 / r4);
    }
    return M;
  }
  return A(e2, t, n2, a), e(M, n2, t), z(M, M), M;
}
function x(n2, o3, c2) {
  n2 = z(A2, n2), o3 = z(B, o3);
  const u2 = l(P(n2, o3));
  if (c2) {
    const t = _(z2, n2, o3);
    if (P(t, c2) < 0)
      return -u2;
  }
  return u2;
}
function U(t) {
  const n2 = t.length;
  return (s2) => {
    if (s2 <= t[0][0])
      return t[0][1];
    if (s2 >= t[n2 - 1][0])
      return t[n2 - 1][1];
    let r4 = 1;
    for (; s2 > t[r4][0]; )
      r4++;
    const a = t[r4 - 1][0], o3 = t[r4][0], c2 = (o3 - s2) / (o3 - a);
    return c2 * t[r4 - 1][1] + (1 - c2) * t[r4][1];
  };
}
function d(t, n2, o3, c2) {
  e(w, n2, t), e(y, o3, t), _(c2, w, y), z(c2, c2), c2[3] = -P(t, c2);
}
var w = n();
var y = n();
var z2 = n();
var A2 = n();
var B = n();

// node_modules/@arcgis/core/geometry/support/plane.js
function p2(t = $) {
  return [t[0], t[1], t[2], t[3]];
}
function E2(t = $[0], n2 = $[1], r4 = $[2], o3 = $[3]) {
  return F2(t, n2, r4, o3, r3.get());
}
function A3(t, n2) {
  return F2(n2[0], n2[1], n2[2], n2[3], t);
}
function F2(t, n2, r4, o3, c2 = p2()) {
  return c2[0] = t, c2[1] = n2, c2[2] = r4, c2[3] = o3, c2;
}
function T(t, n2, o3) {
  return r2(o3, t), o3[3] = n2, o3;
}
function _2(t, n2, r4) {
  const o3 = n2[0] * n2[0] + n2[1] * n2[1] + n2[2] * n2[2], c2 = Math.abs(o3 - 1) > 1e-5 && o3 > 1e-12 ? 1 / Math.sqrt(o3) : 1;
  return r4[0] = n2[0] * c2, r4[1] = n2[1] * c2, r4[2] = n2[2] * c2, r4[3] = -(r4[0] * t[0] + r4[1] * t[1] + r4[2] * t[2]), r4;
}
function j(t, n2, r4, o3 = p2()) {
  const c2 = r4[0] - n2[0], e2 = r4[1] - n2[1], u2 = r4[2] - n2[2], i = t[0] - n2[0], f2 = t[1] - n2[1], s2 = t[2] - n2[2], a = e2 * s2 - u2 * f2, I = u2 * i - c2 * s2, N = c2 * f2 - e2 * i, m = a * a + I * I + N * N, M = Math.abs(m - 1) > 1e-5 && m > 1e-12 ? 1 / Math.sqrt(m) : 1;
  return o3[0] = a * M, o3[1] = I * M, o3[2] = N * M, o3[3] = -(o3[0] * t[0] + o3[1] * t[1] + o3[2] * t[2]), o3;
}
function b2(t, n2, r4, i, f2) {
  if (t.count < 3)
    return false;
  t.getVec(r4, y2);
  let s2 = i, a = false;
  for (; s2 < t.count - 1 && !a; )
    t.getVec(s2, X), s2++, a = !F(y2, X);
  if (!a)
    return false;
  for (s2 = Math.max(s2, f2), a = false; s2 < t.count && !a; )
    t.getVec(s2, d2), s2++, e(l3, y2, X), z(l3, l3), e(C, X, d2), z(C, C), a = !F(y2, d2) && !F(X, d2) && Math.abs(P(l3, C)) < k2;
  return a ? (j(y2, X, d2, n2), true) : (0 !== r4 || 1 !== i || 2 !== f2) && b2(t, n2, 0, 1, 2);
}
var k2 = 0.99619469809;
var y2 = n();
var X = n();
var d2 = n();
var l3 = n();
var C = n();
function L(t, n2, r4) {
  return n2 !== t && A3(t, n2), t[3] = -P(Z(t), r4), t;
}
function P2(t, n2) {
  return n2[0] = -t[0], n2[1] = -t[1], n2[2] = -t[2], n2[3] = -t[3], n2;
}
function O(t, n2, r4, o3) {
  return _(d2, n2, t), _2(r4, d2, o3);
}
function V(t, n2, r4, o3) {
  return Y(t, n2, e(c.get(), r4, n2), nt, o3);
}
function q3(t, r4, o3) {
  return !!r(r4) && Y(t, r4.origin, r4.direction, rt, o3);
}
function x2(t, n2, r4) {
  return Y(t, n2.origin, n2.vector, tt.NONE, r4);
}
function U2(t, n2, r4) {
  return Y(t, n2.origin, n2.vector, tt.CLAMP, r4);
}
function z3(t, n2) {
  return W(t, n2) >= 0;
}
function D(t, n2) {
  const r4 = n2[0], o3 = n2[1], c2 = n2[2], e2 = n2[3], u2 = n2[4], i = n2[5];
  return t[0] * (t[0] > 0 ? r4 : e2) + t[1] * (t[1] > 0 ? o3 : u2) + t[2] * (t[2] > 0 ? c2 : i) + t[3] >= 0;
}
function G(t, n2) {
  const r4 = P(Z(t), n2.ray.direction), o3 = -W(t, n2.ray.origin);
  if (o3 < 0 && r4 >= 0)
    return false;
  if (r4 > -1e-6 && r4 < 1e-6)
    return o3 > 0;
  if ((o3 < 0 || r4 < 0) && !(o3 < 0 && r4 < 0))
    return true;
  const c2 = o3 / r4;
  return r4 > 0 ? c2 < n2.c1 && (n2.c1 = c2) : c2 > n2.c0 && (n2.c0 = c2), n2.c0 <= n2.c1;
}
function H(t, n2) {
  const r4 = P(Z(t), n2.ray.direction), o3 = -W(t, n2.ray.origin);
  if (r4 > -1e-6 && r4 < 1e-6)
    return o3 > 0;
  const c2 = o3 / r4;
  return r4 > 0 ? c2 < n2.c1 && (n2.c1 = c2) : c2 > n2.c0 && (n2.c0 = c2), n2.c0 <= n2.c1;
}
function J(t, n2, r4) {
  const o3 = q(c.get(), Z(t), -t[3]), e2 = Q(t, e(c.get(), n2, o3), c.get());
  return u(r4, e2, o3), r4;
}
function K(t, n2, r4, o3) {
  const e2 = Z(t), u2 = c.get(), i = c.get();
  b(e2, u2, i);
  const f2 = e(c.get(), r4, n2), s2 = f(u2, f2), I = f(i, f2), N = f(e2, f2);
  return o(o3, s2, I, N);
}
function Q(t, n2, r4) {
  const o3 = q(c.get(), Z(t), P(Z(t), n2));
  return e(r4, n2, o3), r4;
}
function W(t, n2) {
  return P(Z(t), n2) + t[3];
}
function Y(n2, r4, o3, c2, e2) {
  const i = P(Z(n2), o3);
  if (0 === i)
    return false;
  let a = -(P(Z(n2), r4) + n2[3]) / i;
  return c2 & tt.CLAMP && (a = o2(a, 0, 1)), !(!(c2 & tt.INFINITE_MIN) && a < 0 || !(c2 & tt.INFINITE_MAX) && a > 1) && (u(e2, r4, q(e2, o3, a)), true);
}
function Z(t) {
  return t;
}
var $ = [0, 0, 1, 0];
var tt;
!function(t) {
  t[t.NONE = 0] = "NONE", t[t.CLAMP = 1] = "CLAMP", t[t.INFINITE_MIN = 4] = "INFINITE_MIN", t[t.INFINITE_MAX = 8] = "INFINITE_MAX";
}(tt || (tt = {}));
var nt = tt.INFINITE_MIN | tt.INFINITE_MAX;
var rt = tt.INFINITE_MAX;

export {
  l2 as l,
  p,
  q2 as q,
  b,
  g,
  k,
  v,
  x,
  U,
  d,
  p2,
  E2 as E,
  A3 as A,
  F2 as F,
  T,
  _2 as _,
  j,
  b2,
  L,
  P2 as P,
  O,
  V,
  q3 as q2,
  x2,
  U2,
  z3 as z,
  D,
  G,
  H,
  J,
  K,
  Q,
  W,
  Z
};
//# sourceMappingURL=chunk-53KI6WDE.js.map
