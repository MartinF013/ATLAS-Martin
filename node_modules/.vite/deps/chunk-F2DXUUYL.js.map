{
  "version": 3,
  "sources": ["../../@arcgis/core/support/featureFlags.js", "../../@arcgis/core/symbols/support/styleUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../core/has.js\";const r=()=>!!e(\"enable-feature:force-wosr\"),a=()=>!!e(\"enable-feature:direct-3d-object-feature-layer-display\");export{a as enableDirect3DObjectFeatureLayerDisplay,r as enableWebStyleForceWOSR};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import r from\"../../core/Error.js\";import{isSome as t}from\"../../core/maybe.js\";import{throwIfAbortError as o}from\"../../core/promiseUtils.js\";import{normalize as s,removeFile as n}from\"../../core/urlUtils.js\";import l from\"../../portal/Portal.js\";import a from\"../../portal/PortalQueryParams.js\";import{enableWebStyleForceWOSR as f}from\"../../support/featureFlags.js\";const i={};async function u(e,r){try{return{data:(await j(e,r)).data,baseUrl:n(e),styleUrl:e}}catch(t){return o(t),null}}function y(e,r,o){const s=t(r.portal)?r.portal:l.getDefault();let n;const a=`${s.url} - ${s.user&&s.user.username} - ${e}`;return i[a]||(i[a]=m(e,s,o).then((e=>(n=e,e.fetchData()))).then((r=>({data:r,baseUrl:n.itemUrl,styleName:e})))),i[a]}function m(e,t,o){return t.load(o).then((()=>{const r=new a({disableExtraQuery:!0,query:`owner:${w} AND type:${h} AND typekeywords:\"${e}\"`});return t.queryItems(r,o)})).then((({results:t})=>{let s=null;const n=e.toLowerCase();if(t&&Array.isArray(t))for(const e of t){if(e.typeKeywords.some((e=>e.toLowerCase()===n))&&e.type===h&&e.owner===w){s=e;break}}if(!s)throw new r(\"symbolstyleutils:style-not-found\",`The style '${e}' could not be found`,{styleName:e});return s.load(o)}))}function c(e,t,o){return e.styleUrl?u(e.styleUrl,o):e.styleName?y(e.styleName,t,o):Promise.reject(new r(\"symbolstyleutils:style-url-and-name-missing\",\"Either styleUrl or styleName is required to resolve a style\"))}function p(e){return null===e||\"CIMSymbolReference\"===e.type?e:{type:\"CIMSymbolReference\",symbol:e}}function d(e,r){if(\"cimRef\"===r)return e.cimRef;if(e.formatInfos&&!f())for(const t of e.formatInfos)if(\"gltf\"===t.type)return t.href;return e.webRef}function b(e){for(const r of e.typeKeywords)if(/^Esri.*Style$/.test(r)&&\"Esri Style\"!==r)return r}function j(r,t){const o={responseType:\"json\",query:{f:\"json\"},...t};return e(s(r),o)}const w=\"esri_en\",h=\"Style\",U=\"https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json\";export{U as Style2DUrlTemplate,c as fetchStyle,p as makeCIMSymbolRef,j as requestJSON,b as styleNameFromItem,d as symbolUrlFromStyleItem};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;AAI8B,IAAMA,KAAE,MAAI,CAAC,CAAC,EAAE,2BAA2B;AAA3C,IAA6CC,KAAE,MAAI,CAAC,CAAC,EAAE,uDAAuD;;;ACAqQ,IAAM,IAAE,CAAC;AAAE,eAAe,EAAE,GAAEC,IAAE;AAAC,MAAG;AAAC,WAAM,EAAC,OAAM,MAAM,EAAE,GAAEA,EAAC,GAAG,MAAK,SAAQ,GAAE,CAAC,GAAE,UAAS,EAAC;AAAA,EAAC,SAAO,GAAN;AAAS,WAAO,EAAE,CAAC,GAAE;AAAA,EAAI;AAAC;AAAC,SAAS,EAAE,GAAEA,IAAE,GAAE;AAAC,QAAMC,KAAE,EAAED,GAAE,MAAM,IAAEA,GAAE,SAAO,EAAE,WAAW;AAAE,MAAI;AAAE,QAAME,KAAE,GAAGD,GAAE,SAASA,GAAE,QAAMA,GAAE,KAAK,cAAc;AAAI,SAAO,EAAEC,EAAC,MAAI,EAAEA,EAAC,IAAE,EAAE,GAAED,IAAE,CAAC,EAAE,KAAM,CAAAE,QAAI,IAAEA,IAAEA,GAAE,UAAU,EAAG,EAAE,KAAM,CAAAH,QAAI,EAAC,MAAKA,IAAE,SAAQ,EAAE,SAAQ,WAAU,EAAC,EAAG,IAAG,EAAEE,EAAC;AAAC;AAAC,SAAS,EAAE,GAAE,GAAE,GAAE;AAAC,SAAO,EAAE,KAAK,CAAC,EAAE,KAAM,MAAI;AAAC,UAAMF,KAAE,IAAI,EAAE,EAAC,mBAAkB,MAAG,OAAM,SAASI,eAAc,uBAAuB,KAAI,CAAC;AAAE,WAAO,EAAE,WAAWJ,IAAE,CAAC;AAAA,EAAC,CAAE,EAAE,KAAM,CAAC,EAAC,SAAQK,GAAC,MAAI;AAAC,QAAIJ,KAAE;AAAK,UAAM,IAAE,EAAE,YAAY;AAAE,QAAGI,MAAG,MAAM,QAAQA,EAAC;AAAE,iBAAUF,MAAKE,IAAE;AAAC,YAAGF,GAAE,aAAa,KAAM,CAAAA,OAAGA,GAAE,YAAY,MAAI,CAAE,KAAGA,GAAE,SAAO,KAAGA,GAAE,UAAQC,IAAE;AAAC,UAAAH,KAAEE;AAAE;AAAA,QAAK;AAAA,MAAC;AAAC,QAAG,CAACF;AAAE,YAAM,IAAI,EAAE,oCAAmC,cAAc,yBAAwB,EAAC,WAAU,EAAC,CAAC;AAAE,WAAOA,GAAE,KAAK,CAAC;AAAA,EAAC,CAAE;AAAC;AAAC,SAAS,EAAE,GAAE,GAAE,GAAE;AAAC,SAAO,EAAE,WAAS,EAAE,EAAE,UAAS,CAAC,IAAE,EAAE,YAAU,EAAE,EAAE,WAAU,GAAE,CAAC,IAAE,QAAQ,OAAO,IAAI,EAAE,+CAA8C,6DAA6D,CAAC;AAAC;AAAC,SAAS,EAAE,GAAE;AAAC,SAAO,SAAO,KAAG,yBAAuB,EAAE,OAAK,IAAE,EAAC,MAAK,sBAAqB,QAAO,EAAC;AAAC;AAAC,SAASK,GAAE,GAAEN,IAAE;AAAC,MAAG,aAAWA;AAAE,WAAO,EAAE;AAAO,MAAG,EAAE,eAAa,CAACA,GAAE;AAAE,eAAU,KAAK,EAAE;AAAY,UAAG,WAAS,EAAE;AAAK,eAAO,EAAE;AAAA;AAAK,SAAO,EAAE;AAAM;AAAmG,SAAS,EAAEO,IAAE,GAAE;AAAC,QAAM,IAAE,EAAC,cAAa,QAAO,OAAM,EAAC,GAAE,OAAM,GAAE,GAAG,EAAC;AAAE,SAAO,EAAE,EAAEA,EAAC,GAAE,CAAC;AAAC;AAAC,IAAMC,KAAE;AAAR,IAAkB,IAAE;AAApB,IAA4BC,KAAE;",
  "names": ["r", "a", "r", "s", "a", "e", "w", "t", "d", "r", "w", "U"]
}
