{
  "version": 3,
  "sources": ["../../@arcgis/core/views/2d/engine/DisplayObject.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Evented.js\";import t from\"../../../core/has.js\";import{isNone as s}from\"../../../core/maybe.js\";import{createResolver as i}from\"../../../core/promiseUtils.js\";const r=1/t(\"mapview-transitions-duration\");class a extends e{constructor(){super(...arguments),this._fadeOutResolver=null,this._fadeInResolver=null,this._clips=null,this.computedVisible=!0,this.computedOpacity=1,this.fadeTransitionEnabled=!1,this.inFadeTransition=!1,this._isReady=!1,this._opacity=1,this._stage=null,this._visible=!0}get clips(){return this._clips}set clips(e){this._clips=e,this.requestRender()}get isReady(){return this._isReady}get opacity(){return this._opacity}set opacity(e){this._opacity!==e&&(this._opacity=Math.min(1,Math.max(e,0)),this.requestRender())}get stage(){return this._stage}set stage(e){if(this._stage===e)return;const t=this._stage;this._stage=e,e?this._stage.untrashDisplayObject(this)||(this.onAttach(),this.emit(\"attach\")):t.trashDisplayObject(this)}get transforms(){return this._getTransforms()}_getTransforms(){return s(this._transforms)&&(this._transforms=this._createTransforms()),this._transforms}get visible(){return this._visible}set visible(e){this._visible!==e&&(this._visible=e,this.requestRender())}fadeIn(){return this._fadeInResolver||(this._fadeOutResolver&&(this._fadeOutResolver(),this._fadeOutResolver=null),this.computedOpacity=0,this.fadeTransitionEnabled=!0,this._fadeInResolver=i(),this.requestRender()),this._fadeInResolver.promise}fadeOut(){return this._fadeOutResolver||(this._fadeInResolver&&(this._fadeInResolver(),this._fadeInResolver=null),this.fadeTransitionEnabled=!0,this._fadeOutResolver=i(),this.requestRender()),this._fadeOutResolver.promise}beforeRender(e){this.updateTransitionProperties(e.deltaTime,e.state.scale)}afterRender(e){this._fadeInResolver&&this.computedOpacity===this.opacity?(this._fadeInResolver(),this._fadeInResolver=null):this._fadeOutResolver&&0===this.computedOpacity&&(this._fadeOutResolver(),this._fadeOutResolver=null)}remove(){this.parent?.removeChild(this)}setTransform(e){}processRender(e){this.stage&&this.computedVisible&&this.doRender(e)}requestRender(){this.stage&&this.stage.requestRender()}processDetach(){this._fadeInResolver&&(this._fadeInResolver(),this._fadeInResolver=null),this._fadeOutResolver&&(this._fadeOutResolver(),this._fadeOutResolver=null),this.onDetach(),this.emit(\"detach\")}updateTransitionProperties(e,t){if(this.fadeTransitionEnabled){const t=this._fadeOutResolver||!this.visible?0:this.opacity,s=this.computedOpacity;if(s===t)this.computedVisible=this.visible;else{const i=e*r;this.computedOpacity=s>t?Math.max(t,s-i):Math.min(t,s+i),this.computedVisible=this.computedOpacity>0;const a=t===this.computedOpacity;this.inFadeTransition=!a,a||this.requestRender()}}else this.computedOpacity=this.opacity,this.computedVisible=this.visible}onAttach(){}onDetach(){}doRender(e){}ready(){this._isReady||(this._isReady=!0,this.emit(\"isReady\"),this.requestRender())}}export{a as DisplayObject};\n"],
  "mappings": ";;;;;;;;;;;;AAI2L,IAAM,IAAE,IAAE,EAAE,8BAA8B;AAAE,IAAMA,KAAN,cAAgB,EAAC;AAAA,EAAC,cAAa;AAAC,UAAM,GAAG,SAAS,GAAE,KAAK,mBAAiB,MAAK,KAAK,kBAAgB,MAAK,KAAK,SAAO,MAAK,KAAK,kBAAgB,MAAG,KAAK,kBAAgB,GAAE,KAAK,wBAAsB,OAAG,KAAK,mBAAiB,OAAG,KAAK,WAAS,OAAG,KAAK,WAAS,GAAE,KAAK,SAAO,MAAK,KAAK,WAAS;AAAA,EAAE;AAAA,EAAC,IAAI,QAAO;AAAC,WAAO,KAAK;AAAA,EAAM;AAAA,EAAC,IAAI,MAAM,GAAE;AAAC,SAAK,SAAO,GAAE,KAAK,cAAc;AAAA,EAAC;AAAA,EAAC,IAAI,UAAS;AAAC,WAAO,KAAK;AAAA,EAAQ;AAAA,EAAC,IAAI,UAAS;AAAC,WAAO,KAAK;AAAA,EAAQ;AAAA,EAAC,IAAI,QAAQ,GAAE;AAAC,SAAK,aAAW,MAAI,KAAK,WAAS,KAAK,IAAI,GAAE,KAAK,IAAI,GAAE,CAAC,CAAC,GAAE,KAAK,cAAc;AAAA,EAAE;AAAA,EAAC,IAAI,QAAO;AAAC,WAAO,KAAK;AAAA,EAAM;AAAA,EAAC,IAAI,MAAM,GAAE;AAAC,QAAG,KAAK,WAAS;AAAE;AAAO,UAAMC,KAAE,KAAK;AAAO,SAAK,SAAO,GAAE,IAAE,KAAK,OAAO,qBAAqB,IAAI,MAAI,KAAK,SAAS,GAAE,KAAK,KAAK,QAAQ,KAAGA,GAAE,mBAAmB,IAAI;AAAA,EAAC;AAAA,EAAC,IAAI,aAAY;AAAC,WAAO,KAAK,eAAe;AAAA,EAAC;AAAA,EAAC,iBAAgB;AAAC,WAAO,EAAE,KAAK,WAAW,MAAI,KAAK,cAAY,KAAK,kBAAkB,IAAG,KAAK;AAAA,EAAW;AAAA,EAAC,IAAI,UAAS;AAAC,WAAO,KAAK;AAAA,EAAQ;AAAA,EAAC,IAAI,QAAQ,GAAE;AAAC,SAAK,aAAW,MAAI,KAAK,WAAS,GAAE,KAAK,cAAc;AAAA,EAAE;AAAA,EAAC,SAAQ;AAAC,WAAO,KAAK,oBAAkB,KAAK,qBAAmB,KAAK,iBAAiB,GAAE,KAAK,mBAAiB,OAAM,KAAK,kBAAgB,GAAE,KAAK,wBAAsB,MAAG,KAAK,kBAAgB,EAAE,GAAE,KAAK,cAAc,IAAG,KAAK,gBAAgB;AAAA,EAAO;AAAA,EAAC,UAAS;AAAC,WAAO,KAAK,qBAAmB,KAAK,oBAAkB,KAAK,gBAAgB,GAAE,KAAK,kBAAgB,OAAM,KAAK,wBAAsB,MAAG,KAAK,mBAAiB,EAAE,GAAE,KAAK,cAAc,IAAG,KAAK,iBAAiB;AAAA,EAAO;AAAA,EAAC,aAAa,GAAE;AAAC,SAAK,2BAA2B,EAAE,WAAU,EAAE,MAAM,KAAK;AAAA,EAAC;AAAA,EAAC,YAAY,GAAE;AAAC,SAAK,mBAAiB,KAAK,oBAAkB,KAAK,WAAS,KAAK,gBAAgB,GAAE,KAAK,kBAAgB,QAAM,KAAK,oBAAkB,MAAI,KAAK,oBAAkB,KAAK,iBAAiB,GAAE,KAAK,mBAAiB;AAAA,EAAK;AAAA,EAAC,SAAQ;AAJ99D,QAAAC;AAI+9D,KAAAA,MAAA,KAAK,WAAL,gBAAAA,IAAa,YAAY;AAAA,EAAK;AAAA,EAAC,aAAa,GAAE;AAAA,EAAC;AAAA,EAAC,cAAc,GAAE;AAAC,SAAK,SAAO,KAAK,mBAAiB,KAAK,SAAS,CAAC;AAAA,EAAC;AAAA,EAAC,gBAAe;AAAC,SAAK,SAAO,KAAK,MAAM,cAAc;AAAA,EAAC;AAAA,EAAC,gBAAe;AAAC,SAAK,oBAAkB,KAAK,gBAAgB,GAAE,KAAK,kBAAgB,OAAM,KAAK,qBAAmB,KAAK,iBAAiB,GAAE,KAAK,mBAAiB,OAAM,KAAK,SAAS,GAAE,KAAK,KAAK,QAAQ;AAAA,EAAC;AAAA,EAAC,2BAA2B,GAAED,IAAE;AAAC,QAAG,KAAK,uBAAsB;AAAC,YAAMA,KAAE,KAAK,oBAAkB,CAAC,KAAK,UAAQ,IAAE,KAAK,SAAQ,IAAE,KAAK;AAAgB,UAAG,MAAIA;AAAE,aAAK,kBAAgB,KAAK;AAAA,WAAY;AAAC,cAAM,IAAE,IAAE;AAAE,aAAK,kBAAgB,IAAEA,KAAE,KAAK,IAAIA,IAAE,IAAE,CAAC,IAAE,KAAK,IAAIA,IAAE,IAAE,CAAC,GAAE,KAAK,kBAAgB,KAAK,kBAAgB;AAAE,cAAMD,KAAEC,OAAI,KAAK;AAAgB,aAAK,mBAAiB,CAACD,IAAEA,MAAG,KAAK,cAAc;AAAA,MAAC;AAAA,IAAC;AAAM,WAAK,kBAAgB,KAAK,SAAQ,KAAK,kBAAgB,KAAK;AAAA,EAAO;AAAA,EAAC,WAAU;AAAA,EAAC;AAAA,EAAC,WAAU;AAAA,EAAC;AAAA,EAAC,SAAS,GAAE;AAAA,EAAC;AAAA,EAAC,QAAO;AAAC,SAAK,aAAW,KAAK,WAAS,MAAG,KAAK,KAAK,SAAS,GAAE,KAAK,cAAc;AAAA,EAAE;AAAC;",
  "names": ["a", "t", "_a"]
}
