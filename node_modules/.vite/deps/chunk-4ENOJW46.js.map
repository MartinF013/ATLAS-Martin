{
  "version": 3,
  "sources": ["../../@arcgis/core/views/layers/WMSLayerView.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Error.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import{combinedViewLayerTimeExtentProperty as s}from\"../../layers/support/commonProperties.js\";import{ExportWMSImageParameters as p}from\"../../layers/support/ExportWMSImageParameters.js\";const a=a=>{let i=class extends a{initialize(){this.exportImageParameters=new p({layer:this.layer})}destroy(){this.exportImageParameters.destroy(),this.exportImageParameters=null}get exportImageVersion(){return this.exportImageParameters?.commitProperty(\"version\"),this.commitProperty(\"timeExtent\"),(this._get(\"exportImageVersion\")||0)+1}fetchPopupFeatures(e){const{layer:t}=this;if(!e)return Promise.reject(new r(\"wmslayerview:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:t}));const{popupEnabled:o}=t;if(!o)return Promise.reject(new r(\"wmslayerview:fetchPopupFeatures\",\"popupEnabled should be true\",{popupEnabled:o}));const s=this.createFetchPopupFeaturesQuery(e);if(!s)return Promise.resolve([]);const{extent:p,width:a,height:i,x:m,y:n}=s;if(!(p&&a&&i))throw new r(\"wmslayerview:fetchPopupFeatures\",\"WMSLayer does not support fetching features.\",{extent:p,width:a,height:i});const c=t.fetchFeatureInfo(p,a,i,m,n);return Promise.resolve(c?[c]:[])}};return e([t()],i.prototype,\"exportImageParameters\",void 0),e([t({readOnly:!0})],i.prototype,\"exportImageVersion\",null),e([t()],i.prototype,\"layer\",void 0),e([t(s)],i.prototype,\"timeExtent\",void 0),i=e([o(\"esri.layers.mixins.WMSLayerView\")],i),i};export{a as default};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAIkhB,IAAM,IAAE,CAAAA,OAAG;AAAC,MAAI,IAAE,cAAcA,GAAC;AAAA,IAAC,aAAY;AAAC,WAAK,wBAAsB,IAAI,EAAE,EAAC,OAAM,KAAK,MAAK,CAAC;AAAA,IAAC;AAAA,IAAC,UAAS;AAAC,WAAK,sBAAsB,QAAQ,GAAE,KAAK,wBAAsB;AAAA,IAAI;AAAA,IAAC,IAAI,qBAAoB;AAJ7tB;AAI8tB,cAAO,UAAK,0BAAL,mBAA4B,eAAe,YAAW,KAAK,eAAe,YAAY,IAAG,KAAK,KAAK,oBAAoB,KAAG,KAAG;AAAA,IAAC;AAAA,IAAC,mBAAmBC,IAAE;AAAC,YAAK,EAAC,OAAM,EAAC,IAAE;AAAK,UAAG,CAACA;AAAE,eAAO,QAAQ,OAAO,IAAI,EAAE,mCAAkC,iCAAgC,EAAC,OAAM,EAAC,CAAC,CAAC;AAAE,YAAK,EAAC,cAAa,EAAC,IAAE;AAAE,UAAG,CAAC;AAAE,eAAO,QAAQ,OAAO,IAAI,EAAE,mCAAkC,+BAA8B,EAAC,cAAa,EAAC,CAAC,CAAC;AAAE,YAAMC,KAAE,KAAK,8BAA8BD,EAAC;AAAE,UAAG,CAACC;AAAE,eAAO,QAAQ,QAAQ,CAAC,CAAC;AAAE,YAAK,EAAC,QAAO,GAAE,OAAMF,IAAE,QAAOG,IAAE,GAAE,GAAE,GAAEC,GAAC,IAAEF;AAAE,UAAG,EAAE,KAAGF,MAAGG;AAAG,cAAM,IAAI,EAAE,mCAAkC,gDAA+C,EAAC,QAAO,GAAE,OAAMH,IAAE,QAAOG,GAAC,CAAC;AAAE,YAAM,IAAE,EAAE,iBAAiB,GAAEH,IAAEG,IAAE,GAAEC,EAAC;AAAE,aAAO,QAAQ,QAAQ,IAAE,CAAC,CAAC,IAAE,CAAC,CAAC;AAAA,IAAC;AAAA,EAAC;AAAE,SAAO,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,yBAAwB,MAAM,GAAE,EAAE,CAAC,EAAE,EAAC,UAAS,KAAE,CAAC,CAAC,GAAE,EAAE,WAAU,sBAAqB,IAAI,GAAE,EAAE,CAAC,EAAE,CAAC,GAAE,EAAE,WAAU,SAAQ,MAAM,GAAE,EAAE,CAAC,EAAE,CAAC,CAAC,GAAE,EAAE,WAAU,cAAa,MAAM,GAAE,IAAE,EAAE,CAAC,EAAE,iCAAiC,CAAC,GAAE,CAAC,GAAE;AAAC;",
  "names": ["a", "e", "s", "i", "n"]
}
