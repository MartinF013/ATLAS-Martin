{
  "version": 3,
  "sources": ["../../@arcgis/core/geometry/support/lineSegment.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../core/mathUtils.js\";import{ObjectStack as r}from\"../../core/ObjectStack.js\";import{c as n,b as o,e as i,g as e,a as c,p as u,d as s}from\"../../chunks/vec3.js\";import{a,c as g}from\"../../chunks/vec3f64.js\";import{sv3d as f}from\"./vectorStacks.js\";function v(t){return t?{origin:a(t.origin),vector:a(t.vector)}:{origin:g(),vector:g()}}function p(t,r){const n=x.get();return n.origin=t,n.vector=r,n}function h(t,r=v()){return m(t.origin,t.vector,r)}function m(t,r,o=v()){return n(o.origin,t),n(o.vector,r),o}function l(t,r,i=v()){return n(i.origin,t),o(i.vector,r,t),i}function b(r,n){const c=o(f.get(),n,r.origin),u=i(r.vector,c),s=i(r.vector,r.vector),a=t(u/s,0,1),g=o(f.get(),e(f.get(),r.vector,a),c);return i(g,g)}function M(t,r){return Math.sqrt(b(t,r))}function d(t,r,n){return A(t,r,0,1,n)}function j(t,r,n){return c(n,t.origin,e(n,t.vector,r))}function A(r,n,s,a,g){const{vector:v,origin:p}=r,h=o(f.get(),n,p),m=i(v,h)/u(v);return e(g,v,t(m,s,a)),c(g,g,r.origin)}function B(t,r){if(q(t,p(r.origin,r.direction),!1,w)){const{tA:r,pB:n,distance2:o}=w;if(r>=0&&r<=1)return o;if(r<0)return s(t.origin,n);if(r>1)return s(c(f.get(),t.origin,t.vector),n)}return null}function k(t,r,o){return!!q(t,r,!0,w)&&(n(o,w.pA),!0)}function S(t,r){return q(t,r,!0,w)?w.distance2:null}function q(r,n,o,i){const e=1e-6,u=r.origin,a=c(f.get(),u,r.vector),g=n.origin,v=c(f.get(),g,n.vector),p=f.get(),h=f.get();if(p[0]=u[0]-g[0],p[1]=u[1]-g[1],p[2]=u[2]-g[2],h[0]=v[0]-g[0],h[1]=v[1]-g[1],h[2]=v[2]-g[2],Math.abs(h[0])<e&&Math.abs(h[1])<e&&Math.abs(h[2])<e)return!1;const m=f.get();if(m[0]=a[0]-u[0],m[1]=a[1]-u[1],m[2]=a[2]-u[2],Math.abs(m[0])<e&&Math.abs(m[1])<e&&Math.abs(m[2])<e)return!1;const l=p[0]*h[0]+p[1]*h[1]+p[2]*h[2],b=h[0]*m[0]+h[1]*m[1]+h[2]*m[2],M=p[0]*m[0]+p[1]*m[1]+p[2]*m[2],d=h[0]*h[0]+h[1]*h[1]+h[2]*h[2],j=(m[0]*m[0]+m[1]*m[1]+m[2]*m[2])*d-b*b;if(Math.abs(j)<e)return!1;let A=(l*b-M*d)/j,B=(l+b*A)/d;o&&(A=t(A,0,1),B=t(B,0,1));const k=f.get(),S=f.get();return k[0]=u[0]+A*m[0],k[1]=u[1]+A*m[1],k[2]=u[2]+A*m[2],S[0]=g[0]+B*h[0],S[1]=g[1]+B*h[1],S[2]=g[2]+B*h[2],i.tA=A,i.tB=B,i.pA=k,i.pB=S,i.distance2=s(k,S),!0}const w={tA:0,tB:0,pA:g(),pB:g(),distance2:0},x=new r((()=>({origin:null,vector:null})));export{S as closestLineSegmentDistance2,k as closestLineSegmentPoint,B as closestRayDistance2,h as copy,v as create,M as distance,b as distance2,l as fromPoints,m as fromValues,j as pointAt,d as projectPoint,A as projectPointClamp,p as wrap};\n"],
  "mappings": "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",
  "names": ["v", "t", "p", "r", "n", "o", "c", "u", "s", "t", "r", "n", "s", "v", "p", "h", "m", "q", "o", "q", "r", "n", "o", "e", "u", "v", "p", "h", "m", "l", "b", "d", "j", "A", "B", "k"]
}
