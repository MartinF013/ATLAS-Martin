{
  "version": 3,
  "sources": ["../../@arcgis/core/chunks/HighlightApply.glsl.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{s as e}from\"./vec4.js\";import{c as o}from\"./vec4f64.js\";import{Float4PassUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{glsl as t}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as l}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as r}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{VertexAttribute as n}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";const a=8.6,s=.4;function u(){const o=new l,{vertex:u,fragment:c}=o,f=u.code,g=c.code;return o.attributes.add(n.POSITION,\"vec2\"),o.varyings.add(\"uv\",\"vec2\"),o.attributes.add(n.UV0,\"vec2\"),u.uniforms.add(new r(\"coverageTex\",(e=>e.coverageTexture))),f.add(t`void main() {\nvec4 cov = texture2D(coverageTex, uv0);\nif (cov.r == 0.0) {\ngl_Position = vec4(0.0);\nreturn;\n}\ngl_Position = vec4(position, 0.0, 1.0);\nuv = position.xy * 0.5 + vec2(0.5);\n}`),c.uniforms.add(new r(\"tex\",(e=>e.blurColorTexture))),c.uniforms.add(new r(\"origin\",(e=>e.highlightColorTexture))),c.uniforms.add(new i(\"uColor\",(e=>e.color))),c.uniforms.add(new i(\"haloColor\",(e=>e.haloColor))),c.uniforms.add(new i(\"opacities\",(o=>e(d,o.haloOpacity,o.haloOpacityOccluded,o.fillOpacity,o.fillOpacityOccluded)))),c.constants.add(\"outlineSize\",\"float\",a),c.constants.add(\"blurSize\",\"float\",s),g.add(t`void main() {\nvec4 blurredHighlightValue = texture2D(tex, uv);\nfloat highlightIntensity = blurredHighlightValue.a;\nif (highlightIntensity == 0.0) {\ndiscard;\n}\nvec4 origin_color = texture2D(origin, uv);\nfloat outlineIntensity;\nfloat fillIntensity;\nif (blurredHighlightValue.g > blurredHighlightValue.b) {\noutlineIntensity = haloColor.w * opacities[1];\nfillIntensity = uColor.w * opacities[3];\n}\nelse {\noutlineIntensity = haloColor.w * opacities[0];\nfillIntensity = uColor.w * opacities[2];\n}\nfloat inner = 1.0 - outlineSize / 9.0;\nfloat outer = 1.0 - (outlineSize + blurSize) / 9.0;\nfloat outlineFactor = smoothstep(outer, inner, highlightIntensity);\nfloat fillFactor = any(notEqual(origin_color, vec4(0.0, 0.0, 0.0, 0.0))) ? 1.0 : 0.0;\nfloat intensity = outlineIntensity * outlineFactor * (1.0 - fillFactor) + fillIntensity * fillFactor;\ngl_FragColor = vec4(mix(haloColor.rgb, uColor.rgb, fillFactor), intensity);\n}`),o}const d=o(),c=Object.freeze(Object.defineProperty({__proto__:null,build:u},Symbol.toStringTag,{value:\"Module\"}));export{c as H,u as b};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;AAI+gB,IAAM,IAAE;AAAR,IAAY,IAAE;AAAG,SAAS,IAAG;AAAC,QAAM,IAAE,IAAI,KAAE,EAAC,QAAOA,IAAE,UAASC,GAAC,IAAE,GAAE,IAAED,GAAE,MAAK,IAAEC,GAAE;AAAK,SAAO,EAAE,WAAW,IAAI,EAAE,UAAS,MAAM,GAAE,EAAE,SAAS,IAAI,MAAK,MAAM,GAAE,EAAE,WAAW,IAAI,EAAE,KAAI,MAAM,GAAED,GAAE,SAAS,IAAI,IAAI,EAAE,eAAe,CAAAE,OAAGA,GAAE,eAAgB,CAAC,GAAE,EAAE,IAAIC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQ3wB,GAAEF,GAAE,SAAS,IAAI,IAAI,EAAE,OAAO,CAAAC,OAAGA,GAAE,gBAAiB,CAAC,GAAED,GAAE,SAAS,IAAI,IAAI,EAAE,UAAU,CAAAC,OAAGA,GAAE,qBAAsB,CAAC,GAAED,GAAE,SAAS,IAAI,IAAI,EAAE,UAAU,CAAAC,OAAGA,GAAE,KAAM,CAAC,GAAED,GAAE,SAAS,IAAI,IAAI,EAAE,aAAa,CAAAC,OAAGA,GAAE,SAAU,CAAC,GAAED,GAAE,SAAS,IAAI,IAAI,EAAE,aAAa,CAAAG,OAAG,EAAE,GAAEA,GAAE,aAAYA,GAAE,qBAAoBA,GAAE,aAAYA,GAAE,mBAAmB,CAAE,CAAC,GAAEH,GAAE,UAAU,IAAI,eAAc,SAAQ,CAAC,GAAEA,GAAE,UAAU,IAAI,YAAW,SAAQ,CAAC,GAAE,EAAE,IAAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAuB/Z,GAAE;AAAC;AAAC,IAAM,IAAE,EAAE;AAAV,IAAYF,KAAE,OAAO,OAAO,OAAO,eAAe,EAAC,WAAU,MAAK,OAAM,EAAC,GAAE,OAAO,aAAY,EAAC,OAAM,SAAQ,CAAC,CAAC;",
  "names": ["u", "c", "e", "n", "o"]
}
