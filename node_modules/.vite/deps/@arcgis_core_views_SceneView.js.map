{
  "version": 3,
  "sources": ["../../@arcgis/core/views/support/GroundViewElevationSampler.js", "../../@arcgis/core/views/GroundView.js", "../../@arcgis/core/views/3d/layerViewModuleImportUtils.js", "../../@arcgis/core/views/3d/analysis/AnalysisViewManager3D.js", "../../@arcgis/core/views/3d/state/Constraints.js", "../../@arcgis/core/views/3d/constraints/AltitudeConstraint.js", "../../@arcgis/core/views/3d/constraints/ClipDistanceConstraint.js", "../../@arcgis/core/views/3d/constraints/TiltConstraint.js", "../../@arcgis/core/views/3d/constraints/Constraints.js", "../../@arcgis/core/webscene/SunLighting.js", "../../@arcgis/core/views/3d/environment/SunLighting.js", "../../@arcgis/core/webscene/VirtualLighting.js", "../../@arcgis/core/views/3d/environment/VirtualLighting.js", "../../@arcgis/core/views/3d/environment/lightingUtils.js", "../../@arcgis/core/views/3d/environment/SceneViewAtmosphere.js", "../../@arcgis/core/views/3d/environment/SunnyWeather.js", "../../@arcgis/core/views/3d/environment/CloudyWeather.js", "../../@arcgis/core/views/3d/environment/FoggyWeather.js", "../../@arcgis/core/views/3d/environment/RainyWeather.js", "../../@arcgis/core/views/3d/environment/SnowyWeather.js", "../../@arcgis/core/views/3d/environment/weather.js", "../../@arcgis/core/webscene/lightingTypes.js", "../../@arcgis/core/webscene/background/Background.js", "../../@arcgis/core/webscene/background/ColorBackground.js", "../../@arcgis/core/webscene/background/utils.js", "../../@arcgis/core/webscene/Environment.js", "../../@arcgis/core/views/3d/environment/SceneViewEnvironment.js", "../../@arcgis/core/views/3d/environment/atmosphereUtils.js", "../../@arcgis/core/views/3d/environment/ChapmanAtmosphereTechnique.js", "../../@arcgis/core/views/3d/environment/ChapmanAtmosphereTechniqueConfiguration.js", "../../@arcgis/core/views/3d/environment/ChapmanAtmosphere.js", "../../@arcgis/core/geometry/support/axisAngle.js", "../../@arcgis/core/views/3d/environment/CloudsCompositionTechnique.js", "../../@arcgis/core/views/3d/environment/CloudsData.js", "../../@arcgis/core/views/3d/environment/CloudsComposition.js", "../../@arcgis/core/views/3d/environment/CloudsPresets.js", "../../@arcgis/core/views/3d/environment/CloudsTechnique.js", "../../@arcgis/core/views/3d/environment/NoiseTextureAtlasTechnique.js", "../../@arcgis/core/views/3d/environment/NoiseTextureAtlas.js", "../../@arcgis/core/views/3d/environment/CloudsGenerator.js", "../../@arcgis/core/views/3d/environment/FogTechnique.js", "../../@arcgis/core/views/3d/environment/Fog.js", "../../@arcgis/core/views/3d/environment/SimpleAtmosphereTechnique.js", "../../@arcgis/core/views/3d/environment/resources/SimpleAtmosphereTexture.js", "../../@arcgis/core/views/3d/environment/PanoramicAtmosphere.js", "../../@arcgis/core/views/3d/environment/PrecipitationTechnique.js", "../../@arcgis/core/views/3d/environment/Precipitation.js", "../../@arcgis/core/views/3d/environment/resources/MarsAtmosphereTexture.js", "../../@arcgis/core/views/3d/environment/SimpleAtmosphere.js", "../../@arcgis/core/views/3d/environment/StarsTechnique.js", "../../@arcgis/core/views/3d/environment/Stars.js", "../../@arcgis/core/views/3d/environment/EnvironmentRenderer.js", "../../@arcgis/core/views/3d/support/earthUtils.js", "../../@arcgis/core/chunks/SunCalc.js", "../../@arcgis/core/views/3d/support/sunUtils.js", "../../@arcgis/core/views/3d/environment/SceneViewEnvironmentManager.js", "../../@arcgis/core/views/3d/camera/constraintUtils/common.js", "../../@arcgis/core/views/3d/camera/constraintUtils/altitude.js", "../../@arcgis/core/views/3d/camera/constraintUtils/distance.js", "../../@arcgis/core/views/3d/camera/intersectionUtils.js", "../../@arcgis/core/views/3d/camera/constraintUtils/surfaceCollision.js", "../../@arcgis/core/views/3d/state/utils/viewUtils.js", "../../@arcgis/core/views/3d/camera/constraintUtils/tilt.js", "../../@arcgis/core/views/animation/easing.js", "../../@arcgis/core/views/3d/camera/constraintUtils.js", "../../@arcgis/core/views/3d/animation/pointToPoint/Camera.js", "../../@arcgis/core/views/animation/pointToPoint/Settings.js", "../../@arcgis/core/views/animation/pointToPoint/Definition.js", "../../@arcgis/core/views/animation/pointToPoint/Path.js", "../../@arcgis/core/views/animation/pointToPoint/Segment.js", "../../@arcgis/core/views/animation/pointToPoint/apex/functions.js", "../../@arcgis/core/views/animation/pointToPoint/apex/planning.js", "../../@arcgis/core/views/animation/pointToPoint/apex/Path.js", "../../@arcgis/core/views/animation/pointToPoint/Animation.js", "../../@arcgis/core/views/3d/animation/pointToPoint/Animation.js", "../../@arcgis/core/views/3d/state/controllers/CameraController.js", "../../@arcgis/core/views/3d/state/controllers/AnimationController.js", "../../@arcgis/core/views/3d/state/controllers/PointToPointAnimationController.js", "../../@arcgis/core/views/3d/support/geometryUtils/sphere.js", "../../@arcgis/core/views/3d/state/utils/navigationUtils.js", "../../@arcgis/core/views/3d/state/controllers/global/ZoomStepController.js", "../../@arcgis/core/views/3d/state/controllers/local/ZoomStepController.js", "../../@arcgis/core/views/3d/input/handlers/DoubleClickZoom.js", "../../@arcgis/core/views/3d/state/controllers/InteractiveController.js", "../../@arcgis/core/views/3d/state/controllers/RotateController.js", "../../@arcgis/core/views/3d/input/handlers/DragRotate.js", "../../@arcgis/core/views/3d/state/controllers/global/ZoomController.js", "../../@arcgis/core/views/3d/state/controllers/local/ZoomController.js", "../../@arcgis/core/views/3d/input/handlers/DragZoom.js", "../../@arcgis/core/views/3d/support/cameraUtilsInternal.js", "../../@arcgis/core/chunks/cameraUtilsPlanar.js", "../../@arcgis/core/chunks/cameraUtilsSpherical.js", "../../@arcgis/core/views/3d/support/cameraUtils.js", "../../@arcgis/core/views/3d/state/controllers/GamepadKeyboardController.js", "../../@arcgis/core/views/3d/input/handlers/GamepadNavigation.js", "../../@arcgis/core/views/3d/input/handlers/KeyboardNavigation.js", "../../@arcgis/core/views/3d/input/handlers/MouseWheelZoom.js", "../../@arcgis/core/views/3d/input/util.js", "../../@arcgis/core/views/3d/state/controllers/momentum/MomentumController.js", "../../@arcgis/core/views/3d/state/controllers/momentum/PanPlanarMomentumController.js", "../../@arcgis/core/views/3d/state/controllers/momentum/PanSphericalMomentumController.js", "../../@arcgis/core/views/3d/state/controllers/momentum/RotationMomentumController.js", "../../@arcgis/core/views/3d/state/controllers/momentum/ZoomPlanarMomentumController.js", "../../@arcgis/core/views/3d/state/controllers/momentum/ZoomSphericalMomentumController.js", "../../@arcgis/core/views/navigation/FilteredValue.js", "../../@arcgis/core/views/navigation/PanSphericalMomentumEstimator.js", "../../@arcgis/core/views/3d/state/controllers/global/PinchAndPanController.js", "../../@arcgis/core/views/3d/state/controllers/local/PinchAndPanController.js", "../../@arcgis/core/views/3d/input/handlers/PinchAndPanNavigation.js", "../../@arcgis/core/views/3d/input/handlers/PointerDownCancelAnimation.js", "../../@arcgis/core/views/3d/input/handlers/SingleKey.js", "../../@arcgis/core/views/3d/input/handlers/SingleKeyResetHeading.js", "../../@arcgis/core/views/3d/input/handlers/SingleKeyResetTilt.js", "../../@arcgis/core/views/3d/input/handlers/TwoFingerTilt.js", "../../@arcgis/core/views/input/recognizers/VerticalTwoFingerDrag.js", "../../@arcgis/core/views/3d/input/SceneInputManager.js", "../../@arcgis/core/views/3d/layers/graphics/deconflictorDebug.js", "../../@arcgis/core/views/3d/layers/graphics/Deconflictor.js", "../../@arcgis/core/views/3d/layers/graphics/LabelDeconflictor.js", "../../@arcgis/core/views/3d/layers/graphics/GraphicsDeconflictor.js", "../../@arcgis/core/views/3d/layers/graphics/graphicSymbolUtils.js", "../../@arcgis/core/views/3d/layers/graphics/labelPlacement.js", "../../@arcgis/core/views/3d/webgl-engine/lib/MaterialCollection.js", "../../@arcgis/core/views/3d/webgl-engine/lib/TextTextureAtlas.js", "../../@arcgis/core/views/3d/layers/graphics/Labeler.js", "../../@arcgis/core/views/3d/layers/graphics/ObjectResourceCache.js", "../../@arcgis/core/views/3d/layers/support/FeatureTileVisibility3D.js", "../../@arcgis/core/views/3d/layers/support/FeatureTileMeasurements3D.js", "../../@arcgis/core/views/3d/layers/support/FeatureTileTree3D.js", "../../@arcgis/core/views/3d/state/ViewState.js", "../../@arcgis/core/views/3d/state/NearFarHeuristic.js", "../../@arcgis/core/views/3d/state/SurfaceCollisionConstraint.js", "../../@arcgis/core/views/3d/state/ConstraintsManager.js", "../../@arcgis/core/views/3d/state/controllers/SurfaceCollisionCorrectionController.js", "../../@arcgis/core/views/3d/support/viewpointUtils.js", "../../@arcgis/core/views/3d/state/GoToOperation.js", "../../@arcgis/core/views/3d/state/ViewStateManager.js", "../../@arcgis/core/views/3d/state/helpers/SceneIntersectionHelper.js", "../../@arcgis/core/views/3d/support/CombinedElevationProvider.js", "../../@arcgis/core/views/3d/support/DisplayQualityProfile.js", "../../@arcgis/core/views/3d/support/HighlightOptions.js", "../../@arcgis/core/views/3d/support/MapCoordsHelper.js", "../../@arcgis/core/views/3d/support/QualitySettings.js", "../../@arcgis/core/views/3d/layers/support/MemoryManagedLayerView.js", "../../@arcgis/core/views/3d/support/MemoryController.js", "../../@arcgis/core/views/3d/support/ResourceController.js", "../../@arcgis/core/views/3d/layers/support/PerformanceInfoLayerView.js", "../../@arcgis/core/views/3d/support/LayerPerformanceInfo.js", "../../@arcgis/core/views/3d/support/SceneViewPerformanceInfo.js", "../../@arcgis/core/views/3d/support/StreamTextureCollection.js", "../../@arcgis/core/views/3d/support/SharedSymbolResources.js", "../../@arcgis/core/views/3d/support/debugUtils.js", "../../@arcgis/core/views/3d/support/pointsOfInterest/PointOfInterest.js", "../../@arcgis/core/views/3d/support/pointsOfInterest/CameraOnSurface.js", "../../@arcgis/core/views/3d/support/pointsOfInterest/CenterOnSurface.js", "../../@arcgis/core/views/3d/support/pointsOfInterest/ContentGeometryUpdates.js", "../../@arcgis/core/views/3d/support/pointsOfInterest/Focus.js", "../../@arcgis/core/views/3d/support/pointsOfInterest/StableSurfaceCenter.js", "../../@arcgis/core/views/3d/support/pointsOfInterest/SurfaceGeometryUpdates.js", "../../@arcgis/core/views/3d/support/pointsOfInterest/PointsOfInterest.js", "../../@arcgis/core/views/3d/terrain/ElevationBounds.js", "../../@arcgis/core/views/3d/terrain/ElevationData.js", "../../@arcgis/core/views/3d/terrain/ExtentHelper.js", "../../@arcgis/core/views/3d/terrain/LayerClass.js", "../../@arcgis/core/views/3d/webgl-engine/parts/requireUtils.js", "../../@arcgis/core/views/3d/terrain/OverlayManager.js", "../../@arcgis/core/geometry/support/buffer/BufferPool.js", "../../@arcgis/core/views/3d/terrain/PatchGeometry.js", "../../@arcgis/core/views/3d/terrain/PatchGeometryLUT.js", "../../@arcgis/core/views/3d/terrain/GeometryState.js", "../../@arcgis/core/views/3d/terrain/TextureFader.js", "../../@arcgis/core/views/3d/terrain/TileAgent.js", "../../@arcgis/core/views/3d/terrain/ElevationTileAgent.js", "../../@arcgis/core/views/3d/terrain/MapTileAgent.js", "../../@arcgis/core/views/3d/terrain/TilePerLayerInfo.js", "../../@arcgis/core/views/3d/terrain/TileTexture.js", "../../@arcgis/core/views/3d/terrain/TileUpdate.js", "../../@arcgis/core/views/3d/terrain/Tile.js", "../../@arcgis/core/views/3d/terrain/TileOverlayData.js", "../../@arcgis/core/views/3d/terrain/PatchRenderData.js", "../../@arcgis/core/views/3d/terrain/PatchGeometryFactory.js", "../../@arcgis/core/views/3d/terrain/PlanarPatch.js", "../../@arcgis/core/views/3d/terrain/RenderOrder.js", "../../@arcgis/core/views/3d/terrain/SphericalPatch.js", "../../@arcgis/core/views/3d/terrain/ScaleRangeQueries.js", "../../@arcgis/core/views/3d/terrain/BlendModeTechniqueConfiguration.js", "../../@arcgis/core/views/3d/terrain/BlendLayersTechnique.js", "../../@arcgis/core/views/3d/terrain/TextureReference.js", "../../@arcgis/core/views/2d/engine/vectorTiles/VectorTileRendererHelper3D.js", "../../@arcgis/core/views/3d/terrain/RasterColorizerTechnique.js", "../../@arcgis/core/views/3d/terrain/support/FBOPool.js", "../../@arcgis/core/views/3d/terrain/TileCompositor.js", "../../@arcgis/core/views/3d/terrain/TileRenderer.js", "../../@arcgis/core/views/3d/webgl-engine/collections/Component/ComponentIntersectionData.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/TerrainTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/TerrainTechniqueConfiguration.js", "../../@arcgis/core/views/3d/terrain/TerrainRenderer.js", "../../@arcgis/core/views/3d/terrain/TerrainSurfacePerformanceInfo.js", "../../@arcgis/core/views/3d/terrain/TilingSchemeLogic.js", "../../@arcgis/core/views/3d/terrain/UpsampleInfo.js", "../../@arcgis/core/views/3d/terrain/TerrainSurface.js", "../../@arcgis/core/views/3d/webgl-engine/lib/ModelDirtySet.js", "../../@arcgis/core/views/3d/webgl-engine/parts/Model.js", "../../@arcgis/core/views/3d/webgl-engine/collections/Component/IndexRange/ComponentRangeRunLengthEncoded.js", "../../@arcgis/core/views/3d/webgl-engine/collections/Component/ComponentData.js", "../../@arcgis/core/views/3d/webgl-engine/lib/ComponentUtils.js", "../../@arcgis/core/views/3d/webgl-engine/collections/Component/IntersectionGeometry.js", "../../@arcgis/core/views/3d/webgl-engine/collections/Component/Renderable.js", "../../@arcgis/core/views/3d/webgl-engine/collections/Component/RenderGeometry.js", "../../@arcgis/core/views/3d/webgl-engine/lib/depthRange.js", "../../@arcgis/core/views/3d/webgl-engine/collections/Component/DepthRange.js", "../../@arcgis/core/views/3d/webgl-engine/collections/Component/RenderSubmitSystem.js", "../../@arcgis/core/views/3d/webgl-engine/collections/Component/Material/ComponentTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/core/material/MaterialBase.js", "../../@arcgis/core/views/3d/webgl-engine/core/util/TwoVectorPosition.js", "../../@arcgis/core/views/3d/webgl-engine/collections/Component/Material/ComponentMaterial.js", "../../@arcgis/core/views/3d/webgl-engine/lib/TextureBackedBuffer/SimpleIndexManager.js", "../../@arcgis/core/views/3d/webgl-engine/lib/TextureBackedBuffer/TextureBackedBuffer.js", "../../@arcgis/core/views/3d/webgl-engine/lib/TextureBackedBuffer/ManagedTextureBackedBuffer.js", "../../@arcgis/core/views/3d/webgl-engine/lib/TextureBackedBuffer/BufferManager.js", "../../@arcgis/core/views/3d/webgl-engine/collections/Component/ComponentObjectCollection.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/CompositingTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/lib/CompositingHelper.js", "../../@arcgis/core/views/3d/webgl-engine/lib/depthRangeUtils.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/Magnifier.glsl.js", "../../@arcgis/core/views/3d/webgl-engine/lib/MagnifierHelper.js", "../../@arcgis/core/views/3d/support/animationUtils.js", "../../@arcgis/core/views/3d/webgl-engine/core/renderPasses/RenderPass.js", "../../@arcgis/core/views/3d/webgl-engine/core/renderPasses/RenderPassManager.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/HighlightApplyTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/HighlightBlurTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/HighlightDownsampleTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/HighlightPassParameters.js", "../../@arcgis/core/views/3d/webgl-engine/lib/Highlight.js", "../../@arcgis/core/views/3d/webgl-engine/lib/RenderTargetHelper.js", "../../@arcgis/core/views/3d/webgl-engine/lib/OffscreenRendering.js", "../../@arcgis/core/views/3d/webgl-engine/lib/RenderPluginManager.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/ShadowCastVisualizeTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/lib/ShadowCastRenderer.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/ShadowCastAccumulateTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/lib/ShadowAccumulator.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/ShadowHighlightTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/lib/ShadowHighlight.js", "../../@arcgis/core/views/3d/webgl-engine/lib/SliceHelper.js", "../../@arcgis/core/views/3d/webgl-engine/lib/SMAATechnique.js", "../../@arcgis/core/views/3d/webgl-engine/lib/SmaaRenderPass.js", "../../@arcgis/core/views/3d/webgl-engine/lib/localOriginHelper.js", "../../@arcgis/core/views/3d/webgl-engine/lib/LocalOriginManager.js", "../../@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/EdgeShaderParameters.js", "../../@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/EdgeShaderTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/EdgeShaderTechniqueConfiguration.js", "../../@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/EdgeRenderer.js", "../../@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/strokes.js", "../../@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/util.js", "../../@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/EdgeView.js", "../../@arcgis/core/views/webgl/Measurement.js", "../../@arcgis/core/views/3d/webgl-engine/statistics/RendererPerformanceInfo.js", "../../@arcgis/core/views/3d/webgl-engine/lib/Renderer.js", "../../@arcgis/core/views/3d/webgl-engine/lib/RenderingContext.js", "../../@arcgis/core/views/3d/webgl-engine/lib/TextureRepository.js", "../../@arcgis/core/views/3d/webgl-engine/materials/internal/WaterTextureRepository.js", "../../@arcgis/core/views/3d/webgl-engine/parts/contextCache.js", "../../@arcgis/core/views/3d/webgl-engine/parts/ScreenshotManager.js", "../../@arcgis/core/views/3d/webgl-engine/parts/testUtils.js", "../../@arcgis/core/views/3d/webgl-engine/parts/RenderView.js", "../../@arcgis/core/views/3d/webgl-engine/Stage.js", "../../@arcgis/core/views/ui/3d/DefaultUI3D.js", "../../@arcgis/core/views/SceneView.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Evented.js\";import o from\"../../core/Logger.js\";import{isNone as r,isSome as s,unwrapOr as i}from\"../../core/maybe.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{toExtent as p}from\"../../geometry/support/aaBoundingRect.js\";import{extentContainsXYZ as l}from\"../../geometry/support/contains.js\";import{updateGeometryElevation as m}from\"../../layers/support/ElevationSampler.js\";import{ELEVATION_NODATA_VALUE as c}from\"../3d/terrain/TerrainConst.js\";const u=o.getLogger(\"esri.views.support.GroundViewElevationSampler\");let d=class extends t.EventedAccessor{constructor(e){super(e),this.demResolution={min:-1,max:-1},this.noDataValue=c}initialize(){this.view.basemapTerrain.on(\"elevation-change\",(()=>this.emit(\"changed\",{})))}get extent(){const e=this.view.basemapTerrain;if(r(e.extent)||!e.spatialReference)return null;const t=p(e.extent,e.spatialReference);return t.zmin=e.elevationBounds.min,t.zmax=e.elevationBounds.max,t}elevationAt(e,t){if(r(this.extent)||!l(this.extent,e,t)){const o=s(this.extent)?`${this.extent.xmin}, ${this.extent.ymin}, ${this.extent.xmax}, ${this.extent.ymax}`:null;return u.warn(\"#elevationAt()\",`Point used to sample elevation (${e}, ${t}) is outside of the sampler extent (${o})`),this.noDataValue}return i(this.view.elevationProvider.getElevation(e,t,0,this.spatialReference,\"ground\"),this.noDataValue)}queryElevation(e){return m(e.clone(),this)}};e([n({readOnly:!0})],d.prototype,\"demResolution\",void 0),e([n({readOnly:!0})],d.prototype,\"extent\",null),e([n({readOnly:!0})],d.prototype,\"noDataValue\",void 0),e([n({readOnly:!0,aliasOf:\"view.basemapTerrain.spatialReference\"})],d.prototype,\"spatialReference\",void 0),e([n({constructOnly:!0})],d.prototype,\"view\",void 0),d=e([a(\"esri.views.support.GroundViewElevationSampler\")],d);const v=d;export{v as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import s from\"../core/Accessor.js\";import t from\"../core/Collection.js\";import r from\"../core/Handles.js\";import{when as i,watch as a,sync as o}from\"../core/reactiveUtils.js\";import{property as n}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../core/accessorSupport/decorators/subclass.js\";import l from\"./support/GroundViewElevationSampler.js\";let d=class extends s{constructor(e){super(e),this.handles=new r,this.view=null,this.layerViews=new t}initialize(){this.handles.add(i((()=>this.view?.map?.ground),(e=>e.load()))),this.handles.add(this.layerViews.on(\"after-changes\",(()=>this._layerViewsAfterChangesHandler())))}destroy(){this._set(\"view\",null),this.handles&&(this.handles.destroy(),this.handles=null)}get elevationSampler(){return this.view?\"2d\"===this.view.type?null:this.view.ready&&this.view.basemapTerrain&&this.view.basemapTerrain.ready?new l({view:this.view}):null:null}get updating(){return!this.suspended&&this.layerViews.some((e=>e.updating))}get suspended(){return!this.view||this.view.suspended}_layerViewsAfterChangesHandler(){this.handles.remove(\"updating\"),this.handles.add(this.layerViews.map((e=>a((()=>e.updating),(()=>this._updateUpdating()),o))).toArray(),\"updating\"),this._updateUpdating()}_updateUpdating(){this.notifyChange(\"updating\")}};e([n({readOnly:!0})],d.prototype,\"elevationSampler\",null),e([n({type:Boolean,readOnly:!0})],d.prototype,\"updating\",null),e([n({constructOnly:!0})],d.prototype,\"view\",void 0),e([n({type:t,readOnly:!0})],d.prototype,\"layerViews\",void 0),e([n({readOnly:!0})],d.prototype,\"suspended\",null),d=e([p(\"esri.views.GroundView\")],d);const h=d;export{h as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{isSome as r,isNone as a}from\"../../core/maybe.js\";const i=()=>import(\"./layers/TileLayerView3D.js\"),s=()=>import(\"./layers/ElevationLayerView3D.js\"),t={\"base-dynamic\":()=>import(\"./layers/BaseDynamicLayerView3D.js\"),\"base-elevation\":s,\"base-tile\":i,\"bing-maps\":i,\"building-scene\":()=>import(\"./layers/BuildingSceneLayerView3D.js\"),csv:()=>import(\"./layers/CSVLayerView3D.js\"),elevation:s,feature:()=>import(\"./layers/FeatureLayerView3D.js\"),geojson:()=>import(\"./layers/GeoJSONLayerView3D.js\"),graphics:()=>import(\"./layers/GraphicsLayerView3D.js\"),group:()=>import(\"../layers/GroupLayerView.js\"),imagery:()=>import(\"./layers/ImageryLayerView3D.js\"),\"integrated-mesh\":()=>import(\"./layers/IntegratedMeshLayerView3D.js\"),\"line-of-sight\":()=>import(\"./layers/LineOfSightLayerView3D.js\"),\"map-image\":()=>import(\"./layers/MapImageLayerView3D.js\"),media:()=>import(\"./layers/MediaLayerView3D.js\"),\"ogc-feature\":()=>import(\"./layers/OGCFeatureLayerView3D.js\"),\"open-street-map\":i,\"point-cloud\":()=>import(\"./layers/PointCloudLayerView3D.js\"),voxel:()=>import(\"./layers/VoxelLayerView3D.js\"),route:()=>import(\"./layers/RouteLayerView3D.js\"),scene:e=>null==e.profile||\"mesh-pyramids\"===e.profile?import(\"./layers/SceneLayerView3D.js\"):import(\"./layers/SceneLayerGraphicsView3D.js\"),stream:()=>import(\"./layers/StreamLayerView3D.js\"),tile:i,\"imagery-tile\":()=>import(\"./layers/ImageryTileLayerView3D.js\"),\"vector-tile\":()=>import(\"./layers/VectorTileLayerView3D.js\"),wcs:()=>import(\"./layers/ImageryTileLayerView3D.js\"),\"web-tile\":i,wfs:()=>import(\"./layers/WFSLayerView3D.js\"),wms:()=>import(\"./layers/WMSLayerView3D.js\"),wmts:()=>import(\"./layers/WMTSLayerView3D.js\"),\"geo-rss\":null,kml:null,\"map-notes\":null,\"subtype-group\":null,unknown:null,unsupported:null};function o(r){const a=r.declaredClass?r.declaredClass.slice(r.declaredClass.lastIndexOf(\".\")+1):\"Unknown\",i=a.replace(/([a-z])([A-Z])/g,\"$1-$2\").toLowerCase();return new e(`${i}:view-not-supported`,`${a} is not supported in 3D`)}const l={hasLayerViewModule:e=>r(t[e.type]),importLayerView:e=>{const r=t[e.type];if(a(r))throw o(e);return r(e)}};export{l as layerView3DImporter};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import s from\"../../../core/Collection.js\";import i from\"../../../core/Error.js\";import{HandleOwner as t}from\"../../../core/HandleOwner.js\";import a from\"../../../core/Logger.js\";import{isNone as n,isSome as o,removeMaybe as r,destroyMaybe as l,abortMaybe as c}from\"../../../core/maybe.js\";import{createResolver as d,createAbortError as h,createTask as w,isAborted as u}from\"../../../core/promiseUtils.js\";import{schedule as m}from\"../../../core/scheduling.js\";import{property as y}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as _}from\"../../../core/accessorSupport/decorators/subclass.js\";const p=a.getLogger(\"esri.views.3d.analysis.AnalysisViewManager3D\"),V=\"analyses-owner-handles\";var A,v;!function(e){e[e.PENDING=0]=\"PENDING\",e[e.CREATED=1]=\"CREATED\"}(A||(A={})),function(e){e[e.ADDED=0]=\"ADDED\",e[e.REMOVED=1]=\"REMOVED\"}(v||(v={}));let g=class extends t{constructor(e){super(e),this._allAnalysisViews=new s,this._creatingViewCount=0,this._items=new Map,this._scheduledUpdateHandle=null,this._attachedToViewResolver=d(),this._analysisModules={\"area-measurement\":{module:null},dimensioning:{module:null},\"direct-line-measurement\":{module:null},\"line-of-sight\":{module:null},slice:{module:null}}}destroy(){this._disconnectOwners(),this._attachedToViewResolver.reject(h(\"AnalysisViewManager was destroyed\"))}attach(){this._connectOwners(),this._attachedToViewResolver.resolve()}detach(){this._disconnectOwners(),this._attachedToViewResolver.reject(h()),this._attachedToViewResolver=d(),this._attachedToViewResolver.promise.catch((()=>{}))}get updating(){return!this.view.ready||0!==this._creatingViewCount||this._allAnalysisViews.some((e=>e.updating))}get testInfo(){return{allAnalysisViews:this._allAnalysisViews}}async whenAnalysisView(e){await this._attachedToViewResolver.promise;const s=this._items.get(e);if(n(s)||s.state.list===v.REMOVED){throw new i(\"AnalysisViewManager:no-analysisview-for-analysis\",\"The analysis has not been added to view.analyses\",{analysis:e})}return s.createAnalysisViewTask.promise}_connectOwners(){this.handles.add(this._connectAnalysesCollection(this.view.analyses),V)}_disconnectOwners(){this.handles.remove(V),this._update(),this._creatingViewCount=0}_connectAnalysesCollection(e){for(const t of e)this._addAnalysis(t);const s=e.on(\"after-add\",(e=>this._addAnalysis(e.item))),i=e.on(\"after-remove\",(e=>this._removeAnalysis(e.item)));return{remove:()=>{s.remove(),i.remove();for(const s of e)this._removeAnalysis(s)}}}_addAnalysis(e){const s=this._items.get(e);if(null==s){const s={state:{view:A.PENDING,list:v.ADDED},analysis:e,view:null,createAnalysisViewTask:null};this._items.set(e,s),s.createAnalysisViewTask=w((e=>this._createAnalysisViewPromise(s,e)))}else s.state.list=v.ADDED}_removeAnalysis(e){const s=this._items.get(e);null!=s?(s.state.list=v.REMOVED,this._scheduleUpdate()):p.error(\"Trying to remove analysis which was not added\")}_scheduleUpdate(){o(this._scheduledUpdateHandle)||(this._scheduledUpdateHandle=m((()=>this._update())))}_update(){this._scheduledUpdateHandle=r(this._scheduledUpdateHandle),this._items.forEach((e=>{if(e.state.list===v.REMOVED)switch(this._items.delete(e.analysis),e.state.view){case A.PENDING:e.createAnalysisViewTask=c(e.createAnalysisViewTask);break;case A.CREATED:o(e.view)&&(this._allAnalysisViews.remove(e.view),e.view=l(e.view),e.createAnalysisViewTask=null)}}))}async _createAnalysisViewPromise(e,s){const i=e.analysis,t=i.type,a=this._analysisModules[t];if(this._creatingViewCount+=1,n(a.module))try{a.module=await this._loadAnalysisModule(t)}catch(r){throw this._creatingViewCount-=1,r}if(u(s))throw this._creatingViewCount-=1,h(\"AnalysisView creation aborted\");const o=new a.module.default({analysis:i,view:this.view});try{await o.when()}catch(r){throw this._creatingViewCount-=1,r}if(u(s))throw this._creatingViewCount-=1,o.destroy(),h(\"AnalysisView creation aborted\");return e.view=o,e.state.view=A.CREATED,this._allAnalysisViews.add(o),this._creatingViewCount-=1,o}_loadAnalysisModule(e){switch(e){case\"area-measurement\":return import(\"./AreaMeasurementAnalysisView3D.js\");case\"dimensioning\":return import(\"./DimensioningAnalysisView3D.js\");case\"direct-line-measurement\":return import(\"./DirectLineMeasurementAnalysisView3D.js\");case\"line-of-sight\":return import(\"./LineOfSightAnalysisView3D.js\");case\"slice\":return import(\"./SliceAnalysisView3D.js\")}}};e([y()],g.prototype,\"updating\",null),e([y({constructOnly:!0})],g.prototype,\"view\",void 0),e([y()],g.prototype,\"_allAnalysisViews\",void 0),e([y()],g.prototype,\"_creatingViewCount\",void 0),g=e([_(\"esri.views.3d.analysis.AnalysisViewManager3D\")],g);const D=g;export{D as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Accessor.js\";import i from\"../../../core/Logger.js\";import{clamp as o,deg2rad as r}from\"../../../core/mathUtils.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{earth as n}from\"../../../geometry/support/Ellipsoid.js\";import{ViewingMode as l}from\"../../ViewingMode.js\";import{makePiecewiseLinearFunction as m}from\"../support/mathUtils.js\";const c=i.getLogger(\"esri.views.3d.state.Constraints\");let p=class extends e{constructor(t){super(t),this.collision=new f,this.distance=1/0,this.minimumPoiDistance=4}get altitude(){return this.mode===l.Local?null:this._get(\"altitude\")||null}set altitude(t){this.mode!==l.Local?this._set(\"altitude\",t):c.warn(\"Altitude constraint is ignored in local scenes\")}clampAltitude(t){return this.altitude?o(t,this.altitude.min,this.altitude.max):t}clampTilt(t,e){if(!this.tilt)return e;const i=this.tilt(t);return o(e,i.min,i.max)}clampDistance(t){return Math.min(t,this.distance)}createDefaultTilt(){return this.mode===l.Local?this._createDefaultTiltLocal():this._createDefaultTiltGlobal()}createConstantMaxTilt(t){return(e,i=y)=>(i.min=h.min,i.max=t,i)}_createDefaultTiltLocal(){const t=this.collision.enabled?m([[4e3,h.max],[1e4,r(88)],[6e6,r(88)]]):()=>h.max;return(e,i=y)=>(i.min=h.min,i.max=t(e),i)}_createDefaultTiltGlobal(){const t=this.collision.enabled?m([[4e3,h.max],[5e4,r(88)],[6e6,r(88)],[2e7,h.min]]):m([[3e5,h.max],[3e6,r(88)],[6e6,r(88)],[2e7,h.min]]);return(e,i=y)=>(i.min=h.min,i.max=t(e),i)}};function u(t){return{min:-2e5,max:4*t.radius}}t([s()],p.prototype,\"altitude\",null),t([s({readOnly:!0})],p.prototype,\"collision\",void 0),t([s()],p.prototype,\"distance\",void 0),t([s({readOnly:!0})],p.prototype,\"minimumPoiDistance\",void 0),t([s()],p.prototype,\"tilt\",void 0),t([s({constructOnly:!0})],p.prototype,\"mode\",void 0),p=t([a(\"esri.views.3d.state.Constraints\")],p);const d=u(n),h={min:r(.5),max:r(179.5)},y={min:0,max:0};let f=class extends e{constructor(){super(...arguments),this.enabled=!0,this.elevationMargin=5}};t([s({type:Boolean})],f.prototype,\"enabled\",void 0),t([s({type:Number})],f.prototype,\"elevationMargin\",void 0),f=t([a(\"esri.views.3d.state.Constraints.CollisionConstraint\")],f);export{p as Constraints,h as TiltDefault,d as earthAltitudeConstraint};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import o from\"../../../core/Accessor.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";import{earthAltitudeConstraint as e}from\"../state/Constraints.js\";let p=class extends o{constructor(){super(...arguments),this.min=e.min,this.max=e.max}};r([s({type:Number})],p.prototype,\"min\",void 0),r([s({type:Number})],p.prototype,\"max\",void 0),p=r([t(\"esri.views.3d.constraints.AltitudeConstraint\")],p);export{p as AltitudeConstraint};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Accessor.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{cast as s}from\"../../../core/accessorSupport/decorators/cast.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";let o=class extends r{constructor(){super(...arguments),this.mode=\"auto\"}get near(){return this._get(\"near\")}set near(t){this._set(\"near\",t),t>=this._get(\"far\")&&(this.far=t+1e-9),this.mode=\"manual\"}castNear(t){return Math.max(1e-8,t)}get far(){return this._get(\"far\")}set far(t){this._set(\"far\",t),t<=this._get(\"near\")&&(this.near=t-1e-9),this.mode=\"manual\"}castFar(t){return Math.max(1e-8,t)}autoUpdate(t,r){\"auto\"===this.mode&&(this._get(\"near\")!==t&&this._set(\"near\",t),this._get(\"far\")!==r&&this._set(\"far\",r))}};t([e({type:Number,value:1e-8})],o.prototype,\"near\",null),t([s(\"near\")],o.prototype,\"castNear\",null),t([e({type:Number,value:1e-8})],o.prototype,\"far\",null),t([s(\"far\")],o.prototype,\"castFar\",null),t([e({type:[\"auto\",\"manual\"]})],o.prototype,\"mode\",void 0),o=t([a(\"esri.views.3d.constraints.ClipDistanceConstraint\")],o);export{o as ClipDistanceConstraint};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import o from\"../../../core/Accessor.js\";import{rad2deg as s,clamp as r}from\"../../../core/mathUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{cast as e}from\"../../../core/accessorSupport/decorators/cast.js\";import{subclass as m}from\"../../../core/accessorSupport/decorators/subclass.js\";import{TiltDefault as i}from\"../state/Constraints.js\";const c={min:s(i.min),max:s(i.max)};let p=class extends o{constructor(){super(...arguments),this.mode=\"auto\"}get max(){return this._get(\"max\")}set max(t){this._set(\"max\",t),this.mode=\"manual\"}castMax(t){return r(t,c.min,c.max)}autoUpdate(t){\"auto\"===this.mode&&this._get(\"max\")!==t&&this._set(\"max\",t)}};t([a({type:[\"auto\",\"manual\"]})],p.prototype,\"mode\",void 0),t([a({type:Number,value:c.max})],p.prototype,\"max\",null),t([e(\"max\")],p.prototype,\"castMax\",null),p=t([m(\"esri.views.3d.constraints.TiltConstraint\")],p);export{p as TiltConstraint};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import o from\"../../../core/Accessor.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import{AltitudeConstraint as e}from\"./AltitudeConstraint.js\";import{ClipDistanceConstraint as i}from\"./ClipDistanceConstraint.js\";import{TiltConstraint as p}from\"./TiltConstraint.js\";let c=class extends o{constructor(){super(...arguments),this.tilt=new p,this.altitude=new e,this.clipDistance=new i}};t([r({type:p})],c.prototype,\"tilt\",void 0),t([r({type:e})],c.prototype,\"altitude\",void 0),t([r({type:i})],c.prototype,\"clipDistance\",void 0),c=t([s(\"esri.views.3d.constraints.Constraints\")],c);export{c as Constraints};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{JSONSupport as t}from\"../core/JSONSupport.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import{reader as o}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as a}from\"../core/accessorSupport/decorators/writer.js\";var d;let i=d=class extends t{constructor(e){super(e),this.type=\"sun\",this.date=null,this.directShadowsEnabled=!1,this.displayUTCOffset=null}readDate(e,t){return null!=t.datetime&&new Date(t.datetime)||null}writeDate(e,t,r){t[r]=e.getTime()}readDirectShadowsEnabled(e,t){return!!t.directShadows}writedirectShadowsEnabled(e,t,r){e&&(t[r]=e)}writeDisplayUTCOffset(e,t){null!=e&&(t.displayUTCOffset=e)}clone(){return new d(this.cloneConstructProperties())}cloneConstructProperties(){const e={directShadowsEnabled:this.directShadowsEnabled,displayUTCOffset:null!=this.displayUTCOffset?this.displayUTCOffset:null};return null!=this.date&&(e.date=new Date(this.date.getTime())),e}};e([r({readOnly:!0,type:[\"sun\"],json:{write:!0}})],i.prototype,\"type\",void 0),e([r({type:Date,json:{type:Number,write:{target:\"datetime\"}}})],i.prototype,\"date\",void 0),e([o(\"date\",[\"datetime\"])],i.prototype,\"readDate\",null),e([a(\"date\")],i.prototype,\"writeDate\",null),e([r({type:Boolean,json:{default:!1,write:{target:\"directShadows\"}}})],i.prototype,\"directShadowsEnabled\",void 0),e([o(\"directShadowsEnabled\",[\"directShadows\"])],i.prototype,\"readDirectShadowsEnabled\",null),e([a(\"directShadowsEnabled\")],i.prototype,\"writedirectShadowsEnabled\",null),e([r({type:Number,json:{write:!0}})],i.prototype,\"displayUTCOffset\",void 0),e([a(\"displayUTCOffset\")],i.prototype,\"writeDisplayUTCOffset\",null),i=d=e([s(\"esri.webscene.SunLighting\")],i);const p=i;export{p as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Evented.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../core/accessorSupport/decorators/subclass.js\";import i from\"../../../webscene/SunLighting.js\";var s;let a=s=class extends(t.EventedMixin(i)){constructor(e){super(e),this.cameraTrackingEnabled=!0,this.ambientOcclusionEnabled=!1,this.waterReflectionEnabled=!1,this.positionTimezoneInfo={hours:0,minutes:0,seconds:0,autoUpdated:!0};const t=(new Date).getFullYear(),o=new Date(\"March 15, \"+t+\" 12:00:00 UTC\");this._set(\"defaultDate\",o),this._set(\"date\",o)}get defaultDate(){return new Date(this._get(\"defaultDate\").getTime())}static fromWebsceneLighting(e){return new s(e.cloneConstructProperties())}set defaultDate(e){const t=this._get(\"date\")===this._get(\"defaultDate\");e=new Date(e.getTime()),this._set(\"defaultDate\",e),t&&this._set(\"date\",e)}set date(e){null!=e&&(this.positionTimezoneInfo.autoUpdated=!1,this._set(\"date\",new Date(e.getTime())))}autoUpdate(e,t){const o=s.calculateTimezoneOffset(this.positionTimezoneInfo);this.positionTimezoneInfo.hours=t.hours,this.positionTimezoneInfo.minutes=t.minutes,this.positionTimezoneInfo.seconds=t.seconds;let n=null;null!=e&&(this.positionTimezoneInfo.autoUpdated=!0,n=this.date&&this.date.getTime(),this._set(\"date\",new Date(e.getTime())));const i=s.calculateTimezoneOffset(this.positionTimezoneInfo);if(o!==i&&(r.target=this,r.timezoneOffset=i,this.emit(\"timezone-will-change\",r)),null!=e)return n!==e.getTime()}clone(){const e=this._get(\"date\")===this._get(\"defaultDate\"),t=new s({...this.cloneConstructProperties(),defaultDate:this.defaultDate,cameraTrackingEnabled:this.cameraTrackingEnabled,ambientOcclusionEnabled:this.ambientOcclusionEnabled,waterReflectionEnabled:this.waterReflectionEnabled});return e&&t._set(\"date\",t._get(\"defaultDate\")),t.positionTimezoneInfo.autoUpdated=this.positionTimezoneInfo.autoUpdated,t.positionTimezoneInfo.hours=this.positionTimezoneInfo.hours,t.positionTimezoneInfo.minutes=this.positionTimezoneInfo.minutes,t.positionTimezoneInfo.seconds=this.positionTimezoneInfo.seconds,t}cloneWithWebsceneLighting(e){const t=this.clone();return null!=e.date&&(t.date=e.date),t.directShadowsEnabled=e.directShadowsEnabled,t.displayUTCOffset=e.displayUTCOffset,t}};e([o({type:Boolean})],a.prototype,\"cameraTrackingEnabled\",void 0),e([o({type:Boolean})],a.prototype,\"ambientOcclusionEnabled\",void 0),e([o({type:Boolean})],a.prototype,\"waterReflectionEnabled\",void 0),e([o({type:Date})],a.prototype,\"defaultDate\",null),e([o({type:Date})],a.prototype,\"date\",null),a=s=e([n(\"esri.views.3d.environment.SunLighting\")],a),function(e){function t({hours:e,minutes:t,seconds:o}){return Math.round(e+t/60+o/3600)}e.calculateTimezoneOffset=t}(a||(a={}));const r={target:null,timezoneOffset:0},l=a;export{l as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import{JSONSupport as e}from\"../core/JSONSupport.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as t}from\"../core/accessorSupport/decorators/subclass.js\";var s;let c=s=class extends e{constructor(r){super(r),this.type=\"virtual\",this.directShadowsEnabled=!1}clone(){return new s(this.cloneConstructProperties())}cloneConstructProperties(){return{directShadowsEnabled:this.directShadowsEnabled}}};r([o({readOnly:!0,type:[\"virtual\"],json:{write:!0}})],c.prototype,\"type\",void 0),r([o({type:Boolean,json:{default:!1,name:\"directShadows\",write:!0}})],c.prototype,\"directShadowsEnabled\",void 0),c=s=r([t(\"esri.webscene.VirtualLighting\")],c);const a=c;export{a as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Evented.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../../webscene/VirtualLighting.js\";var n;let i=n=class extends(t.EventedMixin(s)){constructor(e){super(e),this.ambientOcclusionEnabled=!1,this.waterReflectionEnabled=!1}clone(){return new n({...this.cloneConstructProperties(),ambientOcclusionEnabled:this.ambientOcclusionEnabled,waterReflectionEnabled:this.waterReflectionEnabled})}static fromWebsceneLighting(e){return new n(e.cloneConstructProperties())}cloneWithWebsceneLighting(e){const t=this.clone();return t.directShadowsEnabled=e.directShadowsEnabled,t}};e([o({type:Boolean})],i.prototype,\"ambientOcclusionEnabled\",void 0),e([o({type:Boolean})],i.prototype,\"waterReflectionEnabled\",void 0),i=n=e([r(\"esri.views.3d.environment.VirtualLighting\")],i);const c=i;export{c as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport t from\"./SunLighting.js\";import e from\"./VirtualLighting.js\";const i={key:\"type\",defaultKeyValue:\"sun\",base:null,typeMap:{sun:t,virtual:e}};export{i as lightingTypes};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Accessor.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";var t;let i=t=class extends e{set quality(r){[\"low\",\"high\"].includes(r)&&this._set(\"quality\",r)}clone(){return new t({quality:this.quality})}};r([o({type:[\"low\",\"high\"],value:\"low\"})],i.prototype,\"quality\",null),i=t=r([s(\"esri.views.3d.environment.SceneViewAtmosphere\")],i);export{i as SceneViewAtmosphere};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import{JSONSupport as o}from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{enumeration as s}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";var p;let c=p=class extends o{constructor(r){super(r),this.type=\"sunny\",this.cloudCover=.5}clone(){return new p({cloudCover:this.cloudCover})}};r([s({sunny:\"sunny\"})],c.prototype,\"type\",void 0),r([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],c.prototype,\"cloudCover\",void 0),c=p=r([t(\"esri.views.3d.environment.SunnyWeather\")],c);const n=c;export{n as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{JSONSupport as r}from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{enumeration as s}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";var c;let p=c=class extends r{constructor(o){super(o),this.type=\"cloudy\",this.cloudCover=.5}clone(){return new c({cloudCover:this.cloudCover})}};o([s({cloudy:\"cloudy\"})],p.prototype,\"type\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"cloudCover\",void 0),p=c=o([t(\"esri.views.3d.environment.CloudyWeather\")],p);const u=p;export{u as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import{JSONSupport as o}from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{enumeration as t}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";var p;let c=p=class extends o{constructor(r){super(r),this.type=\"foggy\",this.fogStrength=.5}clone(){return new p({fogStrength:this.fogStrength})}};r([t({foggy:\"foggy\"})],c.prototype,\"type\",void 0),r([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],c.prototype,\"fogStrength\",void 0),c=p=r([s(\"esri.views.3d.environment.FoggyWeather\")],c);const n=c;export{n as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import{JSONSupport as o}from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{enumeration as t}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";var i;let p=i=class extends o{constructor(r){super(r),this.type=\"rainy\",this.cloudCover=.5,this.precipitation=.5}clone(){return new i({cloudCover:this.cloudCover,precipitation:this.precipitation})}};r([t({rainy:\"rainy\"})],p.prototype,\"type\",void 0),r([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"cloudCover\",void 0),r([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"precipitation\",void 0),p=i=r([s(\"esri.views.3d.environment.RainyWeather\")],p);const c=p;export{c as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{JSONSupport as r}from\"../../../core/JSONSupport.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{enumeration as t}from\"../../../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";var i;let p=i=class extends r{constructor(o){super(o),this.type=\"snowy\",this.cloudCover=.5,this.precipitation=.5,this.snowCover=\"disabled\"}clone(){return new i({cloudCover:this.cloudCover,precipitation:this.precipitation,snowCover:this.snowCover})}};o([t({snowy:\"snowy\"})],p.prototype,\"type\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"cloudCover\",void 0),o([e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,\"precipitation\",void 0),o([e({type:[\"enabled\",\"disabled\"],nonNullable:!0,json:{write:!0}})],p.prototype,\"snowCover\",void 0),p=i=o([s(\"esri.views.3d.environment.SnowyWeather\")],p);const n=p;export{n as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"./CloudyWeather.js\";import o from\"./FoggyWeather.js\";import r from\"./RainyWeather.js\";import t from\"./SnowyWeather.js\";import n from\"./SunnyWeather.js\";const i={key:\"type\",base:n,typeMap:{sunny:n,cloudy:e,rainy:r,snowy:t,foggy:o}},c=Object.keys(i.typeMap);function y(e,o){return!!c.includes(e)||(o.error(`\"${e}\" is not a valid weather type`),!1)}const a=1e4;function p(e,o){if(e.type!==o.type)return!1;switch(e.type){case\"sunny\":case\"cloudy\":return e.cloudCover===o.cloudCover;case\"rainy\":return e.cloudCover===o.cloudCover&&e.precipitation===o.precipitation;case\"snowy\":return e.cloudCover===o.cloudCover&&e.precipitation===o.precipitation&&e.snowCover===o.snowCover;case\"foggy\":return e.fogStrength===o.fogStrength}}export{y as validateWeatherType,p as weatherEquals,a as weatherHeightLimit,i as weatherTypes,c as weatherTypesArray};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport t from\"./SunLighting.js\";import e from\"./VirtualLighting.js\";const i={key:\"type\",defaultKeyValue:\"sun\",base:null,typeMap:{sun:t,virtual:e}};export{i as lightingTypes};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{JSONSupport as o}from\"../../core/JSONSupport.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";let t=class extends o{constructor(r){super(r)}clone(){}};r([s({readOnly:!0,json:{read:!1}})],t.prototype,\"type\",void 0),t=r([e(\"esri.webscene.background.Background\")],t);const c=t;export{c as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import r from\"../../Color.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{enumeration as e}from\"../../core/accessorSupport/decorators/enumeration.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import{colorAndTransparencyProperty as c}from\"../../symbols/support/materialUtils.js\";import p from\"./Background.js\";var l;const a={...c,nonNullable:!0};let i=l=class extends p{constructor(o){super(o),this.type=\"color\",this.color=new r([0,0,0,1])}clone(){return new l(this.cloneProperties())}cloneProperties(){return{color:this.color.clone()}}};o([e({color:\"color\"},{readOnly:!0})],i.prototype,\"type\",void 0),o([s(a)],i.prototype,\"color\",void 0),i=l=o([t(\"esri.webscene.background.ColorBackground\")],i);const n=i;export{n as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"./Background.js\";import r from\"./ColorBackground.js\";const o={base:e,key:\"type\",typeMap:{color:r}};function t(e){return(r,o,t)=>{if(!r)return r;for(const n in e.typeMap)if(r.type===n){const o=new e.typeMap[n];return o.read(r,t),o}}}const n={types:o,json:{read:t(o),write:{overridePolicy:(e,r,o)=>({enabled:!o||!o.isPresentation})}}};export{n as backgroundProperty};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{JSONSupport as t}from\"../core/JSONSupport.js\";import{clone as o}from\"../core/lang.js\";import r from\"../core/Logger.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../core/accessorSupport/decorators/subclass.js\";import i from\"../views/3d/environment/SunnyWeather.js\";import{weatherTypes as l,validateWeatherType as a}from\"../views/3d/environment/weather.js\";import{lightingTypes as p}from\"./lightingTypes.js\";import c from\"./SunLighting.js\";import h from\"./VirtualLighting.js\";import{backgroundProperty as m}from\"./background/utils.js\";var g;const u=r.getLogger(\"esri.webscene.Environment\"),d=(e,t,o)=>({enabled:!o||!o.isPresentation});let b=g=class extends t{constructor(e){super(e),this.lighting=new c,this.background=null,this.atmosphereEnabled=!0,this.starsEnabled=!0}set weather(e){a(e?.type,u)&&this._set(\"weather\",e)}clone(){return new g(this.cloneConstructProperties())}cloneConstructProperties(){return{lighting:this.lighting&&\"virtual\"===this.lighting.type?h.prototype.clone.call(this.lighting):c.prototype.clone.call(this.lighting),background:o(this.background),atmosphereEnabled:this.atmosphereEnabled,starsEnabled:this.starsEnabled,weather:this.weather.clone()}}};e([s({types:p,nonNullable:!0,json:{write:!0}})],b.prototype,\"lighting\",void 0),e([s(m)],b.prototype,\"background\",void 0),e([s({type:Boolean,nonNullable:!0,json:{write:{overridePolicy:d}}})],b.prototype,\"atmosphereEnabled\",void 0),e([s({type:Boolean,nonNullable:!0,json:{write:{overridePolicy:d}}})],b.prototype,\"starsEnabled\",void 0),e([s({types:l,nonNullable:!0,json:{write:!0},value:new i})],b.prototype,\"weather\",null),b=g=e([n(\"esri.webscene.Environment\")],b);const y=b;export{y as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import{clone as i}from\"../../../core/lang.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import{cast as n}from\"../../../core/accessorSupport/decorators/cast.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import{ensureOneOfType as s}from\"../../../core/accessorSupport/ensureType.js\";import{lightingTypes as o}from\"./lightingUtils.js\";import{SceneViewAtmosphere as g}from\"./SceneViewAtmosphere.js\";import h from\"./SunLighting.js\";import l from\"./VirtualLighting.js\";import c from\"../../../webscene/Environment.js\";import a from\"../../../webscene/SunLighting.js\";import p from\"../../../webscene/VirtualLighting.js\";var m;let u=m=class extends c{constructor(t){super(t),this.atmosphere=new g,this.lighting=new h}static fromWebsceneEnvironment(t){const i=t.cloneConstructProperties();return new m({...i,lighting:\"virtual\"===i.lighting.type?l.fromWebsceneLighting(i.lighting):h.fromWebsceneLighting(i.lighting)})}castLighting(t){return this._convertLighting(t)}applyLighting(t){this.lighting=this._convertLighting(t)}_convertLighting(t){return t?t instanceof h||t instanceof l?t:t instanceof a?this.lighting&&\"sun\"===this.lighting.type?this.lighting.cloneWithWebsceneLighting(t):new h(t.cloneConstructProperties()):t instanceof p?this.lighting&&\"virtual\"===this.lighting.type?this.lighting.cloneWithWebsceneLighting(t):new l(t.cloneConstructProperties()):s(o,t):new h}clone(){return new m({lighting:this.lighting.clone(),atmosphere:this.atmosphere.clone(),weather:this.weather.clone(),atmosphereEnabled:this.atmosphereEnabled,starsEnabled:this.starsEnabled,background:i(this.background)})}cloneWithWebsceneEnvironment(t){return new m({atmosphere:this.atmosphere.clone(),weather:this.weather.clone(),atmosphereEnabled:this.atmosphereEnabled,starsEnabled:this.starsEnabled,background:i(this.background),...t.cloneConstructProperties(),lighting:this._getLighting(t)})}_getLighting(t){return\"sun\"===t.lighting.type?this.lighting&&\"sun\"===this.lighting.type?this.lighting.cloneWithWebsceneLighting(t.lighting):h.fromWebsceneLighting(t.lighting):\"virtual\"===t.lighting.type?this.lighting&&\"virtual\"===this.lighting.type?this.lighting.cloneWithWebsceneLighting(t.lighting):l.fromWebsceneLighting(t.lighting):h.fromWebsceneLighting(t.lighting)}};t([e({type:g,json:{read:!1},nonNullable:!0})],u.prototype,\"atmosphere\",void 0),t([e({nonNullable:!0})],u.prototype,\"lighting\",void 0),t([n(\"lighting\")],u.prototype,\"castLighting\",null),u=m=t([r(\"esri.views.3d.environment.SceneViewEnvironment\")],u);const b=u;export{b as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{f as e}from\"../../../chunks/vec3f64.js\";function t(e){const t=1e5,n=1e6;return Math.min(1,Math.max(0,(e-t)/(n-t)))}const n=1e4,o=e(5802e-9,13558e-9,331e-7),c=3,r=e(65e-8*c,1881e-9*c,85e-9*c),s=3996e-9,a=.085,f=1e5;export{f as atmosphereHeight,s as betaMie,r as betaOzone,o as betaRayleigh,t as computeInnerAltitudeFade,n as innerAtmosphereDepth,a as rayLeighScaleHeight};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{C as e}from\"../../../chunks/ChapmanAtmosphere.glsl.js\";import{ReloadableShaderModule as r}from\"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as i}from\"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";import{Default3D as n}from\"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{Program as o}from\"../webgl-engine/lib/Program.js\";import{BlendFactor as t,CompareFunction as s}from\"../../webgl/enums.js\";import{makePipelineState as l,separateBlendingParams as a,defaultColorWriteParams as m}from\"../../webgl/renderState.js\";class g extends i{initializeProgram(e){const r=g.shader.get().build(this.configuration);return new o(e.rctx,r,n)}initializePipeline(){return this.configuration.haze?l({blending:a(t.ONE,t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ONE),colorWrite:m}):l({blending:a(t.SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),depthTest:{func:s.LEQUAL},colorWrite:m})}}g.shader=new r(e,(()=>import(\"./ChapmanAtmosphere.glsl.js\")));export{g as ChapmanAtmosphereTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{parameter as o,ShaderTechniqueConfiguration as r}from\"../webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js\";class s extends r{constructor(){super(...arguments),this.haze=!1}}e([o()],s.prototype,\"haze\",void 0);export{s as ChapmanAtmosphereTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Handles.js\";import{lerp as t,smoothstep as i}from\"../../../core/mathUtils.js\";import{releaseMaybe as s,disposeMaybe as a,destroyMaybe as r,isSome as h,isNone as o,unwrapOr as n}from\"../../../core/maybe.js\";import{on as d}from\"../../../core/reactiveUtils.js\";import{a as m}from\"../../../chunks/vec2.js\";import{a as _}from\"../../../chunks/vec2f64.js\";import{s as u,l as c,c as l}from\"../../../chunks/vec3.js\";import{c as p}from\"../../../chunks/vec3f64.js\";import{c as f,f as g}from\"../../../chunks/vec4f64.js\";import{earth as v}from\"../../../geometry/support/Ellipsoid.js\";import{rayLeighScaleHeight as b,atmosphereHeight as T,betaRayleigh as R,betaOzone as H,betaMie as w,innerAtmosphereDepth as j,computeInnerAltitudeFade as q}from\"./atmosphereUtils.js\";import{ChapmanAtmosphereTechnique as x}from\"./ChapmanAtmosphereTechnique.js\";import{ChapmanAtmosphereTechniqueConfiguration as E}from\"./ChapmanAtmosphereTechniqueConfiguration.js\";import{NoParameters as z}from\"../webgl-engine/core/shaderModules/interfaces.js\";import{Pos2Tex as B}from\"../webgl-engine/lib/DefaultVertexBufferLayouts.js\";import{createQuadVAO as y}from\"../webgl-engine/lib/glUtil3D.js\";import{PrimitiveType as U}from\"../../webgl/enums.js\";class C{constructor(e){this._view=e,this.type=\"realistic\",this.canRender=!0,this._cameraPosition=p(),this._heightParameters=f(),this._betasRayleigh=p(),this._betasCombined=p(),this._scaleHeight=0,this._radii=_(),this._cameraHeight=0,this._cameraHeightSq=0,this._cAtmosphere=0,this._innerFadeDistance=0,this._altitudeFade=0,this._lowerElevationBoundRadius=0,this._lowerBoundEarthRadius=v.radius,this._hazeStrength=1,this._darkenHaze=!1,this._updateRadius(v.radius)}destroy(){this._atmosphereTechnique=s(this._atmosphereTechnique),this._atmosphereHazeTechnique=s(this._atmosphereHazeTechnique),this._vao=a(this._vao),this._handles=r(this._handles)}when(){return Promise.resolve()}initializeRenderContext(t){const i=t.renderContext.rctx,s=this._handles=new e,a=this._view.basemapTerrain;h(a.rootTiles)&&this._updateElevation({spatialReference:a.spatialReference,tile:a.rootTiles[0],extent:a.rootTiles[0].extent,context:\"ground\"}),s.add(d((()=>this._view.basemapTerrain),\"elevation-change\",(e=>this._updateElevation(e)),{onListenerAdd:()=>this._updateElevation()})),s.add(d((()=>this._view.basemapTerrain),\"elevation-bounds-change\",(()=>this._updateVisibleElevationBounds())));const r=new E;r.haze=!1,this._atmosphereTechnique=t.shaderTechniqueRepository.acquire(x,r),r.haze=!0,this._atmosphereHazeTechnique=t.shaderTechniqueRepository.acquire(x,r),this._vao=y(i,B),this._scaleHeight=b*T,u(this._betasRayleigh,R[0],R[1],R[2]),u(this._betasCombined,R[0]+H[0],R[1]+H[1],R[2]+H[2])}render(e){this._render(e,this._atmosphereTechnique,e.offscreenRenderingHelper.depthTexture)}renderHaze(e,t){this._darkenHaze=t,this._render(e,this._atmosphereHazeTechnique,e.offscreenRenderingHelper.linearDepthTexture)}_render(e,t,i){this._update(e.bindParameters.camera);const s=e.rctx.bindTechnique(t,P,e.bindParameters);e.offscreenRenderingHelper.renderDepthDetached((()=>{s.bindTexture(\"depthTex\",i),this._renderCommon(t.program,e)}))}_renderCommon(e,t){if(o(this._vao))return;const i=t.rctx;e.setUniform4fv(\"heightParameters\",this._heightParameters),e.setUniform3fv(\"cameraPosition\",this._cameraPosition),e.setUniform2fv(\"radii\",this._radii),e.setUniform1f(\"scaleHeight\",this._scaleHeight),e.setUniform1f(\"betaMie\",w),e.setUniform3fv(\"betaRayleigh\",this._betasRayleigh),e.setUniform3fv(\"betaCombined\",this._betasCombined),e.setUniform1f(\"innerFadeDistance\",this._innerFadeDistance),e.setUniform1f(\"altitudeFade\",this._altitudeFade),e.setUniform1f(\"hazeStrength\",this._hazeStrength),i.bindVAO(this._vao),e.assertCompatibleVertexAttributeLocations(this._vao),i.drawArrays(U.TRIANGLE_STRIP,0,4)}_adjustRadiusForTesselation(e){return e*Math.cos(Math.PI/16/16)}_updateElevation(e){const t=e?e.tile:n(this._view.basemapTerrain.rootTiles,[null])[0];if(o(t)||0!==t.level)return;const i=this._adjustRadiusForTesselation(v.radius+t.elevationBounds[0]);i!==this._lowerElevationBoundRadius&&(this._lowerElevationBoundRadius=i,this._lowerBoundEarthRadius=-1,this._updateVisibleElevationBounds())}_updateVisibleElevationBounds(){const e=this._adjustRadiusForTesselation(v.radius+this._view.basemapTerrain.elevationBounds.min);(this._lowerBoundEarthRadius<0||e<this._lowerBoundEarthRadius)&&this._updateRadius(e)}_updateRadius(e){this._lowerBoundEarthRadius=e,m(this._radii,e,e+T),this._innerFadeDistance=2*Math.sqrt((2*e-j)*j)}_update(e){if(o(e))return;this._cameraHeight=c(e.eye),this._cameraHeightSq=this._cameraHeight*this._cameraHeight,this._cAtmosphere=this._cameraHeightSq-this._radii[1]*this._radii[1];const s=Math.min(1,Math.max(0,(this._cameraHeight-this._radii[0])/T));this._heightParameters=g(this._cameraHeight,this._cameraHeightSq,this._cAtmosphere,s),l(this._cameraPosition,e.eye),this._altitudeFade=q(this._cameraHeight-this._lowerBoundEarthRadius),this._hazeStrength=this._darkenHaze?t(.6,1,i(9500,10500,this._cameraHeight-v.radius)):1}static isSupported(e){return e.renderContext.rctx.capabilities.depthTexture}}const P=new z;export{C as ChapmanAtmosphere};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{s as n,m as t,g as r}from\"../../chunks/quat.js\";import{a as u}from\"../../chunks/quatf64.js\";import{c as o,f as c,n as s}from\"../../chunks/vec3.js\";import{angle as e}from\"./vector.js\";import{sv4d as f}from\"./vectorStacks.js\";function i(n=x){return[n[0],n[1],n[2],n[3]]}function a(n,t,r,u){return j(n,t,r,u,f.get())}function m(n,t){return j(n[0],n[1],n[2],t,f.get())}function p(n,t=i()){return j(n[0],n[1],n[2],n[3],t)}function j(n,t,r,u,o=i()){return o[0]=n,o[1]=t,o[2]=r,o[3]=u,o}function g(n,t,r=i()){return o(r,n),r[3]=t,r}function k(n,t,r=i()){return c(r,n,t),s(r,r),r[3]=e(n,t),r}function h(u,o,c=i()){return n(S,v(u),q(u)),n(b,v(o),q(o)),t(S,b,S),l(c,r(v(c),S))}function v(n){return n}function q(n){return n[3]}function l(n,t){return n[3]=t,n}const x=[0,0,1,0],S=u(),b=u();export{x as UP,q as angle,v as axis,h as compose,p as copy,i as create,g as fromAxisAndAngle,k as fromPoints,j as fromValues,l as setAngle,a as wrap,m as wrapAxisAngle};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{C as e}from\"../../../chunks/CloudsComposition.glsl.js\";import{ReloadableShaderModule as r}from\"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as o}from\"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";import{Default3D as i}from\"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{Program as t}from\"../webgl-engine/lib/Program.js\";import{BlendFactor as n,CompareFunction as s}from\"../../webgl/enums.js\";import{makePipelineState as l,simpleBlendingParams as m,defaultColorWriteParams as a}from\"../../webgl/renderState.js\";class u extends o{constructor(e){super(e,null,(()=>this.destroy()))}initializeProgram(e){const r=u.shader.get().build();return new t(e.rctx,r,i)}initializePipeline(){return l({blending:m(n.ONE,n.SRC_ALPHA),depthTest:{func:s.LEQUAL},colorWrite:a})}}u.shader=new r(e,(()=>import(\"./CloudsComposition.glsl.js\")));export{u as CloudsCompositionTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as r}from\"../../../core/maybe.js\";function n(n){return r(n)&&r(n.cubeMap)&&n.coverage>0}function e(n){return r(n)&&!n.running}export{e as ensureClouds,n as isReadyCloudsData};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import a from\"../../../core/Accessor.js\";import{clamp as e}from\"../../../core/mathUtils.js\";import{releaseMaybe as s,disposeMaybe as o,isNone as r}from\"../../../core/maybe.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import{e as i}from\"../../../chunks/mat4.js\";import{c as d}from\"../../../chunks/mat4f64.js\";import{c as f,z as u,l as m,n as l,g as h,b as I}from\"../../../chunks/vec3.js\";import{f as p,c as g}from\"../../../chunks/vec3f64.js\";import{create as F,fromPoints as H,axis as _}from\"../../../geometry/support/axisAngle.js\";import{FadeInOutStages as C,FadeInStages as O,FadeHeightStages as E}from\"./CloudsCompositionParameters.js\";import{CloudsCompositionTechnique as N}from\"./CloudsCompositionTechnique.js\";import{ensureClouds as b}from\"./CloudsData.js\";import{weatherHeightLimit as D}from\"./weather.js\";import{NoParameters as T}from\"../webgl-engine/core/shaderModules/interfaces.js\";import{createQuadVAO as P}from\"../webgl-engine/lib/glUtil3D.js\";import{PrimitiveType as S}from\"../../webgl/enums.js\";let j=class extends a{constructor(t){super(t),this._technique=new N(t),this._vao=P(t.rctx)}destroy(){this._technique=s(this._technique),this._vao=o(this._vao)}render(t,a){const e=t.bindParameters.clouds;if(r(this._vao)||r(e.data))return;if(!this._technique.compiled)return void this.requestRender();this._setParallaxParameters(e,t.bindParameters.camera.eye,a);const s=t.rctx.bindTechnique(this._technique,L,t.bindParameters);t.rctx.bindVAO(this._vao),s.assertCompatibleVertexAttributeLocations(this._vao),t.rctx.drawArrays(S.TRIANGLE_STRIP,0,4),k(e)&&this.requestRender()}_setFadeInStage(t,a){const e=performance.now(),s=t.parallax.anchorPointClouds;t.fadeIn.stage===O.FINISHED&&(t.fadeIn.factor=1,f(s,v),t.fadeIn.stage=O.CHANGE_ANCHOR,t.crossFade.enabled=!1,t.fadeInOut.stage=C.FINISHED);const o=G(t,a);t.fadeIn.stage===O.CHANGE_ANCHOR&&o&&b(t.data)&&(f(s,v),t.fadeIn.stage=O.FADE_IN,t.startTime=e),t.fadeIn.factor>0&&t.fadeIn.stage===O.FADE_IN&&(t.fadeIn.factor=1-(e-t.startTime)/y),t.fadeIn.factor<=0&&t.fadeIn.stage===O.FADE_IN&&(t.fadeIn.stage=O.FINISHED,t.fadeIn.factor=0)}_setCrossFadingStage(t){const a=performance.now(),{crossFade:e}=t,s=t.parallax.anchorPointClouds;t.crossFade.enabled||(f(t.parallaxNew.anchorPointClouds,v),t.startTime=a,e.factor=0,t.crossFade.enabled=!0),e.factor<1&&t.crossFade.enabled&&(e.factor=(a-t.startTime)/q),e.factor>=1&&t.crossFade.enabled&&(t.crossFade.enabled=!1,e.factor=1,f(s,t.parallaxNew.anchorPointClouds))}_setFadeInOutStage(t,a){const e=performance.now(),{fadeInOut:s,crossFade:o}=t;s.stage===C.FINISHED&&(t.startTime=e,s.factor=0,s.stage=C.FADE_OUT),s.factor<1&&s.stage===C.FADE_OUT&&(s.factor=(e-t.startTime)/R),s.factor>=1&&s.stage===C.FADE_OUT&&(s.factor=1,f(t.parallax.anchorPointClouds,v)),s.factor>=1&&s.stage===C.FADE_OUT&&G(t,a)&&(s.factor=1,s.stage=C.SWITCH,t.crossFade.enabled=!1,o.factor=1),b(t.data)&&s.stage===C.SWITCH&&(t.startTime=e,s.factor=1,s.stage=C.FADE_IN,f(t.parallax.anchorPointClouds,v),t.crossFade.enabled=!1,o.factor=1),s.factor>0&&s.stage===C.FADE_IN&&(s.factor=1-(e-t.startTime)/y),s.factor<=0&&s.stage===C.FADE_IN&&(s.stage=C.FINISHED,s.factor=0)}_setFadeInOutHeight(t,a){const s=performance.now(),o=t.fadeInOutHeight,r=(s-(o.stage===E.FINISHED?s:t.startTimeHeightFade))/U;o.factor+=a?-r:r,t.startTimeHeightFade=s,o.factor=e(o.factor,0,1),o.stage=E.HEIGHT_FADE}_setParallaxParameters(t,a,e){const{parallax:s}=t;t.fadeInOutHeight.factor<0&&(t.fadeInOutHeight.factor=m(a)-this.planetRadius>D?1:0),l(v,a),h(v,v,this.planetRadius),0===s.anchorPointClouds[0]&&0===s.anchorPointClouds[1]&&0===s.anchorPointClouds[2]&&f(s.anchorPointClouds,v);const o=m(I(w,s.anchorPointClouds,v));let r=!0;o>t.fadeIn.distanceThresholdFactor*s.cloudsHeight||t.fadeIn.stage!==O.FINISHED?this._setFadeInStage(t,a):o>t.fadeInOut.distanceThresholdFactor*s.cloudsHeight||t.fadeInOut.stage!==C.FINISHED?this._setFadeInOutStage(t,a):o>t.crossFade.distanceThresholdFactor*s.cloudsHeight&&!e||t.crossFade.enabled?this._setCrossFadingStage(t):r=!1;const n=m(a),c=n-this.planetRadius;if((c>1.7*D||c<-D)&&t.fadeInOutHeight.factor<1?t.fadeInOutHeight.factor=1:(c>D||c<-.35*D)&&t.fadeInOutHeight.factor<1?this._setFadeInOutHeight(t,!1):c<D&&c>-.35*D&&t.fadeInOutHeight.factor>0?this._setFadeInOutHeight(t,!0):t.fadeInOutHeight.stage=E.FINISHED,s.radiusCurvatureCorrectionFactor=.84*Math.sqrt(Math.max(n*n-this.planetRadius*this.planetRadius,0))/n,H(A,s.anchorPointClouds,x),s.transform=d(),i(s.transform,s.transform,x[3],_(x)),r){const{parallaxNew:a}=t;H(A,a.anchorPointClouds,x),a.transform=d(),i(a.transform,a.transform,x[3],_(x))}f(t.cameraPositionLastFrame,a)}};t([n({constructOnly:!0})],j.prototype,\"rctx\",void 0),t([n({constructOnly:!0})],j.prototype,\"viewingMode\",void 0),t([n({constructOnly:!0})],j.prototype,\"planetRadius\",void 0),t([n({constructOnly:!0})],j.prototype,\"requestRender\",void 0),j=t([c(\"esri.views.3d.environment.CloudsComposition\")],j);const A=p(0,0,1),x=F(),v=g(),w=g(),y=500,R=250,q=500,U=500;function k(t){return t.crossFade.enabled||t.fadeInOut.stage!==C.FINISHED||t.fadeIn.stage!==O.FINISHED||t.fadeInOutHeight.stage!==E.FINISHED}function G(t,a){return u(t.cameraPositionLastFrame,a)}const L=new T;export{j as CloudsComposition};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{RayMarchingSteps as i}from\"./CloudsTechniqueConfiguration.js\";class s{constructor(i,s,t,e,n,o,h,r,c=.5){this.coverage=i,this.density=s,this.absorption=t,this.cloudSize=e,this.detailSize=n,this.smoothness=o,this.cloudHeight=h,this.raymarchingStepType=r,this.median=c}}const t={sunny:new s([0,.6],[.03,.03],[0,0],[.9,.9],[.8,.8],[.7,.7],[.05,.05],i.SIXTEEN),cloudy:new s([.3,.65],[.2,.4],[0,0],[.85,.85],[.75,.75],[.3,.4],[1,1],i.TWOHUNDRED,.6),rainy:new s([.6,.8],[.5,.8],[.1,.5],[.9,.9],[.75,.75],[.5,.5],[1,1],i.TWOHUNDRED,.4),snowy:new s([.25,.75],[.3,.3],[0,0],[.95,.95],[.7,.7],[.69,.75],[.3,1],i.HUNDRED,.65),foggy:new s([.8,.8],[.5,.5],[0,0],[.95,.95],[.9,.9],[.55,.55],[.3,.3],i.SIXTEEN)};export{s as CloudPresets,t as cloudPresets};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{a as e}from\"../../../chunks/Clouds.glsl.js\";import{ReloadableShaderModule as r}from\"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as i}from\"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";import{Default3D as o}from\"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{Program as t}from\"../webgl-engine/lib/Program.js\";import{BlendFactor as n,CompareFunction as s}from\"../../webgl/enums.js\";import{makePipelineState as l,separateBlendingParams as a,defaultColorWriteParams as m}from\"../../webgl/renderState.js\";class g extends i{constructor(e,r){super(e,r,(()=>this.destroy()))}initializeProgram(e){const r=g.shader.get().build(this.configuration);return new t(e.rctx,r,o)}initializePipeline(){return l({blending:a(n.ONE,n.ONE,n.ZERO,n.ZERO),depthTest:{func:s.LEQUAL},colorWrite:m})}}g.shader=new r(e,(()=>import(\"./Clouds.glsl.js\")));export{g as CloudsTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{N as e}from\"../../../chunks/NoiseTextureAtlas.glsl.js\";import{NoiseTextureRenderMode as r}from\"./NoiseTextureAtlasConfiguration.js\";import{ReloadableShaderModule as i}from\"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";import{Default3D as o}from\"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{Program as n}from\"../webgl-engine/lib/Program.js\";import{BlendFactor as s,CompareFunction as l}from\"../../webgl/enums.js\";import{makePipelineState as a,simpleBlendingParams as m,separateBlendingParams as g,defaultColorWriteParams as u}from\"../../webgl/renderState.js\";class c extends t{initializeProgram(e){const r=c.shader.get().build(this.configuration);return new n(e.rctx,r,o)}initializePipeline(){return a({blending:this.configuration.mode===r.Full?m(s.ONE,s.ZERO):g(s.ZERO,s.ONE,s.ONE,s.ZERO),depthTest:{func:l.ALWAYS},colorWrite:u})}}c.shader=new i(e,(()=>import(\"./NoiseTextureAtlas.glsl.js\")));export{c as NoiseTextureAtlasTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{isSome as r,releaseMaybe as i,disposeMaybe as s,isNone as h}from\"../../../core/maybe.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import{f as n}from\"../../../chunks/vec2f32.js\";import{NoiseTextureRenderMode as a,NoiseTextureAtlasTechniqueConfiguration as u}from\"./NoiseTextureAtlasConfiguration.js\";import{ATLAS_SIZE as c}from\"./NoiseTextureAtlasDimensions.js\";import{NoiseTextureAtlasTechnique as l}from\"./NoiseTextureAtlasTechnique.js\";import{createQuadVAO as f}from\"../webgl-engine/lib/glUtil3D.js\";import{TargetType as p,TextureType as _,PixelFormat as T,PixelType as d,TextureWrapMode as m,TextureSamplingMode as w}from\"../../webgl/enums.js\";import{FramebufferObject as q}from\"../../webgl/FramebufferObject.js\";class x extends t{constructor(e){let t;super(e),this._weatherTile=n(0,0),this._needsRender=!0,this._frameBuffer=new q(e.context.renderContext.rctx,{colorTarget:p.TEXTURE,width:c,height:c},{target:_.TEXTURE_2D,pixelFormat:T.RGBA,dataType:d.UNSIGNED_BYTE,wrapMode:m.CLAMP_TO_EDGE,samplingMode:w.LINEAR,hasMipmap:!1,width:c,height:c}),this._vao=f(e.context.renderContext.rctx),this._shaderTechniqueRepository=e.context.shaderTechniqueRepository,this._ensureRendered=()=>(r(t)?r(this.weatherMapTechnique)&&this.weatherMapTechnique.compiled&&this._needsRender&&(t=this._render(e.context.renderContext.rctx,a.WeatherMap)):r(this.fullTechnique)&&this.fullTechnique.compiled&&(t=this._render(e.context.renderContext.rctx,a.Full)),t)}get textureAtlas(){return this._ensureRendered()}_setDirty(){this._needsRender=!0}updateWeatherMap(e){this._weatherTile[0]===e[0]&&this._weatherTile[1]===e[1]||(this._weatherTile=e,this._setDirty())}destroy(){this._fullTechnique=i(this._fullTechnique),this._weatherMapTechnique=i(this._weatherMapTechnique),this._frameBuffer=s(this._frameBuffer),this._vao=s(this._vao)}get fullTechnique(){if(h(this._fullTechnique)){const e=new u;e.mode=a.Full,this._fullTechnique=this._shaderTechniqueRepository.acquire(l,e)}return this._fullTechnique}get weatherMapTechnique(){if(h(this._weatherMapTechnique)){const e=new u;e.mode=a.WeatherMap,this._weatherMapTechnique=this._shaderTechniqueRepository.acquire(l,e)}return this._weatherMapTechnique}_render(e,t){if(h(this._vao)||h(this._frameBuffer))return null;const r=t===a.Full?this.fullTechnique:this.weatherMapTechnique;if(h(r))return null;const i=e.getViewport();e.setViewport(0,0,c,c),e.bindFramebuffer(this._frameBuffer);const s=e.bindTechnique(r);return s.setUniform2f(\"weatherTile\",this._weatherTile[0],this._weatherTile[1]),e.bindVAO(this._vao),s.assertCompatibleVertexAttributeLocations(this._vao),e.gl.drawArrays(e.gl.TRIANGLE_STRIP,0,4),e.setViewport(i.x,i.y,i.width,i.height),this._needsRender=!1,this._frameBuffer.colorTexture}}e([o({constructOnly:!0})],x.prototype,\"context\",void 0);export{x as NoiseTextureAtlas};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import i from\"../../../core/Handles.js\";import s from\"../../../core/has.js\";import{lerp as r}from\"../../../core/mathUtils.js\";import{isSome as o,releaseMaybe as n,disposeMaybe as a,destroyMaybe as h,isNone as u}from\"../../../core/maybe.js\";import{watch as c,initial as m}from\"../../../core/reactiveUtils.js\";import{property as d}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{f as p}from\"../../../chunks/mat3.js\";import{y as f}from\"../../../chunks/mat4.js\";import{c as _}from\"../../../chunks/mat4f64.js\";import{f as g}from\"../../../chunks/vec2f32.js\";import{z as T,c as v}from\"../../../chunks/vec3.js\";import{f as y,z as w}from\"../../../chunks/vec3f32.js\";import{c as b}from\"../../../chunks/vec3f64.js\";import{getReferenceEllipsoid as x}from\"../../../geometry/projectionEllipsoid.js\";import{C}from\"../../../chunks/Clouds.glsl.js\";import{FadeInOutStages as S,FadeHeightStages as j}from\"./CloudsCompositionParameters.js\";import{cloudPresets as M}from\"./CloudsPresets.js\";import{CloudsTechnique as z}from\"./CloudsTechnique.js\";import{CloudsTechniqueConfiguration as U}from\"./CloudsTechniqueConfiguration.js\";import{NoiseTextureAtlas as P}from\"./NoiseTextureAtlas.js\";import{BindParameters as E}from\"../webgl-engine/lib/BindParameters.js\";import{createQuadVAO as q}from\"../webgl-engine/lib/glUtil3D.js\";import{TaskPriority as k}from\"../../support/Scheduler.js\";import{TextureType as A,PixelFormat as B,PixelType as R,TextureWrapMode as H,TextureSamplingMode as D,TargetType as O}from\"../../webgl/enums.js\";import{FramebufferObject as F}from\"../../webgl/FramebufferObject.js\";let I=class extends t{constructor(e){super(e),this._frameTask=null,this._handles=new i,this._cubeMapSize=s(\"esri-mobile\")?1024:2048,this._techniques=[],this._techniqueConfiguration=new U,this._bindParameters=new E(null,null,null),this._drawParameters=new C,this._weatherTile=g(0,0),this._weatherTileCount=128,this.coverage=r(G.coverage[0],G.coverage[1],.5),this.density=r(G.density[0],G.density[1],.5),this.absorption=r(G.absorption[0],G.absorption[1],.5),this.cloudSize=r(G.cloudSize[0],G.cloudSize[1],.5),this.detailSize=r(G.detailSize[0],G.detailSize[1],.5),this.smoothness=r(G.smoothness[0],G.smoothness[1],.5),this.cloudHeight=r(G.cloudHeight[0],G.cloudHeight[1],.5),this.raymarchingStepType=G.raymarchingStepType,this._cloudRadius=0,this._viewMatrix=_(),this._cameraPositionLastFrame=b(),this.running=!1}_getTechnique(e){const t=this._techniques[e];return t||(this._techniqueConfiguration.steps=e,this._techniques[e]=new z({rctx:this.context.renderContext.rctx,viewingMode:this.view.state.viewingMode},this._techniqueConfiguration),this._techniques[e])}_getWeatherTile(){const e=this.view.camera.position.latitude,t=this.view.camera.position.longitude;let i=g((e+90)/180,(t+180)/360);const s=Math.floor(this._weatherTileCount*Math.abs(2*i[0]-1));i=g(Math.floor(2*this._weatherTileCount*i[0]),Math.floor(4*(this._weatherTileCount-s)*i[1]));let r=0,n=0;if(o(this.view.environment)&&\"sun\"===this.view.environment.lighting.type&&o(this.view.environment.lighting.date)){const e=new Date(this.view.environment.lighting.date);e.setUTCHours(this.view.environment.lighting.date.getUTCHours()+this.view.environment.lighting.displayUTCOffset),r=31*e.getUTCMonth()+e.getUTCDate(),n=e.getUTCFullYear()}return i[0]=(i[0]+r)%(2*this._weatherTileCount),i[1]=(i[1]+n%100)%(4*this._weatherTileCount),i}initialize(){this._vao=q(this.context.renderContext.rctx);const e=x(this.view.spatialReference);this._cloudRadius=.5*e.radius,this.setDirty(),this._weatherTile=this._getWeatherTile(),this._frameTask=this.view.resourceController.scheduler.registerTask(k.CLOUDS_GENERATOR,this),this._handles.add(this._frameTask),this._handles.add(c((()=>[this.coverage,this.density,this.absorption,this.cloudSize,this.detailSize,this.smoothness,this.cloudHeight,this.raymarchingStepType]),(()=>this.setDirty()),m))}destroy(){this._handles.destroy(),this._techniques.forEach((e=>n(e))),this._techniques=null,this._frameBufferCube=a(this._frameBufferCube),this._vao=a(this._vao),this._noiseTexture=h(this._noiseTexture)}_ensureNoiseTexture(){if(u(this._noiseTexture)){const e=this.context;this._noiseTexture=new P({context:e}),this._noiseTexture.updateWeatherMap(this._weatherTile)}return this._noiseTexture.textureAtlas}ensureWeatherTile(){const e=this._getWeatherTile();o(this._noiseTexture)&&o(this.context)&&this._noiseTexture.updateWeatherMap(e),e[0]===this._weatherTile[0]&&e[1]===this._weatherTile[1]||(this._weatherTile=e,this.setDirty())}get frameBufferCube(){if(u(this._frameBufferCube)){const e={target:A.TEXTURE_CUBE_MAP,pixelFormat:B.RGBA,dataType:R.UNSIGNED_BYTE,wrapMode:H.CLAMP_TO_EDGE,samplingMode:D.LINEAR,hasMipmap:!1,width:this._cubeMapSize,height:this._cubeMapSize};this._frameBufferCube=new F(this.context.renderContext.rctx,{colorTarget:O.CUBEMAP,width:this._cubeMapSize,height:this._cubeMapSize},e)}return this._frameBufferCube}get cubeMap(){return this._frameBufferCube}isFading(e){return e.crossFade.enabled||e.fadeInOut.stage===S.FADE_OUT||e.fadeInOutHeight.stage!==j.FINISHED}applyPreset(e,t){const i=e.median,s=e=>{const s=r(e[0],e[1],i);return t<.5?r(e[0],s,2*t):r(s,e[1],2*(t-.5))};this.coverage=s(e.coverage),this.density=s(e.density),this.absorption=s(e.absorption),this.cloudSize=s(e.cloudSize),this.detailSize=s(e.detailSize),this.smoothness=s(e.smoothness),this.cloudHeight=s(e.cloudHeight),this.raymarchingStepType=e.raymarchingStepType}setDirty(){this.running=!0}runTask(e){if(0===this.coverage||u(this._vao))return void(this.running=!1);const t=this._getTechnique(this.raymarchingStepType);if(!t.compiled)return;if(!T(this._cameraPositionLastFrame,this.context.renderContext.bindParameters.camera.eye)||this.isFading(this.context.renderContext.bindParameters.clouds))return void v(this._cameraPositionLastFrame,this.context.renderContext.bindParameters.camera.eye);this.ensureWeatherTile();const i=this._ensureNoiseTexture();if(u(i))return;const s=this.context.renderContext.rctx,o=s.bindTechnique(t),n=1+this.absorption,a=r(35,120,this.absorption);o.bindTexture(\"cloudShapeTexture\",i),o.setUniform1f(\"cloudRadius\",this._cloudRadius),o.setUniform1f(\"halfCubeMapSize\",.5*this._cubeMapSize),o.setUniform1f(\"power\",a),o.setUniform1f(\"sigmaE\",n),o.setUniform1f(\"density\",r(0,.3,this.density)),o.setUniform1f(\"cloudSize\",r(0,.02,Math.max(.01,1-this.cloudSize))),o.setUniform1f(\"detailSize\",r(0,.2,Math.max(.01,1-this.detailSize))),o.setUniform1f(\"smoothness\",r(0,.5,1-this.smoothness)),o.setUniform1f(\"cloudHeight\",r(0,1500,this.cloudHeight)),o.setUniform1f(\"coverage\",this.coverage),s.bindVAO(this._vao),o.assertCompatibleVertexAttributeLocations(this._vao);const h=s.getViewport();s.setViewport(0,0,this._cubeMapSize,this._cubeMapSize),s.bindFramebuffer(this.frameBufferCube);for(let r=0;r<5;r++){const e=N[r],t=L[r];f(this._viewMatrix,W,e,t),p(this._drawParameters.viewMatrix,this._viewMatrix);const i=A.TEXTURE_CUBE_MAP_POSITIVE_X+r;this.frameBufferCube.setColorTextureTarget(i),o.bindDraw(this._drawParameters,this._bindParameters),s.gl.drawArrays(s.gl.TRIANGLE_STRIP,0,4),s.gl.flush()}this.running=!1,s.setViewport(h.x,h.y,h.width,h.height),this.requestRender(),e.madeProgress()}};e([d({constructOnly:!0})],I.prototype,\"context\",void 0),e([d({constructOnly:!0})],I.prototype,\"view\",void 0),e([d({constructOnly:!0})],I.prototype,\"requestRender\",void 0),e([d()],I.prototype,\"_frameTask\",void 0),e([d()],I.prototype,\"coverage\",void 0),e([d()],I.prototype,\"density\",void 0),e([d()],I.prototype,\"absorption\",void 0),e([d()],I.prototype,\"cloudSize\",void 0),e([d()],I.prototype,\"detailSize\",void 0),e([d()],I.prototype,\"smoothness\",void 0),e([d()],I.prototype,\"cloudHeight\",void 0),e([d()],I.prototype,\"raymarchingStepType\",void 0),e([d()],I.prototype,\"running\",void 0),I=e([l(\"esri.views.3d.environment.CloudsGenerator\")],I);const N=[y(1,0,0),y(-1,0,0),y(0,1,0),y(0,-1,0),y(0,0,1)],L=[y(0,1,0),y(0,1,0),y(0,0,-1),y(0,0,1),y(0,1,0)],W=w(),G=M.sunny;export{I as CloudsGenerator};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{F as r}from\"../../../chunks/Fog.glsl.js\";import{ReloadableShaderModule as i}from\"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as o}from\"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";import{parameter as n,ShaderTechniqueConfiguration as t}from\"../webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as s}from\"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{Program as l}from\"../webgl-engine/lib/Program.js\";import{BlendFactor as a}from\"../../webgl/enums.js\";import{makePipelineState as g,separateBlendingParams as m,defaultColorWriteParams as c}from\"../../webgl/renderState.js\";class h extends o{initializeProgram(e){const r=h.shader.get().build(this.configuration);return new l(e.rctx,r,s)}initializePipeline(){return this.configuration.haze?g({blending:m(a.ONE,a.ZERO,a.ONE_MINUS_SRC_COLOR,a.ONE),colorWrite:c}):g({blending:m(a.SRC_ALPHA,a.ZERO,a.ONE_MINUS_SRC_ALPHA,a.ONE),colorWrite:c})}}h.shader=new i(r,(()=>import(\"./Fog.glsl.js\")));class u extends t{constructor(){super(...arguments),this.haze=!1}}e([n()],u.prototype,\"haze\",void 0);export{h as FogTechnique,u as FogTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{smoothstep as o}from\"../../../core/mathUtils.js\";import{releaseMaybe as r,disposeMaybe as s,isNone as i}from\"../../../core/maybe.js\";import{property as h}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{s as n,g as c,n as g,e as m,h as u,l as p}from\"../../../chunks/vec3.js\";import{c as _}from\"../../../chunks/vec3f32.js\";import{getReferenceEllipsoid as f}from\"../../../geometry/projectionEllipsoid.js\";import{atmosphereHeight as d}from\"./atmosphereUtils.js\";import{FogTechniqueConfiguration as l,FogTechnique as T}from\"./FogTechnique.js\";import{weatherHeightLimit as F}from\"./weather.js\";import{NoParameters as y}from\"../webgl-engine/core/shaderModules/interfaces.js\";import{Pos2Tex as b}from\"../webgl-engine/lib/DefaultVertexBufferLayouts.js\";import{createQuadVAO as q}from\"../webgl-engine/lib/glUtil3D.js\";import{PrimitiveType as j}from\"../../webgl/enums.js\";let v=class extends t{constructor(e){super(e),this._fogColor=_(),this._fogColorAtNight=_(),this._cameraDirection=_(),this._foggyFadeStart=.95,this._foggyFadeEnd=1,this._hazeFadeStart=.7,this._hazeFadeEnd=1,this._strength=4e-6;const t=e.context.renderContext.rctx;this._vao=q(t,b);const o=f(e.view.spatialReference);this._planetRadius=o.radius,this._atmosphereRadius=o.radius+d}destroy(){this._hazeFogTechnique=r(this._hazeFogTechnique),this._thickFogTechnique=r(this._thickFogTechnique),this._vao=s(this._vao)}get _shaderTechniqueRepository(){return this.context.shaderTechniqueRepository}set strength(e){this._strength=e}get strength(){return this._strength}get thickFogTechnique(){if(i(this._thickFogTechnique)){const e=new l;e.haze=!1,this._thickFogTechnique=this._shaderTechniqueRepository.acquire(T,e)}return this._thickFogTechnique}get hazeFogTechnique(){if(i(this._hazeFogTechnique)){const e=new l;e.haze=!0,this._hazeFogTechnique=this._shaderTechniqueRepository.acquire(T,e)}return this._hazeFogTechnique}when(){return Promise.resolve()}render(e,t,o){if(0===this.view.basemapTerrain.baseOpacity&&!t)return;if(this._update(e,t,o),this._fogAmount<=0)return;const r=t?this.thickFogTechnique:this.hazeFogTechnique;if(!r.compiled)return void this.context.requestRender();const s=e.offscreenRenderingHelper,i=e.rctx.bindTechnique(r,x,e.bindParameters);s.renderDepthDetached((()=>{i.bindTexture(\"depthTex\",s.depthTexture),this._renderFog(r.program,e)}))}_renderFog(e,t){if(i(this._vao))return!1;const o=t.rctx,r=t.bindParameters.camera;return e.setUniform3fv(\"cameraPosition\",r.eye),e.setUniform1f(\"atmosphereC\",this._atmosphereC),e.setUniform1f(\"fogStrength\",this._strength),e.setUniform1f(\"fogAmount\",this._fogAmount),e.setUniform3fv(\"fogColor\",this._fogColor),o.bindVAO(this._vao),e.assertCompatibleVertexAttributeLocations(this._vao),o.drawArrays(j.TRIANGLE_STRIP,0,4),!0}_update(e,t,r){const s=e.bindParameters.camera,i=t?.1:0;r?n(this._fogColor,.5,.5,.5):t?n(this._fogColor,1.5,1.5,1.5):n(this._fogColor,.24,.44,.8),c(this._fogColorAtNight,this._fogColor,i),g(this._cameraDirection,s.eye);const h=Math.max(0,m(this._cameraDirection,e.bindParameters.lighting.lightingMainDirection));u(this._fogColor,this._fogColorAtNight,this._fogColor,h);const a=p(s.eye),_=a*a;this._atmosphereC=_-this._atmosphereRadius*this._atmosphereRadius,this._fogAmount=t?1-o(this._foggyFadeStart*F,this._foggyFadeEnd*F,Math.abs(a-this._planetRadius)):1-o(this._hazeFadeStart*F,this._hazeFadeEnd*F,Math.abs(a-this._planetRadius))}static isSupported(e){return e.capabilities.depthTexture}};e([h({constructOnly:!0})],v.prototype,\"context\",void 0),e([h({constructOnly:!0})],v.prototype,\"view\",void 0),v=e([a(\"esri.views.3d.environment.Fog\")],v);const x=new y;export{v as Fog};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{a as e}from\"../../../chunks/SimpleAtmosphere.glsl.js\";import{SimpleAtmosphereGeometry as r}from\"./SimpleAtmosphereTechniqueConfiguration.js\";import{ReloadableShaderModule as i}from\"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as o}from\"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";import{Default3D as t}from\"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{Program as n}from\"../webgl-engine/lib/Program.js\";import{BlendFactor as l,CompareFunction as s}from\"../../webgl/enums.js\";import{makePipelineState as m,separateBlendingParams as g,backFaceCullingParams as a,defaultColorWriteParams as p}from\"../../webgl/renderState.js\";class c extends o{initializeProgram(e){const r=c.shader.get().build(this.configuration);return new n(e.rctx,r,t)}initializePipeline(){return this.configuration.geometry===r.Cylinder?m({blending:g(l.SRC_ALPHA,l.ONE,l.ONE_MINUS_SRC_ALPHA,l.ONE_MINUS_SRC_ALPHA),culling:a,depthTest:{func:s.LEQUAL},colorWrite:p}):m({blending:g(l.SRC_ALPHA,l.ONE,l.ONE_MINUS_SRC_ALPHA,l.ONE_MINUS_SRC_ALPHA),depthTest:{func:s.LEQUAL},colorWrite:p})}}c.shader=new i(e,(()=>import(\"./SimpleAtmosphere.glsl.js\")));export{c as SimpleAtmosphereTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nconst A=\"data:image/png;base64, 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\";export{A as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Logger.js\";import{disposeMaybe as r,abortMaybe as t}from\"../../../core/maybe.js\";import{createResolver as o,isAbortError as s}from\"../../../core/promiseUtils.js\";import{c as i}from\"../../../chunks/mat4.js\";import{c as a}from\"../../../chunks/mat4f64.js\";import{requestImage as n}from\"../../../support/requestImageUtils.js\";import{S as m}from\"../../../chunks/SimpleAtmosphere.glsl.js\";import{SimpleAtmosphereTechnique as l}from\"./SimpleAtmosphereTechnique.js\";import{SimpleAtmosphereTechniqueConfiguration as h,SimpleAtmosphereGeometry as p}from\"./SimpleAtmosphereTechniqueConfiguration.js\";import c from\"./resources/SimpleAtmosphereTexture.js\";import{glLayout as u}from\"../support/buffer/glUtil.js\";import{newLayout as f}from\"../support/buffer/InterleavedLayout.js\";import{Default3D as g}from\"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import _ from\"../webgl-engine/lib/GeometryUtil.js\";import{VertexAttribute as d}from\"../webgl-engine/lib/VertexAttribute.js\";import{BufferObject as b}from\"../../webgl/BufferObject.js\";import{PixelFormat as y,PixelType as j,TextureWrapMode as v,TextureSamplingMode as x,PrimitiveType as A,Usage as w}from\"../../webgl/enums.js\";import{Texture as C}from\"../../webgl/Texture.js\";import{vertexCount as T}from\"../../webgl/Util.js\";import{VertexArrayObject as P}from\"../../webgl/VertexArrayObject.js\";const q=e.getLogger(\"esri.views.3d.environment.PanoramicAtmosphere\");class R{constructor(){this.type=\"panoramic\",this._techniqueConfig=new h,this._passParameters=new m,this._readyResolver=o(),this._readyController=new AbortController}destroy(){this._readyResolver.reject(),this._passParameters.texture=r(this._passParameters.texture),this._vao=r(this._vao),this._readyController=t(this._readyController)}when(){return this._readyResolver.promise}initializeRenderContext(e){this._techniqueConfig.geometry=p.Cylinder,this._technique=e.shaderTechniqueRepository.acquire(l,this._techniqueConfig);const r=e.renderContext.rctx;this._vao=this._createVertexArrayObject(r),this._vaoCount=T(this._vao,\"geometry\"),n(c,{signal:this._readyController.signal}).then((t=>{this._passParameters.texture=new C(r,{pixelFormat:y.RGBA,dataType:j.UNSIGNED_BYTE,wrapMode:v.CLAMP_TO_EDGE,samplingMode:x.LINEAR,flipped:!0},t),e.requestRender(),this._readyController=null,this._readyResolver.resolve()})).catch((e=>{s(e)||q.error(\"Unable to initialize atmosphere: image request failed\",e),this._readyResolver.reject()}))}get canRender(){return null!=this._passParameters.texture}render(e){const r=e.rctx,t=r.bindTechnique(this._technique,this._passParameters,e.bindParameters);I(O,e.bindParameters.camera.viewMatrix),t.setUniformMatrix4fv(\"view\",O),r.bindVAO(this._vao),t.assertCompatibleVertexAttributeLocations(this._vao),r.drawArrays(A.TRIANGLES,0,this._vaoCount)}renderHaze(){return!1}_createVertexArrayObject(e){const r=_.createPolySphereGeometry(1,2,!1),t=r.indices.get(d.POSITION);for(let a=0;a<t.length;a+=3){const e=t[a];t[a]=t[a+2],t[a+2]=e}const o=r.vertexAttributes.get(d.POSITION).data,s=S.createBuffer(t.length),i=s.position;for(let a=0;a<t.length;++a){const e=3*t[a];i.set(a,0,o[e]),i.set(a,1,o[e+1]),i.set(a,2,o[e+2])}return new P(e,g,{geometry:u(S)},{geometry:b.createVertex(e,w.STATIC_DRAW,s.buffer)})}}function I(e,r){i(e,r),e[12]=0,e[13]=0,e[14]=0,e[15]=1}const O=a(),S=f().vec3f(d.POSITION);export{R as PanoramicAtmosphere};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{P as e}from\"../../../chunks/Precipitation.glsl.js\";import{NoParameters as r}from\"../webgl-engine/core/shaderModules/interfaces.js\";import{ReloadableShaderModule as i}from\"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";import{Program as o}from\"../webgl-engine/lib/Program.js\";import{VertexAttribute as n}from\"../webgl-engine/lib/VertexAttribute.js\";import{BlendFactor as s,CompareFunction as a}from\"../../webgl/enums.js\";import{makePipelineState as l,separateBlendingParams as c,defaultColorWriteParams as m}from\"../../webgl/renderState.js\";class g extends r{constructor(){super(...arguments),this.time=0,this.radius=1}}class u extends t{initializeProgram(e){const r=u.shader.get().build(this.configuration);return new o(e.rctx,r,u.attributeLocation)}initializePipeline(){return l({blending:c(s.ONE,s.ONE,s.ONE_MINUS_SRC_ALPHA,s.ONE_MINUS_SRC_ALPHA),depthTest:{func:a.LEQUAL},colorWrite:m})}}u.shader=new i(e,(()=>import(\"./Precipitation.glsl.js\"))),u.attributeLocation=new Map([[n.POSITION,0],[n.INSTANCEFEATUREATTRIBUTE,1]]);export{g as PrecipitationPassParameters,u as PrecipitationTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Accessor.js\";import{lerp as i}from\"../../../core/mathUtils.js\";import{releaseMaybe as r,disposeMaybe as s,isNone as o,isSome as n}from\"../../../core/maybe.js\";import{secondsFromMilliseconds as a}from\"../../../core/time.js\";import{property as h}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import{s as _,g as m,n as p,e as u,h as f}from\"../../../chunks/vec3.js\";import{c as d}from\"../../../chunks/vec3f32.js\";import{c as l}from\"../../../chunks/vec3f64.js\";import{WatchUpdatingTracking as w}from\"../../../core/support/WatchUpdatingTracking.js\";import{getReferenceEllipsoid as g}from\"../../../geometry/projectionEllipsoid.js\";import{PrecipitationPassParameters as T,PrecipitationTechnique as y}from\"./PrecipitationTechnique.js\";import{PrecipitationTechniqueConfiguration as b,PrecipitationType as j}from\"./PrecipitationTechniqueConfiguration.js\";import{glLayout as v}from\"../support/buffer/glUtil.js\";import{newLayout as q}from\"../support/buffer/InterleavedLayout.js\";import{AnimationTimer as P}from\"../webgl-engine/lib/AnimationTimer.js\";import{VertexAttribute as A}from\"../webgl-engine/lib/VertexAttribute.js\";import{BufferObject as I}from\"../../webgl/BufferObject.js\";import{PrimitiveType as x,Usage as C}from\"../../webgl/enums.js\";import{bindVertexBufferLayout as R,unbindVertexBufferLayout as U}from\"../../webgl/Util.js\";import{VertexArrayObject as S}from\"../../webgl/VertexArrayObject.js\";let O=class extends e{constructor(t){super(t),this._numParticles=25e4,this._rainSpeed=.1,this._snowSpeed=.01,this._opacity=1,this._width=500,this._offset=l(),this._tile=l(),this._particleColor=d(),this._particleColorAtNight=d(),this._nightMultiplier=.7,this._cameraDirection=d(),this._renderParameters=new T,this._animation=new P,this._updatingTracking=new w,this._renderParameters.time=0,this._renderParameters.radius=g(t.view.spatialReference).radius,this._shaderTechniqueRepository=t.context.shaderTechniqueRepository}destroy(){this._updatingTracking.destroy(),this._numParticles=0,this._snowTechnique=r(this._snowTechnique),this._rainTechnique=r(this._rainTechnique),this._vao=s(this._vao),this._instanceIdBuffer=s(this._instanceIdBuffer)}get updating(){return this._updatingTracking.updating}get rainTechnique(){if(o(this._rainTechnique)){const t=new b;t.type=j.Rain,this._rainTechnique=this._shaderTechniqueRepository.acquire(y,t)}return this._rainTechnique}get snowTechnique(){if(o(this._snowTechnique)){const t=new b;t.type=j.Snow,this._snowTechnique=this._shaderTechniqueRepository.acquire(y,t)}return this._snowTechnique}update(t){return this._animation.advance(t)}render(t,e,r){const s=\"rainy\"===r,h=s?this.rainTechnique:this.snowTechnique;if(!h.compiled)return void this.context.requestRender();const c=t.rctx;if(this._ensureResources(c),o(h)||o(this._vao)||o(this._instanceIdBuffer))return;if(n(t.bindParameters.clouds.data)&&(this._opacity=1-t.bindParameters.clouds.fadeInOutHeight.factor),this._opacity<=0)return;const _=.35;e=e<.5?i(0,_,2*e):i(_,1,2*(e-.5));const m=c.bindTechnique(h);this._renderParameters.camera=t.bindParameters.camera,this._renderParameters.time=(s?this._rainSpeed:this._snowSpeed)*a(this._animation.time),this._renderParameters.time=this._renderParameters.time%1e5,this._update(m,r,t),c.bindVAO(this._vao);const p=y.attributeLocation;m.assertCompatibleVertexAttributeLocations(this._vao),R(c,p,this._instanceIdBuffer,B,0),c.capabilities.instancing.drawArraysInstanced(x.TRIANGLES,0,3,this._numParticles*e),U(c,p,this._instanceIdBuffer,B)}_update(t,e,i){const r=i.bindParameters.camera,s=r.eye;this._tile[0]=Math.floor((s[0]+.5*this._width)/this._width),this._tile[1]=Math.floor((s[1]+.5*this._width)/this._width),this._tile[2]=Math.floor((s[2]+.5*this._width)/this._width),this._offset[0]=s[0]-this._tile[0]*this._width,this._offset[1]=s[1]-this._tile[1]*this._width,this._offset[2]=s[2]-this._tile[2]*this._width,t.setUniform1f(\"width\",this._width),t.setUniform3fv(\"offset\",this._offset),t.setUniformMatrix4fv(\"view\",r.viewMatrix),t.setUniform3fv(\"cameraPosition\",s),t.bindPass(null,i.bindParameters),t.setUniform1f(\"time\",this._renderParameters.time),\"rainy\"===e?_(this._particleColor,.85,.85,.85):_(this._particleColor,1,1,1),m(this._particleColorAtNight,this._particleColor,this._nightMultiplier),p(this._cameraDirection,s);const o=Math.max(0,u(this._cameraDirection,i.bindParameters.lighting.lightingMainDirection));f(this._particleColor,this._particleColorAtNight,this._particleColor,o),t.setUniform3fv(\"particleColor\",this._particleColor),t.setUniform1f(\"opacity\",this._opacity)}_ensureResources(t){o(this._vao)&&(this._vao=this._createVertexArrayObject(t)),o(this._instanceIdBuffer)&&(this._instanceIdBuffer=this._createInstanceIndices(t))}_createInstanceIndices(t){const e=[];for(let i=0;i<this._numParticles;i++)e.push(i);return I.createVertex(t,C.STATIC_DRAW,new Float32Array(e))}_createVertexArrayObject(t){const e=new Float32Array([-1,0,1,1,0,-1,1,0,1]);return new S(t,y.attributeLocation,{geometry:v(k)},{geometry:I.createVertex(t,C.STATIC_DRAW,e)})}};t([h({constructOnly:!0})],O.prototype,\"context\",void 0),t([h({constructOnly:!0})],O.prototype,\"view\",void 0),t([h({readOnly:!0})],O.prototype,\"updating\",null),t([h()],O.prototype,\"_updatingTracking\",void 0),O=t([c(\"esri.views.3d.environment.Precipitation\")],O);const k=q().vec3f(A.POSITION),B=v(q().f32(A.INSTANCEFEATUREATTRIBUTE),1);export{O as Precipitation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nconst A=\"data:image/png;base64,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\";export{A as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Logger.js\";import{lerp as t,clamp as r}from\"../../../core/mathUtils.js\";import{removeMaybe as i,disposeMaybe as s,abortMaybe as a,isNone as o}from\"../../../core/maybe.js\";import{createResolver as n,throwIfAborted as h,isAbortError as m}from\"../../../core/promiseUtils.js\";import{watch as c,syncAndInitial as l}from\"../../../core/reactiveUtils.js\";import{n as d}from\"../../../chunks/mat4.js\";import{c as u}from\"../../../chunks/mat4f64.js\";import{a as p}from\"../../../chunks/vec2.js\";import{a as f}from\"../../../chunks/vec2f64.js\";import{l as _,g,a as R,i as j,f as x,p as V}from\"../../../chunks/vec3.js\";import{c as y}from\"../../../chunks/vec3f64.js\";import{getReferenceEllipsoid as C}from\"../../../geometry/projectionEllipsoid.js\";import{isMars as v}from\"../../../geometry/support/spatialReferenceUtils.js\";import{requestImage as b}from\"../../../support/requestImageUtils.js\";import{computeInnerAltitudeFade as A,innerAtmosphereDepth as T}from\"./atmosphereUtils.js\";import{S as w}from\"../../../chunks/SimpleAtmosphere.glsl.js\";import{SimpleAtmosphereTechnique as q}from\"./SimpleAtmosphereTechnique.js\";import{SimpleAtmosphereTechniqueConfiguration as U,SimpleAtmosphereGeometry as D}from\"./SimpleAtmosphereTechniqueConfiguration.js\";import S from\"./resources/MarsAtmosphereTexture.js\";import F from\"./resources/SimpleAtmosphereTexture.js\";import{makePiecewiseLinearFunction as M}from\"../support/mathUtils.js\";import{glLayout as P}from\"../support/buffer/glUtil.js\";import{newLayout as I}from\"../support/buffer/InterleavedLayout.js\";import{Default3D as O}from\"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{createQuadVAO as E}from\"../webgl-engine/lib/glUtil3D.js\";import{project as L}from\"../webgl-engine/lib/Util.js\";import{VertexAttribute as W}from\"../webgl-engine/lib/VertexAttribute.js\";import{BufferObject as k}from\"../../webgl/BufferObject.js\";import{PixelFormat as N,PixelType as G,TextureWrapMode as B,TextureSamplingMode as H,PrimitiveType as z,Usage as Y}from\"../../webgl/enums.js\";import{Texture as J}from\"../../webgl/Texture.js\";import{vertexCount as K}from\"../../webgl/Util.js\";import{VertexArrayObject as Q}from\"../../webgl/VertexArrayObject.js\";const X=e.getLogger(\"esri.views.3d.environment.SimpleAtmosphere\"),Z=128,$=-T,ee=0,te=50,re=()=>1-511/512,ie=M([[50,.1015625],[500,.21875],[5e3,1-250/512],[5e4,.4140625]]);class se{constructor(e){this.view=e,this.type=\"simple\",this._renderData={texV:f(),silCircleCenter:y(),silCircleV1:y(),silCircleV2:y(),altitudeFade:0,innerScale:0,undergroundFadeAlpha:0},this._passParameters=new w,this._fadeVaoCount=0,this._readyResolver=n(),this._readyController=new AbortController,this.texV1=1,this.canRender=!0,this.isOnMars=v(e.spatialReference);const t=C(e.spatialReference);this.planetRadius=t.radius,this.outerRimWidth=t.outerAtmosphereRimWidth,this.innerRimFactor=(this.planetRadius+$)/this.planetRadius,this.middleRimFactor=(this.planetRadius+ee)/this.planetRadius,this.outerRimFactor=(this.planetRadius+this.outerRimWidth)/this.planetRadius,this.texV0=ee/this.outerRimWidth,this.texVScale=this.texV1-this.texV0}destroy(){this._readyResolver.reject(),this._cameraChangeHandle=i(this._cameraChangeHandle),this._passParameters.texture=s(this._passParameters.texture),this._fadeVao=s(this._fadeVao),this._vao=s(this._vao),this._readyController=a(this._readyController)}when(){return this._readyResolver.promise}async initializeRenderContext(e){this._shaderTechniqueRepository=e.shaderTechniqueRepository;const t=e.renderContext.rctx;this._cameraChangeHandle=c((()=>this.view.state?.camera),(()=>e.requestRender()),l),this._vao=this._createRibbon(t),this._vaoCount=K(this._vao,\"geometry\"),this._fadeVao=E(t),this._fadeVaoCount=K(this._fadeVao,\"geometry\");const r=this.isOnMars?S:F,i=this._readyController.signal;try{const s=await b(r,{signal:i});h(i),this._passParameters.texture=new J(t,{pixelFormat:N.RGBA,dataType:G.UNSIGNED_BYTE,wrapMode:B.CLAMP_TO_EDGE,samplingMode:H.LINEAR,flipped:!0},s),e.requestRender(),this._readyController=null,this._readyResolver.resolve()}catch(s){m(s)||X.error(\"Unable to initialize simple atmosphere: image request failed\",s),this._readyResolver.reject(s)}}get coneTechnique(){if(o(this._coneTechnique)){const e=new U;e.geometry=D.Cone,this._coneTechnique=this._shaderTechniqueRepository.acquire(q,e)}return this._coneTechnique}get undergroundTechnique(){if(o(this._undergroundTechnique)){const e=new U;e.geometry=D.Underground,this._undergroundTechnique=this._shaderTechniqueRepository.acquire(q,e)}return this._undergroundTechnique}render(e){const t=e.bindParameters.camera;this._update(t);const r=e.rctx;if(this._renderData.undergroundFadeAlpha<1){const i=r.bindTechnique(this.coneTechnique,this._passParameters,e.bindParameters);i.setUniformMatrix4fv(\"proj\",t.projectionMatrix),i.setUniformMatrix4fv(\"view\",t.viewMatrix),i.setUniform3fv(\"silCircleCenter\",this._renderData.silCircleCenter),i.setUniform3fv(\"silCircleV1\",this._renderData.silCircleV1),i.setUniform3fv(\"silCircleV2\",this._renderData.silCircleV2),i.setUniform2fv(\"texV\",this._renderData.texV),i.setUniform1f(\"altitudeFade\",this._renderData.altitudeFade),i.setUniform1f(\"innerScale\",this._renderData.innerScale),r.bindVAO(this._vao),r.drawArrays(z.TRIANGLES,0,this._vaoCount)}if(this._renderData.undergroundFadeAlpha>0){const i=r.bindTechnique(this.undergroundTechnique,this._passParameters,e.bindParameters);i.setUniform1f(\"undergroundFadeAlpha\",this._renderData.undergroundFadeAlpha),i.setUniform3fv(\"cameraPosition\",t.eye),r.bindVAO(this._fadeVao),r.drawArrays(z.TRIANGLE_STRIP,0,this._fadeVaoCount)}}renderHaze(){return!1}_update(e){const i=y(),s=this.planetRadius,a=_(e.eye),o=a-s;if(o<0){const e=Math.min(-o/5e3,1);this._renderData.undergroundFadeAlpha=e}else this._renderData.undergroundFadeAlpha=0;const n=Math.max(te,o),h=s+$;this._renderData.innerScale=me(s+n,s,h)-1,this._renderData.altitudeFade=A(o),g(i,e.eye,(s+te)/a),ae(i,e.center,e.up,s,this._renderData);const m=this._computeScreenRimWidth(e,i,e.up,this._renderData),c=re(),l=ie(o);let d=this.texV0+c*this.texVScale,u=this.texV0+m*l*this.texVScale;if(o>te){ae(e.eye,e.center,e.up,s,this._renderData);const i=this._computeScreenRimWidth(e,e.eye,e.up,this._renderData),a=r((i-1.5)/(m-1.5),0,1);d=this.texV0+a*c*this.texVScale,u=this.texV0+t(this.texV1,m*l,a)*this.texVScale}p(this._renderData.texV,d,u)}_createRibbon(e){const t=new Float32Array(3+3*Z*3),r=new Uint32Array(3*Z*5);t[0]=0,t[1]=0,t[2]=-1;for(let a=0;a<Z;a++){const e=9*a+3;t[e+0]=a,t[e+1]=this.innerRimFactor,t[e+2]=-1,t[e+3]=a,t[e+4]=this.middleRimFactor,t[e+5]=0,t[e+6]=a,t[e+7]=this.outerRimFactor,t[e+8]=1;const i=3*a+1,s=a===Z-1?1:i+3,o=15*a;r[o+0]=i,r[o+1]=i+1,r[o+2]=s+1,r[o+3]=s+1,r[o+4]=s,r[o+5]=i,r[o+6]=i+1,r[o+7]=i+2,r[o+8]=s+2,r[o+9]=s+2,r[o+10]=s+1,r[o+11]=i+1,r[o+12]=i,r[o+13]=s,r[o+14]=0}const i=ce.createBuffer(r.length),s=i.position;for(let a=0;a<r.length;++a){const e=3*r[a];s.set(a,0,t[e]),s.set(a,1,t[e+1]),s.set(a,2,t[e+2])}return new Q(e,O,{geometry:P(ce)},{geometry:k.createVertex(e,Y.STATIC_DRAW,i.buffer)})}_computeScreenRimWidth(e,t,r,i){return R(ne,i.silCircleCenter,i.silCircleV2),g(he,ne,this.outerRimFactor),d(oe,t,ne,r),L(ne,oe,e.projectionMatrix,e.viewport),L(he,oe,e.projectionMatrix,e.viewport),j(ne,he)/e.height}}function ae(e,t,r,i,s){const a=_(e),o=i*Math.sqrt(a*a-i*i)/a,n=Math.sqrt(i*i-o*o),h=s.silCircleV1,m=s.silCircleV2;return g(s.silCircleCenter,e,n/a),x(h,e,t),V(h)<1&&x(h,e,r),g(h,h,o/_(h)),x(m,h,e),g(m,m,o/_(m)),o}const oe=u(),ne=y(),he=y();function me(e,t,r){return e*e/(Math.sqrt(e*e-t*t)*Math.sqrt(e*e-r*r)+t*r)}const ce=I().vec3f(W.POSITION);export{se as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{c as e}from\"../../../chunks/mat4f64.js\";import{S as r}from\"../../../chunks/Stars.glsl.js\";import{NoParameters as t}from\"../webgl-engine/core/shaderModules/interfaces.js\";import{ReloadableShaderModule as s}from\"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as i}from\"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";import{Default3D as o}from\"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{Program as n}from\"../webgl-engine/lib/Program.js\";import{BlendFactor as l,CompareFunction as a}from\"../../webgl/enums.js\";import{makePipelineState as m,separateBlendingParams as c,defaultColorWriteParams as u}from\"../../webgl/renderState.js\";class d extends t{constructor(){super(...arguments),this.modelMatrix=e()}}class g extends i{constructor(e){super(e,null,(()=>this.destroy()))}initializeProgram(e){const r=g.shader.get().build();return new n(e.rctx,r,o)}initializePipeline(){return m({blending:c(l.SRC_ALPHA,l.ONE,l.ONE_MINUS_SRC_ALPHA,l.ONE_MINUS_SRC_ALPHA),depthTest:{func:a.LEQUAL},colorWrite:u})}}g.shader=new s(r,(()=>import(\"./Stars.glsl.js\")));export{d as StarPassParameters,g as StarsTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import{fetchAsset as e}from\"../../../assets.js\";import r from\"../../../core/Accessor.js\";import s from\"../../../core/Error.js\";import i from\"../../../core/Logger.js\";import{isSome as a,abortMaybe as o,releaseMaybe as n,disposeMaybe as c,isNone as f}from\"../../../core/maybe.js\";import{createTask as u,isAbortError as h}from\"../../../core/promiseUtils.js\";import{initial as d}from\"../../../core/reactiveUtils.js\";import{property as p}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as m}from\"../../../core/accessorSupport/decorators/subclass.js\";import{c as l,g,m as _}from\"../../../chunks/mat4.js\";import{f as b}from\"../../../chunks/mat4f64.js\";import{WatchUpdatingTracking as v}from\"../../../core/support/WatchUpdatingTracking.js\";import{StarPassParameters as y,StarsTechnique as w}from\"./StarsTechnique.js\";import{glLayout as j}from\"../support/buffer/glUtil.js\";import{newLayout as T}from\"../support/buffer/InterleavedLayout.js\";import{Default3D as k}from\"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{VertexAttribute as D}from\"../webgl-engine/lib/VertexAttribute.js\";import{BufferObject as P}from\"../../webgl/BufferObject.js\";import{PrimitiveType as A,Usage as x}from\"../../webgl/enums.js\";import{VertexArrayObject as q}from\"../../webgl/VertexArrayObject.js\";const O=i.getLogger(\"esri.views.3d.environment.Stars\");let S=class extends r{constructor(t){super(t),this._loadDataTask=null,this._numPoints=0,this._renderParameter=new y,this._updatingTracking=new v}get updating(){return this._updatingTracking.updating||this.loading}get loading(){return a(this._loadDataTask)&&!this._loadDataTask.finished}initialize(){this._loadDataTask=this._createLoadDataTask()}destroy(){this._loadDataTask=o(this._loadDataTask),this._updatingTracking.destroy(),this._numPoints=0,this._technique=n(this._technique),this._vao=c(this._vao)}render(t){const{rctx:e}=t;if(this._ensureResources(e),f(this._technique)||f(this._vao))return;if(!this._technique.compiled)return void this.requestRender();const r=e.bindTechnique(this._technique,this._renderParameter,t.bindParameters);e.bindVAO(this._vao),r.assertCompatibleVertexAttributeLocations(this._vao),e.drawArrays(A.POINTS,0,this._numPoints)}_ensureResources(t){if(a(this._technique)||f(V))return;this._technique=new w({rctx:t,viewingMode:this.view.state.viewingMode}),this._numPoints=V.byteLength/R;const e=new Float32Array(V,0,2*this._numPoints),r=new Uint8Array(V,2*this._numPoints*4,this._numPoints);this._vao=this._createVertexArrayObject(t,e,r,this._numPoints),this._updatingTracking.add((()=>\"sun\"===this.view.environment.lighting.type?this.view.environment.lighting.date:null),(t=>this._update(t)),d)}_computeDayDuration(t){const e=t,r=new Date(t.getFullYear(),0,1,11,58,56);return(+e-+r)/(+new Date(t.getFullYear()+1,0,1,11,58,55)-+r)}_update(t){if(!t)return;const e=(t.getHours()/12+t.getMinutes()/60*(2/24)+t.getSeconds()/60*(2/1440)-.9972222)%2,r=2*this._computeDayDuration(t),s=l(this._renderParameter.modelMatrix,L);g(s,s,-r*Math.PI),_(s,M,s),g(s,s,-e*Math.PI),this.requestRender()}_hexToRGB(t){return[parseInt(t.substring(0,2),16),parseInt(t.substring(2,4),16),parseInt(t.substring(4,6),16)]}_unpackUint8Attributes(t){return t>=192?[2.9,t-192]:t>=160?[2.5,t-160]:t>=128?[2,t-128]:t>=96?[1.5,t-96]:t>=64?[1,t-64]:t>=32?[.7,t-32]:[.4,t]}_createVertexArrayObject(t,e,r,s){const i=U.createBuffer(s),a=i.position,o=i.color,n=i.size;for(let c=0;c<s;c++){const t=e[2*c+0],s=e[2*c+1];a.set(c,0,-Math.cos(t)*Math.sin(s)),a.set(c,1,-Math.sin(t)*Math.sin(s)),a.set(c,2,-Math.cos(s));const i=this._unpackUint8Attributes(r[c]),f=this._hexToRGB(I[i[1]]);o.set(c,0,255*f[0]),o.set(c,1,255*f[1]),o.set(c,2,255*f[2]),o.set(c,3,255),n.set(c,i[0])}return new q(t,k,{geometry:j(U)},{geometry:P.createVertex(t,x.STATIC_DRAW,i.buffer)})}_createLoadDataTask(){if(a(V))return null;const t=u((async t=>{const{data:r}=await e(\"esri/views/3d/environment/resources/stars.wsv\",{responseType:\"array-buffer\",signal:t});this._verifyStarData(r),V=r}));return t.promise.catch((t=>{h(t)||O.error(t)})).then((()=>{this.destroyed||(this.requestRender(),this.notifyChange(\"updating\"))})),t}_verifyStarData(t){if(!t)throw new s(\"stars:no-data-received\",\"Failed to create stars because star catalogue is missing\");const e=t.byteLength/R;if(e%1!=0||e>5e4||e<5e3)throw new s(\"stars:invalid-data\",\"Failed to create stars because star catalogue data is invalid\")}};t([p({constructOnly:!0})],S.prototype,\"view\",void 0),t([p({constructOnly:!0})],S.prototype,\"requestRender\",void 0),t([p({readOnly:!0})],S.prototype,\"updating\",null),t([p()],S.prototype,\"_loadDataTask\",void 0),t([p()],S.prototype,\"_updatingTracking\",void 0),S=t([m(\"esri.views.3d.environment.Stars\")],S);const I=[\"9bb2ff\",\"9eb5ff\",\"aabfff\",\"bbccff\",\"ccd8ff \",\"dae2ff\",\"e4e9ff\",\"eeefff\",\"f8f6ff\",\"fff9fb\",\"fff5ef\",\"fff1e5\",\"ffeddb\",\"ffe9d2\",\"ffe6ca\",\"ffe3c3\",\"ffe0bb\",\"ffddb4\",\"ffdaad\",\"ffd6a5\",\"ffd29c\",\"ffcc8f\",\"ffc178\",\"ffa94b\",\"ff7b00\"],M=b(1,0,0,0,0,.9174771405229186,.39778850739794974,0,0,-.39778850739794974,.9174771405229186,0,0,0,0,1),L=b(1,0,0,0,0,.9174771405229186,-.39778850739794974,0,0,.39778850739794974,.9174771405229186,0,0,0,0,1),R=9,U=T().vec3f(D.POSITION).vec4u8(D.COLOR).f32(D.SIZE);let V=null;export{S as Stars};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import\"../../../core/has.js\";import s from\"../../../core/Handles.js\";import{lerp as i}from\"../../../core/mathUtils.js\";import{destroyMaybe as r,isSome as n,isNone as o}from\"../../../core/maybe.js\";import{when as h,syncAndInitial as a,watch as p,initial as d}from\"../../../core/reactiveUtils.js\";import{property as l}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as _}from\"../../../core/accessorSupport/decorators/subclass.js\";import{l as m}from\"../../../chunks/vec3.js\";import{getReferenceEllipsoid as c}from\"../../../geometry/projectionEllipsoid.js\";import{isMoon as u,isEarth as g}from\"../../../geometry/support/spatialReferenceUtils.js\";import{ChapmanAtmosphere as w}from\"./ChapmanAtmosphere.js\";import{CloudsComposition as y}from\"./CloudsComposition.js\";import{isReadyCloudsData as v}from\"./CloudsData.js\";import{CloudsGenerator as f}from\"./CloudsGenerator.js\";import{cloudPresets as A}from\"./CloudsPresets.js\";import{Fog as R}from\"./Fog.js\";import{PanoramicAtmosphere as b}from\"./PanoramicAtmosphere.js\";import{Precipitation as E}from\"./Precipitation.js\";import N from\"./SimpleAtmosphere.js\";import{Stars as T}from\"./Stars.js\";import{weatherHeightLimit as j}from\"./weather.js\";import{RenderPass as x}from\"../webgl-engine/lib/RenderPass.js\";import{RenderSlot as C}from\"../webgl-engine/lib/RenderSlot.js\";var P;const O=[C.POSTPROCESSING_ENVIRONMENT_OPAQUE,C.POSTPROCESSING_ENVIRONMENT_TRANSPARENT];let S,M=P=class extends t{constructor(e){super(e),this._handles=new s,this._context=null,this._pendingAtmosphere=null,this._atmosphere=null}initialize(){this.view._stage.addRenderPlugin(O,this)}destroy(){this._pendingAtmosphere=r(this._pendingAtmosphere),null!=this.view?._stage&&this.view._stage.removeRenderPlugin(this),this._handles=r(this._handles),this._set(\"view\",null)}get atmosphereType(){return n(this._pendingAtmosphere)?this._pendingAtmosphere.type:n(this._atmosphere)?this._atmosphere.type:\"none\"}get canRender(){return!!this.view.basemapTerrain?.renderer.canRender||\"global\"!==this.view.viewingMode}get needsLinearDepth(){return\"realistic\"===this._selectAtmosphereType()}updateAnimation(e){return!!n(this._precipitation)&&this._precipitation.update(e)}get updating(){return n(this._pendingAtmosphere)||n(this._stars)&&this._stars.updating||n(this._clouds)&&this._clouds.running}get weatherVisible(){return m(this.view.state.camera.eye)-c(this.view.spatialReference).radius<=j}get _stars(){const e=this.view,t=e.environment?.starsEnabled??!1,s=this._get(\"_stars\");return!t||o(this._context)?(r(s),null):n(s)?s:new T({view:e,requestRender:()=>this._setNeedsRender()})}get _precipitation(){const e=this._get(\"_precipitation\");if(!this._precipitationEnabled||o(this._context))return r(e),null;const t=this.view,s=this._context;return n(e)&&e.context===s?e:(r(e),new E({context:s,view:t}))}get _clouds(){const e=this._get(\"_clouds\");if(!this.weatherEnabled||o(this._context))return r(e),null;if(n(e))return e;const t=this.view,s=this._context;return r(e),new f({context:s,view:t,requestRender:()=>this._setNeedsRender()})}get _cloudsComposition(){const e=this._get(\"_cloudsComposition\");if(!this.weatherEnabled||o(this._context))return r(e),null;const t=this.view.state.viewingMode,s=this._context.renderContext.rctx,i=c(this.view.spatialReference).radius;return n(e)&&e.viewingMode===t&&e.planetRadius===i?e:(r(e),new y({rctx:s,viewingMode:t,planetRadius:i,requestRender:()=>this._setNeedsRender()}))}get _fog(){const e=this._get(\"_fog\");if(!this.weatherEnabled||o(this._context))return r(e),null;if(n(e))return e;const t=this.view,s=this._context;return r(e),new R({context:s,view:t})}get weatherEnabled(){return!!this.view?.environmentManager?.weatherEnabled}get _precipitationEnabled(){return this.weatherEnabled&&(\"rainy\"===this.view.environment.weather.type||\"snowy\"===this.view.environment.weather.type)}initializeRenderContext(e=null){this._context=e,this._handles.add([h((()=>this.view?.basemapTerrain),(()=>this._updateBasemapTerrain()),a),p((()=>({viewingMode:this.view.viewingMode,atmosphereEnabled:this.view.environment.atmosphereEnabled,atmosphereQuality:this.view.environment.atmosphere.quality})),(()=>this._updateAtmosphere()),a),p((()=>this._stars),(()=>this._setNeedsRender())),p((()=>this._clouds),(()=>this._updateWeather(this._weatherUpdateParameters)),d),p((()=>this._precipitation),(()=>this._setNeedsRender())),p((()=>this._fog),(()=>this._updateFog(this._weatherUpdateParameters)),d),p((()=>this._weatherUpdateParameters),(e=>{this._updateWeather(e),this._updateFog(e)}),a)])}uninitializeRenderContext(){this._context=null,this._atmosphere=r(this._atmosphere),this._set(\"_stars\",r(this._stars)),this._set(\"_precipitation\",r(this._precipitation)),this._set(\"_clouds\",r(this._clouds)),this._set(\"_cloudsComposition\",r(this._cloudsComposition)),this._set(\"_fog\",r(this._fog))}prepareRender(e){e.bindParameters.clouds.data=v(this._clouds)?this._clouds:null}render(e){if(e.pass===x.MATERIAL)switch(e.bindParameters.slot){case C.POSTPROCESSING_ENVIRONMENT_OPAQUE:n(this._stars)&&this._stars.render(e),n(this._atmosphere)&&this._atmosphere.canRender&&(this._atmosphere.render(e),n(this._cloudsComposition)&&n(e.bindParameters.clouds.data)&&(this.weatherVisible&&n(this._clouds)&&this._clouds.ensureWeatherTile(),this._cloudsComposition.render(e,n(this.view.animation))));break;case C.POSTPROCESSING_ENVIRONMENT_TRANSPARENT:if(n(this._atmosphere)&&this._atmosphere.canRender){const t=this.weatherEnabled?this.view.environment.weather.type:\"disabled\";if(this._atmosphere.renderHaze(e,\"rainy\"===t),n(this._fog)){const s=\"foggy\"===t||\"rainy\"===t||\"snowy\"===t;(s||\"realistic\"!==this._selectAtmosphereType())&&this._fog.render(e,s,\"rainy\"===t)}if(n(this._precipitation)){const t=this.view.environment.weather;\"rainy\"!==t.type&&\"snowy\"!==t.type||this._precipitation.render(e,t.precipitation,t.type)}}}}get _weatherUpdateParameters(){const e=this.weatherEnabled?this.view.environment.weather:null;return o(e)?null:\"rainy\"===e.type||\"snowy\"===e.type?{type:e.type,weatherAdjustment:e.cloudCover,effect:e.precipitation}:{type:e.type,weatherAdjustment:\"foggy\"===e.type?e.fogStrength:e.cloudCover}}_updateWeather(e){o(e)||o(this._clouds)||(this._clouds.applyPreset(A[e.type],e.weatherAdjustment),this._setNeedsRender())}_setNeedsRender(){n(this._context)&&this._context.requestRender()}_updateFog(e){if(!o(this._fog)&&!o(e))switch(e.type){case\"foggy\":this._fog.strength=i(3e-5,.005,e.weatherAdjustment**3),this._setNeedsRender();break;case\"rainy\":case\"snowy\":this._fog.strength=i(4e-6,2e-4,e.effect**3),this._setNeedsRender();break;default:this._fog.strength=4e-6,this._setNeedsRender()}}_updateAtmosphere(){const e=this._selectAtmosphereType();if(this.atmosphereType===e)return;n(this._pendingAtmosphere)&&(this._pendingAtmosphere!==this._atmosphere&&this._pendingAtmosphere.destroy(),this._pendingAtmosphere=null);const t=this._getAtmosphereClass();if(!t)return n(this._atmosphere)&&(this._atmosphere.destroy(),this._atmosphere=null,this._setNeedsRender()),void this._updateBasemapTerrain();const s=new t(this.view);n(this._context)&&s.initializeRenderContext(this._context),o(this._atmosphere)&&(this._atmosphere=s,this._setNeedsRender()),this._pendingAtmosphere=s,s.when().then((()=>{n(this._atmosphere)&&this._pendingAtmosphere&&this._pendingAtmosphere!==this._atmosphere&&(this._atmosphere.destroy(),this._atmosphere=this._pendingAtmosphere),this._pendingAtmosphere=null,this._setNeedsRender(),this._updateBasemapTerrain()})).catch((()=>{this._pendingAtmosphere===s&&(this._pendingAtmosphere=null)}))}_getAtmosphereClass(){switch(this._selectAtmosphereType()){case\"none\":return null;case\"realistic\":return w;case\"panoramic\":return b;case\"simple\":return N;default:return}}_selectAtmosphereType(){const e=this.view.get(\"environment.atmosphereEnabled\"),t=this.view.get(\"environment.atmosphere.quality\"),s=this.view.viewingMode;return!e||null==t||u(this.view.spatialReference)?\"none\":\"local\"===s?\"panoramic\":\"high\"===t&&n(this._context)&&w.isSupported(this._context)&&g(this.view.spatialReference)?\"realistic\":\"simple\"}_updateBasemapTerrain(){this.view.basemapTerrain&&(this.view.basemapTerrain.velvetOverground=n(this._atmosphere)&&\"simple\"===this.atmosphereType)}get test(){return{atmosphere:this._atmosphere,clouds:this._clouds,selectAtmosphereType:()=>this._selectAtmosphereType(),stubGetAtmosphereClass:e=>{S=P.prototype._getAtmosphereClass,P.prototype._getAtmosphereClass=e},restoreGetAtmosphereClass:()=>{P.prototype._getAtmosphereClass=S}}}};e([l({constructOnly:!0})],M.prototype,\"view\",void 0),e([l({type:Boolean,readOnly:!0})],M.prototype,\"updating\",null),e([l({readOnly:!0})],M.prototype,\"weatherVisible\",null),e([l()],M.prototype,\"_context\",void 0),e([l()],M.prototype,\"_pendingAtmosphere\",void 0),e([l({readOnly:!0})],M.prototype,\"_stars\",null),e([l({readOnly:!0})],M.prototype,\"_precipitation\",null),e([l({readOnly:!0})],M.prototype,\"_clouds\",null),e([l({readOnly:!0})],M.prototype,\"_cloudsComposition\",null),e([l({readOnly:!0})],M.prototype,\"_fog\",null),e([l({readOnly:!0})],M.prototype,\"weatherEnabled\",null),e([l({readOnly:!0})],M.prototype,\"_precipitationEnabled\",null),e([l({readOnly:!0})],M.prototype,\"_weatherUpdateParameters\",null),M=P=e([_(\"esri.views.3d.environment.EnvironmentRenderer\")],M);export{M as EnvironmentRenderer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{rad2deg as t,asinClamped as n,deg2rad as o}from\"../../../core/mathUtils.js\";import r from\"../../../geometry/Point.js\";import{getReferenceEllipsoid as e}from\"../../../geometry/projectionEllipsoid.js\";function s(t,n,o){return u(t,n.longitude,n.latitude,o.longitude,o.latitude)}function u(t,r,e,s,u){const i=o(e),c=o(u),a=i-c,h=o(r)-o(s),d=Math.sin(a/2),f=Math.sin(h/2),m=2*n(Math.sqrt(d*d+Math.cos(i)*Math.cos(c)*f*f))*t;return Math.round(1e4*m)/1e4}function i(t,n,o){const u=n.spatialReference,i=e(u),c=new r(n.x,t.y,u),a=new r(o.x,t.y,u),h=new r(t.x,n.y,u),d=new r(t.x,o.y,u);return{lon:s(i.radius,c,a),lat:s(i.radius,h,d)}}function c(r,e,s){const u=e/s,i=o(r),c=Math.sin(u/2),a=Math.cos(i),h=2*n(Math.sqrt(c*c/(a*a)));return t(h)}function a(n,o){return t(n/o)}function h(t,n){const r=o(t/2);return(1-Math.sin(r))*n/Math.sin(r)}function d(t,n){let o=t/15;return n||(o=Math.round(o)),o}function f(t,n){return d(t.longitude,n)}function m(t,n){n||(n={hours:0,minutes:0,seconds:0}),n.hours=d(t[0],!0);const o=n.hours%1;n.hours-=o,n.minutes=60*o;const r=n.minutes%1;return n.minutes-=r,n.seconds=Math.round(60*r),n}export{u as getGreatCircleDistance,s as getGreatCircleDistanceFromPoints,i as getGreatCircleSpanAt,a as getLatDeltaForDistance,c as getLonDeltaForDistance,h as getMaxCameraAltitude,d as longitudeToTimezone,f as pointToTimezone,m as positionToTimezoneInfo};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nvar n,t,r,e={exports:{}};n=e,t=function(){var n=Math.PI,t=Math.sin,r=Math.cos,e=Math.tan,o=Math.asin,u=Math.atan2,a=Math.acos,i=n/180,c=864e5,f=2440588,d=2451545,s={dec:0,ra:0};function v(n){return n.valueOf()/c-.5+f}function M(n){return new Date((n+.5-f)*c)}function p(n){return v(n)-d}var h=23.4397*i;function l(n,o){return u(t(n)*r(h)-e(o)*t(h),r(n))}function x(n,e){return o(t(e)*r(h)+r(e)*t(h)*t(n))}function N(n,o,a){return u(t(n),r(n)*t(o)-e(a)*r(o))}function P(n,e,u){return o(t(e)*t(u)+r(e)*r(u)*r(n))}function E(n,t){return i*(280.16+360.9856235*n)-t}function I(n){return i*(357.5291+.98560028*n)}function O(n){return i*(1.9148*t(n)+.02*t(2*n)+3e-4*t(3*n))}function T(t,r){return t+r+102.9372*i+n}function g(n,t){var r=I(n),e=T(r,O(r));return t||(t={dec:0,ra:0}),t.dec=x(e,0),t.ra=l(e,0),t}var m={PolarException:{NORMAL:0,MIDNIGHT_SUN:1,POLAR_NIGHT:2},getPosition:function(n,t,r,e){var o=i*-r,u=i*t,a=p(n),c=g(a,s),f=E(a,o)-c.ra;return e||(e={azimuth:0,altitude:0}),e.azimuth=N(f,u,c.dec),e.altitude=P(f,u,c.dec),e}},A=[[-.83,\"sunrise\",\"sunset\"]];m.addTime=function(n,t,r){A.push([n,t,r])};var L=9e-4;function R(t,r){return Math.round(t-L-r/(2*n))}function G(t,r,e){return L+(t+r)/(2*n)+e}function H(n,r,e){return d+n+.0053*t(r)-.0069*t(2*e)}function _(n,e,o){return a((t(n)-t(e)*t(o))/(r(e)*r(o)))}function z(n){var e=i*(134.963+13.064993*n),o=i*(93.272+13.22935*n),u=i*(218.316+13.176396*n)+6.289*i*t(e),a=5.128*i*t(o),c=385001-20905*r(e);return{ra:l(u,a),dec:x(u,a),dist:c}}return m.getTimes=function(n,e,o){var u=i*-o,a=i*e,c=R(p(n),u),f=G(0,u,c),d=I(f),s=O(d),v=T(d,s),h=x(v,0),l=H(f,d,v);function N(n){return H(G(_(n,a,h),u,c),d,v)}function P(n){var e=(t(n)-t(a)*t(h))/(r(a)*r(h));return e<-1?m.PolarException.MIDNIGHT_SUN:e>1?m.PolarException.POLAR_NIGHT:m.PolarException.NORMAL}var E,g,L,z,D,S={solarNoon:M(l),nadir:M(l-.5),polarException:m.PolarException.NORMAL};for(E=0,g=A.length;E<g;E+=1)D=l-((z=N((L=A[E])[0]*i))-l),S[L[1]]=M(D),S[L[2]]=M(z);return S.polarException=P(A[0][0]*i),S},m.getMoonPosition=function(n,t,r){var o=i*-r,u=i*t,a=p(n),c=z(a),f=E(a,o)-c.ra,d=P(f,u,c.dec);return d+=.017*i/e(d+10.26*i/(d+5.1*i)),{azimuth:N(f,u,c.dec),altitude:d,distance:c.dist}},m.getMoonFraction=function(n){var e=p(n),o=g(e),i=z(e),c=149598e3,f=a(t(o.dec)*t(i.dec)+r(o.dec)*r(i.dec)*r(o.ra-i.ra)),d=u(c*t(f),i.dist-c*r(f));return(1+r(d))/2},m},void 0!==(r=t())&&(n.exports=r);const o=e.exports;export{o as S};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{lerp as t,clamp as e}from\"../../../core/mathUtils.js\";import{d as i,i as n,r as o,o as a,g as r}from\"../../../chunks/mat4.js\";import{c as l}from\"../../../chunks/mat4f64.js\";import{s as c,h as s,n as u,g as m,m as d,a as g}from\"../../../chunks/vec3.js\";import{f as h,c as b,a as f}from\"../../../chunks/vec3f64.js\";import{ViewingMode as y}from\"../../ViewingMode.js\";import{S as p}from\"../../../chunks/SunCalc.js\";import{angle as A}from\"./mathUtils.js\";const w={local:{altitude:1500,ambientAtNight:.1,ambientAtNoon:.45,ambientAtTwilight:.2,directAtNoon:.65,directAtTwilight:.7},global:{altitude:8e5,ambient:.015,direct:.75},planarDirection:{localAltitude:1e4,globalAltitude:1e6,globalAngles:{azimuth:1.3*Math.PI,altitude:.6*Math.PI}}};function N(i,n,o,a,r,l,u){c(u.ambient.color,1,1,1),u.ambient.intensity=w.global.ambient,c(u.direct.color,1,1,1),u.direct.intensity=w.global.direct;const m=n[2],d=e((Math.abs(m)-w.local.altitude)/(w.global.altitude-w.local.altitude),0,1);let g;if(u.globalFactor=d,\"sun\"===l&&(g=p.getTimes(i,n[1],n[0])),d<1){let e;if(\"sun\"===l)e=I(i,g,a);else{const t=D(a);e={direct:{intensity:w.local.directAtNoon*t.direct,color:h(1,1,1)},ambient:{intensity:w.local.ambientAtNoon*t.ambient,color:h(1,1,1)},timeOfDay:\"early afternoon\"}}s(u.ambient.color,e.ambient.color,u.ambient.color,d),u.ambient.intensity=t(e.ambient.intensity,u.ambient.intensity,d),s(u.direct.color,e.direct.color,u.direct.color,d),u.direct.intensity=t(e.direct.intensity,u.direct.intensity,d),u.specularStrength=\"rainy\"===a||\"snowy\"===a||\"foggy\"===a?0:1,u.environmentStrength=\"rainy\"===a?.7:\"snowy\"===a||\"foggy\"===a?.75:1}u.noonFactor=\"sun\"===l?j(i,g):1,\"sun\"===l?M(i,n,o,u.direct.directionToLightSource):T(r,o,u.direct.directionToLightSource)}function T(t,e,n){e===y.Global?u(F,t.eye):c(F,0,0,1),m(L,t.viewForward,-1);const o=A(L,F),a=Math.max(o-2*U,0),r=.85*a/(a+1),l=Math.max(U,o-U-r);i(k,-l,t.viewRight),d(n,L,k),g(n,n,m(R,t.viewRight,_)),u(n,n)}function M(t,i,l,s){const u=z,m=n(P);if(l===y.Global)p.getPosition(t,0,0,u),c(s,0,0,-1),o(m,m,-u.azimuth),a(m,m,-u.altitude),d(s,s,m);else{const n=w.planarDirection,a=n.globalAngles,l=i[2];let g=(Math.abs(l)-n.localAltitude)/(n.globalAltitude-n.localAltitude);g=e(g,0,1),g<1?(p.getPosition(t,i[1],i[0],u),u.azimuth=(1-g)*u.azimuth+g*a.azimuth,u.altitude=(1-g)*u.altitude+g*a.altitude):(u.azimuth=a.azimuth,u.altitude=a.altitude),c(s,0,-1,0),r(m,m,-u.azimuth),o(m,m,-u.altitude),d(s,s,m)}}function v(t,e){if(e===y.Global)return!0;const i=w.planarDirection;return Math.abs(t)<i.localAltitude}function x(t,e,i,n,o){const a=t.getTime(),r=e.getTime()-a,l=Math.floor(r/i)+1,c=new Array(l);for(let s=0;s<l;++s)H.setTime(a+i*s),c[s]=b(),M(H,n,o,c[s]);return c}const S=h(.5773502691896258,-.5773502691896258,.5773502691896258);class O{constructor(){this.ambient={color:h(1,1,1),intensity:.55},this.direct={color:h(1,1,1),intensity:.55,directionToLightSource:f(S)},this.noonFactor=.5,this.globalFactor=0,this.specularStrength=1,this.environmentStrength=1}}const P=l(),z={azimuth:0,altitude:0};function j(t,i){const n=t.valueOf();let o,a;i.polarException===p.PolarException.MIDNIGHT_SUN?(o=n-60*(t.getHours()+48)*60*1e3-60*t.getMinutes()*1e3,a=o+432e6):i.polarException===p.PolarException.POLAR_NIGHT?(o=n-2,a=n-1):(o=i.sunrise.valueOf(),a=i.sunset.valueOf());const r=o+(a-o)/2;return 1-e(Math.abs(n-r)/432e5,0,1)}function D(t){switch(t){case\"disabled\":case\"sunny\":case\"cloudy\":return{direct:1,ambient:1};case\"rainy\":return{direct:.4,ambient:1.2};case\"snowy\":return{direct:.5,ambient:1.3};case\"foggy\":return{direct:.2,ambient:1.6}}}function E(t,e){const i=(t[0]+t[1]+t[2])/3;for(let n=0;n<3;n++)t[n]=t[n]+(i-t[n])*e;return t}function I(t,e,i){const n=t.valueOf();let o,a;e.polarException===p.PolarException.MIDNIGHT_SUN?(o=n-60*(t.getHours()+48)*60*1e3-60*t.getMinutes()*1e3,a=o+432e6):e.polarException===p.PolarException.POLAR_NIGHT?(o=n-2,a=n-1):(o=e.sunrise.valueOf(),a=e.sunset.valueOf());const r=a-o,l=o+r/2,c=r/4,s=l-c,u=l+c,m=.06*r,d=o-m/2,g=o+m/2,b=a-m/2,f=a+m/2,y=w.local,A=[.01,y.ambientAtNight],N=[.8,.8,1],T=[.01,.01,.01],M=[y.directAtTwilight,y.ambientAtTwilight],v=[1,.6,.5],x=[.8,.8,1],S=[.9*y.directAtNoon,y.ambientAtNoon],O=[1,.98,.98],P=[.98,.98,1],z=[y.directAtNoon,y.ambientAtNoon],j=[1,1,1],I=[1,1,1],H=S,k=O,F=P,L=M,R=v,U=x;let _,C,V=[0,0],q=[0,0,0],B=[0,0,0];n<d||n>f?(V=A,q=T,B=N,C=\"night\"):n<g?(_=g-d,V=G(n-d,_,A,M),q=G(n-d,_,T,v),B=G(n-d,_,N,x),C=\"sun rising\"):n<s?(_=s-g,V=G(n-g,_,M,S),q=G(n-g,_,v,O),B=G(n-g,_,x,P),C=\"early morning\"):n<l?(_=l-s,V=G(n-s,_,S,z),q=G(n-s,_,O,j),B=G(n-s,_,P,I),C=\"late morning\"):n<u?(_=u-l,V=G(n-l,_,z,H),q=G(n-l,_,j,k),B=G(n-l,_,I,F),C=\"early afternoon\"):n<b?(_=b-u,V=G(n-u,_,H,L),q=G(n-u,_,k,R),B=G(n-u,_,F,U),C=\"late afternoon\"):n<f&&(_=f-b,V=G(n-b,_,L,A),q=G(n-b,_,R,T),B=G(n-b,_,U,N),C=\"sun setting\");let J=0;switch(i){case\"rainy\":case\"foggy\":J=.9;case\"snowy\":J=.5}J>0&&(q=E(q,J),B=E(B,J));const K=h(q[0],q[1],q[2]),Q=h(B[0],B[1],B[2]),W=D(i);return{direct:{intensity:V[0]*W.direct,color:K},ambient:{intensity:V[1]*W.ambient,color:Q},timeOfDay:C}}function G(t,e,i,n){const o=[];for(let a=0;a<i.length;a++)o[a]=(n[a]-i[a])*t/e+i[a];return o}const H=new Date(0),k=l(),F=b(),L=b(),R=b(),U=.25,_=.2;export{O as ColorAndIntensity,N as computeColorAndIntensity,x as computeDirectionsOverTime,v as computeShadowsEnabled};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Color.js\";import r from\"../../../core/Evented.js\";import i from\"../../../core/Handles.js\";import{destroyMaybe as s,isSome as n,isNone as o,mapOr as a}from\"../../../core/maybe.js\";import{after as h}from\"../../../core/promiseUtils.js\";import{watch as c,sync as d,syncAndInitial as l}from\"../../../core/reactiveUtils.js\";import{property as p}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as _}from\"../../../core/accessorSupport/decorators/subclass.js\";import{s as u,g as m,c as f,h as g}from\"../../../chunks/vec3.js\";import{c as P,f as v}from\"../../../chunks/vec3f64.js\";import{b,f as w}from\"../../../chunks/vec4f64.js\";import{canProjectToWGS84ComparableLonLat as C,projectPointToWGS84ComparableLonLat as y}from\"../../../geometry/projection.js\";import{isEarth as U}from\"../../../geometry/support/spatialReferenceUtils.js\";import{ViewingMode as T}from\"../../ViewingMode.js\";import{EnvironmentRenderer as R}from\"./EnvironmentRenderer.js\";import{positionToTimezoneInfo as S}from\"../support/earthUtils.js\";import{computeColorAndIntensity as M,ColorAndIntensity as H,computeShadowsEnabled as W}from\"../support/sunUtils.js\";import{MainLight as G,AmbientLight as j,FillLight as k}from\"../webgl-engine/lighting/Lightsources.js\";import E from\"../../../webscene/background/ColorBackground.js\";let L=class extends r.EventedAccessor{constructor(){super(),this._referencePointUpdateDelay=200,this._referencePointUpdateInterval=3e3,this._referencePointUpdateDistThreshold=1e6,this._referencePosUpdateQuery=null,this._referencePosMapCoordsRequested=null,this._viewHandles=new i,this._preserveAbsoluteDateTime=!1,this._trackingEnabled=!1,this._referencePosResetPreserveAbsoluteTime=!1,this._referencePosUpdateTimer=null,this._referencePosMapCoords=null,this._mainLight=new G,this._ambientLight=new j,this._moonLight=new k,this.disableQueries=!1,this._disableWeather=!1,this._renderer=null,this._referencePosWGS84Comparable=null,this._resetReferencePosition()}destroy(){this.disconnectView(),this._viewHandles.destroy()}get _view(){return this._renderer?.view}get updating(){return!((this.disableQueries||!this._referencePosUpdateQuery&&!this._referencePosMapCoordsRequested)&&!this._renderer?.updating)}get weatherEnabled(){return this._view?.environment.atmosphereEnabled&&!this._disableWeather&&this._view?.state?.viewingMode===T.Global&&U(this._view.spatialReference)}get weatherVisible(){return this.weatherEnabled&&this._renderer?.weatherVisible}get referencePositionWGS84Comparable(){return this._referencePosWGS84Comparable}connectView(e){if(this._renderer)return;this._renderer=new R({view:e});const t=()=>this._updateRenderParameters(),r=()=>this._cameraHandler(),i=()=>this._updateLighting();this._viewHandles.add([c((()=>e.environment.lighting),(e=>this._updateLightingHandler(e)),d),c((()=>\"sun\"===e.environment.lighting.type?e.environment.lighting.date:null),(e=>this._lightingDateHandler(e)),d),c((()=>e.stationary),(()=>this._interactingStationaryHandler())),c((()=>e.environment.lighting.directShadowsEnabled),t,d),c((()=>e.environment.lighting.ambientOcclusionEnabled),t,d),c((()=>e.environment.lighting.waterReflectionEnabled),t,d),c((()=>e.environment.background?.color),t,d),c((()=>e.spatialReference),(()=>this._resetReferencePosition(!0)),d),c((()=>e.environment.weather.type),i,d),c((()=>this.weatherEnabled),i,d),c((()=>e.viewingMode),(()=>this._resetReferencePosition(!0)),l),c((()=>\"sun\"===e.environment.lighting.type&&e.environment.lighting.cameraTrackingEnabled),(e=>this._updateCameraTracking(e)),l),c((()=>e.state.camera),r,l),c((()=>this.disableQueries),r)]),this._updateRenderParameters(),this._updateLighting(),this._cameraHandler(),this.notifyChange(\"updating\")}disconnectView(){this._viewHandles.removeAll(),this._resetReferencePosition(),this._renderer=s(this._renderer)}_updateLightingHandler(e){this._updateCameraTracking(\"sun\"===e.type&&e.cameraTrackingEnabled),this._lightingDateHandler(\"sun\"===e.type?e.date:null),this._updateRenderParameters()}_updateCameraTracking(e){if(this._trackingEnabled=e,e)this._cameraHandler();else{const e=this._view.environment.lighting;\"sun\"===e?.type&&(e.positionTimezoneInfo.autoUpdated=!1)}}_lightingDateHandler(e){const t=this._view.environment.lighting;if(\"virtual\"!==t?.type){if(e){if(!t.positionTimezoneInfo.autoUpdated){this._preserveAbsoluteDateTime=!0;const r=this._view.spatialReference;if(!C(r)){const e=this._view.camera.position;if(!this._referencePosMapCoords||!this._referencePosMapCoords.equals(e))return void this._requestReferencePositionUpdate(e)}if(this._preupdateTracking(e),n(this._referencePosWGS84Comparable)){const e=S(this._referencePosWGS84Comparable,A);n(e)&&(t.autoUpdate(null,e),this._trackingEnabled&&(t.positionTimezoneInfo.autoUpdated=!0))}}this._updateLighting(e)}}else this._updateLighting()}_preupdateTracking(e){!this._trackingEnabled&&\"sun\"===this._view.environment.lighting.type&&this._view.environment.lighting.cameraTrackingEnabled&&this._cameraHandler(e)}_cameraHandler(e=null){const t=this._view;if(!t.ready)return;const r=t.stateManager.camera;r&&(this._cameraHandlerClientSide(r,e)||this._cameraHandlerServerSide(r))}_cameraHandlerClientSide(e,t){const r=U(this._view.spatialReference);if(r&&!C(this._view.spatialReference))return!1;const i=e.position;return o(this._referencePosWGS84Comparable)&&(this._referencePosWGS84Comparable=P()),r?y(i,this._referencePosWGS84Comparable):u(this._referencePosWGS84Comparable,i.longitude,i.latitude,i.z),this.notifyChange(\"referencePositionWGS84Comparable\"),this._autoUpdateTimezone(this._referencePosWGS84Comparable,t)||this._updateLighting(t),!0}_cameraHandlerServerSide(e){const t=e.position;(!this._referencePosMapCoords||this._referencePosMapCoordsRequested||this._exceedsReferencePosDistThreshold(t))&&this._requestReferencePositionUpdate(t,!0),this._view.mapCoordsHelper&&this._referencePosWGS84Comparable&&(this._referencePosWGS84Comparable[2]=t.z*this._view.mapCoordsHelper.unitInMeters,this._referencePosChanged())}_interactingStationaryHandler(){this._view.stationary&&this._executePendingReferencePositionUpdate()}_updateLighting(e){const t=this._view,r=e||(\"sun\"===t.environment.lighting.type?t.environment.lighting.date:null),i=this._referencePosWGS84Comparable,s=n(i)?Q:D;if(n(i)){const e=this.weatherVisible?t.environment.weather.type:\"disabled\";M(r,i,t.state.viewingMode,e,t.state.camera,t.environment.lighting.type,s)}const o=this._mainLight,a=s.direct;m(o.intensity,a.color,a.intensity*Math.PI),f(o.direction,a.directionToLightSource),o.specularStrength=s.specularStrength,o.environmentStrength=s.environmentStrength;const h=this._ambientLight;m(h.intensity,s.ambient.color,s.ambient.intensity);const c=this._moonLight;g(c.intensity,V,I,s.globalFactor);const d=(1-.5*s.globalFactor)*(1-.4*s.noonFactor*(1-s.globalFactor));m(c.intensity,c.intensity,d),f(c.direction,a.directionToLightSource),t._stage.renderView.updateLightSources([o,h,c],1-s.noonFactor,s.globalFactor),this._updateRenderParameters()}_autoUpdateTimezone(e,t=null){if(\"virtual\"===this._view.environment.lighting.type||!this._view.environment.lighting.cameraTrackingEnabled||o(e))return!1;const r=q;r.setTime((t||this._view.environment.lighting.date).getTime());const i=S(e,A);if(o(i))return!1;let s=this._view.environment.lighting.positionTimezoneInfo;if(s.autoUpdated){if(s.hours===i.hours&&s.minutes===i.minutes&&s.seconds===i.seconds)return!1}else s=i;const n=r.getUTCHours()-(i.hours-s.hours),a=r.getUTCMinutes()-(i.minutes-s.minutes),h=r.getUTCSeconds()-(i.seconds-s.seconds);return r.setUTCHours(n),r.setUTCMinutes(a),r.setUTCSeconds(h),!t&&this._view.environment.lighting.autoUpdate(r,i)}_updateRenderParameters(){const e=this._view._stage;if(!e)return;const r=a(this._referencePosWGS84Comparable,!0,(e=>W(e[2],this._view.state.viewingMode))),i=this._view.environment.background,s=i instanceof E?{type:\"color\",color:b(t.toUnitRGBA(i.color))}:{type:\"color\",color:w(0,0,0,1)};e.renderView.setRenderParameters({shadowMap:this._view.environment.lighting.directShadowsEnabled&&r,background:s,environment:this._view.environment,weatherVisible:this._view.environmentManager.weatherVisible})}_resetReferencePosition(e=!1){this._cancelReferencePosUpdates(),this._referencePosMapCoords=null,this._referencePosMapCoordsRequested=null,this._referencePosResetPreserveAbsoluteTime=null,this._referencePosWGS84Comparable=null,this.notifyChange(\"updating\"),e&&this._cameraHandler()}_requestReferencePositionUpdate(e,t=!1){if(!this.disableQueries&&(this._referencePosMapCoordsRequested?this._referencePosMapCoordsRequested.copy(e):this._referencePosMapCoordsRequested=e.clone(),this._referencePosResetPreserveAbsoluteTime=!!t,!this._referencePosUpdateQuery&&!this._referencePosUpdateTimer&&this._view.stationary)){const e=this._referencePosUpdateQuery=h(this._referencePointUpdateDelay).then((()=>{if(this._referencePosUpdateQuery===e){const t=()=>this._referencePosUpdateQuery!==e;return this._doReferencePositionUpdateQuery(t)}})).catch((e=>{\"mapcoordshelper:missing-geometry-service\"===e.name&&(this.disableQueries=!0)})).then((()=>{this._referencePosUpdateQuery===e&&(this._referencePosUpdateQuery=null,this._referencePosUpdateTimer||this._executePendingReferencePositionUpdate(),this.notifyChange(\"updating\"))})),t=this._referencePosUpdateTimer=h(this._referencePointUpdateInterval).then((()=>{this._referencePosUpdateTimer===t&&(this._referencePosUpdateTimer=null,this._referencePosUpdateQuery||this._executePendingReferencePositionUpdate())}));this.notifyChange(\"updating\")}}async _doReferencePositionUpdateQuery(e){this._referencePosResetPreserveAbsoluteTime&&(this._preserveAbsoluteDateTime=!1),this._referencePosMapCoords?this._referencePosMapCoords.copy(this._referencePosMapCoordsRequested):this._referencePosMapCoords=this._referencePosMapCoordsRequested.clone(),this._referencePosResetPreserveAbsoluteTime=null,this._referencePosMapCoordsRequested=null;const t=await this._view.mapCoordsHelper.toGeographic(this._referencePosMapCoords);if(!e()&&!isNaN(t[0])&&!isNaN(t[1])){const e=this._referencePosMapCoords.z*this._view.mapCoordsHelper.unitInMeters;this._referencePosWGS84Comparable?(this._referencePosWGS84Comparable[0]=t[0],this._referencePosWGS84Comparable[1]=t[1],this._referencePosWGS84Comparable[2]=e):this._referencePosWGS84Comparable=[t[0],t[1],e],this._referencePosChanged()}}_executePendingReferencePositionUpdate(){const e=this._referencePosMapCoordsRequested;e&&this._requestReferencePositionUpdate(e,this._referencePosResetPreserveAbsoluteTime)}_referencePosChanged(){this._preserveAbsoluteDateTime?this._updateLighting():this._autoUpdateTimezone(this._referencePosWGS84Comparable)||this._updateLighting(),this.notifyChange(\"referencePositionWGS84Comparable\")}_exceedsReferencePosDistThreshold(e){if(this._referencePosMapCoords){let t=this._referencePosMapCoords.distance(e);return this._view.mapCoordsHelper&&(t*=this._view.mapCoordsHelper.unitInMeters),t>this._referencePointUpdateDistThreshold}return!0}_cancelReferencePosUpdates(){const e=!!this._referencePosUpdateQuery;return this._referencePosUpdateQuery=null,this._referencePosUpdateTimer=null,e}get test(){const e=this;return{get renderer(){return e._renderer},set referencePointUpdateInterval(t){e._referencePointUpdateInterval=t},set referencePointUpdateDistThreshold(t){e._referencePointUpdateDistThreshold=t},set referencePosUpdateTimer(t){e._referencePosUpdateTimer=t},set referencePointUpdateDelay(t){e._referencePointUpdateDelay=t},set disableWeather(t){e._disableWeather=t}}}};e([p({type:Boolean,readOnly:!0})],L.prototype,\"updating\",null),e([p()],L.prototype,\"disableQueries\",void 0),e([p()],L.prototype,\"_disableWeather\",void 0),e([p()],L.prototype,\"weatherEnabled\",null),e([p()],L.prototype,\"weatherVisible\",null),e([p()],L.prototype,\"referencePositionWGS84Comparable\",null),e([p()],L.prototype,\"_renderer\",void 0),e([p()],L.prototype,\"_referencePosWGS84Comparable\",void 0),L=e([_(\"esri.views.3d.environment.SceneViewEnvironmentManager\")],L);const Q=new H,D=new H,q=new Date,A={hours:0,minutes:0,seconds:0},V=v(.22,.22,.33),I=v(.22,.22,.22);export{L as SceneViewEnvironmentManager};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{c as n,g as t,e as a}from\"../../../../chunks/vec3.js\";function O(n,t){return 0!=(n&t)}function L(n,t,a,O,L,i){0!==n&&(a?(i.min=Math.min(i.min,t),i.max=Math.max(i.max,t)):null!=O?(i.min-=Math.max(0,(t-i.min)*(1-O)),i.max+=Math.max(0,(t-i.max)*(1-O))):L&&(i.min-=Math.max(0,t-i.min-L),i.max+=Math.max(0,t-i.max-L)))}var i,N,m;!function(n){n[n.NONE=0]=\"NONE\",n[n.ZOOM=1]=\"ZOOM\",n[n.TUMBLE=2]=\"TUMBLE\",n[n.LOOK_AROUND=3]=\"LOOK_AROUND\",n[n.PAN=4]=\"PAN\",n[n.ASCEND=5]=\"ASCEND\"}(i||(i={})),function(n){n[n.NONE=0]=\"NONE\",n[n.TILT=1]=\"TILT\",n[n.ALTITUDE=2]=\"ALTITUDE\",n[n.DISTANCE=4]=\"DISTANCE\",n[n.COLLISION=8]=\"COLLISION\",n[n.ALL=15]=\"ALL\",n[n.ALL_EXCEPT_COLLISION=7]=\"ALL_EXCEPT_COLLISION\"}(N||(N={})),function(n){n[n.TUMBLE=0]=\"TUMBLE\",n[n.LOOK_AROUND=1]=\"LOOK_AROUND\"}(m||(m={}));const E={selection:N.NONE,interactionType:i.NONE,interactionFactor:0,interactionStartCamera:null,interactionDirection:null,tiltMode:m.TUMBLE};function o(O,L,i,N){return L=L||O.viewForward,n(N,L),t(N,N,Math.sign(a(L,i))),N}export{N as ConstraintTypes,i as InteractionType,m as TiltMode,L as adjustRangeForInteraction,E as defaultApplyOptions,O as hasConstraintType,o as interactionDirectionTowardsConstraintMinimization};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../../../core/mathUtils.js\";import{isSome as e}from\"../../../../core/maybe.js\";import{c as r,g as n}from\"../../../../chunks/vec3.js\";import{c as o}from\"../../../../chunks/vec3f64.js\";import{wrap as i}from\"../../../../geometry/support/ray.js\";import{interactionDirectionTowardsConstraintMinimization as s,defaultApplyOptions as c,InteractionType as a,hasConstraintType as m,ConstraintTypes as u,adjustRangeForInteraction as f}from\"./common.js\";import{closestPointOnRay as p}from\"../../support/intersectionUtils.js\";function d(t,n,o=c){const a=l(t,n,o);if(0===a)return!1;const m=t.renderCoordsHelper,u=m.getAltitude(n.eye)+a,f=s(n,o.interactionDirection,x(t,n,Math.sign(a),h),T),d=r(A,n.viewForward),y=m.intersectInfiniteManifold(i(n.eye,f),u,C);return n.eye=e(y)?y:m.setAltitude(C,u,n.eye),n.center=p(C,n.eye,d,n.center),!0}function l(e,r,n=c){if(!y(e,n))return 0;const o=g(e.state.constraints.altitude,M);j(e,n,o);const i=e.renderCoordsHelper.getAltitude(r.eye),s=t(i,o.min,o.max)-i;return Math.abs(s)<=1e-6?0:s}function y(t,e){const r=t.state.constraints.altitude;return!(!t.state.isGlobal||!r)&&(e.interactionType!==a.TUMBLE||!m(e.selection,u.TILT))}function j(t,e,r){const n=e.interactionType;if(n===a.NONE)return;const{min:o,max:i}=r,{interactionStartCamera:s,interactionFactor:c}=e,m=n===a.TUMBLE||n===a.ZOOM,u=l(t,s),p=0===u?0:t.renderCoordsHelper.getAltitude(s.eye);r.min=o,r.max=i;f(u,p,m,c,.05*p,r)}function x(t,e,r,o){return t.renderCoordsHelper.worldUpAtPosition(e.eye,o),n(o,o,r),o}function g(t,e){return e.min=t.min,e.max=t.max,e}const M={min:0,max:0},T=o(),h=o(),A=o(),C=o();export{d as applyAltitudeConstraint,l as getAltitudeConstraintError};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{i as n,c as r,r as t,b as o,a as i}from\"../../../../chunks/vec3.js\";import{c as s}from\"../../../../chunks/vec3f64.js\";import{wrap as c}from\"../../../../geometry/support/ray.js\";import{h as a,l as f}from\"../../../../chunks/sphere.js\";import{defaultApplyOptions as m,interactionDirectionTowardsConstraintMinimization as u,InteractionType as p,adjustRangeForInteraction as d}from\"./common.js\";function y(e,n,r=m){if(!e.state.isLocal)return 0;const t=e.state.constraints.distance;if(!e.pointsOfInterest.surfaceOrigin.renderLocation||t===1/0)return 0;x.min=0,x.max=t,g(e,r,x);const o=j(e,n),i=x.max-o;return i>=-1e-6?0:i}function O(n,t,s=m){const p=y(n,t,s);if(0===p)return!1;const d=n.pointsOfInterest.surfaceOrigin,O=j(n,t)+p,g=r(h,t.eye),x=u(t,s.interactionDirection,l(n,t,k),L);if(!a(f(d.renderLocation,O),c(t.eye,x),C))return!1;t.eye=C;const N=o(I,t.eye,g);t.center=i(C,t.center,N);const b=n.renderCoordsHelper.getAltitude(t.center),v=n.renderCoordsHelper.intersectInfiniteManifold(t.ray,b,C);return e(v)&&(t.center=v),!0}function g(e,n,r){const t=n.interactionType;if(t===p.NONE)return;const{min:o,max:i}=r,{interactionStartCamera:s,interactionFactor:c}=n,a=t===p.ZOOM||t===p.PAN,f=y(e,s),m=0===f?0:j(e,s);r.min=o,r.max=i;d(f,m,a,c,.05*m,r)}function j(e,r){const t=e.pointsOfInterest.surfaceOrigin;return n(r.eye,t.renderLocation)}function l(e,n,r){const o=e.pointsOfInterest.surfaceOrigin;return t(r,n.eye,o.renderLocation)}const x={min:0,max:0},h=s(),I=s(),L=s(),k=s(),C=s();export{O as applyDistanceConstraint,y as getDistanceConstraintError};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as e,unwrapOr as r}from\"../../../core/maybe.js\";import{c as n,d as t,g as o,b as i,a as s,e as a,l as c}from\"../../../chunks/vec3.js\";import{c as l}from\"../../../chunks/vec3f64.js\";import{getReferenceEllipsoid as d}from\"../../../geometry/projectionEllipsoid.js\";import{containsPoint as u}from\"../../../geometry/support/aaBoundingRect.js\";import{newIntersector as f}from\"../webgl-engine/lib/Intersector.js\";function p(r,n,t,o){return e(r.renderCoordsHelper.fromRenderCoords(n.eye,j,o))&&u(t,j)}function m(e,n){return e.elevationProvider?r(e.elevationProvider.getElevation(n[0],n[1],n[2],e.renderCoordsHelper.spatialReference,\"ground\"),0):0}function g(e,r,a,c){const l=e.state.camera.clone();r&&(l.eye=r,l.center=a,l.up=c),v(e,l.ray,w)||n(w,l.center);const d=e.state.constraints,u=d.minimumPoiDistance;if(t(l.eye,w)<u){const r=d.collision.enabled;n(H,l.viewForward),o(H,H,u),r?l.eye=i(j,w,H):s(w,l.eye,H);const t=e.renderCoordsHelper,a=t.getAltitude(l.eye),c=d.collision.elevationMargin;r&&a<c&&(i(H,w,l.eye),l.eye=t.setAltitude(j,c,l.eye),s(w,l.eye,H))}return l.center=w,l}function y(e,r,n){if(!e.state.isGlobal)return!1;const o=m(e,r),i=e.stateManager.constraintsManager.nearFarHeuristic,{far:s}=i.compute(r,n,e.renderDataExtent,o,C),a=s*s;return t(r,n)>a}function v(e,r,n){let t=M[e.viewingMode];t||(t=f(e.state.viewingMode),t.options.backfacesTerrain=!e.state.isGlobal,t.options.invisibleTerrain=!0,M[e.viewingMode]=t);const{isGlobal:o}=e.state;return!(!e.sceneIntersectionHelper.intersectRay(r,t,n)||y(e,r.origin,n))||(!(!e.renderCoordsHelper.intersectManifold(r,0,n)||y(e,r.origin,n))||!!o&&b(r,n,d(e.spatialReference).radius))}function b(e,r,n){const t=a(e.origin,e.origin)-n*n,i=t>0?Math.sqrt(t)/3:1;return o(r,e.direction,i/c(e.direction)),s(r,r,e.origin),!0}const M={},j=l(),w=l(),H=l(),C={near:0,far:0};export{g as cameraOnContentAlongViewDirection,p as eyeWithinExtent,m as surfaceElevationBelowRenderLocation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{l as e,b as E,a as t,g as n}from\"../../../../chunks/vec3.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{surfaceElevationBelowRenderLocation as s}from\"../intersectionUtils.js\";function o(r,o,l=i.EYE){const a=r.state.constraints;if(!a.collision.enabled)return!1;const N=s(r,o.eye),A=r.renderCoordsHelper.getAltitude(o.eye),C=N+a.collision.elevationMargin;if(A>=C)return!1;const f=e(o.eye);if(E(c,o.center,o.eye),o.eye=r.renderCoordsHelper.setAltitude(_,C,o.eye),l===i.EYE_AND_CENTER)o.center=t(c,o.eye,c);else if(l===i.EYE_AND_CENTER_SCALE){const e=(f-A+C)/f;o.center=n(c,o.center,e)}return!0}var i;!function(e){e[e.EYE=0]=\"EYE\",e[e.EYE_AND_CENTER=1]=\"EYE_AND_CENTER\",e[e.EYE_AND_CENTER_SCALE=2]=\"EYE_AND_CENTER_SCALE\"}(i||(i={}));const c=r(),_=r();export{i as Mode,o as applySurfaceCollisionConstraint};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{acosClamped as o}from\"../../../../core/mathUtils.js\";import{b as s,l as t,e as r}from\"../../../../chunks/vec3.js\";import{c}from\"../../../../chunks/vec3f64.js\";function n(c,n,e){c.worldUpAtPosition(n,i),s(m,e,n);const a=t(m);return 0===a?0:o(r(m,i)/a)}const i=c(),m=c();export{n as viewAngle};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../../core/compilerUtils.js\";import{clamp as t,acosClamped as r,asinClamped as n,deg2rad as i}from\"../../../../core/mathUtils.js\";import{isSome as s}from\"../../../../core/maybe.js\";import{d as a}from\"../../../../chunks/mat4.js\";import{c}from\"../../../../chunks/mat4f64.js\";import{b as o,m as u,g as l,a as m,i as d,e as f,n as p,l as y,p as h}from\"../../../../chunks/vec3.js\";import{c as M}from\"../../../../chunks/vec3f64.js\";import{getReferenceEllipsoid as C}from\"../../../../geometry/projectionEllipsoid.js\";import{j as I,k as O,t as T}from\"../../../../chunks/sphere.js\";import{TiltMode as A,defaultApplyOptions as D,InteractionType as S,hasConstraintType as w,ConstraintTypes as R,adjustRangeForInteraction as j}from\"./common.js\";import{viewAngle as x}from\"../../state/utils/viewUtils.js\";function P(t,r,n=D,i=!0){W.eyeCenterDistance=0,W.requiresTwoSteps=!1;const s=U(t,r,n,void 0,W);if(0===s)return!1;switch(a(z,-s,r.viewRight),n.tiltMode){case A.LOOK_AROUND:u(_,r.viewForward,z),l(_,_,W.eyeCenterDistance),r.center=m(G,r.eye,_);break;case A.TUMBLE:o(_,r.center,r.eye),u(_,_,z),r.eye=o(G,r.center,_);break;default:e(n.tiltMode)}return r.up=u(G,r.up,z),!W.requiresTwoSteps||!i||P(t,r,n,!1)}function U(e,t,r=D,n=D,i){if(!e.state.constraints.tilt)return 0;const s=t.distance,a=e.state.constraints.tilt(s,Q);return B(e,r,a),n.interactionType===S.TUMBLE&&w(n.selection,R.ALTITUDE)&&K(e,n.interactionStartCamera,a),r.tiltMode===A.LOOK_AROUND||n.tiltMode===A.LOOK_AROUND?L(e,t,a,i):v(e,t,a)}function v(e,r,n){const i=x(e.renderCoordsHelper,r.center,r.eye),s=i-t(i,n.min,n.max);return g(s)?s:0}function L(t,r,n,i){switch(i&&(i.requiresTwoSteps=!1),t.viewingMode){case\"global\":return q(t,r,n,i);case\"local\":return k(t,r,n,i);default:return void e(t.viewingMode)}}function k(e,r,n,i){const s=x(e.renderCoordsHelper,r.center,r.eye),a=t(s,n.min,n.max),c=s-a;if(!g(c))return 0;if(i){const t=e.pointsOfInterest.centerOnSurfaceFrequent.estimatedSurfaceAltitude,n=e.renderCoordsHelper.getAltitude(r.eye)-t,s=Math.cos(a);Math.abs(s)>1e-4?i.eyeCenterDistance=n/s:i.eyeCenterDistance=r.distance}return c}function q(e,r,n,i){const s=b(e,r,V),a=t(s.tiltAtCenter,n.min,n.max);if(!g(s.tiltAtCenter-a))return 0;let c,o;return s.centerIsOnSurface?(c=E(s),o=F(s,c)):(c=s.constraints.clampTilt(s.eyeCenterDistance,s.tiltAtCenter),i&&c<Math.PI/2&&(i.requiresTwoSteps=!0,c=Math.PI/2-1e-5),o=N(s,c)),i&&(i.eyeCenterDistance=H(s,c)),o}function b(e,t,n){const i=e.pointsOfInterest.centerOnSurfaceFrequent.estimatedSurfaceAltitude,a=i+C(e.spatialReference).radius,c=e.renderCoordsHelper.intersectManifold(t.ray,i,G);return n.eyeCenterDistance=t.distance,n.centerIsOnSurface=!1,s(c)?(n.eyeCenterDistance=d(t.eye,c),n.tiltAtCenter=x(e.renderCoordsHelper,c,t.eye),n.centerIsOnSurface=!0):e.state.isLocal?n.tiltAtCenter=x(e.renderCoordsHelper,t.center,t.eye):(I(O(T,a),t.ray,G),n.eyeCenterDistance=d(t.eye,G),n.tiltAtCenter=r(-f(t.viewForward,p(G,G)))),n.radius=a,n.eyeRadius=y(t.eye),n.constraints=e.state.constraints,n}function g(e){return Math.abs(e)>1e-9}function E(e){const{constraints:t,eyeCenterDistance:r,tiltAtCenter:n}=e;let i=n,s=t.clampTilt(r,n);const a=H(e,s);if(t.clampTilt(a,n)===s)return s;let c=0;for(;c<10&&g(s-i);){const r=(i+s)/2,n=H(e,r);g(t.clampTilt(n,r)-r)?i=r:s=r,c++}return s}function H(e,r){if(!e.centerIsOnSurface)return e.eyeCenterDistance;const i=Math.PI-t(r,0,Math.PI),s=n(e.radius/e.eyeRadius*Math.sin(i)),a=Math.PI-i-s,c=Math.sin(a)/Math.sin(i);if(e.eyeRadius<e.radius&&c>1){const t=Math.PI-s,r=Math.PI-i-t;return Math.sin(r)/Math.sin(i)*e.eyeRadius}return c*e.eyeRadius}function F(e,t){const r=n(e.radius/e.eyeRadius*Math.sin(e.tiltAtCenter)),i=n(e.radius/e.eyeRadius*Math.sin(t));return e.eyeRadius>e.radius?r-i:i-r}function N(e,t){return e.tiltAtCenter-Math.PI/2-(t-Math.PI/2)}function B(e,t,r){if(t.interactionType===S.NONE)return;const{interactionStartCamera:n,interactionFactor:i}=t,{min:s,max:a}=r,c=U(e,n,D,t),o=0===c?0:x(e.renderCoordsHelper,n.center,n.eye);r.min=s,r.max=a,t.interactionType===S.TUMBLE?(w(t.selection,R.ALTITUDE)&&K(e,n,r),j(c,o,!0,i,J,r)):j(c,o,!1,i,J,r)}function K(e,t,n){if(e.state.isLocal)return;const i=e.state.constraints;if(!i.altitude)return;const s=h(t.center),a=Math.sqrt(s),c=t.distance,o=C(e.spatialReference).radius,u=i.altitude.min+o,l=i.altitude.max+o,m=(u*u-c*c-s)/(-2*a*c),d=(l*l-c*c-s)/(-2*a*c);n.min=Math.max(n.min,Math.min(Math.PI-r(d),n.max)),n.max=Math.min(n.max,Math.PI-r(m))}const _=M(),z=c(),G=M(),J=i(5),Q={min:0,max:0},V={constraints:null,radius:0,eyeRadius:0,centerIsOnSurface:!0,eyeCenterDistance:0,tiltAtCenter:0},W={eyeCenterDistance:0,requiresTwoSteps:!1};export{P as applyTiltConstraint,U as getTiltConstraintError};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nfunction t(t){return t}const u=t=>t*t,o=t=>1-u(1-t),i=t=>t<.5?u(2*t)/2:(o(2*(t-.5))+1)/2,n=t=>t*t*t,c=t=>1-n(1-t),a=t=>t<.5?n(2*t)/2:(c(2*(t-.5))+1)/2,s=t=>t*t*t*t,q=t=>1-s(1-t),r=t=>t<.5?s(2*t)/2:(q(2*(t-.5))+1)/2,e=t=>t*t*t*t*t,b=t=>1-e(1-t),d=t=>t<.5?e(2*t)/2:(b(2*(t-.5))+1)/2,h=t=>1-Math.cos(t*Math.PI/2),p=t=>1-h(1-t),x=t=>t<.5?h(2*t)/2:(p(2*(t-.5))+1)/2,M=t=>2**(10*(t-1)),f=t=>1-M(1-t),l=t=>t<.5?M(2*t)/2:(f(2*(t-.5))+1)/2,I=t=>-(Math.sqrt(1-t*t)-1),P=t=>1-I(1-t),g=t=>t<.5?I(2*t)/2:(P(2*(t-.5))+1)/2;function j(t){const u=2*(t-Math.sqrt((t-1)*t)),o=u/2/t;return i=>i<o?t*i*i:u*i-u+1}function k(t,u){return(o,i)=>o<u?u*t(o/u,i):1-t((1-o)/(1-u),i)*(1-u)}const m=k(j(1),1),v=k(j(1),0),w=k(j(1),.5),y=k(j(2),1),z=k(j(2),0),A=k(j(2),.5),B=k(j(3),1),C=k(j(3),0),D=k(j(3),.5),E=k(j(4),1),F=k(j(4),0),G=k(j(4),.5),H={linear:t,\"in-quad\":u,\"out-quad\":o,\"in-out-quad\":i,\"in-coast-quad\":m,\"out-coast-quad\":v,\"in-out-coast-quad\":w,\"in-cubic\":n,\"out-cubic\":c,\"in-out-cubic\":a,\"in-coast-cubic\":y,\"out-coast-cubic\":z,\"in-out-coast-cubic\":A,\"in-quart\":s,\"out-quart\":q,\"in-out-quart\":r,\"in-coast-quart\":B,\"out-coast-quart\":C,\"in-out-coast-quart\":D,\"in-quint\":e,\"out-quint\":b,\"in-out-quint\":d,\"in-coast-quint\":E,\"out-coast-quint\":F,\"in-out-coast-quint\":G,\"in-sine\":h,\"out-sine\":p,\"in-out-sine\":x,\"in-expo\":M,\"out-expo\":f,\"in-out-expo\":l,\"in-circ\":I,\"out-circ\":P,\"in-out-circ\":g};export{H as EasingFunctions,I as inCirc,y as inCoastCubic,m as inCoastQuad,B as inCoastQuart,E as inCoastQuint,n as inCubic,M as inExpo,g as inOutCirc,A as inOutCoastCubic,w as inOutCoastQuad,D as inOutCoastQuart,G as inOutCoastQuint,a as inOutCubic,l as inOutExpo,i as inOutQuad,r as inOutQuart,d as inOutQuint,x as inOutSine,u as inQuad,s as inQuart,e as inQuint,h as inSine,t as linear,P as outCirc,z as outCoastCubic,v as outCoastQuad,C as outCoastQuart,F as outCoastQuint,c as outCubic,f as outExpo,o as outQuad,q as outQuart,b as outQuint,p as outSine};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{j as t}from\"../../../chunks/vec2.js\";import{getAltitudeConstraintError as o,applyAltitudeConstraint as r}from\"./constraintUtils/altitude.js\";export{applyAltitudeConstraint,getAltitudeConstraintError}from\"./constraintUtils/altitude.js\";import{ConstraintTypes as n,InteractionType as i,TiltMode as e,hasConstraintType as s}from\"./constraintUtils/common.js\";export{ConstraintTypes,InteractionType}from\"./constraintUtils/common.js\";import{getDistanceConstraintError as a,applyDistanceConstraint as l}from\"./constraintUtils/distance.js\";export{applyDistanceConstraint,getDistanceConstraintError}from\"./constraintUtils/distance.js\";import{applySurfaceCollisionConstraint as c,Mode as p}from\"./constraintUtils/surfaceCollision.js\";export{Mode as ApplyCollisionMode,applySurfaceCollisionConstraint}from\"./constraintUtils/surfaceCollision.js\";import{applyTiltConstraint as m,getTiltConstraintError as f}from\"./constraintUtils/tilt.js\";export{applyTiltConstraint,getTiltConstraintError}from\"./constraintUtils/tilt.js\";import{inOutCubic as u}from\"../../animation/easing.js\";function E(t,o,r=d,i=o){let e=!1;i!==o&&i.copyFrom(o),i.computeUp(t.state.viewingMode);for(let n=0;n<j;n++){let o=0;for(const n of U)if(s(r.selection,n.type)){const s=Math.abs(n.error(t,i,r));n.apply(t,i,r)&&(e=!0,o+=s)}if(0===o)break}const a=s(r.selection,n.COLLISION),l=C(r.interactionType,t);return a&&c(t,i,l)&&(e=!0),e&&i.computeUp(t.state.viewingMode),e}function C(t,o){switch(t){case i.PAN:return p.EYE_AND_CENTER;case i.ASCEND:return o.state.isGlobal?p.EYE_AND_CENTER_SCALE:p.EYE_AND_CENTER;default:return p.EYE}}function y(o,r){const n=\"number\"==typeof o?o:t(o,r),i=Math.min(1,n/150);return u(i)}function T(t,o,r){return f(t,o,r)*o.distance}const U=[{type:n.TILT,error:T,apply:m},{type:n.ALTITUDE,error:o,apply:r},{type:n.DISTANCE,error:a,apply:l}],d={selection:n.ALL,interactionType:i.NONE,interactionFactor:0,interactionStartCamera:null,interactionDirection:null,tiltMode:e.TUMBLE},j=5;export{E as applyAll,y as pixelDistanceToInteractionFactor};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{lerp as t}from\"../../../../core/mathUtils.js\";import{t as e}from\"../../../../chunks/mat3.js\";import{c as i}from\"../../../../chunks/mat3f64.js\";import{l as s,i as a,h as o,c as h,b as r,t as n,g as c,f as p,e as m,a as d,n as w}from\"../../../../chunks/vec3.js\";import{c as l,a as u,f as y}from\"../../../../chunks/vec3f64.js\";import{ViewingMode as M}from\"../../../ViewingMode.js\";import{angle as f,slerp as A}from\"../../support/mathUtils.js\";const P=l(),g=l(),_=l(),k=l(),v=l(),x=l(),z={upward:y(0,0,1),forward:y(0,1,0),sideway:y(1,0,0)},b=i();class T{constructor(t=M.Global){this.viewingMode=t,this.center=l(),this.pitch=0,this.yaw=0,this.distance=0,this.lookAtDirection=u(z.forward)}pixelsPerPanAtZoom(t){return this.size/2/(this._zoomToPanScale*t)}zoomAtPixelsPerPan(t){return this.size/2/(this._zoomToPanScale*t)}pixelsPerRotateAtZoom(){const t=Math.max(Math.cos(Math.abs(this.pitch)),.5);return this.size/2/t}compareTo(t,e){if(e||(e={pan:0,rotate:0,sourceZoom:0,targetZoom:0}),this.viewingMode===M.Global){const i=(s(this.center)+s(t.center))/2;e.pan=f(this.center,t.center)*i}else e.pan=a(this.center,t.center);let i=Math.abs(t.yaw-this.yaw);i>=Math.PI&&(i=2*Math.PI-i);const o=Math.abs(t.pitch-this.pitch);return e.rotate=Math.max(i,o),e.sourceZoom=this.distance,e.targetZoom=t.distance,e}interpolate(e,i,s){this.viewingMode===M.Global?A(e.center,i.center,s.pan,this.center):o(this.center,e.center,i.center,s.pan),this.distance=t(e.distance,i.distance,s.zoom),this.pitch=t(e.pitch,i.pitch,s.rotate);let a=e.yaw;const h=i.yaw;Math.abs(h-a)>=Math.PI&&(a+=2*(a<h?1:-1)*Math.PI),this.yaw=t(a,h,s.rotate)}copyFrom(t){h(this.center,t.center),this.pitch=t.pitch,this.yaw=t.yaw,this.distance=t.distance,h(this.lookAtDirection,t.lookAtDirection),this.size=t.size,this.copyFromCommon(t),this.viewingMode=t.viewingMode}copyFromRenderCamera(t){const e=this._lookAtOrientation(t.center,b);h(this.center,t.center),r(k,t.center,t.eye),n(k,k,e),n(v,t.up,e),this.distance=s(k),k[0]/=this.distance,k[1]/=this.distance,k[2]/=this.distance,this.pitch=this._eyeUpToPitch(k),this.yaw=this._eyeUpToYaw(k,v),this.size=Math.sqrt(t.width*t.width+t.height*t.height),this.copyFromCommon(t)}copyFromCommon(t){this.fov=t.fov,this._zoomToPanScale=Math.atan(.5*this.fov)}copyToRenderCamera(t){const i=this._lookAtOrientation(this.center,b);e(i,i),this._axisAngleVec3(z.sideway,this.pitch-Math.PI/2,z.forward,k),this._axisAngleVec3(z.upward,this.yaw,k),this._axisAngleVec3(z.sideway,this.pitch-Math.PI/2,z.upward,v),this._axisAngleVec3(z.upward,this.yaw,v),c(k,k,this.distance),n(k,k,i),n(v,v,i),t.center=this.center,t.eye=r(k,this.center,k),t.up=v}_axisAngleVec3(t,e,i,s=i){const a=Math.cos(e),o=Math.sin(e);return c(P,i,a),p(g,t,i),c(g,g,o),c(_,t,(1-a)*m(t,i)),d(s,d(s,P,g),_)}_lookAtOrientation(t,e=i()){return this._upAtLookAt(t,_),p(P,this.lookAtDirection,_),w(P,P),0===P[0]&&0===P[1]&&0===P[2]&&h(P,z.sideway),p(g,_,P),w(g,g),e[0]=P[0],e[1]=g[0],e[2]=_[0],e[3]=P[1],e[4]=g[1],e[5]=_[1],e[6]=P[2],e[7]=g[2],e[8]=_[2],e}_upAtLookAt(t,e){return this.viewingMode===M.Local?h(e,z.upward):w(e,t)}_eyeUpToPitch(t){return Math.PI-f(z.upward,t)}_eyeUpToYaw(t,e){const i=x;return Math.abs(e[2])<.5?(h(i,e),t[2]>0&&c(i,i,-1)):h(i,t),p(g,i,z.upward),w(g,g),f(z.sideway,g,z.upward)}}export{T as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{Milliseconds as e}from\"../../../core/time.js\";const o={desiredScreenFlow:2,minDuration:e(500),maxDuration:e(8e3)};export{o as defaultSettings};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{defaultSettings as e}from\"./Settings.js\";class t{constructor(t){this.createCamera=t,this.compared={sourceZoom:0,targetZoom:0,pan:0,rotate:0},this.settings={desiredScreenFlow:e.desiredScreenFlow},this.source=t(),this.target=t()}clone(){const e=new t(this.createCamera);return e.copyFrom(this),e}copyFrom(e){this.update(e.source,e.target,e.settings)}update(t,r,s){this.source!==t&&this.source.copyFrom(t),this.target!==r&&this.target.copyFrom(r),this.compared=this.source.compareTo(this.target,this.compared),this.settings.desiredScreenFlow=null!=s.desiredScreenFlow?s.desiredScreenFlow:e.desiredScreenFlow,this.desiredPixelFlow=this.settings.desiredScreenFlow*this.target.size,this.halfWindowSize=this.target.size/2}halfWindowPanAtZoom(e){const t=this.target.pixelsPerPanAtZoom(e);return this.halfWindowSize/t}get hasZoom(){return Math.abs(this.compared.sourceZoom-this.compared.targetZoom)>1e-5}get hasPan(){return this.compared.pan>1e-9}get hasRotate(){return this.compared.rotate>1e-9}}export{t as Definition};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{Seconds as t}from\"../../../core/time.js\";class e{constructor(){this.segments=[]}get time(){return this.segments.reduce(((e,o)=>t(e+o.time)),t(0))}interpolateComponentsAt(t,e){t=Math.min(Math.max(t,0),1),t*=this.time;let o=0,n=0;const s=this.definition;for(let m=0;m<this.segments.length;m++){const r=this.segments[m],a=r.definition;if(t<=r.time||m===this.segments.length-1){e=this.segmentInterpolateComponentsAt(r,t/r.time,e),s.hasPan?e.pan=(o+a.compared.pan*e.pan)/s.compared.pan:e.pan=1,s.hasRotate?e.rotate=(n+a.compared.rotate*e.rotate)/s.compared.rotate:e.rotate=1;const m=e.zoom*(a.compared.targetZoom-a.compared.sourceZoom)+a.compared.sourceZoom,i=this.segments[0].definition.compared.sourceZoom,p=this.segments[this.segments.length-1].definition.compared.targetZoom;return s.hasZoom?e.zoom=(m-i)/(p-i):e.zoom=1,e}t-=r.time,o+=a.compared.pan,n+=a.compared.rotate}}segmentInterpolateComponentsAt(t,e,o){return t.interpolateComponentsAt(e,o)}}export{e as Path};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{Seconds as t}from\"../../../core/time.js\";class i{constructor(t){t&&this.update(t)}get time(){return this._time}update(t){t&&(this.definition?this.definition.copyFrom(t):this.definition=t.clone()),this._updatePrecomputedVariables(),this._updatePixelFlow()}_updatePrecomputedVariables(){const t=this.definition,i=t.compared,o=i.sourceZoom,e=i.targetZoom;this._zoomSign=o>e?1:-1,this._panPixelsAtSource=i.pan*t.source.pixelsPerPanAtZoom(o);const n=(t.source.pixelsPerRotateAtZoom(o)+t.target.pixelsPerRotateAtZoom(e))/2;this._rotatePixels=i.rotate*n}_updatePixelFlow(){const i=this.definition.compared.sourceZoom,o=this.definition.compared.targetZoom,{hasZoom:e,hasPan:n,hasRotate:s}=this.definition;let a=0,h=0;e&&(n&&(a=(o/i-1)/(-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2*this._panPixelsAtSource)),s&&(h=this._zoomSign*(Math.log(i/o)/Math.LN2)*this.definition.halfWindowSize/this._rotatePixels)),this._zoomPixelFlow=0,this._panPixelFlow=0,this._rotatePixelFlow=0;const l=this.definition.desiredPixelFlow;if(e&&n&&s){const t=a+h+a*h;this._zoomPixelFlow=a*h/t*l,this._panPixelFlow=h/t*l,this._rotatePixelFlow=a/t*l}else if(e&&n){const t=1+a;this._zoomPixelFlow=a/t*l,this._panPixelFlow=1/t*l}else if(e&&s){const t=1+h;this._zoomPixelFlow=h/t*l,this._rotatePixelFlow=1/t*l}else if(n&&s){const t=this._panPixelsAtSource/this._rotatePixels,i=1+t;this._panPixelFlow=t/i*l,this._rotatePixelFlow=1/i*l}else n?this._panPixelFlow=l:e?this._zoomPixelFlow=l:s&&(this._rotatePixelFlow=l);this._time=s?this.rotateTime:e?this.zoomTime:n?this.panTime:t(0)}get rotateTime(){return this.definition.hasRotate?t(this._rotatePixels/this._rotatePixelFlow):t(0)}get zoomTime(){return this.definition.hasZoom?t(this._zoomSign*(Math.log(this.definition.compared.sourceZoom/this.definition.compared.targetZoom)/Math.LN2)*this.definition.halfWindowSize/this._zoomPixelFlow):t(0)}get panTime(){if(this.definition.hasPan){if(this.definition.hasZoom){const i=-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2,o=i*this._panPixelsAtSource;return t(Math.log(o*(this._zoomPixelFlow/this._panPixelFlow)+1)/(i*this._zoomPixelFlow))}return t(this._panPixelsAtSource/this._panPixelFlow)}return t(0)}_interpolateComponentsZoom(t){if(0===t||1===t)return t;if(this.definition.hasZoom){const i=this.definition.compared.sourceZoom,o=this.definition.compared.targetZoom;return(i*(i/o)**-t-i)/(o-i)}return t}_interpolateComponentsPan(t){if(0===t||1===t)return t;if(this.definition.hasPan&&this.definition.hasZoom){const i=-1/(this._zoomSign*this.definition.halfWindowSize)*this._zoomPixelFlow;return 1/this._panPixelsAtSource*(this._panPixelFlow*(2**(i*t*this._time)-1))/(i*Math.LN2)}return t}_interpolateComponentsRotate(t){return t}interpolateComponentsAt(t,i){t=Math.min(Math.max(t,0),1);const o=this._interpolateComponentsZoom(t),e=this._interpolateComponentsPan(t),n=this._interpolateComponentsRotate(t);return i?(i.zoom=o,i.pan=e,i.rotate=n):i={zoom:o,pan:e,rotate:n},i}}export{i as Segment};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nfunction o(o,a,e){const n=a-o.compared.sourceZoom,t=o.halfWindowPanAtZoom(n);return-o.halfWindowSize*(e.ascensionFactor*Math.LN2*o.compared.pan+t)*Math.log(o.compared.sourceZoom/a)/(o.desiredPixelFlow*Math.LN2*t)}function a(o,a,e){const n=1/a,t=Math.log(o.compared.sourceZoom*n),i=1/o.desiredPixelFlow,r=1/Math.LN2,d=a-o.compared.sourceZoom,c=1/d,l=(e.ascensionFactor*Math.LN2*o.compared.pan+o.halfWindowPanAtZoom(d))/o.halfWindowPanAtZoom(1);return o.halfWindowSize*n*i*r*c*l-o.halfWindowSize*t*i*r*c+o.halfWindowSize*t*i*r*l/(d*d)}function e(o,a,e){const n=a-o.compared.sourceZoom,t=1/n,i=1/a,r=Math.log(o.compared.sourceZoom*i),d=(e.ascensionFactor*Math.LN2*o.compared.pan+o.halfWindowPanAtZoom(n))/o.halfWindowPanAtZoom(1);return o.halfWindowSize*t*(-2*t*i*d+2*t*r+2*i-2*r*d/(n*n)-d/(a*a))/(o.desiredPixelFlow*Math.LN2)}function n(o,a){return-o.halfWindowSize*Math.log(o.compared.sourceZoom/a)/(o.desiredPixelFlow*Math.LN2)}function t(o,a){return o.halfWindowSize/(a*o.desiredPixelFlow*Math.LN2)}function i(o,a){return-o.halfWindowSize/(a*a*o.desiredPixelFlow*Math.LN2)}function r(o,a,e){return-o.compared.pan*o.halfWindowSize*(e.ascensionFactor+e.descensionFactor-1)/(o.desiredPixelFlow*o.halfWindowPanAtZoom(a))}function d(o,a,e){return o.compared.pan*o.halfWindowSize*(e.ascensionFactor+e.descensionFactor-1)/(o.desiredPixelFlow*o.halfWindowPanAtZoom(a*a))}function c(o,a,e){return-2*o.compared.pan*o.halfWindowSize*(e.ascensionFactor+e.descensionFactor-1)/(o.desiredPixelFlow*o.halfWindowPanAtZoom(a*a*a))}function l(o,a,e){return o.halfWindowSize*(-o.halfWindowPanAtZoom(a)-e.descensionFactor*Math.LN2*o.compared.pan+o.halfWindowPanAtZoom(o.compared.targetZoom))*Math.log(a/o.compared.targetZoom)/(o.desiredPixelFlow*Math.LN2*o.halfWindowPanAtZoom(-a+o.compared.targetZoom))}function m(o,a,e){const n=Math.log(a/o.compared.targetZoom),t=1/o.desiredPixelFlow,i=1/Math.LN2,r=-a+o.compared.targetZoom,d=1/r,c=(-o.halfWindowPanAtZoom(a)-e.descensionFactor*Math.LN2*o.compared.pan+o.halfWindowPanAtZoom(o.compared.targetZoom))/o.halfWindowPanAtZoom(1);return-o.halfWindowSize*n*t*i*d+o.halfWindowSize*n*t*i*c/(r*r)+o.halfWindowSize*t*i*d*c/a}function h(o,a,e){const n=a-o.compared.targetZoom,t=1/n,i=1/a,r=Math.log(a/o.compared.targetZoom),d=(o.halfWindowPanAtZoom(a)+e.descensionFactor*Math.LN2*o.compared.pan-o.halfWindowPanAtZoom(o.compared.targetZoom))/o.halfWindowPanAtZoom(1);return o.halfWindowSize*t*(-2*t*i*d-2*t*r+2*i+2*r*d/(n*n)-d/(a*a))/(o.desiredPixelFlow*Math.LN2)}function s(o,a){return o.halfWindowSize*Math.log(a/o.compared.targetZoom)/(o.desiredPixelFlow*Math.LN2)}function f(o,a){return o.halfWindowSize/(a*o.desiredPixelFlow*Math.LN2)}function w(o,a){return-o.halfWindowSize/(a*a*o.desiredPixelFlow*Math.LN2)}function p(o){const a=Math.LN2*o.compared.pan,e=o.compared.sourceZoom-o.compared.targetZoom,n=o.halfWindowPanAtZoom(e),t=o.halfWindowSize*Math.log(o.compared.sourceZoom/o.compared.targetZoom)/(o.desiredPixelFlow*Math.LN2*n);return o.compared.sourceZoom<=o.compared.targetZoom?t*(a-n):t*(a+n)}export{i as ddtAscensionZoomOnly,e as ddtAscensionZoomPan,w as ddtDescensionZoomOnly,h as ddtDescensionZoomPan,c as ddtPanion,t as dtAscensionZoomOnly,a as dtAscensionZoomPan,f as dtDescensionZoomOnly,m as dtDescensionZoomPan,d as dtPanion,n as tAscensionZoomOnly,o as tAscensionZoomPan,p as tBaseLine,s as tDescensionZoomOnly,l as tDescensionZoomPan,r as tPanion};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{tPanion as o,tBaseLine as e,dtPanion as n,ddtPanion as a,tAscensionZoomOnly as t,tAscensionZoomPan as c,dtAscensionZoomOnly as s,dtAscensionZoomPan as m,ddtAscensionZoomOnly as r,ddtAscensionZoomPan as i,tDescensionZoomOnly as u,tDescensionZoomPan as l,dtDescensionZoomOnly as d,dtDescensionZoomPan as x,ddtDescensionZoomOnly as p,ddtDescensionZoomPan as F}from\"./functions.js\";function f(f,Z){let P=D(f,Z);const b={ascensionFactor:null!=Z.ascensionFactor?Z.ascensionFactor:.5,descensionFactor:null!=Z.descensionFactor?Z.descensionFactor:.5},g=0===b.ascensionFactor,h=0===b.descensionFactor,M=g?t:c,k=g?s:m,N=g?r:i,j=h?u:l,w=h?d:x,z=h?p:F,A=e=>M(f,e,b)+o(f,e,b)+j(f,e,b),I=o=>k(f,o,b)+n(f,o,b)+w(f,o,b),q=o=>N(f,o,b)+a(f,o,b)+z(f,o,b);let v=A(P);const y=e(f);let B;const C=Z.maximumIterations||20,E=null!=Z.maximumDistance?Z.maximumDistance:1/0;for(B=0;B<C;B++){const o=1e-6,e=(I(P)+o)/q(P);if(isNaN(e)||P>=E&&e<0){if(!isFinite(E))return null;P=E,v=A(P);break}if(P-=e,P<f.compared.sourceZoom||P<f.compared.targetZoom)return null;const n=A(P);if(Math.abs(n-v)/v<=.005)break;v=n}return v>y*(1-.3)||P<f.compared.sourceZoom||P<f.compared.targetZoom?null:P}function D(o,e){const n=Math.max(o.compared.sourceZoom,o.compared.targetZoom),a=o.source.zoomAtPixelsPerPan(o.desiredPixelFlow/o.compared.pan)/2;return a<n?null!=e.maximumDistance?n+(e.maximumDistance-n)/2:1.5*n:e.maximumDistance?Math.min(e.maximumDistance,a):a}export{f as optimalDistance};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{outQuad as i,inQuad as e}from\"../../easing.js\";import{Path as t}from\"../Path.js\";import{Segment as n}from\"../Segment.js\";import{optimalDistance as o}from\"./planning.js\";class s extends t{constructor(i,e){super(),this._preallocSegments=[new n,new n,new n],this.update(i,e)}update(i,e){if(!i)return;this.definition?this.definition.copyFrom(i):this.definition=i.clone();let t=null;e&&e.apex&&(t=o(i,e.apex)),this.segments.length=0,this._ascensionSegment=null,this._descensionSegment=null,null==t?this._updateWithoutApex():this._updateWithApex(t,e.apex)}segmentInterpolateComponentsAt(t,n,o){return o=t.interpolateComponentsAt(n,o),t===this._ascensionSegment?o.zoom=i(o.zoom):t===this._descensionSegment&&(o.zoom=e(o.zoom)),o}_updateWithApex(i,e){const[t,n,o]=this._preallocSegments,s=null!=e.ascensionFactor?e.ascensionFactor:.5,d=Math.min(1-s,null!=e.ascensionFactor?e.descensionFactor:.5),a=1-s-d;t.definition?t.definition.copyFrom(this.definition):t.definition=this.definition.clone(),t.definition.compared.targetZoom=i,t.definition.compared.pan=this.definition.compared.pan*s,t.definition.compared.rotate=this.definition.compared.rotate*s,t.update(),this._ascensionSegment=t,this.segments.push(t),a>0&&(n.definition?n.definition.copyFrom(this.definition):n.definition=this.definition.clone(),n.definition.copyFrom(this.definition),n.definition.compared.sourceZoom=i,n.definition.compared.targetZoom=i,n.definition.compared.pan=this.definition.compared.pan*a,n.definition.compared.rotate=this.definition.compared.rotate*a,n.update(),this.segments.push(n)),o.definition?o.definition.copyFrom(this.definition):o.definition=this.definition.clone(),o.definition.compared.sourceZoom=i,o.definition.compared.pan=this.definition.compared.pan*d,o.definition.compared.rotate=this.definition.compared.rotate*d,o.update(),this._descensionSegment=o,this.segments.push(o)}_updateWithoutApex(){const[i]=this._preallocSegments;i.update(this.definition),this.segments.push(i)}}export{s as Path};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{Milliseconds as t,millisecondsFromSeconds as i}from\"../../../core/time.js\";import{inOutCoastQuad as e,outExpo as n}from\"../easing.js\";import{Definition as a}from\"./Definition.js\";import{defaultSettings as s}from\"./Settings.js\";import{Path as o}from\"./apex/Path.js\";const r={zoom:0,pan:0,rotate:0};class m{constructor(i){this.createCamera=i,this._time=t(0),this.definition=new a(i),this.path=new o}get time(){return this._time}update(t,a,s){this.definition.update(t,a,s),this.path.update(this.definition,s),this._time=this._applyTimeSettings(i(this.path.time),s),this._easing=s.easing?s.easing:this._time>=1e3?e:n}cameraAt(t,i){i=i||this.createCamera(),t=Math.min(Math.max(0,t),1),t=this._normalizedEasing(t);const e=this.path.interpolateComponentsAt(t,r);return i.interpolate(this.definition.source,this.definition.target,e),i}_normalizedEasing(t){const i=this._easing(0,this._time),e=this._easing(1,this._time);return(this._easing(t,this._time)-i)/(e-i)}_applyTimeSettings(i,e){const n=null!=e.speedFactor?e.speedFactor:1;null!=e.duration?i=e.duration:null!=e.speedFactor&&(i=t(i/n));const a=null!=e.minDuration?e.minDuration:s.minDuration/n,o=null!=e.maxDuration?e.maxDuration:s.maxDuration/n;return t(Math.min(Math.max(a,i),o))}}export{m as Animation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{Milliseconds as t,millisecondsFromSeconds as i}from\"../../../../core/time.js\";import{b as e,l as r,c as n}from\"../../../../chunks/vec3.js\";import{c as m}from\"../../../../chunks/vec3f64.js\";import s from\"./Camera.js\";import{Camera as a}from\"../../webgl-engine/lib/Camera.js\";import{Animation as o}from\"../../../animation/pointToPoint/Animation.js\";const c=m();class h{constructor(i){this.currentTime=t(0),this._animation=new o((()=>new s(i))),this._current=new s(i)}get finished(){return this.currentTime>=this._animation.time}get time(){return this._animation.time}update(i,m,s){const a=this._animation.definition.source,o=this._animation.definition.target,h=e(c,m.center,i.center),u=r(h);u>=1e-5?(h[0]/=u,h[1]/=u,h[2]/=u):(h[0]=0,h[1]=1,h[0]=0),n(a.lookAtDirection,h),n(o.lookAtDirection,h),a.copyFromRenderCamera(i),o.copyFromRenderCamera(m),this._current.copyFrom(a),this._animation.update(a,o,s),this.currentTime=t(0),i.almostEquals(m)&&(this.currentTime=this._animation.time)}cameraAt(t,i){return this._animation.cameraAt(t,this._current),i=i||new a,this._current.copyToRenderCamera(i),i}step(e,r){return this.finished||(this.currentTime=t(this.currentTime+i(e)),this.currentTime>=this.time&&(this.currentTime=this.time)),this.cameraAt(this.currentTime/this.time,r)}}export{h as Animation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";var o;!function(e){e.Ready=\"ready\",e.Rejected=\"rejected\",e.Running=\"running\",e.Stopped=\"stopped\",e.Finished=\"finished\"}(o||(o={}));let i=class extends t{constructor(){super(...arguments),this.state=o.Ready}get active(){return this.state===o.Running}get isInteractive(){return!1}get canStop(){return!1}stopController(){return!!this.canStop&&(this.state=o.Stopped,!0)}finishController(){this.state=o.Finished}get steppingFinished(){return!1}};e([r({readOnly:!0})],i.prototype,\"active\",null),e([r()],i.prototype,\"state\",void 0),i=e([s(\"esri.views.3d.state.controllers.CameraController\")],i);export{i as CameraController,o as State};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{isSome as s}from\"../../../../core/maybe.js\";import{createAbortError as i}from\"../../../../core/promiseUtils.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/set.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";import o from\"../../../ViewAnimation.js\";import{CameraController as n,State as r}from\"./CameraController.js\";let a=class extends n{get canStop(){return!0}set asyncResult(t){this._asyncResult&&(this._asyncResult.reject(i()),this._asyncResult=null),this.state===r.Finished||this.state===r.Stopped?this.state===r.Finished?t.resolve():t.reject(i()):this._asyncResult=t}get asyncResult(){return this._asyncResult}onControllerStart(){this.state=r.Running,s(this.viewAnimation)&&this.viewAnimation.when((()=>this.updateStateFromViewAnimation()),(()=>this.updateStateFromViewAnimation()))}updateStateFromViewAnimation(){!s(this.viewAnimation)||this.state!==r.Ready&&this.state!==r.Running||(this.viewAnimation.state===o.State.FINISHED?this.finish():this.viewAnimation.state===o.State.STOPPED&&(this.state=r.Stopped))}onControllerEnd(){s(this.viewAnimation)&&!this.viewAnimation.done&&(this.state===r.Finished?this.viewAnimation.finish():this.state===r.Stopped&&this.viewAnimation.stop()),this._asyncResult&&(this.state===r.Finished?this._asyncResult.resolve():this._asyncResult.reject(i()))}finish(){this.finishController()}};a=t([e(\"esri.views.3d.state.controllers.AnimationController\")],a);export{a as AnimationController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../../chunks/tslib.es6.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c as n}from\"../../../../chunks/vec3f64.js\";import s from\"../../../ViewAnimation.js\";import{Animation as o}from\"../../animation/pointToPoint/Animation.js\";import{AnimationController as r}from\"./AnimationController.js\";import{Camera as a}from\"../../webgl-engine/lib/Camera.js\";import{newIntersector as m}from\"../../webgl-engine/lib/Intersector.js\";import{EasingFunctions as c}from\"../../../animation/easing.js\";let h=class extends r{constructor(i){super(i),this.view=null,this.mode=\"interaction\",this.hasTarget=!1}get intersectionHelper(){return this.view.sceneIntersectionHelper}initialize(){this.animation=new o(this.view.state.viewingMode),this.viewAnimation=\"interaction\"===this.mode?null:new s}get isInteractive(){return\"interaction\"===this.mode}begin(i,t){this.hasTarget=!0;const e=this.animationSettings(t);p.copyFrom(this.view.state.camera);const n=m(this.view.state.viewingMode);this.intersectionHelper.intersectRay(p.ray,n,l)&&(p.center=l),this.animation.update(p,i,e),this.animation.finished&&this.finish()}finish(){this.animation.currentTime=this.animation.time,super.finish()}get steppingFinished(){return this.hasTarget&&this.animation.finished}stepController(i,t){this.hasTarget&&this.animation.step(i,t)}onControllerEnd(i){this.hasTarget&&(this.animation.cameraAt(this.animation.currentTime/this.animation.time,i),this.animation.currentTime=this.animation.time),super.onControllerEnd(i)}animationSettings(i={}){return{apex:{maximumDistance:this.view.state.constraints.clampAltitude(1/0)/6,ascensionFactor:void 0,descensionFactor:void 0},...i,easing:\"string\"==typeof i.easing?c[i.easing]:i.easing}}};i([t({constructOnly:!0})],h.prototype,\"view\",void 0),i([t({constructOnly:!0})],h.prototype,\"mode\",void 0),h=i([e(\"esri.views.3d.state.controllers.PointToPointAnimationController\")],h);const p=new a,l=n();export{h as PointToPointAnimationController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{create as r}from\"../../../../geometry/support/ray.js\";import{h as o}from\"../../../../chunks/sphere.js\";import{fromScreenAtEye as t}from\"./ray.js\";function s(r,s,p,e){const n=t(s,p,m);return o(r,n,e)}const m=r();export{s as intersectScreen};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{cyclicalPI as t}from\"../../../../core/Cyclical.js\";import{deg2rad as e,clamp as n,acosClamped as o}from\"../../../../core/mathUtils.js\";import{isNone as r}from\"../../../../core/maybe.js\";import{createScreenPointArray as a}from\"../../../../core/screenUtils.js\";import{d as i,m as s,e as c}from\"../../../../chunks/mat4.js\";import{c as m}from\"../../../../chunks/mat4f64.js\";import{a as u}from\"../../../../chunks/vec2.js\";import{a as l}from\"../../../../chunks/vec2f64.js\";import{c as p,e as f,g as h,b as M,n as y,f as g,m as d,a as b,l as j,h as v,s as z,d as x}from\"../../../../chunks/vec3.js\";import{c as P}from\"../../../../chunks/vec3f64.js\";import{create as k,axis as I,fromPoints as w,wrapAxisAngle as E}from\"../../../../geometry/support/axisAngle.js\";import{coordinateSystemFromOneAxisAndNormalVector as S,vectorCoordinates as A}from\"../../../../geometry/support/coordinateSystem.js\";import{create as H,intersectRay as G,fromNormalAndOffset as U}from\"../../../../geometry/support/plane.js\";import{j as V,h as q,c as C}from\"../../../../chunks/sphere.js\";import{angle as F}from\"../../../../geometry/support/vector.js\";import{sv3d as R,sm4d as T}from\"../../../../geometry/support/vectorStacks.js\";import{fromScreen as W,fromScreenAtEye as B}from\"../../support/geometryUtils/ray.js\";import{intersectScreen as D}from\"../../support/geometryUtils/sphere.js\";import{Camera as J}from\"../../webgl-engine/lib/Camera.js\";var K;!function(t){t[t.Ellipsoid=0]=\"Ellipsoid\",t[t.Silhouette=1]=\"Silhouette\"}(K||(K={}));const L=30,N=[1,3e8],O=70;function Q(t,e,n){return n[0]=e[0]/(t.fullWidth/t.pixelRatio),n[1]=e[1]/(t.fullHeight/t.pixelRatio),n}function X(t,e,n){const o=R.get(),r=R.get(),a=R.get();p(r,t),p(a,e);const i=f(r,n),s=f(a,n);h(o,n,i),M(r,r,o),y(r,r),h(o,n,s),M(a,a,o),y(a,a);const c=f(r,a);g(o,n,r);const m=f(a,o);return Math.atan2(m,c)}function Y(t){for(;t>Math.PI;)t-=2*Math.PI;for(;t<-Math.PI;)t+=2*Math.PI;return t}function Z(t,e,n){const o=i(T.get(),n[3],I(n));M(Ot,t.eye,e),d(Ot,Ot,o),t.eye=b(Ot,Ot,e),M(Ot,t.center,e),d(Ot,Ot,o),t.center=b(Ot,Ot,e),t.up=d(Ot,t.up,o)}function $(t,e,n,o){return G(t,W(e,n,$t),o)}function _(t,e,n,o){return G(t,B(e,n,$t),o)}function tt(t,e,n,o){const r=R.get();let a=1-n;M(r,e,t.eye);const i=j(r);let s=i*(1-a);a>=0&&s<o&&(s=o,a=-(s-i)/i),Math.abs(i-s)<1e-6||(h(r,r,a),t.eye=b(Ot,t.eye,r),t.center=v(Ot,t.center,e,a))}function et(t,e,n){e.getScreenCenter(nt),D(t,e,nt,Ot)&&(e.center=Ot);const o=e.distance,r=o*n;if(Math.abs(o-r)<1e-6)return;const a=h(R.get(),e.viewForward,r);e.eye=M(Ot,e.center,a)}const nt=a();function ot(t,e,n){rt(e,n),y(n,n),h(n,n,t)}function rt(t,e){z(e,0,0,0);for(const n of t)b(e,e,n);h(e,e,1/t.length)}function at(t,e,n,o){return Math.sin(t/j(e))*(n+o.radius)}function it(t,e,n,o){return at(Math.PI/2,e,n,o)+(t-Math.PI/2)}var st;!function(t){t[t.Vertical=0]=\"Vertical\",t[t.Horizontal=1]=\"Horizontal\"}(st||(st={}));const ct={Elevation:3e4,Angle:e(6)},mt={Pole:.95,Angle:e(18),Tilt:45},ut=e(80);function lt(t,e,n,o,r,a){const i=P(),s=C();let c=!0,m=!0;return t.intersectScreen(n,i,a)?s[3]=j(i):(m=!1,e.aboveGround&&r!==K.Ellipsoid?s[3]=Math.max(j(e.center),.9*o.radius):s[3]=j(e.eye)-e.relativeElevation,r===K.Silhouette?Mt(s,e,n,i):c=D(s,e,n,i)),{sphere:s,scenePickPoint:c?i:null,hasGeometryIntersection:m}}function pt(t,e,n,o){if(j(t.eye)-o.radius>ct.Elevation)return st.Horizontal;if(!n)return st.Vertical;B(t,e,_t);return-Math.sign(t.relativeElevation)*(.5*Math.PI+F(t.eye,_t.direction))<ct.Angle?st.Vertical:st.Horizontal}function ft(t,e,n){M(ht,n,e),t.eye=M(Ot,t.eye,ht),t.center=M(Ot,t.center,ht)}const ht=P();function Mt(t,e,n,o){const a=B(e,n,$t);return!r(a)&&(V(t,a,yt),q(t,a,o)?!(x(yt,a.origin)<x(o,a.origin))||(p(o,yt),!1):(M(gt,e.eye,e.center),y(gt,gt),U(gt,-f(y(gt,gt),yt),dt),G(dt,a,o),!1))}const yt=P(),gt=P(),dt=H();function bt(r,a,i,s,c,m){let u;if(g(Yt,r,a),M(Qt,r,a),j(r)<=c||!s.aboveGround){g(i,Qt,s.eye);const l=f(r,a)/(j(r)*j(a)),p=Math.cos(n(t.normalize(e(m)),0,ut));u=-o(l)-Math.max(0,j(a)-c)/(p*c)}else M(jt,s.eye,s.center),g(i,Qt,jt),u=-j(Qt)/c;return y(i,i),h(i,i,j(Yt)),u}const jt=P();function vt(r,a,i,s){let c,m;const u=Math.cos(n(t.normalize(e(s)),0,ut));return c=a>i?-(a-i)/(u*i):a<-i?Math.PI-(a+i)/(u*i):o(a/i),m=r>i?-(r-i)/(u*i):r<-i?Math.PI-(r+i)/(u*i):o(r/i),(m-c)*i}function zt(t,e,n,o,r,a,i,s,c,m){const l=vt(t[2],e[2],i[3],c),p=m?vt(t[0],e[0],i[3],180):e[0]-t[0],h=Math.sin(s)*p-Math.cos(s)*l,M=Math.cos(s)*p+Math.sin(s)*l;y(Ot,r);const g=m?h/Math.sqrt(Math.abs(i[3]**2-f(n,Ot)**2)):h/i[3],d=M/Math.sqrt(Math.abs(i[3]**2-f(n,o)**2));u(a,g,d)}function xt(t,e,n,o,r,a,i,s,c,m){g(Yt,t,e),S(a.up,a.eye,Ct,Ft,Rt),S([0,0,1],a.eye,Ut,Vt,qt),p(n,Vt),p(o,Ut),y(n,n),h(n,n,j(Yt)),A(t,y(Ft,Ft),y(Rt,Rt),y(Ct,Ct),Tt),A(e,Ft,Rt,Ct,Wt),zt(Tt,Wt,t,Ut,Vt,r,i,s,c,m)}function Pt(t,e,n,o,r,a,c){i(Jt,r,o),i(Kt,c,a),s(Lt,Jt,Kt),M(e,t,n),d(e,e,Lt),b(e,e,n)}function kt(t,e,n,o,r,a){i(Jt,o,n),i(Kt,a,r),s(Lt,Jt,Kt),M(Ot,t.eye,e),d(Ot,Ot,Lt),t.eye=b(Ot,Ot,e),M(Ot,t.center,e),d(Ot,Ot,Lt),t.center=b(Ot,Ot,e),M(Ot,t.up,e),d(Ot,Ot,Lt),t.up=b(Ot,Ot,e)}function It(t,e,n,o,r,a,i=mt.Pole,s=mt.Angle){const c=Math.abs(o)>Math.PI-s||Math.abs(o)<s,m=Math.abs(t[2])<n*i||Math.abs(e)>n;return!!(c&&m&&a.aboveGround&&r<mt.Tilt)}function wt(t,e,n,o,r,a){if(a)w(n,o,Dt),Z(e,t,Dt);else{const a=bt(n,o,Zt,e,t[3],r);Z(e,t,E(Zt,a))}}function Et(t,e,n,o,r,a,i){const s=i?20:1,c=1e-12;let m,u;p(Nt,o),Xt.copyFrom(e);for(let l=0;l<s&&x(n,Nt)>c&&(m=x(n,Nt),xt(n,Nt,Vt,Ut,Bt,Xt,t,r,a,i),kt(Xt,t,Ut,Bt[1],Vt,Bt[0]),Pt(Nt,Nt,t,Ut,Bt[1],Vt,Bt[0]),u=x(n,Nt),u<m||0===l);l++)e.copyFrom(Xt)}function St(n,o,r,a,i,s,c){It(r,f(o.up,r),n[3],-t.normalize(e(i)),s,o,mt.Pole,mt.Angle)?Et(n,o,r,a,-t.normalize(e(i)),s,c):wt(n,o,r,a,s,c)}function At(t,e,n,o,r,a){const{eye:i}=t;S([0,0,1],i,Ut,Vt,qt);const s=e.translation[0]*n.pan,m=\"zoom\"===r.mode?0:e.translation[1]*n.pan,u=Math.max(Math.sqrt(Math.abs(1-f(t.center,Ut)**2/j(t.center)**2)),.5),l=(Math.sin(a)*m+Math.cos(a)*s)/u,p=-Math.cos(a)*m+Math.sin(a)*s;switch(c(o.pan.matrix,o.pan.matrix,l,Ut),o.pan.enabled=!0,r.mode){case\"pan\":c(o.pan.matrix,o.pan.matrix,p,Vt),o.pan.enabled=!0;break;case\"zoom\":o.zoom=-e.translation[1]*n.zoom}}function Ht(t,e,n,o,r){const{eye:a,viewRight:i}=t,s=g(R.get(),i,a),m=e.translation[0]*n.pan;switch(0!==m&&(c(o.pan.matrix,o.pan.matrix,-m,s),o.pan.enabled=!0),r.mode){case\"pan\":{const t=e.translation[1]*n.pan;0!==t&&(c(o.pan.matrix,o.pan.matrix,t,i),o.pan.enabled=!0);break}case\"zoom\":o.zoom=-e.translation[1]*n.zoom}}function Gt(n,o,r,a,i,s,c,m,u){It(n.center,f(n.up,n.center),j(n.center),-t.normalize(e(s)),c,o)?At(o,r,a,m,u,-t.normalize(e(i))):Ht(o,r,a,m,u)}const Ut=P(),Vt=P(),qt=P(),Ct=P(),Ft=P(),Rt=P(),Tt=P(),Wt=P(),Bt=l(),Dt=k(),Jt=m(),Kt=m(),Lt=m(),Nt=P(),Ot=P(),Qt=P(),Xt=new J,Yt=P(),Zt=P(),$t={origin:P(),direction:P()},_t={origin:P(),direction:P()};export{N as DISTANCE_CLAMP_VALUES,st as NavigationMode,L as PIVOT_DISTANCE_MODIFIER,mt as PreservingHeadingThreshold,O as SCREEN_PIXEL_AREA,K as SpherePickPointFallback,ut as TiltThresholdPanningSpeed,ct as VerticalPanTresholds,ft as applyPanPlanar,wt as applyPanSphericalDirectRotation,Et as applyPanSphericalPreserveHeading,Z as applyRotation,kt as applyRotationWithTwoAxes,et as applyZoomOnSphere,tt as applyZoomToPoint,rt as centroid,ot as centroidOnSphere,pt as decideNavigationMode,$ as intersectPlaneFromScreenPoint,_ as intersectPlaneFromScreenPointAtEye,vt as lengthFromPoints,Q as normalizeCoordinate,Y as normalizeRotationDelta,it as offSurfaceTiltToEyeTiltGlobal,at as onSurfaceTiltToEyeTiltGlobal,Gt as panMotionToRotationMatrix,St as panToPosition,lt as pickPointAndInitSphere,It as preserveHeadingThreshold,Pt as rotatePointAroundTwoAxes,bt as rotationAngleAndAxisDirectRotation,xt as rotationAnglesAndAxesHeadingPreserving,zt as rotationAnglesHeadingPreserving,X as rotationFromPointsAroundAxis,Mt as sphereOrPlanePointFromScreenPoint};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import{Milliseconds as i}from\"../../../../../core/time.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/set.js\";import{subclass as e}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{c as r,n as s,g as o,e as a,l as n,b as m,a as c,d as h}from\"../../../../../chunks/vec3.js\";import{c as p}from\"../../../../../chunks/vec3f64.js\";import{getReferenceEllipsoid as l}from\"../../../../../geometry/projectionEllipsoid.js\";import{c as y}from\"../../../../../chunks/sphere.js\";import{applyAll as f}from\"../../../camera/constraintUtils.js\";import{ConstraintTypes as w,InteractionType as g,TiltMode as u}from\"../../../camera/constraintUtils/common.js\";import{PointToPointAnimationController as d}from\"../PointToPointAnimationController.js\";import{decideNavigationMode as j,NavigationMode as D,panToPosition as C}from\"../../utils/navigationUtils.js\";import{fromScreenAtEye as v}from\"../../../support/geometryUtils/ray.js\";import{intersectScreen as b}from\"../../../support/geometryUtils/sphere.js\";import{Camera as M}from\"../../../webgl-engine/lib/Camera.js\";import{newIntersector as R}from\"../../../webgl-engine/lib/Intersector.js\";import{TERRAIN_ID as S}from\"../../../webgl-engine/lib/verticalOffsetUtils.js\";import{outExpo as L}from\"../../../../animation/easing.js\";import{applySurfaceCollisionConstraint as O}from\"../../../camera/constraintUtils/surfaceCollision.js\";const z=.6,U=4,V=12,x=60,_=200;let F=class extends d{constructor(){super(...arguments),this.zoomLocation=p(),this.tmpCamera=new M,this.tmpViewDir=p(),this.tmpRayDir={origin:p(),direction:p()},this.targetOnSphere=p(),this.tmpCenter=p(),this.constraintOptions={selection:w.ALL_EXCEPT_COLLISION,interactionType:g.ZOOM,interactionFactor:null,interactionStartCamera:new M,interactionDirection:null,tiltMode:u.TUMBLE},this.sphere=y()}initialize(){this.intersector=R(this.view.state.viewingMode)}zoomStep(t,i){if(!this.active)return;const e=this.view.state,{interactionStartCamera:s}=this.constraintOptions;this.animation.finished?s.copyFrom(e.camera):this.animation.cameraAt(1,s);let o=!1,a=!1;this.intersectionHelper.intersectScreen(i,this.zoomLocation,0===this.view.map.ground.opacity?A:{})&&(o=t>0,a=!0),this.tmpCamera.copyFrom(e.camera),o?this.intersectionHelper.intersectRay(this.tmpCamera.ray,this.intersector,this.tmpCenter)&&(this.tmpCamera.center=this.tmpCenter):this.intersectionHelper.intersectRay(this.tmpCamera.ray,this.intersector,this.zoomLocation)?this.tmpCamera.center=this.zoomLocation:r(this.zoomLocation,this.tmpCamera.center),this._updateCamera(this.tmpCamera,t,this.zoomLocation,i,a),this.begin(this.tmpCamera)}animationSettings(){return{apex:null,duration:i(600),easing:L}}_updateCamera(t,i,e,r,p){const y=l(this.view.spatialReference),w=j(t,r,p,y);let g;this.view.camera.position.hasZ&&(g=Math.abs(this.view.camera.position.z)),s(k,t.eye),o(k,k,-1),v(t,r,this.tmpRayDir),s(this.tmpRayDir.direction,this.tmpRayDir.direction);const u=Math.max(Math.min(V,1/Math.abs(a(k,this.tmpRayDir.direction)))*g,_);if(w===D.Horizontal){let s=z**i;this.sphere[3]=n(e),m(this.tmpViewDir,t.center,t.eye);const a=Math.min(n(this.tmpViewDir),u);let p=a*s;if(s<=1&&p<U&&(p=U,s=p/a),Math.abs(a-p)<1e-6)return;const l=n(t.center);if(this.sphere[3]!==l){const i=this.sphere[3]+s*(l-this.sphere[3]);t.center=o(T,t.center,i/l)}o(this.tmpViewDir,this.tmpViewDir,-s),t.eye=c(T,t.center,this.tmpViewDir),f(this.view,t,this.constraintOptions),h(e,t.center)>1e-12&&b(this.sphere,t,r,this.targetOnSphere)&&C(this.sphere,t,e,this.targetOnSphere,this.view.camera.heading,this.view.camera.tilt,!0)}else{let s=z**Math.abs(i);const a=i>0?1:-1;m(this.tmpViewDir,e,t.eye);const h=n(this.tmpViewDir),l=this.view._stage.renderView.getMinimalDepthForArea(null,r[0],r[1],this.view.state.camera,x);let y=l?Math.min(u,l):u;y=p?Math.min(y,h):y,o(this.tmpRayDir.direction,this.tmpRayDir.direction,y),c(e,this.tmpRayDir.origin,this.tmpRayDir.direction);let f=y*s;const w=Math.max(U,1.01*t.nearFar[0]);if(i>0&&f<w&&(f=w,s=f/y),Math.abs(y-f)<1e-6)return;o(this.tmpRayDir.direction,this.tmpRayDir.direction,a*(1-s)),t.eye=c(T,t.eye,this.tmpRayDir.direction),t.center=c(T,t.center,this.tmpRayDir.direction)}O(this.view,t)}};F=t([e(\"esri.views.3d.state.controllers.global.ZoomStepController\")],F);const T=p(),k=p(),A={exclude:new Set([S])};export{F as ZoomStepController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import{Milliseconds as e}from\"../../../../../core/time.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/set.js\";import{subclass as i}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{c as o,b as s,n as a,e as r,l as n,a as m,g as c,h as p}from\"../../../../../chunks/vec3.js\";import{c as h,f as l}from\"../../../../../chunks/vec3f64.js\";import{applyAll as C}from\"../../../camera/constraintUtils.js\";import{ConstraintTypes as y,InteractionType as u,TiltMode as f}from\"../../../camera/constraintUtils/common.js\";import{PointToPointAnimationController as g}from\"../PointToPointAnimationController.js\";import{Camera as j}from\"../../../webgl-engine/lib/Camera.js\";import{newIntersector as w}from\"../../../webgl-engine/lib/Intersector.js\";import{TERRAIN_ID as b}from\"../../../webgl-engine/lib/verticalOffsetUtils.js\";import{outExpo as v}from\"../../../../animation/easing.js\";const L=.6,d=4,z=60,M=14,S=200;let F=class extends g{constructor(){super(...arguments),this.zoomLocation=h(),this.tmpCamera=new j,this.tmpRayDir=h(),this.tmpCenter=h(),this.constraintOptions={selection:y.ALL,interactionType:u.ZOOM,interactionFactor:null,interactionStartCamera:new j,interactionDirection:null,tiltMode:f.TUMBLE}}zoomStep(t,e){if(!this.active)return;const i=this.view.state,{interactionStartCamera:p}=this.constraintOptions;this.animation.finished?p.copyFrom(i.camera):this.animation.cameraAt(1,p),this.tmpCamera.copyFrom(i.camera);const l=w(this.view.state.viewingMode);t>0?(0===this.view.map.ground.opacity?this.intersectionHelper.intersectScreenFreePointFallback(e,this.zoomLocation,O):this.intersectionHelper.intersectScreenFreePointFallback(e,this.zoomLocation),this.intersectionHelper.intersectRay(this.tmpCamera.ray,l,this.tmpCenter)&&(this.tmpCamera.center=this.tmpCenter)):this.intersectionHelper.intersectRay(this.tmpCamera.ray,l,this.zoomLocation)?this.tmpCamera.center=this.zoomLocation:o(this.zoomLocation,this.tmpCamera.center);const C=L**t;let y=this.view._stage.renderView.getMinimalDepthForArea(this.view.voxelWasm,e[0],e[1],this.view.state.camera,z);s(x,this.tmpCamera.eye,this.zoomLocation),a(x,x);const u=Math.max(Math.min(M,1/Math.abs(r(R,x)))*Math.abs(this.view.camera.position.z),S);if(y=y?Math.min(y,u):u,y){const t=h();s(t,this.zoomLocation,this.tmpCamera.eye),y<n(t)&&(a(t,t),m(this.zoomLocation,this.tmpCamera.eye,c(t,t,y)))}this._updateCamera(this.tmpCamera,C,this.zoomLocation),this.begin(this.tmpCamera)}animationSettings(){return{apex:null,duration:e(600),easing:v}}_updateCamera(t,e,i){s(this.tmpRayDir,i,t.eye);const o=n(this.tmpRayDir);let a=o*e;const r=e<=1,m=Math.max(d,1.01*t.nearFar[0]);r&&a<m&&(a=m,e=a/o),Math.abs(o-a)<1e-6||(c(this.tmpRayDir,this.tmpRayDir,e),t.eye=s(D,i,this.tmpRayDir),t.center=p(D,t.center,i,1-e),C(this.view,t,this.constraintOptions))}};F=t([i(\"esri.views.3d.state.controllers.local.ZoomStepController\")],F);const D=h(),R=l(0,0,1),x=h(),O={exclude:new Set([b])};export{F as ZoomStepController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{createScreenPointArray as o}from\"../../../../core/screenUtils.js\";import{ZoomStepController as t}from\"../../state/controllers/global/ZoomStepController.js\";import{ZoomStepController as e}from\"../../state/controllers/local/ZoomStepController.js\";import{InputHandler as r}from\"../../../input/InputHandler.js\";import{eventMatchesPointerAction as i}from\"../../../input/handlers/support.js\";class s extends r{constructor(o,t){super(!0),this.view=o,this.registerIncoming(\"double-click\",t,(o=>this._handleDoubleClick(o)))}_handleDoubleClick(r){const s=r.data;if(i(s,\"primary\")){const i=this.view.state.isGlobal?new t({view:this.view,mode:\"animation\"}):new e({view:this.view,mode:\"animation\"});this.view.state.switchCameraController(i),i.zoomStep(Math.log(.5)/Math.log(.6),o(s.x,s.y)),r.stopPropagation()}}}export{s as DoubleClickZoom};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/set.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{CameraController as t,State as o}from\"./CameraController.js\";import{Camera as s}from\"../../webgl-engine/lib/Camera.js\";let a=class extends t{constructor(){super(...arguments),this.startCamera=new s,this.currentCamera=new s}get isInteractive(){return!0}stepController(r,e){e.copyViewFrom(this.currentCamera),this.currentCamera.copyFrom(e)}onControllerStart(r){this.state=o.Running,this.startCamera.copyFrom(r),this.currentCamera.copyFrom(r)}onControllerEnd(r){r.copyViewFrom(this.currentCamera)}};a=r([e(\"esri.views.3d.state.controllers.InteractiveController\")],a);export{a as InteractiveController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{acosClamped as i,clamp as s}from\"../../../../core/mathUtils.js\";import{createScreenPointArray as o}from\"../../../../core/screenUtils.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{d as a,e as n}from\"../../../../chunks/mat4.js\";import{c as h}from\"../../../../chunks/mat4f64.js\";import{c as p}from\"../../../../chunks/vec2.js\";import{a as c}from\"../../../../chunks/vec2f64.js\";import{c as m,b as l,l as v,n as u,a as C,g as f,e as P,f as E,m as d}from\"../../../../chunks/vec3.js\";import{c as w}from\"../../../../chunks/vec3f64.js\";import{getReferenceEllipsoid as R}from\"../../../../geometry/projectionEllipsoid.js\";import{applyAll as T}from\"../../camera/constraintUtils.js\";import{ConstraintTypes as j,InteractionType as y,TiltMode as O}from\"../../camera/constraintUtils/common.js\";import{TiltDefault as U}from\"../Constraints.js\";import{InteractiveController as M}from\"./InteractiveController.js\";import{normalizeCoordinate as D,decideNavigationMode as x,NavigationMode as N}from\"../utils/navigationUtils.js\";var g;!function(t){t[t.CENTER=0]=\"CENTER\",t[t.EYE=1]=\"EYE\"}(g||(g={}));const k=7,A=90;let L=class extends M{constructor(t){super(t),this.view=null,this.pivot=g.CENTER,this.lastPoint=c(),this.tmpWorldUp=w(),this.tmpViewDir=w(),this.tmpRotCurPoint=c(),this.tmpTransf=h(),this.tmpAxis=w(),this.tmpPivotPoint=w(),this.pivotPos=w(),this.constraintOptions={selection:j.ALL,interactionType:y.TUMBLE,interactionFactor:0,interactionStartCamera:null,interactionDirection:null,tiltMode:O.TUMBLE}}get intersectionHelper(){return this.view.sceneIntersectionHelper}initialize(){this.rotScale=this.pivot===g.CENTER?3:1.5}begin(t){if(this.active){switch(this.pivot){case g.EYE:m(this.pivotPos,this.startCamera.eye),this.constraintOptions.interactionType=y.LOOK_AROUND,this.constraintOptions.tiltMode=O.LOOK_AROUND,this.constraintOptions.selection=j.NONE;break;case g.CENTER:{const i=this.intersectionHelper.intersectRayFreePointFallback(this.startCamera.ray,this.pivotPos);i||m(this.pivotPos,this.startCamera.center),this._constrainPivotPoint(t,i),this.startCamera.center=this.pivotPos,this.constraintOptions.interactionType=y.TUMBLE,this.constraintOptions.tiltMode=O.TUMBLE,this.constraintOptions.selection=j.ALL&~j.DISTANCE;break}}this.constraintOptions.interactionStartCamera=this.startCamera,D(this.startCamera,t,this.lastPoint)}}_constrainPivotPoint(t,i){const s=this.startCamera,r=w();l(r,this.pivotPos,s.eye);const e=v(r);let a=Math.min(e,k*Math.abs(this.view.camera.position.z));const n=R(this.view.spatialReference),h=o(s.width/s.pixelRatio*.5,s.height/s.pixelRatio*.5),p=x(this.startCamera,h,!0,n);let c=this.view._stage.renderView.getMinimalDepthForArea(this.view.voxelWasm,s.fullWidth/s.pixelRatio*.5,s.fullHeight/s.pixelRatio*.5,s,2.5*A,A),P=this.view._stage.renderView.getMinimalDepthForArea(this.view.voxelWasm,t[0],t[1],s,A);void 0===c&&void 0===P||(c=void 0===c?P:c,P=void 0===P||p===N.Horizontal?c:P,a=c>P?P:c,a=i?Math.min(a,e):a),u(r,r),m(this.pivotPos,C(this.tmpPivotPoint,s.eye,f(this.tmpPivotPoint,r,a)))}update(t){if(this.active){switch(this.pivot){case g.EYE:this.currentCamera.center=this._applyRotation(this.currentCamera,t,this.currentCamera.center,this.pivotPos);break;case g.CENTER:this.currentCamera.center=this.pivotPos,this.currentCamera.eye=this._applyRotation(this.currentCamera,t,this.currentCamera.eye,this.pivotPos)}T(this.view,this.currentCamera,this.constraintOptions)}}end(){this.active&&this.finishController()}_applyRotation(t,o,r,e){this.view.renderCoordsHelper.worldUpAtPosition(e,this.tmpWorldUp),D(t,o,this.tmpRotCurPoint);let h=(this.lastPoint[1]-this.tmpRotCurPoint[1])*this.rotScale,c=(this.tmpRotCurPoint[0]-this.lastPoint[0])*this.rotScale;l(this.tmpViewDir,r,e);const m=v(this.tmpViewDir),u=i(P(this.tmpViewDir,this.tmpWorldUp)/m);if(this.pivot===g.EYE){h*=-.5;const t=.5*Math.PI-u,i=.5*Math.PI*.99;h=t-Math.max(-i,Math.min(i,t+h))}return h=s(h+u,U.min,U.max)-u,E(this.tmpAxis,t.up,this.tmpViewDir),this.pivot===g.CENTER&&(c=-c),a(this.tmpTransf,c,this.tmpWorldUp),n(this.tmpTransf,this.tmpTransf,h,this.tmpAxis),d(this.tmpViewDir,this.tmpViewDir,this.tmpTransf),t.up=d(V,t.up,this.tmpTransf),C(V,e,this.tmpViewDir),p(this.lastPoint,this.tmpRotCurPoint),V}};t([r({constructOnly:!0})],L.prototype,\"view\",void 0),t([r()],L.prototype,\"pivot\",void 0),L=t([e(\"esri.views.3d.state.controllers.RotateController\")],L);const V=w();export{g as PivotPoint,L as RotateController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{createScreenPointArray as t}from\"../../../../core/screenUtils.js\";import{RotateController as r}from\"../../state/controllers/RotateController.js\";export{PivotPoint}from\"../../state/controllers/RotateController.js\";import{InputHandler as e}from\"../../../input/InputHandler.js\";import{eventMatchesMousePointerAction as o}from\"../../../input/handlers/support.js\";class a extends e{constructor(t,r,e,o){super(!0),this.view=t,this.pointerAction=r,this.pivot=e,this.registerIncoming(\"drag\",o,(t=>this._handleDrag(t)))}_handleDrag(e){const a=e.data;if(a.pointers.size>1)return;if(!o(e.data,this.pointerAction))return;const i=t(a.center.x,a.center.y);switch(a.action){case\"start\":this.cameraController&&(this.cameraController.end(),this.cameraController=null),this.cameraController=new r({view:this.view,pivot:this.pivot}),this.view.state.switchCameraController(this.cameraController),this.cameraController.begin(i);break;case\"update\":this.cameraController&&this.cameraController.update(i);break;case\"end\":this.cameraController&&(this.cameraController.end(),this.cameraController=null)}e.stopPropagation()}}export{a as DragRotate};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import{clamp as i}from\"../../../../../core/mathUtils.js\";import{createScreenPointArray as e}from\"../../../../../core/screenUtils.js\";import{property as r}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{c as a}from\"../../../../../chunks/vec2.js\";import{a as n}from\"../../../../../chunks/vec2f64.js\";import{n as o,b as c,l as h,g as m,a as p}from\"../../../../../chunks/vec3.js\";import{c as l}from\"../../../../../chunks/vec3f64.js\";import{getReferenceEllipsoid as u}from\"../../../../../geometry/projectionEllipsoid.js\";import{create as P,fromPoints as y}from\"../../../../../geometry/support/axisAngle.js\";import{c as C}from\"../../../../../chunks/sphere.js\";import{pixelDistanceToInteractionFactor as f,applyAll as d}from\"../../../camera/constraintUtils.js\";import{ConstraintTypes as g,InteractionType as v,TiltMode as j}from\"../../../camera/constraintUtils/common.js\";import{InteractiveController as k}from\"../InteractiveController.js\";import{normalizeCoordinate as R,pickPointAndInitSphere as w,SpherePickPointFallback as D,decideNavigationMode as A,NavigationMode as O,DISTANCE_CLAMP_VALUES as M,PIVOT_DISTANCE_MODIFIER as b,SCREEN_PIXEL_AREA as S,sphereOrPlanePointFromScreenPoint as U,applyRotation as x}from\"../../utils/navigationUtils.js\";import{fromScreenAtEye as z}from\"../../../support/geometryUtils/ray.js\";import{TERRAIN_ID as B}from\"../../../webgl-engine/lib/verticalOffsetUtils.js\";import{applySurfaceCollisionConstraint as E}from\"../../../camera/constraintUtils/surfaceCollision.js\";let H=class extends k{constructor(t){super(t),this.view=null,this.pickPoint=l(),this.tmpP0=n(),this.panAxisAngle=P(),this.tmpRayDir=l(),this.tmpRayDirPick=l(),this.targetOnSphere=l(),this.tmpRay={origin:l(),direction:l()},this.dragBeginPoint=e(),this.normalizedAnchorPoint=n(),this.constraintOptions={selection:g.ALL_EXCEPT_COLLISION,interactionType:v.ZOOM,interactionFactor:0,interactionStartCamera:null,interactionDirection:null,tiltMode:j.TUMBLE},this.sphere=C(),this.hasPickPoint=!1}get intersectionHelper(){return this.view.sceneIntersectionHelper}begin(t){if(!this.active)return;a(this.dragBeginPoint,t),R(this.startCamera,t,this.normalizedAnchorPoint);const e=u(this.view.spatialReference),r=w(this.intersectionHelper,this.startCamera,t,e,D.Ellipsoid,0===this.view.map.ground.opacity?L:{});if(this.navMode=A(this.startCamera,t,r.hasGeometryIntersection,e),this.navMode===O.Horizontal)this.hasPickPoint=!!r.scenePickPoint,this.pickPoint=r.scenePickPoint,this.sphere=r.sphere;else{let e,s;z(this.startCamera,t,this.tmpRay),o(this.tmpRay.direction,this.tmpRay.direction),r.scenePickPoint&&(c(this.tmpRayDirPick,this.startCamera.eye,r.scenePickPoint),s=h(this.tmpRayDirPick)),this.view.camera.position.hasZ&&(e=Math.abs(this.view.camera.position.z));let a=i(b*e,M[0],M[1]);const n=this.view._stage.renderView.getMinimalDepthForArea(null,t[0],t[1],this.view.state.camera,S);a=n?Math.min(a,n):a,a=r.scenePickPoint?Math.min(a,s):a,this.hasPickPoint=!0,m(this.tmpRay.direction,this.tmpRay.direction,a),p(this.pickPoint,this.tmpRay.origin,this.tmpRay.direction)}this.constraintOptions.interactionStartCamera=this.startCamera}update(t){if(this.active){if(this.currentCamera.eye=this.startCamera.eye,this.currentCamera.center=this.startCamera.center,this.currentCamera.up=this.startCamera.up,this.navMode===O.Horizontal){c(this.tmpRayDir,this.currentCamera.center,this.currentCamera.eye);const i=h(this.tmpRayDir);R(this.currentCamera,t,this.tmpP0);const e=12*(this.normalizedAnchorPoint[1]-this.tmpP0[1]);let r=i*2**e;const s=this.view.state.constraints.minimumPoiDistance;if(e<0&&r<s&&(r=s),Math.abs(i-r)<1e-6)return;if(this.hasPickPoint&&r<i){const t=1-(1-r/i)*(1-this.sphere[3]/h(this.currentCamera.center));this.currentCamera.center=m(I,this.currentCamera.center,t)}m(this.tmpRayDir,this.tmpRayDir,-r/i),this.currentCamera.eye=p(I,this.currentCamera.center,this.tmpRayDir),this.constraintOptions.interactionFactor=f(this.dragBeginPoint,t),d(this.view,this.currentCamera,this.constraintOptions),this.hasPickPoint&&(U(this.sphere,this.currentCamera,this.dragBeginPoint,this.targetOnSphere),y(this.pickPoint,this.targetOnSphere,this.panAxisAngle),x(this.currentCamera,this.sphere,this.panAxisAngle))}else{const i=h(this.tmpRay.direction);R(this.currentCamera,t,this.tmpP0);const e=12*(this.normalizedAnchorPoint[1]-this.tmpP0[1]);let r=i*2**e;const s=this.view.state.constraints.minimumPoiDistance;if(e<0&&r<s&&(r=s),Math.abs(i-r)<1e-6)return;m(this.tmpRayDir,this.tmpRay.direction,1-r/i),this.currentCamera.eye=p(I,this.currentCamera.eye,this.tmpRayDir),this.currentCamera.center=p(I,this.currentCamera.center,this.tmpRayDir)}E(this.view,this.currentCamera)}}end(){this.active&&this.finishController()}};t([r({constructOnly:!0})],H.prototype,\"view\",void 0),H=t([s(\"esri.views.3d.state.controllers.global.ZoomController\")],H);const I=l(),L={exclude:new Set([B])};export{H as ZoomController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import{clamp as i}from\"../../../../../core/mathUtils.js\";import{createScreenPointArray as s}from\"../../../../../core/screenUtils.js\";import{property as r}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as e}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{c as a}from\"../../../../../chunks/vec2.js\";import{a as o}from\"../../../../../chunks/vec2f64.js\";import{b as n,l as m,n as h,g as c,a as p,o as l,c as u,h as P}from\"../../../../../chunks/vec3.js\";import{c as v}from\"../../../../../chunks/vec3f64.js\";import{create as C,fromPositionAndNormal as f}from\"../../../../../geometry/support/plane.js\";import{pixelDistanceToInteractionFactor as y,applyAll as D}from\"../../../camera/constraintUtils.js\";import{ConstraintTypes as d,InteractionType as g,TiltMode as j}from\"../../../camera/constraintUtils/common.js\";import{InteractiveController as w}from\"../InteractiveController.js\";import{normalizeCoordinate as M,DISTANCE_CLAMP_VALUES as O,PIVOT_DISTANCE_MODIFIER as b,SCREEN_PIXEL_AREA as N,intersectPlaneFromScreenPoint as U}from\"../../utils/navigationUtils.js\";import{TERRAIN_ID as R}from\"../../../webgl-engine/lib/verticalOffsetUtils.js\";let S=class extends w{constructor(t){super(t),this.view=null,this.tmpP=v(),this.tmpDir=v(),this.tmpN=v(),this.tmpP0=o(),this.tmpPoi=v(),this.tmpRayDir=v(),this.dragBeginPoint=s(),this.normalizedAnchorPoint=o(),this.constraintOptions={selection:d.ALL,interactionType:g.ZOOM,interactionFactor:0,interactionStartCamera:null,interactionDirection:v(),tiltMode:j.TUMBLE},this.plane=C()}get intersectionHelper(){return this.view.sceneIntersectionHelper}begin(t){if(!this.active)return;a(this.dragBeginPoint,t),M(this.startCamera,t,this.normalizedAnchorPoint);const s=this.intersectionHelper.intersectScreenFreePointFallback(t,this.tmpP,0===this.view.map.ground.opacity?A:{});n(this.tmpDir,this.tmpP,this.startCamera.eye);const r=m(this.tmpDir);let e;h(this.tmpDir,this.tmpDir),this.view.camera.position.hasZ&&(e=Math.abs(this.view.camera.position.z));let o=i(b*e,O[0],O[1]);const u=this.view._stage.renderView.getMinimalDepthForArea(this.view.voxelWasm,t[0],t[1],this.view.state.camera,N);o=u?Math.min(o,u):o,o=s?Math.min(o,r):o,c(this.tmpDir,this.tmpDir,o),p(this.tmpP,this.startCamera.eye,this.tmpDir),n(this.tmpN,this.startCamera.eye,this.startCamera.center),h(this.tmpN,this.tmpN),this.tmpN[1]<0&&l(this.tmpN,this.tmpN),f(this.tmpP,this.tmpN,this.plane),this.constraintOptions.interactionStartCamera=this.startCamera}update(t){if(!this.active)return;U(this.plane,this.currentCamera,this.dragBeginPoint,this.tmpPoi)||u(this.tmpPoi,this.currentCamera.center),M(this.currentCamera,t,this.tmpP0);let i=4*(this.tmpP0[1]-this.normalizedAnchorPoint[1]);a(this.normalizedAnchorPoint,this.tmpP0),n(this.tmpRayDir,this.tmpPoi,this.currentCamera.eye);const s=m(this.tmpRayDir);let r=s*(1-i);u(this.constraintOptions.interactionDirection,this.tmpRayDir),c(this.constraintOptions.interactionDirection,this.constraintOptions.interactionDirection,Math.sign(i)/s);const e=this.view.state.constraints.minimumPoiDistance;i>=0&&r<e&&(r=e,i=-(r-s)/s),Math.abs(s-r)<1e-6||(c(this.tmpRayDir,this.tmpRayDir,i),this.currentCamera.eye=p(k,this.currentCamera.eye,this.tmpRayDir),P(k,this.currentCamera.center,this.tmpPoi,i),this.tmpPoi[2]>this.startCamera.center[2]?k[2]=Math.max(this.startCamera.center[2],k[2]):k[2]=Math.min(this.startCamera.center[2],k[2]),this.currentCamera.center=k,this.constraintOptions.interactionFactor=y(this.dragBeginPoint,t),D(this.view,this.currentCamera,this.constraintOptions))}end(){this.active&&this.finishController()}};t([r({constructOnly:!0})],S.prototype,\"view\",void 0),S=t([e(\"esri.views.3d.state.controllers.local.ZoomController\")],S);const k=v(),A={exclude:new Set([R])};export{S as ZoomController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{createScreenPointArray as r}from\"../../../../core/screenUtils.js\";import{ZoomController as t}from\"../../state/controllers/global/ZoomController.js\";import{ZoomController as e}from\"../../state/controllers/local/ZoomController.js\";import{InputHandler as o}from\"../../../input/InputHandler.js\";import{eventMatchesMousePointerAction as a}from\"../../../input/handlers/support.js\";class s extends o{constructor(r,t,e){super(!0),this.view=r,this.pointerAction=t,this.registerIncoming(\"drag\",e,(r=>this._handleDrag(r)))}_handleDrag(o){const s=o.data;if(s.pointers.size>1)return;if(!a(o.data,this.pointerAction))return;const i=r(s.center.x,s.center.y);switch(s.action){case\"start\":this.cameraController&&(this.cameraController.end(),this.cameraController=null),this.view.state.isGlobal?this.cameraController=new t({view:this.view}):this.cameraController=new e({view:this.view}),this.view.state.switchCameraController(this.cameraController),this.cameraController.begin(i);break;case\"update\":this.cameraController&&this.cameraController.update(i);break;case\"end\":this.cameraController&&(this.cameraController.end(),this.cameraController=null)}o.stopPropagation()}}export{s as DragZoom};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{rad2deg as t,acosClamped as s}from\"../../../core/mathUtils.js\";import{n,e as a,c as o,g as c,b as i,l as r,f as e}from\"../../../chunks/vec3.js\";import{c as f}from\"../../../chunks/vec3f64.js\";const l=f(),u=f();function h(){return{direction:f(),up:f()}}function m(f,h,m,p,b){let d=n(l,f),g=a(d,p);const j=g>0;g=Math.abs(g),g>.99&&(g=Math.abs(a(h,p)),g<.99?(o(d,h),j&&c(d,d,-1)):d=null);let k=0;if(d){c(u,p,a(p,d)),i(d,d,u);const n=a(d,b)/(r(d)*r(b));e(u,d,b);k=(a(u,p)>0?1:-1)*t(s(n))}const v=t(s(-a(p,f)/r(f)));return m?(m.heading=k,m.tilt=v,m):{heading:k,tilt:v}}export{h as createDirectionUp,m as directionToHeadingTilt};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{rad2deg as t,deg2rad as e}from\"../core/mathUtils.js\";import{b as o,r}from\"./mat4.js\";import{c as i}from\"./mat4f64.js\";import{m as n,g as a,a as s}from\"./vec3.js\";import{f as c,c as m}from\"./vec3f64.js\";import f from\"../geometry/Extent.js\";import{projectPointToVector as l,projectVectorToVector as p}from\"../geometry/projection.js\";import{createDirectionUp as u,directionToHeadingTilt as d}from\"../views/3d/support/cameraUtilsInternal.js\";const T=c(0,1,0),j=c(0,0,1),g=i(),y=m(),x=m();function h(t,i,s,c=u()){const{direction:m,up:f}=c;return o(g,-e(i)),r(g,g,e(s)),n(m,j,g),a(m,m,-1),n(f,T,g),c}function b(t,e,o,r){return d(e,o,r,j,T)}function v(t,e,o,r){const i=h(t,o,r),n=m();return a(n,i.direction,-e),s(n,n,t),{up:i.up,eye:n,heading:o,tilt:r}}function R(e){return t(e)}function _(t){return e(t)}function E(t,e,o,r,i){const n=t.renderSpatialReference,a=t.map&&t.spatialReference||e.spatialReference;return l(e,y,n),l(e,x,n),y[0]-=o/2,x[0]+=o/2,y[1]-=r/2,x[1]+=r/2,p(y,n,y,a),p(x,n,x,a),i?(i.xmin=y[0],i.ymin=y[1],i.xmax=x[0],i.ymax=x[1],i.spatialReference=a):i=new f(y[0],y[1],x[0],x[1],a),i}const H=Object.freeze(Object.defineProperty({__proto__:null,headingTiltToDirectionUp:h,directionToHeadingTilt:b,eyeForCenterWithHeadingTilt:v,lookAtTiltToEyeTilt:R,eyeTiltToLookAtTilt:_,toExtent:E},Symbol.toStringTag,{value:\"Module\"}));export{_ as a,H as c,b as d,v as e,h,R as l,E as t};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{Cyclical as t,cyclical2PI as e}from\"../core/Cyclical.js\";import{deg2rad as o,rad2deg as n,asinClamped as a}from\"../core/mathUtils.js\";import{d as i,e as s}from\"./mat4.js\";import{c as r}from\"./mat4f64.js\";import{n as c,f as l,e as m,m as f,o as p,l as h,g as u}from\"./vec3.js\";import{f as y,c as M}from\"./vec3f64.js\";import d from\"../geometry/Extent.js\";import{getReferenceEllipsoid as g}from\"../geometry/projectionEllipsoid.js\";import j from\"../geometry/SpatialReference.js\";import{geographicToWebMercator as T}from\"../geometry/support/webMercatorUtils.js\";import{createDirectionUp as b,directionToHeadingTilt as x}from\"../views/3d/support/cameraUtilsInternal.js\";import{getLonDeltaForDistance as R}from\"../views/3d/support/earthUtils.js\";const I=y(0,0,1),P=c(M(),y(1,1,1)),v=new t(-180,180),w=r(),U=M(),q=M();function E(t,e,n,a=b()){l(U,t,I),0===m(U,U)&&l(U,t,P),i(w,-o(e),t),s(w,w,-o(n),U);const{up:r,direction:h}=a;return l(r,U,t),c(r,r),f(r,r,w),c(h,t),p(h,h),f(h,h,w),a}function S(t,e,o,n){const a=U,i=q;return c(a,t),l(q,a,I),0===m(q,q)&&l(q,a,P),l(i,q,a),x(e,o,n,a,i)}function _(t,e,n,i){const s={eye:M(),up:null,tilt:i,heading:n},r=U;r[0]=t[0],r[1]=t[2],r[2]=-t[1];const c=e,l=o(n),m=o(i),f=Math.sin(l),p=Math.cos(l),y=Math.sin(m),d=Math.cos(m),g=h(r);let j;if(Math.abs(m)<1e-8)j=c+g;else{const t=g/y,e=a(c/t),o=Math.PI-m-e;j=t*Math.sin(o)}const T=d*c,b=c*c*(y*y),x=p*p*b,R=j-T,I=R*R,P=x*(x+I-r[1]*r[1]);if(P<0)return u(s.eye,r,j/g),s.tilt=0,s;const v=Math.sqrt(P),w=r[1]*R,q=x+I;let E;if(E=p>0?-v+w:v+w,Math.abs(q)<1e-8)return g<1e-8?(s.eye[0]=0,s.eye[1]=0,s.eye[2]=c):u(s.eye,r,j/g),s.tilt=0,H(s.eye),W(s,t);s.eye[1]=E/q;const S=f*f*b,_=y*c,k=p*_*s.eye[1],z=s.eye[1]*s.eye[1],A=1-z,C=Math.sqrt(A),G=x*z+S-2*k*C*R+A*I;return Math.abs(G)<1e-8?(u(s.eye,r,j/g),s.tilt=0,H(s.eye),W(s,t)):(s.eye[0]=(A*(j*r[0]-T*r[0])-_*C*(r[0]*s.eye[1]*p+r[2]*f))/G,s.eye[2]=(A*(j*r[2]-T*r[2])-_*C*(r[2]*s.eye[1]*p-r[0]*f))/G,u(s.eye,s.eye,j),H(s.eye),W(s,t))}function H(t){const e=t[1];t[1]=-t[2],t[2]=e}function W(t,e){const o=E(e,t.heading,t.tilt);return t.up=o.up,t}function k(t,e,o){const i=h(e),s=Math.sqrt(o*o+i*i-2*o*i*Math.cos(Math.PI-t)),r=a(o/(s/Math.sin(t)));return n(t-r)}function z(t,e,n){const i=o(t),s=h(e);return a(n/(s/Math.sin(i)))+i}function A(t,a,i,s,r){let c,l,m,f;const p=a.latitude,h=g(t.spatialReference).radius,u=a.longitude,y=R(p,i,h)/2;c=u-y,l=u+y;const M=o(p),b=(1+Math.sin(M))/(1-Math.sin(M)),x=(b+1)*Math.tan(s/h/2),I=x*x;function P(t){const o=Math.PI/2;return(t=e.normalize(t,-o))>o&&(t=Math.PI-t),t}if(m=1.5*Math.PI-2*Math.atan(.5*(x+Math.sqrt(4*b+I))),f=m+s/h,m=P(m),f=P(f),f<m){const t=f;f=m,m=t}if(m=Math.max(n(m),-90),f=Math.min(n(f),90),l=v.monotonic(c,l),l-c>180){const t=(l-c-180)/2;c+=t,l-=t}const w=t.spatialReference&&t.spatialReference.isGeographic?t.spatialReference:j.WGS84;return r?(r.xmin=c,r.ymin=m,r.xmax=l,r.ymax=f,r.spatialReference=w):r=new d(c,m,l,f,w),t.spatialReference&&t.spatialReference.isWebMercator&&T(r,!1,r),r}const C=Object.freeze(Object.defineProperty({__proto__:null,headingTiltToDirectionUp:E,directionToHeadingTilt:S,eyeForCenterWithHeadingTilt:_,lookAtTiltToEyeTilt:k,eyeTiltToLookAtTilt:z,toExtent:A},Symbol.toStringTag,{value:\"Module\"}));export{z as a,C as c,S as d,_ as e,E as h,k as l,A as t};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../Camera.js\";import{Cyclical as t}from\"../../../core/Cyclical.js\";import n from\"../../../core/Logger.js\";import{deg2rad as r,rad2deg as i}from\"../../../core/mathUtils.js\";import{isNone as o,unwrapOr as a,isSome as s}from\"../../../core/maybe.js\";import{createResolver as c}from\"../../../core/promiseUtils.js\";import{g as l,a as f,j as u,i as m,c as p}from\"../../../chunks/vec3.js\";import{a as d,c as h}from\"../../../chunks/vec3f64.js\";import v from\"../../../geometry/Point.js\";import{projectPointToVector as g,projectVectorToVector as y,projectVectorToPoint as R,project as x}from\"../../../geometry/projection.js\";import{getReferenceEllipsoid as j}from\"../../../geometry/projectionEllipsoid.js\";import M from\"../../../geometry/SpatialReference.js\";import{getResolutionForScale as w}from\"../../../geometry/support/scaleUtils.js\";import{ViewingMode as S}from\"../../ViewingMode.js\";import{cameraOnContentAlongViewDirection as T}from\"../camera/intersectionUtils.js\";import{c as C,t as z}from\"../../../chunks/cameraUtilsPlanar.js\";import{c as U,t as b}from\"../../../chunks/cameraUtilsSpherical.js\";import{getGreatCircleSpanAt as A}from\"./earthUtils.js\";import{getElevationAtPoint as D}from\"./ElevationProvider.js\";import{isSpatialReferenceSupported as H}from\"../../support/spatialReferenceSupport.js\";const P=n.getLogger(\"esri.views.3d.support.cameraUtils\"),L=39.37,E=96,G=1,O=8,k=5,I=1,q=h(),J=h(),F={heading:0,tilt:0},W=new v,X=new t(-20037508.342788905,20037508.342788905),K=new t(-180,180);var Y;function N(e){return e.spatialReference||M.WGS84}function V(e){return\"global\"===e.viewingMode?U:C}function Z(e,t,n,r,i){return V(e).headingTiltToDirectionUp(t,n,r,i)}function B(e,t){if(o(t))return null;const n=e.renderSpatialReference,i=V(e).headingTiltToDirectionUp,a=h();if(!g(t.position,a,n))return null;const s=i(a,t.heading,t.tilt);l(s.direction,s.direction,e.state.camera.distance),f(s.direction,s.direction,a);const c=T(e,a,s.direction,s.up);return c.fov=r(t.fov),c}!function(e){e[e.LOCKED=0]=\"LOCKED\",e[e.ADJUST=1]=\"ADJUST\"}(Y||(Y={}));const Q=h();function $(t,n,r){const a=t.renderSpatialReference,s=re(t,n.eye,n.viewForward,n.up,F);let c=N(t);return y(n.eye,a,Q,c)||(c=M.WGS84,y(n.eye,a,Q,c)),o(r)?new e(new v(Q,c),s.heading,s.tilt,i(n.fov)):(r.position.x=Q[0],r.position.y=Q[1],r.position.z=Q[2],r.position.spatialReference=c,r.heading=s.heading,r.tilt=s.tilt,r.fov=i(n.fov),r)}function _(e,t,n){const i=e.state.camera,o=i.width/2/i.pixelRatio;e.renderCoordsHelper.viewingMode===S.Global&&null!=n&&(t*=Math.cos(r(n))),t/=e.renderCoordsHelper.unitInMeters;return o/(E*L/t)/Math.tan(i.fovX/2)}function ee(e,t,n){const i=e.state.camera,o=t*Math.tan(i.fovX/2),a=i.width/2/i.pixelRatio;let s=E*L/(a/o);return e.renderCoordsHelper.viewingMode===S.Global&&(s/=Math.cos(r(n))),s*=e.renderCoordsHelper.unitInMeters,s}function te(e,t,n,r,i,o){return ne(e,t,_(e,n,t.latitude),r,i,o)}function ne(e,t,n,r,i,a){if(Te(a)){const s=new Se(a.signal);return ce(e,r.heading,r.tilt,t,n,i,s),void s.resolver.promise.then((t=>{const n=Re(e,t,r.fov);if(!o(n))return a.resolver.resolve(n);a.resolver.reject()}),(e=>a.resolver.reject(e)))}const s=ce(e,r.heading,r.tilt,t,n,i);return Re(e,s,r.fov,a)}function re(e,t,n,r,i){return V(e).directionToHeadingTilt(t,n,r,i)}function ie(e,t){return!!(e.basemapTerrain&&e.renderCoordsHelper.fromRenderCoords(t,W,e.spatialReference)&&a(D(e.elevationProvider,W),0)>W.z-I)}async function oe(e,t,n){if(!e.renderCoordsHelper.fromRenderCoords(t,W,e.spatialReference))return!1;const r=await e.elevationProvider.queryElevation(W.x,W.y,W.z,W.spatialReference,\"ground\",n);return a(r,0)>W.z-I}async function ae(e,t,n){const r=h();if(t)if(t instanceof v){if(g(t,r,e.renderSpatialReference),null==t.z&&null!=e.basemapTerrain){const i=await e.elevationProvider.queryElevation(t.x,t.y,t.z,t.spatialReference,\"ground\",n);return s(i)&&e.renderCoordsHelper.setAltitude(r,i),r}}else p(r,t);else p(r,e.state.camera.center);return r}function se(e,t){const n=h();if(t&&t instanceof v){if(g(t,n,e.renderSpatialReference),null==t.z&&null!=e.basemapTerrain){const r=D(e.elevationProvider,t);s(r)&&e.renderCoordsHelper.setAltitude(n,r)}}else p(n,t||e.state.camera.center);return n}function ce(e,t,n,r,i,o,a){const s=r&&r instanceof v?r:null;if(Te(a))return ae(e,r,a.signal).then((r=>{le(e,t,n,s,r,i,o,a)}),(e=>a.resolver.reject(e))),null;const c=se(e,r);return le(e,t,n,s,c,i,o,a)}function le(e,t,n,r,i,a,s,c){if(o(r)){const t=e.renderSpatialReference;if(r=R(i,t,N(e)),o(r))return null}a=Math.max(a,e.state.constraints.minimumPoiDistance);const l=pe(e,t,n,i,a,s),f=(0,V(e).eyeForCenterWithHeadingTilt)(i,a,l.heading,l.tilt);if(s===Y.ADJUST&&\"global\"===e.viewingMode&&n>0){const o=()=>{const o=ge(e,i,a,ve(e,a,n,i));return s=n-o<1?Y.LOCKED:Y.ADJUST,le(e,t,o,r,i,a,s,c)},l=e.map.ground.navigationConstraint;if(!l||\"stay-above\"===l.type){if(ie(e,f.eye))return o();if(Te(c))return oe(e,f.eye,c.signal).then((e=>e?o():(c.resolver.resolve({eye:f.eye,up:f.up,center:d(i),heading:f.heading,tilt:f.tilt}),null))),null}}const u=!c||Te(c)?{center:h(),eye:h(),up:h(),tilt:0,heading:0}:c;return u.eye=f.eye,u.up=f.up,u.center=d(i),u.heading=f.heading,u.tilt=f.tilt,Te(c)&&c.resolver.resolve(u),u}function fe(e,t,n,r,i,s=null){const c=null!=t.zmax&&null!=t.zmin;let l,f,u;if(e.state.isGlobal){if(!H(t.spatialReference,S.Global))return Te(s)&&s.resolver.reject(),null;const e=new v(t.xmin,t.ymin,t.spatialReference),n=new v(t.xmax,t.ymax,t.spatialReference),r=t.spatialReference.isGeographic?K:X;l=new v({x:r.center(e.x,n.x),y:(n.y+e.y)/2,z:c?(t.zmax+t.zmin)/2:null,spatialReference:t.spatialReference});const i=j(t.spatialReference),o=A(l,e,n);f=o.lon,u=o.lat,r.diff(e.x,n.x)>r.range/2&&(f+=i.halfCircumference),f=Math.min(f,i.halfCircumference),u=Math.min(u,i.halfCircumference)}else{const n=a(e.renderSpatialReference,t.spatialReference);n.equals(t.spatialReference)||(t=x(t,n)),f=t.xmax-t.xmin,u=t.ymax-t.ymin;const r=c?(t.zmax+t.zmin)/2:null;l=new v({x:t.xmin+.5*f,y:t.ymin+.5*u,z:r,spatialReference:n})}const m=c?t.zmax-t.zmin:0,p=e.state.camera,d=1/Math.tan(p.fovX/2),h=1/Math.tan(p.fovY/2),g=1/Math.tan(p.fov/2),y=Math.max(.5*f*d,.5*u*h,.5*m*g)/G;if(Te(s)){const t=new Se(s.signal);return ce(e,n,r,l,y,i,t),void t.resolver.promise.then((t=>{const n=Re(e,t,e.camera.fov);if(!o(n))return s.resolver.resolve(n);s.resolver.reject()}),(e=>s.resolver.reject(e)))}const R=ce(e,n,r,l,y,i);return Re(e,R,e.camera.fov,s)}function ue(e,t,n){const r=e.renderSpatialReference,i=R(n,r,N(e));if(o(i))return null;const a=Math.tan(t.fovX/2),s=Math.tan(t.fovY/2),c=u(t.eye,n),l=2*c*a*G,f=2*c*s*G;return\"global\"===e.viewingMode?b(e,i,l,f):z(e,i,l,f)}function me(e,t,n){const r=e.pointsOfInterest.centerOnSurfaceFrequent.distance;if(Math.log(n/r)/Math.LN2>O)return!0;const i=e.renderSpatialReference,a=N(e),s=R(t,i,a),c=R(e.pointsOfInterest.centerOnSurfaceFrequent.renderLocation,i,a);if(o(s)||o(c))return!1;const l=Math.tan(.5*e.state.camera.fov)*r;return c.distance(s)/l>k}function pe(e,t,n,r,i,o){let a=0;return o===Y.ADJUST&&me(e,r,i)?(t=0,a=he(e,i,n,r)):a=ye(e,r,i,n),a=e.state.constraints.clampTilt(i,a),{heading:t,tilt:n=ge(e,r,i,a)}}const de=.7;function he(e,t,n,r){const i=e.state.constraints.tilt(t);i.max=Math.min(i.max,.5*Math.PI);const o=i.min*(1-de)+i.max*de,a=ye(e,r,t,n);return Math.min(a,o)}function ve(e,t,n,r){const i=e.state.constraints.tilt(t);let o=ye(e,r,t,n);return o=Math.min(o,.5*Math.PI),i.min*(1-de)+o*de}function ge(e,t,n,r){return V(e).lookAtTiltToEyeTilt(r,t,n)}function ye(e,t,n,r){return V(e).eyeTiltToLookAtTilt(r,t,n)}function Re(t,n,r,i){if(o(n))return null;const a=t.renderSpatialReference,c=R(n.eye,a,N(t));return o(c)?null:s(i)?(i.position=c,i.heading=n.heading,i.tilt=n.tilt,i.fov=r,i):new e(c,n.heading,n.tilt,r)}function xe(e,t){const n=e.basemapTerrain?.tilingScheme;if(n)return n.levelAtScale(t);P.error(\"#scaleToZoom()\",\"Cannot compute zoom from scale without a tiling scheme\")}function je(e,t){const n=e.basemapTerrain?.tilingScheme;if(n)return n.scaleAtLevel(t);P.error(\"#zoomToScale()\",\"Cannot compute scale from zoom without a tiling scheme\")}function Me(e,t){return e.spatialReference?w(t,e.spatialReference):void 0}function we(t,n,r){const i=t.renderSpatialReference;let o,a;n||(n=t.state.camera);const s=M.WGS84;return n instanceof e?(o=n.position.latitude,g(n.position,q,i),g(r,J,i),a=m(q,J)):(y(n.center,i,J,s),o=J[1],a=n.distance),ee(t,a,o)}class Se{constructor(e){this.signal=e,this.resolver=c()}}function Te(e){return e&&\"resolver\"in e}export{Se as AsyncContext,Y as OrientationMode,we as computeScale,re as directionToHeadingTilt,ee as distanceToScale,B as externalToInternal,ne as fromCenterDistance,te as fromCenterScale,fe as fromExtent,ce as getObserverForPointAtDistance,Z as headingTiltToDirectionUp,$ as internalToExternal,Re as observerToCamera,_ as scaleToDistance,Me as scaleToResolution,xe as scaleToZoom,ue as toExtent,je as zoomToScale};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{neverReached as e}from\"../../../../core/compilerUtils.js\";import{clamp as i,acosClamped as a,deg2rad as r}from\"../../../../core/mathUtils.js\";import{isSome as o}from\"../../../../core/maybe.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{j as c,e as m,i as l}from\"../../../../chunks/mat4.js\";import{c as p}from\"../../../../chunks/mat4f64.js\";import{b as h,m as d,a as u,g as f,c as v,o as C,l as g,s as y,n as w,f as O,e as b,i as S,r as _}from\"../../../../chunks/vec3.js\";import{c as j}from\"../../../../chunks/vec3f64.js\";import{getReferenceEllipsoid as x}from\"../../../../geometry/projectionEllipsoid.js\";import{wrap as M}from\"../../../../geometry/support/ray.js\";import{j as L,k as T,t as A}from\"../../../../chunks/sphere.js\";import{sv3d as z}from\"../../../../geometry/support/vectorStacks.js\";import{applyAll as E}from\"../../camera/constraintUtils.js\";import{ConstraintTypes as D,InteractionType as I,TiltMode as k}from\"../../camera/constraintUtils/common.js\";import{TiltDefault as R}from\"../Constraints.js\";import{InteractiveController as U}from\"./InteractiveController.js\";import{panMotionToRotationMatrix as H,onSurfaceTiltToEyeTiltGlobal as N,offSurfaceTiltToEyeTiltGlobal as F}from\"../utils/navigationUtils.js\";import{viewAngle as P}from\"../utils/viewUtils.js\";import{headingTiltToDirectionUp as G}from\"../../support/cameraUtils.js\";import{createDirectionUp as V}from\"../../support/cameraUtilsInternal.js\";import{Camera as B}from\"../../webgl-engine/lib/Camera.js\";import{extractTransformation as K,isZeroTransformation as X,extractTransformationKeyboard as Z}from\"../../../navigation/gamepadAndKeyboardUtils.js\";let q=class extends U{constructor(t){super(t),this.transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this.keysButtonState=[0,0,0,0,0,0,0,0,0,0,0,0],this.tmpCamera=new B,this.constraintOptions={selection:D.ALL,interactionType:I.NONE,interactionStartCamera:new B,interactionFactor:0,interactionDirection:null,tiltMode:k.LOOK_AROUND}}handleEventGamepad(t){const e=K(t,this.view.navigation.gamepad,this.transformation);(\"end\"===t.action||X(e))&&this.finishController()}activateDirection(t){this.keysButtonState[t]=1,Z(this.keysButtonState,this.transformation)}deactivateDirection(t){this.keysButtonState[t]=0;const e=Z(this.keysButtonState,this.transformation);X(e)&&this.finishController()}onControllerStart(t){this.filteredSurfaceElevation=this.view.pointsOfInterest.cameraOnSurface.location.z,this.headingStart=this.view.camera.heading,super.onControllerStart(t)}_updateFilteredSurfaceElevation(t){const e=this.view.pointsOfInterest.cameraOnSurface.location.z,i=1;this.filteredSurfaceElevation+=i*(e-this.filteredSurfaceElevation)*t}stepController(t,e){this._updateStartHeading(),this._updateFilteredSurfaceElevation(t),this.currentCamera.copyViewFrom(e),this._updateCameraCenter(),this.constraintOptions.interactionStartCamera.copyFrom(this.currentCamera),this._calculateControlTransformation(t,this.currentCamera,it),this._applyDisabledMovementTypes(it),this._applyPan(it.pan),this._applyRotate(it.rotate),this._applyZoom(it.zoom),this._applyAscend(it.ascend),this.constraintOptions.interactionType=I.NONE,this.constraintOptions.selection=D.COLLISION,E(this.view,this.currentCamera,this.constraintOptions),super.stepController(t,e)}_updateStartHeading(){0!==this.transformation.heading&&(this.headingStart=this.view.camera.heading)}_applyRotate(t){if(!t.enabled)return;const e=this.currentCamera;h(at,e.center,e.eye),d(at,at,t.matrix),e.center=u(at,at,e.eye),e.up=d(at,e.up,t.matrix),this.constraintOptions.interactionType=I.LOOK_AROUND,this.constraintOptions.selection=D.ALL_EXCEPT_COLLISION,E(this.view,e,this.constraintOptions)}_applyPan(t,e=this.currentCamera){if(!t.enabled)return;e.eye=d(at,e.eye,t.matrix),e.center=d(at,e.center,t.matrix);this.view.state.isGlobal&&(e.up=d(at,e.up,t.matrix)),this.constraintOptions.interactionType=I.PAN,this.constraintOptions.selection=D.ALL,E(this.view,e,this.constraintOptions)}_applyZoom(t){if(!t)return;const e=this.currentCamera.viewForward;this.currentCamera.eye=u(at,this.currentCamera.eye,f(z.get(),e,t)),v(rt,e),C(rt,rt),this.constraintOptions.interactionDirection=rt,this.constraintOptions.interactionType=I.ZOOM,this.constraintOptions.selection=D.ALL_EXCEPT_COLLISION,E(this.view,this.currentCamera,this.constraintOptions),this.constraintOptions.interactionDirection=null}_applyAscend(t){if(!t)return;const e=this.view.renderCoordsHelper.worldUpAtPosition(this.currentCamera.eye,z.get());this.constraintOptions.interactionDirection=v(rt,e);if(this.view.state.isGlobal){const e=g(this.currentCamera.eye),i=(e+t)/e;this.currentCamera.eye=f(at,this.currentCamera.eye,i),this.currentCamera.center=f(at,this.currentCamera.center,i)}else{const i=f(z.get(),e,t);this.currentCamera.eye=u(at,this.currentCamera.eye,i),this.currentCamera.center=u(at,this.currentCamera.center,i)}this._updateCameraCenter(),this.constraintOptions.interactionType=I.ASCEND,this.constraintOptions.selection=D.COLLISION,E(this.view,this.currentCamera,this.constraintOptions)&&this._updateCameraCenter(),this.constraintOptions.selection=D.ALL_EXCEPT_COLLISION,E(this.view,this.currentCamera,this.constraintOptions),this.constraintOptions.interactionDirection=null}_calculateControlTransformation(t,e,i){st(i);const a=this._computeVelocities(t);this.view.state.isLocal?this._calculateControlTransformationLocal(a,e,i):this._calculateControlTransformationGlobal(a,e,i)}_updateCameraCenter(){const t=this.view.pointsOfInterest.centerOnSurfaceFrequent.estimatedSurfaceAltitude,e=this.view.renderCoordsHelper,i=this.currentCamera.ray;this.currentCamera.center=e.intersectManifoldClosestSilhouette(i,t,at)}_calculateControlTransformationLocal(t,a,r){const{viewRight:o,viewForward:s}=a,n=this.transformation,l=this.view.navigation.gamepad,p=y(z.get(),s[0],s[1],0);w(p,p);const h=n.translation[0]*t.pan;if(0!==h){const t=f(z.get(),o,h);c(r.pan.matrix,r.pan.matrix,t),r.pan.enabled=!0}switch(l.mode){case\"pan\":{const e=-n.translation[1]*t.pan;if(0!==e){const t=f(z.get(),p,e);c(r.pan.matrix,r.pan.matrix,t),r.pan.enabled=!0}r.zoom=n.zoom*t.zoom;break}case\"zoom\":r.zoom=(-n.translation[1]+n.zoom)*t.zoom;break;default:e(l.mode)}const d=n.translation[2]*t.ascend;r.ascend=d;const u=-n.heading*t.rotate;0!==u&&(m(r.rotate.matrix,r.rotate.matrix,u,this.view.renderCoordsHelper.worldUpAtPosition(a.eye,z.get())),r.rotate.enabled=!0);const v=n.tilt*t.rotate,C=P(this.view.renderCoordsHelper,a.center,a.eye),g=i(C+v,R.min,R.max)-C;g&&(m(r.rotate.matrix,r.rotate.matrix,g,o),r.rotate.enabled=!0)}_calculateControlTransformationGlobal(t,e,i){const{eye:a,viewRight:r}=e,o=this.transformation,s=this.view.navigation.gamepad,n=O(z.get(),r,a);w(n,n),C(n,n),H(this.startCamera,e,o,t,this.view.camera.heading,this.headingStart,this.view.camera.tilt,i,s),this.tmpCamera.copyFrom(this.currentCamera),this._applyPan(it.pan,this.tmpCamera);const c=this.view.pointsOfInterest.centerOnSurfaceFrequent.estimatedSurfaceAltitude,l=o.translation[2]*t.ascend;i.ascend=l;const p=-o.heading*t.rotate;0!==p&&(m(i.rotate.matrix,i.rotate.matrix,p,this.tmpCamera.eye),i.rotate.enabled=!0);const h=o.tilt*t.rotate,d=this._clampTiltDeltaGlobalToValidRange(h,e.ray,c);0!==d&&(m(i.rotate.matrix,i.rotate.matrix,d,this.tmpCamera.viewRight),i.rotate.enabled=!0),i.zoom+=o.zoom*t.zoom}_clampTiltDeltaGlobalToValidRange(t,e,r){const o=x(this.view.spatialReference),s=N(R.min,e.origin,r,o);let n=0,c=0;const m=z.get();if(this.view.renderCoordsHelper.intersectManifold(e,r,m)){const t=P(this.view.renderCoordsHelper,m,e.origin);n=N(t,e.origin,r,o),c=N(R.max,e.origin,r,o)}else{L(T(A,r+o.radius),e,m);const t=a(-b(e.direction,w(m,m)));n=F(t,e.origin,r,o),c=F(R.max,e.origin,r,o)}return i(n+t,s,c)-n}_getPointAbsoluteSurfaceElevation(t,e,i){const{renderCoordsHelper:a}=this.view,r=a.getAltitude(t),o=e+Math.abs(r-e);return a.setAltitude(i,o,t),o}_clampedDistanceToSurface(t,e){const{renderCoordsHelper:i}=this.view,{camera:a}=this.view.state,{direction:r}=G(this.view,e,0,Q,ot),o=i.intersectManifoldClosestSilhouette(M(e,r),t,z.get()),s=S(e,o),n=i.intersectManifoldClosestSilhouette(M(e,_(z.get(),e,a.center)),t,z.get()),c=S(e,n);return Math.min(s,c)}_computeHeadingRotateRadius(t){const{renderCoordsHelper:e,state:i}=this.view,{camera:r,isGlobal:o}=i,s=e.intersectManifoldClosestSilhouette(r.ray,this.filteredSurfaceElevation,z.get());if(o){const e=h(z.get(),t,s),i=g(e);f(e,e,1/i);const r=w(z.get(),t),o=a(b(r,e));return i*Math.sin(Math.min(W,o))}{const i=v(z.get(),t);return e.setAltitude(i,this.filteredSurfaceElevation),S(s,i)}}_minimumAscendVelocity(){return this.view.state.constraints.collision.enabled?0:$}_computeVelocities(t){const e=this.filteredSurfaceElevation,a=e+x(this.view.spatialReference).radius,{camera:r,isGlobal:o}=this.view.state,s=z.get(),n=this._getPointAbsoluteSurfaceElevation(r.eye,e,s),c=this._clampedDistanceToSurface(e,s),m=r.width/2,l=Y*r.width,p=Y*r.width,h=c*Math.tan(.5*r.fovX)/m,d=h/a,u=h/this._computeHeadingRotateRadius(s),f=n-e;return{pan:(o?d:h)*l*t,ascend:Math.max(this._minimumAscendVelocity()*t,2**(l*t/m)*f-f),zoom:2**(l*t/m)*c-c,rotate:i(u*p,tt,et)*t}}_applyDisabledMovementTypes(t){!o(this.disableMovements)||void 0!==this.disableMovements.mode&&this.view.state.viewingMode!==this.disableMovements.mode||(t.zoom=this.disableMovements.zoom?0:t.zoom,t.ascend=this.disableMovements.ascend?0:t.ascend,t.pan.enabled=!this.disableMovements.pan,this.disableMovements.pan&&l(t.pan.matrix),t.rotate.enabled=!this.disableMovements.rotate,this.disableMovements.rotate&&l(t.rotate.matrix))}static activatesFor(t,e){const i=K(e,t.navigation.gamepad,J);return!(\"end\"===e.action||X(i))}};t([s({constructOnly:!0})],q.prototype,\"view\",void 0),t([s({constructOnly:!0})],q.prototype,\"gamepadDevice\",void 0),t([s({constructOnly:!0})],q.prototype,\"disableMovements\",void 0),q=t([n(\"esri.views.3d.state.controllers.GamepadKeyboardController\")],q);const J={translation:[0,0,0],heading:0,tilt:0,zoom:0},Q=80,W=r(Q),Y=.75,$=5,tt=r(30),et=r(80),it={zoom:0,ascend:0,pan:{enabled:!1,matrix:p()},rotate:{enabled:!1,matrix:p()}},at=j(),rt=j(),ot=V();function st(t){t.zoom=0,t.ascend=0,t.pan.enabled=!1,l(t.pan.matrix),t.rotate.enabled=!1,l(t.rotate.matrix)}export{q as GamepadKeyboardController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport a from\"../../../../core/Handles.js\";import{watch as e,initial as t}from\"../../../../core/reactiveUtils.js\";import{GamepadKeyboardController as r}from\"../../state/controllers/GamepadKeyboardController.js\";import{InputHandler as i}from\"../../../input/InputHandler.js\";class l extends i{constructor(e){super(!0),this.view=e,this.watchHandles=new a,this.handle=this.registerIncoming(\"gamepad\",(a=>this._handleEventGamepad(a))),this.handle.pause()}onInstall(a){super.onInstall(a),this.watchHandles.add([e((()=>this.view.navigation.gamepad.enabled),(a=>{a?this.handle.resume():(this.handle.pause(),this.cameraControllerGamepad&&(this.cameraControllerGamepad.finishController(),this.cameraControllerGamepad=null))}),t),e((()=>this.view.navigation.gamepad.device),(a=>{this.cameraControllerGamepad&&a&&this.cameraControllerGamepad.gamepadDevice!==a&&(this.cameraControllerGamepad.finishController(),this.cameraControllerGamepad=null)}))])}onUninstall(){this.watchHandles.removeAll(),super.onUninstall()}_handleEventGamepad(a){const e=this.view.navigation.gamepad.device;if(e&&a.data.device!==e)return;const t=this.cameraControllerGamepad&&this.cameraControllerGamepad.active;if(t||r.activatesFor(this.view,a.data)){if(!t){const e=new r({view:this.view,gamepadDevice:a.data.device});this.view.state.switchCameraController(e)&&(this.cameraControllerGamepad=e)}this.cameraControllerGamepad&&this.cameraControllerGamepad.active&&this.cameraControllerGamepad.gamepadDevice===a.data.device&&this.cameraControllerGamepad.handleEventGamepad(a.data)}}}export{l as GamepadNavigation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{ViewingMode as e}from\"../../../ViewingMode.js\";import{GamepadKeyboardController as t}from\"../../state/controllers/GamepadKeyboardController.js\";import{InputHandler as r}from\"../../../input/InputHandler.js\";var a;!function(e){e[e.LEFT=0]=\"LEFT\",e[e.RIGHT=1]=\"RIGHT\",e[e.FORWARD=2]=\"FORWARD\",e[e.BACKWARD=3]=\"BACKWARD\",e[e.UP=4]=\"UP\",e[e.DOWN=5]=\"DOWN\",e[e.HEADINGLEFT=6]=\"HEADINGLEFT\",e[e.HEADINGRIGHT=7]=\"HEADINGRIGHT\",e[e.TILTUP=8]=\"TILTUP\",e[e.TILTDOWN=9]=\"TILTDOWN\",e[e.ZOOMIN=10]=\"ZOOMIN\",e[e.ZOOMOUT=11]=\"ZOOMOUT\"}(a||(a={}));class o extends r{constructor(t,r){super(!0),this.view=t,this.disableMovements={pan:!0,zoom:!1,ascend:!0,rotate:!1,mode:e.Local},this.keyToNumber={[r.left]:a.LEFT,[r.right]:a.RIGHT,[r.forward]:a.FORWARD,[r.backward]:a.BACKWARD,[r.up]:a.UP,[r.down]:a.DOWN,[r.headingLeft]:a.HEADINGLEFT,[r.headingRight]:a.HEADINGRIGHT,[r.tiltUp]:a.TILTUP,[r.tiltDown]:a.TILTDOWN,[r.zoomIn]:a.ZOOMIN,[r.zoomOut]:a.ZOOMOUT},this.registerIncoming(\"key-down\",null,(e=>this._handleKeyDown(e))),this.registerIncoming(\"key-up\",null,(e=>this._handleKeyUp(e))),this.registerIncoming(\"blur\",null,(()=>this._handleBlur()))}_handleKeyDown(e){if(e.data.native.ctrlKey||e.data.native.metaKey)return;const r=this.keyToNumber[e.data.key];null!=r&&(this.cameraControllerKeyboard&&this.cameraControllerKeyboard.active||(this.cameraControllerKeyboard=new t({view:this.view,disableMovements:this.disableMovements}),this.view.state.switchCameraController(this.cameraControllerKeyboard)),this.cameraControllerKeyboard.active&&(this.cameraControllerKeyboard.activateDirection(r),e.stopPropagation()))}_handleBlur(){this.cameraControllerKeyboard&&this.cameraControllerKeyboard.active&&(this.cameraControllerKeyboard.finishController(),this.cameraControllerKeyboard=null)}_handleKeyUp(e){if(e.data.native.ctrlKey||e.data.native.metaKey)return;const t=this.keyToNumber[e.data.key];null!=t&&this.cameraControllerKeyboard&&this.cameraControllerKeyboard.active&&(this.cameraControllerKeyboard.deactivateDirection(t),e.stopPropagation())}}export{o as KeyboardNavigation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{createScreenPointArray as e}from\"../../../../core/screenUtils.js\";import{ZoomStepController as t}from\"../../state/controllers/global/ZoomStepController.js\";import{ZoomStepController as o}from\"../../state/controllers/local/ZoomStepController.js\";import{InputHandler as r}from\"../../../input/InputHandler.js\";class i extends r{constructor(e,t){super(!0),this.view=e,this.registerIncoming(\"mouse-wheel\",t,(e=>this._handleMouseWheel(e)))}_handleMouseWheel(r){if(!this.view.navigation.mouseWheelZoomEnabled)return;const i=r.data;this.cameraController&&this.cameraController.active||(this.cameraController=this.view.state.isGlobal?new t({view:this.view,mode:\"interaction\"}):new o({view:this.view,mode:\"interaction\"}),this.view.state.switchCameraController(this.cameraController)),this.cameraController.zoomStep(-1/60*i.deltaY,e(i.x,i.y)),r.preventDefault(),r.stopPropagation()}}export{i as MouseWheelZoom};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nclass t{constructor(t){this._gain=t}reset(t){this._value=t}set gain(t){this._gain=t}get value(){return void 0===this._value?0:this._value}update(t){void 0===this._value?this._value=t:this._value=this._gain*t+(1-this._gain)*this._value}}export{t as ExponentialFalloff};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import{property as e}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import o from\"../../../../ViewAnimation.js\";import{applyAll as r}from\"../../../camera/constraintUtils.js\";import{ConstraintTypes as s,InteractionType as n,TiltMode as a}from\"../../../camera/constraintUtils/common.js\";export{InteractionType}from\"../../../camera/constraintUtils/common.js\";import{AnimationController as m}from\"../AnimationController.js\";import{Camera as c}from\"../../../webgl-engine/lib/Camera.js\";let p=class extends m{constructor(t){super(t),this.view=null,this.beginCamera=new c,this.elapsedTimeSec=0,this.constraintOptions={selection:s.ALL,interactionType:n.PAN,interactionFactor:0,interactionStartCamera:new c,interactionDirection:null,tiltMode:a.TUMBLE}}initialize(){this.constraintOptions.interactionType=this.interactionType,this.viewAnimation=new o}get steppingFinished(){return this.momentum.isFinished(this.elapsedTimeSec)}onControllerStart(t){this.beginCamera.copyFrom(t),this.constraintOptions.interactionStartCamera=this.beginCamera,super.onControllerStart(t)}stepController(t,e){e.copyViewFrom(this.beginCamera),this.elapsedTimeSec+=t,this.momentumStep(this.elapsedTimeSec,e),r(this.view,e,this.constraintOptions)}};t([e({constructOnly:!0})],p.prototype,\"view\",void 0),p=t([i(\"esri.views.3d.state.controllers.momentum.MomentumController\")],p);export{p as MomentumController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{g as s,b as e}from\"../../../../../chunks/vec3.js\";import{c as m}from\"../../../../../chunks/vec3f64.js\";import{MomentumController as n}from\"./MomentumController.js\";import{InteractionType as c}from\"../../../camera/constraintUtils/common.js\";let i=class extends n{constructor(t){super(t),this.interactionType=c.PAN,this.tmpPan=m()}momentumStep(t,o){const r=this.momentum.value(t);s(this.tmpPan,this.momentum.direction,r),o.eye=e(p,o.eye,this.tmpPan),o.center=e(p,o.center,this.tmpPan),this.constraintOptions.interactionDirection=this.tmpPan}};t([o({constructOnly:!0})],i.prototype,\"momentum\",void 0),i=t([r(\"esri.views.3d.state.controllers.momentum.PanPlanarMomentumController\")],i);const p=m();export{i as PanPlanarMomentumController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../../chunks/tslib.es6.js\";import{property as s}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as t}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{c as r,n as m,f as e}from\"../../../../../chunks/vec3.js\";import{c as i}from\"../../../../../chunks/vec3f64.js\";import{MomentumController as c}from\"./MomentumController.js\";import{applyRotationWithTwoAxes as n}from\"../../utils/navigationUtils.js\";import{InteractionType as a}from\"../../../camera/constraintUtils/common.js\";const p=i(),u=i();let l=class extends c{constructor(o){super(o),this.interactionType=a.PAN}momentumStep(o,s){const t=this.momentum.value1(o),i=this.momentum.value2(o);r(u,s.eye),m(u,u),e(this.momentum.axis2,u,this.momentum.axis1),n(s,p,this.momentum.axis1,t,this.momentum.axis2,i)}};o([s({constructOnly:!0})],l.prototype,\"momentum\",void 0),l=o([t(\"esri.views.3d.state.controllers.momentum.PanSphericalMomentumController\")],l);export{l as PanSphericalMomentumController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{a as s}from\"../../../../../chunks/vec3f64.js\";import{wrapAxisAngle as e}from\"../../../../../geometry/support/axisAngle.js\";import{MomentumController as m}from\"./MomentumController.js\";import{applyRotation as c}from\"../../utils/navigationUtils.js\";import{InteractionType as i}from\"../../../camera/constraintUtils/common.js\";let n=class extends m{constructor(t){super(t),this.interactionType=i.TUMBLE}set center(t){this._set(\"center\",s(t))}set axis(t){this._set(\"axis\",s(t))}momentumStep(t,o){const r=this.momentum.value(t);c(o,this.center,e(this.axis,r))}};t([o({constructOnly:!0})],n.prototype,\"momentum\",void 0),t([o({constructOnly:!0})],n.prototype,\"center\",null),t([o({constructOnly:!0})],n.prototype,\"axis\",null),n=t([r(\"esri.views.3d.state.controllers.momentum.MomentumController\")],n);export{n as RotationMomentumController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{c as s,r as i}from\"../../../../../chunks/vec3.js\";import{c as e,a as n}from\"../../../../../chunks/vec3f64.js\";import{MomentumController as c}from\"./MomentumController.js\";import{applyZoomToPoint as m}from\"../../utils/navigationUtils.js\";import{InteractionType as a}from\"../../../camera/constraintUtils/common.js\";let p=class extends c{constructor(t){super(t),this.interactionType=a.ZOOM,this.constraintOptions.interactionDirection=e()}set zoomCenter(t){this._set(\"zoomCenter\",n(t))}momentumStep(t,o){s(this.constraintOptions.interactionDirection,o.eye);const r=this.momentum.valueDelta(0,t);m(o,this.zoomCenter,r,this.view.state.constraints.minimumPoiDistance),this.constraintOptions.interactionDirection=i(this.constraintOptions.interactionDirection,o.eye,this.constraintOptions.interactionDirection)}};t([o({constructOnly:!0})],p.prototype,\"momentum\",void 0),t([o({constructOnly:!0})],p.prototype,\"zoomCenter\",null),p=t([r(\"esri.views.3d.state.controllers.momentum.ZoomPlanarMomentumController\")],p);export{p as ZoomPlanarMomentumController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import{createScreenPointArray as e}from\"../../../../../core/screenUtils.js\";import{property as s}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{c as o,a as i}from\"../../../../../chunks/vec3f64.js\";import{create as n,fromPoints as c}from\"../../../../../geometry/support/axisAngle.js\";import{c as m}from\"../../../../../chunks/sphere.js\";import{applyAll as p}from\"../../../camera/constraintUtils.js\";import{MomentumController as a}from\"./MomentumController.js\";import{applyZoomOnSphere as h,sphereOrPlanePointFromScreenPoint as l,applyRotation as u}from\"../../utils/navigationUtils.js\";import{InteractionType as y}from\"../../../camera/constraintUtils/common.js\";let j=class extends a{constructor(t){super(t),this.interactionType=y.ZOOM,this.radius=0,this.tmpSceneCenter=o(),this.tmpZoomAxisAngle=n(),this.sphere=m()}set screenCenter(t){this._set(\"screenCenter\",e(t[0],t[1]))}set sceneCenter(t){this._set(\"sceneCenter\",i(t))}initialize(){this.sphere[3]=this.radius}momentumStep(t,e){const s=this.momentum.valueDelta(0,t);h(this.sphere,e,s),this.constraintOptions.interactionType=y.ZOOM,p(this.view,e,this.constraintOptions),l(this.sphere,e,this.screenCenter,this.tmpSceneCenter),c(this.sceneCenter,this.tmpSceneCenter,this.tmpZoomAxisAngle),u(e,this.sphere,this.tmpZoomAxisAngle),this.constraintOptions.interactionType=y.PAN}};t([s({constructOnly:!0})],j.prototype,\"momentum\",void 0),t([s({constructOnly:!0})],j.prototype,\"screenCenter\",null),t([s({constructOnly:!0})],j.prototype,\"sceneCenter\",null),t([s({constructOnly:!0})],j.prototype,\"radius\",void 0),j=t([r(\"esri.views.3d.state.controllers.momentum.ZoomSphericalMomentumController\")],j);export{j as ZoomSphericalMomentumController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nclass e{constructor(e){this.gain=e}update(e){this.hasFilteredValue?this.filteredValue=(1-this.gain)*this.filteredValue+this.gain*e:this.filteredValue=e}reset(){this.filteredValue=void 0}get hasFilteredValue(){return void 0!==this.filteredValue}}export{e as FilteredValue};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{a as t}from\"../../chunks/vec2f64.js\";import{p as e,n as i,c as s}from\"../../chunks/vec3.js\";import{c as a}from\"../../chunks/vec3f64.js\";import{rotationAngleAndAxisDirectRotation as h,rotationAnglesAndAxesHeadingPreserving as n}from\"../3d/state/utils/navigationUtils.js\";import{FilteredFiniteDifference as l}from\"./FilteredFiniteDifference.js\";import{FilteredValue as r}from\"./FilteredValue.js\";import{Momentum as m}from\"./Momentum.js\";const u=1e-5;class c extends m{constructor(t,e,i,s,a,h=0,n){super(t,e,i),this.angularVelocity1=s,this.axis1=a,this.angularVelocity2=h,this.axis2=n}value1(t){return super.valueFromInitialVelocity(this.angularVelocity1,t)}value2(t){return super.valueFromInitialVelocity(this.angularVelocity2,t)}}class o{constructor(e=300,i=12,s=.84){this.minimumInitialVelocity=e,this.stopVelocity=i,this.friction=s,this.enabled=!0,this.tmpAxis1=a(),this.tmpAxis2=a(),this.tmpAngles=t(),this.time=new l(.3),this.screen=[new l(.4),new l(.4)],this.angle1=new r(.6),this.angle2=new r(.6),this.axis1=a(),this.axis2=a(),this.lastScene=a()}addMomentumDirectRotation(t,a,n,l,r,m){if(this.enabled){if(this.time.hasLastValue){if(this.time.computeDelta(n)<.01)return;let t=h(this.lastScene,a,this.tmpAxis2,l,r,m);this.angle2.update(0),e(this.tmpAxis2)<u?t=0:i(this.axis1,this.tmpAxis2),this.angle1.update(t),s(this.lastScene,a)}this.screen[0].update(t[0]),this.screen[1].update(t[1]),this.time.update(n)}}addMomentumPreserveHeading(t,a,h,l,r,m,c){if(this.enabled){if(this.time.hasLastValue){if(this.time.computeDelta(h)<.01)return;n(this.lastScene,a,this.tmpAxis2,this.tmpAxis1,this.tmpAngles,l,r,m,c,!1),e(this.tmpAxis2)<u?(this.angle1.update(0),this.angle2.update(0)):(this.angle1.update(this.tmpAngles[1]),this.angle2.update(this.tmpAngles[0]),i(this.axis1,this.tmpAxis1),i(this.axis2,this.tmpAxis2)),s(this.lastScene,a)}this.screen[0].update(t[0]),this.screen[1].update(t[1]),this.time.update(h)}}reset(){this.screen[0].reset(),this.screen[1].reset(),this.angle1.reset(),this.angle2.reset(),this.time.reset()}evaluateMomentum(){if(!this.enabled||!this.screen[0].hasFilteredDelta)return null;const t=this.screen[0].filteredDelta,e=this.screen[1].filteredDelta,i=Math.sqrt(t*t+e*e)/this.time.filteredDelta;return Math.abs(i)<this.minimumInitialVelocity?null:this.createMomentum(i,this.stopVelocity,this.friction)}createMomentum(t,e,i){const s=this.angle1.filteredValue/this.time.filteredDelta,a=this.angle2.filteredValue/this.time.filteredDelta;return new c(t,e,i,s,this.axis1,a,this.axis2)}}export{c as PanSphericalMomentum,o as PanSphericalMomentumEstimator};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import{cyclicalPI as i}from\"../../../../../core/Cyclical.js\";import{deg2rad as e}from\"../../../../../core/mathUtils.js\";import{createScreenPointArray as n,screenPointObjectToArray as s,createRenderScreenPointArray3 as o}from\"../../../../../core/screenUtils.js\";import{property as r}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{c as m}from\"../../../../../chunks/vec2.js\";import{c as h,o as c,l as p,b as l,n as u,a as P,g as d,e as g}from\"../../../../../chunks/vec3.js\";import{c as v}from\"../../../../../chunks/vec3f64.js\";import{getReferenceEllipsoid as M}from\"../../../../../geometry/projectionEllipsoid.js\";import{wrapAxisAngle as C}from\"../../../../../geometry/support/axisAngle.js\";import{create as S,fromPositionAndNormal as w,normal as b}from\"../../../../../geometry/support/plane.js\";import{c as f}from\"../../../../../chunks/sphere.js\";import{pixelDistanceToInteractionFactor as j,applyAll as E}from\"../../../camera/constraintUtils.js\";import{ConstraintTypes as y,InteractionType as O,TiltMode as k}from\"../../../camera/constraintUtils/common.js\";import{ExponentialFalloff as A}from\"../../../input/util.js\";import{InteractiveController as z}from\"../InteractiveController.js\";import{PanPlanarMomentumController as R}from\"../momentum/PanPlanarMomentumController.js\";import{PanSphericalMomentumController as x}from\"../momentum/PanSphericalMomentumController.js\";import{RotationMomentumController as _}from\"../momentum/RotationMomentumController.js\";import{ZoomPlanarMomentumController as H}from\"../momentum/ZoomPlanarMomentumController.js\";import{ZoomSphericalMomentumController as F}from\"../momentum/ZoomSphericalMomentumController.js\";import{NavigationMode as T,pickPointAndInitSphere as U,SpherePickPointFallback as D,decideNavigationMode as I,sphereOrPlanePointFromScreenPoint as L,intersectPlaneFromScreenPointAtEye as Z,applyZoomOnSphere as N,preserveHeadingThreshold as B,applyPanSphericalPreserveHeading as G,applyPanSphericalDirectRotation as V,normalizeRotationDelta as q,applyRotation as J,applyPanPlanar as K,applyZoomToPoint as Q}from\"../../utils/navigationUtils.js\";import{Camera as W}from\"../../../webgl-engine/lib/Camera.js\";import{PanPlanarMomentumEstimator as X}from\"../../../../navigation/PanPlanarMomentumEstimator.js\";import{PanSphericalMomentumEstimator as Y}from\"../../../../navigation/PanSphericalMomentumEstimator.js\";import{RotationMomentumEstimator as $}from\"../../../../navigation/RotationMomentumEstimator.js\";import{ZoomMomentumEstimator as tt}from\"../../../../navigation/ZoomMomentumEstimator.js\";let it=class extends z{constructor(t){super(t),this.view=null,this.smoothRotation=new A(.05),this.rotationAxis=v(),this.panningPlane=S(),this.smoothScaling=new A(.05),this.zoomCenterScreen=n(),this.zoomMomentumEstimator=new tt,this.rotationMomentumEstimator=new $,this.panSphericalMomentumEstimator=new Y,this.panPlanarMomentumEstimator=new X,this.adjustedSphere=f(),this.tmp3d=v(),this.tmpScreenPointArray=n(),this.beginScreenPoint=n(),this.beginScenePoint=v(),this.screenPickPoint=n(),this.navMode=T.Horizontal,this.tmpInteractionDirection=v(),this.constraintOptions={selection:y.ALL,interactionType:O.NONE,interactionFactor:0,interactionStartCamera:new W,interactionDirection:null,tiltMode:k.TUMBLE}}get intersectionHelper(){return this.view.sceneIntersectionHelper}begin(t){if(!this.active)return;const n=this.view.navigation.momentumEnabled;this.zoomMomentumEstimator.enabled=n,this.rotationMomentumEstimator.enabled=n,this.panPlanarMomentumEstimator.enabled=n,this.panSphericalMomentumEstimator.enabled=n,this.beginHeading=-i.normalize(e(this.view.camera.heading)),this.beginRadius=t.radius,this.pointerCount=t.pointers.size,this.beginAngle=t.angle,this.smoothRotation.reset(),s(t.center,this.screenPickPoint),m(this.beginScreenPoint,this.screenPickPoint);const o=M(this.view.spatialReference),r=U(this.intersectionHelper,this.startCamera,this.screenPickPoint,o,D.Silhouette);this.scenePickPoint=r.scenePickPoint,this.sphere=r.sphere,h(this.beginScenePoint,this.scenePickPoint),this.navMode=I(this.startCamera,this.screenPickPoint,r.hasGeometryIntersection,o),this.navMode===T.Vertical&&this._preparePlanarPanMode(t),this.constraintOptions.interactionStartCamera.copyFrom(this.startCamera)}_preparePlanarPanMode(t){const i=c(this.tmp3d,this.startCamera.viewForward);w(this.scenePickPoint,i,this.panningPlane);const e=n(this.screenPickPoint[0],0),r=v(),a=p(this.startCamera.eye);this.adjustedSphere[3]=a<this.sphere[3]?a-100:this.sphere[3],L(this.adjustedSphere,this.startCamera,e,r);const m=o();this.startCamera.projectToRenderScreen(r,m);const M=.9*m[1];this.screenPickPoint[1]=Math.min(this.screenPickPoint[1],M);const C=this.intersectionHelper.intersectScreen(this.screenPickPoint,this.scenePickPoint);C&&w(this.scenePickPoint,b(this.panningPlane),this.panningPlane);const S=v(),f=v(),j=v(),E=80,y=5,O=50;l(S,this.scenePickPoint,this.currentCamera.eye);const k=p(S);u(S,S);const A=y*Math.max(Math.abs(this.view.camera.position.z),O),z=this.view._stage.renderView.getMinimalDepthForArea(null,this.screenPickPoint[0],this.screenPickPoint[1],this.view.state.camera,E);let R=z?Math.min(z,A):A;R=C?Math.min(R,k):R,h(j,P(f,this.currentCamera.eye,d(f,S,R))),this.panningPlane[3]=-g(this.panningPlane,j),this.startCamera.center=P(f,this.startCamera.eye,d(f,this.startCamera.viewForward,R));const x=s(t.center,this.tmpScreenPointArray);Z(this.panningPlane,this.startCamera,x,this.beginScenePoint)}update(t){if(!this.active)return;this.currentCamera.copyFrom(this.startCamera);const i=t.pointers.size>1;this.navMode===T.Horizontal?(i&&this._zoomSpherical(t),this._panningSpherical(t),i&&this._rotateSpherical(t)):(i&&this._zoomPlanar(t),this._panningPlanar(t),i&&this._rotatePlanar(t))}end(t){t.pointers.size===this.pointerCount&&this.update(t),this.finishController();const i=this.zoomMomentumEstimator.evaluateMomentum();if(i)return this.navMode===T.Horizontal?new F({view:this.view,momentum:i,screenCenter:this.zoomCenterScreen,sceneCenter:this.beginScenePoint,radius:this.sphere[3]}):new H({view:this.view,momentum:i,zoomCenter:this.beginScenePoint});const e=this.rotationMomentumEstimator.evaluateMomentum();if(e)return new _({view:this.view,momentum:e,center:this.sphere,axis:this.rotationAxis});if(this.navMode===T.Horizontal){const t=this.panSphericalMomentumEstimator.evaluateMomentum();if(t)return new x({view:this.view,momentum:t})}else{const t=this.panPlanarMomentumEstimator.evaluateMomentum();if(t)return new R({view:this.view,momentum:t})}return null}_zoomSpherical(t){const i=this.beginRadius/t.radius,e=.001875*Math.min(Math.max(t.radius,40),120);this.smoothScaling.gain=e,this.smoothScaling.update(i),N(this.sphere,this.currentCamera,this.smoothScaling.value),s(t.center,this.zoomCenterScreen),this.zoomMomentumEstimator.add(this.smoothScaling.value,.001*t.timestamp),this.constraintOptions.interactionType=O.ZOOM,this.constraintOptions.interactionFactor=j(t.radius-this.beginRadius),E(this.view,this.currentCamera,this.constraintOptions)}_panningSpherical(t){const i=s(t.center,this.tmpScreenPointArray);L(this.sphere,this.currentCamera,i,this.tmp3d),B(this.beginScenePoint,g(this.currentCamera.up,this.beginScenePoint),this.sphere[3],this.beginHeading,this.view.camera.tilt,this.startCamera)?(G(this.sphere,this.currentCamera,this.beginScenePoint,this.tmp3d,this.beginHeading,this.view.camera.tilt,!1),this.panSphericalMomentumEstimator.addMomentumPreserveHeading(i,this.tmp3d,.001*t.timestamp,this.startCamera,this.sphere,this.beginHeading,this.view.camera.tilt)):(V(this.sphere,this.currentCamera,this.beginScenePoint,this.tmp3d,this.view.camera.tilt,!1),this.panSphericalMomentumEstimator.addMomentumDirectRotation(i,this.tmp3d,.001*t.timestamp,this.startCamera,this.sphere[3],this.view.camera.tilt)),this.constraintOptions.interactionType=O.PAN,this.constraintOptions.interactionFactor=j(this.screenPickPoint,i),E(this.view,this.currentCamera,this.constraintOptions)}_rotateSpherical(t){u(this.rotationAxis,this.scenePickPoint),this.currentCamera.aboveGround||c(this.rotationAxis,this.rotationAxis);const i=this.smoothRotation.value,e=i+q(t.angle-i),n=.00125*Math.min(Math.max(t.radius,40),120);this.smoothRotation.gain=n,this.smoothRotation.update(e);const s=this.smoothRotation.value-this.beginAngle;this.rotationMomentumEstimator.add(s,.001*t.timestamp),J(this.currentCamera,this.sphere,C(this.rotationAxis,s)),this.constraintOptions.interactionType=O.TUMBLE,this.constraintOptions.interactionFactor=j(t.radius*e),E(this.view,this.currentCamera,this.constraintOptions)}_panningPlanar(t){const i=s(t.center,this.tmpScreenPointArray);Z(this.panningPlane,this.currentCamera,i,this.tmp3d)&&(K(this.currentCamera,this.beginScenePoint,this.tmp3d),this.panPlanarMomentumEstimator.add(i,this.tmp3d,.001*t.timestamp),this.constraintOptions.interactionType=O.PAN,this.constraintOptions.interactionFactor=j(this.beginScreenPoint,i),this.constraintOptions.interactionDirection=this.view.renderCoordsHelper.worldUpAtPosition(this.currentCamera.eye,this.tmpInteractionDirection),E(this.view,this.currentCamera,this.constraintOptions),this.constraintOptions.interactionDirection=null)}_zoomPlanar(t){const i=this.beginRadius/t.radius,e=.001875*Math.min(Math.max(t.radius,40),120);this.smoothScaling.gain=e,this.smoothScaling.update(i),this.zoomMomentumEstimator.add(this.smoothScaling.value,.001*t.timestamp),Q(this.currentCamera,this.beginScenePoint,this.smoothScaling.value,this.view.state.constraints.minimumPoiDistance),this.constraintOptions.interactionType=O.ZOOM,this.constraintOptions.interactionFactor=j(t.radius-this.beginRadius),E(this.view,this.currentCamera,this.constraintOptions)}_rotatePlanar(t){h(this.rotationAxis,this.beginScenePoint),this.currentCamera.aboveGround||c(this.rotationAxis,this.rotationAxis);const i=this.smoothRotation.value;let e=t.angle-i;e=q(e);const n=i+e,s=.00125*Math.min(Math.max(t.radius,40),120);this.smoothRotation.gain=s,this.smoothRotation.update(n);const o=this.smoothRotation.value-this.beginAngle;this.rotationMomentumEstimator.add(o,.001*t.timestamp),J(this.currentCamera,this.sphere,C(this.rotationAxis,o)),this.constraintOptions.interactionType=O.TUMBLE,this.constraintOptions.interactionFactor=j(t.radius*o),E(this.view,this.currentCamera,this.constraintOptions)}};t([r({constructOnly:!0})],it.prototype,\"view\",void 0),it=t([a(\"esri.views.3d.state.controllers.global.PinchAndPanController\")],it);export{it as PinchAndPanController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import{asinClamped as i}from\"../../../../../core/mathUtils.js\";import{createScreenPointArray as e,screenPointObjectToArray as n}from\"../../../../../core/screenUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{o as r,c as a,e as m,g as h,b as c,n as l,l as p,a as u}from\"../../../../../chunks/vec3.js\";import{c as d,f as C}from\"../../../../../chunks/vec3f64.js\";import{wrapAxisAngle as g}from\"../../../../../geometry/support/axisAngle.js\";import{create as v,fromNormalAndOffset as M,setOffsetFromPoint as b,negate as f,normal as w}from\"../../../../../geometry/support/plane.js\";import{pixelDistanceToInteractionFactor as E,applyAll as S}from\"../../../camera/constraintUtils.js\";import{ConstraintTypes as P,InteractionType as V,TiltMode as j}from\"../../../camera/constraintUtils/common.js\";import{ExponentialFalloff as z}from\"../../../input/util.js\";import{InteractiveController as H}from\"../InteractiveController.js\";import{PanPlanarMomentumController as O}from\"../momentum/PanPlanarMomentumController.js\";import{RotationMomentumController as y}from\"../momentum/RotationMomentumController.js\";import{ZoomPlanarMomentumController as T}from\"../momentum/ZoomPlanarMomentumController.js\";import{NavigationMode as A,centroid as F,applyZoomToPoint as L,applyPanPlanar as x,normalizeRotationDelta as R,applyRotation as U,intersectPlaneFromScreenPointAtEye as D}from\"../../utils/navigationUtils.js\";import{Camera as N}from\"../../../webgl-engine/lib/Camera.js\";import{PanPlanarMomentumEstimator as _}from\"../../../../navigation/PanPlanarMomentumEstimator.js\";import{RotationMomentumEstimator as k}from\"../../../../navigation/RotationMomentumEstimator.js\";import{ZoomMomentumEstimator as I}from\"../../../../navigation/ZoomMomentumEstimator.js\";const G=C(0,0,1),Z={ELEVATION_THRESHOLD:3e4,ANGLE_THRESHOLD:16/180*Math.PI},B=80;let W=class extends H{constructor(t){super(t),this.view=null,this.rotationValueSmooth=new z(.05),this.scalingValueSmooth=new z(.05),this.planeHorizontal=v(),this.planeVertical=v(),this.rotationMomentumEstimator=new k,this.panMomentumEstimator=new _(300,12,.9),this.zoomMomentumEstimator=new I,this.beginCenter=d(),this.tmpPoints=[],this.beginCenterScreen=e(),this.tmpCentroid3d=d(),this.tmpCentroid2d=e(),this.tmp2d=e(),this.constraintOptions={selection:P.ALL,interactionType:V.NONE,interactionFactor:0,interactionStartCamera:new N,interactionDirection:null,tiltMode:j.TUMBLE}}get intersectionHelper(){return this.view.sceneIntersectionHelper}begin(t){if(!this.active)return;const e=this.view.navigation.momentumEnabled;this.zoomMomentumEstimator.enabled=e,this.rotationMomentumEstimator.enabled=e,this.panMomentumEstimator.enabled=e,this.beginRadius=t.radius,this.pointerCount=t.pointers.size,this.beginAngle=t.angle,this.rotationValueSmooth.reset(),this.scalingValueSmooth.reset(),n(t.center,this.beginCenterScreen),M(G,0,this.planeHorizontal);const o=d(),s=this.intersectionHelper.intersectScreenFreePointFallback(this.beginCenterScreen,o),C=d();r(C,this.startCamera.viewForward);const g=d();a(g,G);const v=m(C,g),w=i(v<0?-v:v);if(this.panMode=w>=Z.ANGLE_THRESHOLD?A.Horizontal:A.Vertical,b(this.planeHorizontal,this.planeHorizontal,o),this.startCamera.aboveGround||f(this.planeHorizontal,this.planeHorizontal),this.panMode===A.Vertical){h(g,g,v),c(this.planeVertical,C,g),l(this.planeVertical,this.planeVertical),b(this.planeVertical,this.planeVertical,o);const i=d(),e=d(),n=d();c(i,o,this.currentCamera.eye);const r=p(i);l(i,i);const M=5*Math.max(Math.abs(this.view.camera.position.z),50),f=this.view._stage.renderView.getMinimalDepthForArea(this.view.voxelWasm,this.beginCenterScreen[0],this.beginCenterScreen[1],this.view.state.camera,B);let w=f?Math.min(f,M):M;w=s?Math.min(w,r):w,a(n,u(e,this.currentCamera.eye,h(e,i,w))),this.planeVertical[3]=-m(this.planeVertical,n),this.computePlanePoints(t.pointers,this.planeVertical,this.startCamera,this.tmpPoints),F(this.tmpPoints,this.beginCenter)}else this.computePlanePoints(t.pointers,this.planeHorizontal,this.startCamera,this.tmpPoints),F(this.tmpPoints,this.beginCenter);this.constraintOptions.interactionStartCamera.copyFrom(this.startCamera)}update(t){if(!this.active)return;this.currentCamera.copyFrom(this.startCamera);const i=t.pointers.size>1,e=this.panMode===A.Horizontal?this.planeHorizontal:this.planeVertical,o=this.beginCenter;if(i){const i=this.beginRadius/t.radius,e=.001875*Math.min(Math.max(t.radius,40),120);this.scalingValueSmooth.gain=e,this.scalingValueSmooth.update(i),L(this.currentCamera,o,this.scalingValueSmooth.value,this.view.state.constraints.minimumPoiDistance),this.zoomMomentumEstimator.add(this.scalingValueSmooth.value,.001*t.timestamp),this.constraintOptions.interactionType=V.ZOOM,this.constraintOptions.interactionFactor=E(Math.abs(t.radius-this.beginRadius)),S(this.view,this.currentCamera,this.constraintOptions)}if(this.computePlanePoints(t.pointers,e,this.currentCamera,this.tmpPoints),F(this.tmpPoints,this.tmpCentroid3d),n(t.center,this.tmpCentroid2d),x(this.currentCamera,o,this.tmpCentroid3d),this.panMomentumEstimator.add(this.tmpCentroid2d,this.tmpCentroid3d,.001*t.timestamp),this.constraintOptions.interactionType=V.PAN,this.constraintOptions.interactionFactor=E(this.beginCenterScreen,this.tmpCentroid2d),S(this.view,this.currentCamera,this.constraintOptions),i){const i=this.planeHorizontal,e=o,n=this.rotationValueSmooth.value,s=n+R(t.angle-n),r=.00125*Math.min(Math.max(t.radius,40),120);this.rotationValueSmooth.gain=r,this.rotationValueSmooth.update(s);const a=this.rotationValueSmooth.value-this.beginAngle;this.rotationMomentumEstimator.add(a,.001*t.timestamp),U(this.currentCamera,e,g(i,a)),this.constraintOptions.interactionType=V.TUMBLE,this.constraintOptions.interactionFactor=E(Math.abs(t.radius*a)),S(this.view,this.currentCamera,this.constraintOptions)}}end(t){t.pointers.size===this.pointerCount&&this.update(t),this.finishController();const i=this.zoomMomentumEstimator.evaluateMomentum();if(i)return new T({view:this.view,momentum:i,zoomCenter:this.beginCenter});const e=this.rotationMomentumEstimator.evaluateMomentum();if(e)return new y({view:this.view,momentum:e,center:this.beginCenter,axis:w(this.planeHorizontal)});const n=this.panMomentumEstimator.evaluateMomentum();return n?new O({view:this.view,momentum:n}):null}computePlanePoints(t,i,e,n){n.length=t.size;const o=this.tmp2d;let s=0;return t.forEach((t=>{o[0]=t.x,o[1]=t.y,void 0===n[s]&&(n[s]=d()),D(i,e,o,n[s]),s+=1})),n}};t([o({constructOnly:!0})],W.prototype,\"view\",void 0),W=t([s(\"esri.views.3d.state.controllers.local.PinchAndPanController\")],W);export{W as PinchAndPanController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{PinchAndPanController as t}from\"../../state/controllers/global/PinchAndPanController.js\";import{PinchAndPanController as e}from\"../../state/controllers/local/PinchAndPanController.js\";import{InputHandler as s}from\"../../../input/InputHandler.js\";import{eventMatchesMousePointerAction as r}from\"../../../input/handlers/support.js\";class i extends s{constructor(t,e,s){super(!0),this.view=t,this.pointerAction=e,this.lastEndTimestamp=0,this.lastTimestamp=0,this.registerIncoming(\"drag\",s,(t=>this._handleDrag(t)))}_handleDrag(t){if(\"mouse\"===t.data.pointerType&&!r(t.data,this.pointerAction))return;const e=t.timestamp-this.lastEndTimestamp,s=40,i=this.momentum&&this.momentum.active&&e<s;switch(t.data.action){case\"start\":case\"update\":if(i)break;this.controller&&this.controller.active?t.data.timestamp-this.lastTimestamp>2&&(this.controller.update(t.data),this.lastTimestamp=t.timestamp):this._startController(t);break;case\"end\":case\"removed\":this._endController(t,!0);break;case\"added\":this._endController(t,!1),this._startController(t)}t.stopPropagation()}_endController(t,e){if(this.controller&&this.controller.active){this.lastEndTimestamp=t.timestamp;const s=this.controller.end(t.data);e&&s&&(this.momentum=s,this.view.state.switchCameraController(this.momentum))}this.controller=null}_startController(t){this.controller=this._createController(),this.view.state.switchCameraController(this.controller),this.controller.begin(t.data),this.lastTimestamp=t.timestamp}_createController(){return this.view.state.isGlobal?new t({view:this.view}):new e({view:this.view})}}export{i as PinchAndPanNavigation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{InputHandler as t}from\"../../../input/InputHandler.js\";class e extends t{constructor(t,e){super(!0),this.view=t,this.registerIncoming(\"pointer-down\",e,(()=>this.view.state.stopActiveCameraController()))}}export{e as PointerDownCancelAnimation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{InputHandler as t}from\"../../../input/InputHandler.js\";class e extends t{constructor(t,e){super(!0),this.key=t,this.registerIncoming(\"key-down\",e,(t=>this._handleKeyDown(t)))}_handleKeyDown(t){t.data.key===this.key&&(this.activate(),t.stopPropagation())}}export{e as SingleKey};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{SingleKey as e}from\"./SingleKey.js\";class t extends e{constructor(e,t,i){super(t,i),this.view=e}activate(){this.view.goTo({heading:0}).catch((()=>{}))}}export{t as SingleKeyResetHeading};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{SingleKey as t}from\"./SingleKey.js\";class e extends t{constructor(t,e,i){super(e,i),this.view=t}activate(){this.view.goTo({tilt:0}).catch((()=>{}))}}export{e as SingleKeyResetTilt};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{createScreenPointArray as e}from\"../../../../core/screenUtils.js\";import{RotateController as t,PivotPoint as r}from\"../../state/controllers/RotateController.js\";import{InputHandler as a}from\"../../../input/InputHandler.js\";class o extends a{constructor(e,t=!1){super(!0),this.view=e,this.invert=t,this.registerIncoming(\"vertical-two-finger-drag\",(e=>this._handleTwoFinger(e)))}_handleTwoFinger(a){const o=this.invert?-1:1,i=e(0,a.data.delta*o);switch(a.data.action){case\"begin\":this.cameraController?.end(),this.cameraController=new t({view:this.view,pivot:r.CENTER}),this.view.state.switchCameraController(this.cameraController),this.cameraController.begin(i);break;case\"update\":this.cameraController?.update(i);break;case\"end\":this.cameraController?.end(),this.cameraController=null}}}export{o as TwoFingerTilt};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{DragEventSeparator as t}from\"../DragEventSeparator.js\";import{InputHandler as e}from\"../InputHandler.js\";class a extends e{constructor(e=20,a=40){super(!1),this._threshold=e,this._maxDelta=a,this.state=\"ready\",this.emittedArtificalEnd2=!1,this._vertical=this.registerOutgoing(\"vertical-two-finger-drag\"),this._artificalDrag=this.registerOutgoing(\"drag\"),this.dragEventSeparator=new t({start:(t,e)=>this._observeStart(t,e),update:(t,e,a)=>this._observeUpdate(t,e,a),end:(t,e)=>this._observeEnd(e)}),this.registerIncoming(\"drag\",(t=>this.dragEventSeparator.handle(t)))}get failed(){return\"failed\"===this.state}_observeStart(t,e){1===t&&this.emittedArtificalEnd2&&(this.emittedArtificalEnd2=!1,this._artificalDrag.emit({action:\"start\",button:e.data.button,buttons:e.data.buttons,pointerType:e.data.pointerType,timestamp:e.data.timestamp,pointers:e.data.pointers,pointer:e.data.pointer,angle:e.data.angle,radius:e.data.radius,center:e.data.center}),e.stopPropagation()),this.state=2===t?\"ready\":\"failed\"}_observeUpdate(t,e,a){if(\"failed\"!==this.state&&2===t)return\"active\"===this.state?(this._vertical.emit({delta:e.data.center.y-this._thresholdReachedCenter.y,action:\"update\"}),void e.stopPropagation()):void(this._checkMovementWithinLimits(e.data,a.data)?this._checkVerticalThresholdReached(e.data,a.data)&&(this.state=\"active\",this.emittedArtificalEnd2=!0,this._thresholdReachedCenter=e.data.center,this._artificalDrag.emit({action:\"end\",button:e.data.button,buttons:e.data.buttons,pointerType:e.data.pointerType,timestamp:e.data.timestamp,pointers:e.data.pointers,pointer:e.data.pointer,angle:e.data.angle,radius:e.data.radius,center:e.data.center}),this._vertical.emit({delta:e.data.center.y-this._thresholdReachedCenter.y,action:\"begin\"}),e.stopPropagation()):this.state=\"failed\")}_observeEnd(t){\"active\"===this.state&&(this._vertical.emit({delta:t.data.center.y-this._thresholdReachedCenter.y,action:\"end\"}),this.state=\"ready\",t.stopPropagation())}_checkMovementWithinLimits(t,e){let a=-1/0,i=1/0,r=-1/0,s=1/0;e.pointers.forEach((t=>{a=Math.max(a,t.x),i=Math.min(i,t.x),r=Math.max(r,t.y),s=Math.min(s,t.y)}));let n=-1/0,h=1/0,d=-1/0,o=1/0;t.pointers.forEach((t=>{n=Math.max(n,t.x),h=Math.min(h,t.x),d=Math.max(d,t.y),o=Math.min(o,t.y)}));const c=a-i,l=r-s,p=n-h,m=d-o;return Math.abs(t.center.x-e.center.x)<this._threshold&&Math.abs(p-c)<=this._maxDelta&&Math.abs(m-l)<=this._maxDelta}_checkVerticalThresholdReached(t,e){let a=Math.abs(t.center.y-e.center.y);return t.pointers.forEach(((t,i)=>{const r=e.pointers.get(i);a=Math.min(a,Math.abs(t.y-r.y))})),a>=this._threshold}}export{a as VerticalTwoFingerDrag};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import r from\"../../../core/Handles.js\";import{watch as o,initial as n}from\"../../../core/reactiveUtils.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{DoubleClickZoom as s}from\"./handlers/DoubleClickZoom.js\";import{DragRotate as p}from\"./handlers/DragRotate.js\";import{DragZoom as m}from\"./handlers/DragZoom.js\";import{GamepadNavigation as d}from\"./handlers/GamepadNavigation.js\";import{KeyboardNavigation as l}from\"./handlers/KeyboardNavigation.js\";import{MouseWheelZoom as c}from\"./handlers/MouseWheelZoom.js\";import{PinchAndPanNavigation as g}from\"./handlers/PinchAndPanNavigation.js\";import{PointerDownCancelAnimation as h}from\"./handlers/PointerDownCancelAnimation.js\";import{SingleKeyResetHeading as u}from\"./handlers/SingleKeyResetHeading.js\";import{SingleKeyResetTilt as w}from\"./handlers/SingleKeyResetTilt.js\";import{TwoFingerTilt as _}from\"./handlers/TwoFingerTilt.js\";import{BrowserEventSource as y}from\"../../input/BrowserEventSource.js\";import{InputManager as D,ViewEventPriorities as f}from\"../../input/InputManager.js\";import{PreventContextMenu as j}from\"../../input/handlers/PreventContextMenu.js\";import{Drag as v}from\"../../input/recognizers/Drag.js\";import{ImmediateDoubleClick as A}from\"../../input/recognizers/ImmediateDoubleClick.js\";import{PointerClickHoldAndDrag as P}from\"../../input/recognizers/PointerClickHoldAndDrag.js\";import{SingleAndDoubleClick as M}from\"../../input/recognizers/SingleAndDoubleClick.js\";import{VerticalTwoFingerDrag as R}from\"../../input/recognizers/VerticalTwoFingerDrag.js\";import{PivotPoint as T}from\"../state/controllers/RotateController.js\";let z=class extends t{constructor(){super(...arguments),this._handles=new r}destroy(){this._handles&&(this._handles.removeAll(),this._handles=null),this.disconnect()}get primaryDragAction(){return this._get(\"primaryDragAction\")}set primaryDragAction(e){\"pan\"!==e&&\"rotate\"!==e||e===this._get(\"primaryDragAction\")||(this._set(\"primaryDragAction\",e),this._updateMode())}get mode(){return this._get(\"mode\")}set mode(e){\"default\"!==e&&\"pro\"!==e||e===this._get(\"mode\")||(this._set(\"mode\",e),this._updateMode())}get hasPendingInputs(){return this._inputManager?.hasPendingInputs}get latestPointerType(){return this._inputManager?.latestPointerType}get latestPointerLocation(){return this._inputManager?.latestPointerLocation}disconnect(){this.view.viewEvents.disconnect(),this._inputManager&&(this._inputManager.destroy(),this._inputManager=null),this._source&&(this._source.destroy(),this._source=null)}connect(){const e=this.view;this._source=new y(this.view.surface,e.input);const t=[new A,new P,new M,new v(this.view.navigation),new R],r=new D({eventSource:this._source,recognizers:t});this._inputManager=r,r.installHandlers(\"prevent-context-menu\",[new j],f.INTERNAL),this._modeDragPan=new g(e,\"primary\"),this._modeDragRotate=new p(e,\"secondary\",T.CENTER),this._modeDragZoom=new m(e,\"tertiary\");const i={lookAround:\"b\",pan:{left:\"ArrowLeft\",right:\"ArrowRight\",forward:\"ArrowUp\",backward:\"ArrowDown\",up:\"u\",down:\"j\",headingLeft:\"a\",headingRight:\"d\",tiltUp:\"w\",tiltDown:\"s\",zoomIn:\"+\",zoomOut:\"-\"},resetHeading:\"n\",resetTilt:\"p\"};r.installHandlers(\"navigation\",[new h(e),new s(e),new d(e),new l(e,i.pan),new c(e),new w(e,i.resetTilt),new u(e,i.resetHeading),new p(e,\"primary\",T.EYE,[i.lookAround]),new p(e,\"secondary\",T.CENTER,[i.lookAround]),new g(e,\"tertiary\",[i.lookAround]),this._modeDragRotate,this._modeDragZoom,this._modeDragPan,new _(e)],f.INTERNAL),this.view.viewEvents.connect(r),this._updateMode(),this._handles.add(o((()=>this.view.navigation?.browserTouchPanEnabled),(e=>{this._source.browserTouchPanningEnabled=!e}),n))}_updateMode(){const e=this.mode,t=this.primaryDragAction,r=E.get(e).get(t);this._modeDragPan&&(this._modeDragPan.pointerAction=r.pan),this._modeDragRotate&&(this._modeDragRotate.pointerAction=r.rotate),this._modeDragZoom&&(this._modeDragZoom.pointerAction=r.zoom)}get test(){return{inputManager:this._inputManager,modeDragPan:this._modeDragPan,modeDragRotate:this._modeDragRotate,modeDragZoom:this._modeDragZoom}}};e([i()],z.prototype,\"view\",void 0),e([i({value:\"pan\"})],z.prototype,\"primaryDragAction\",null),e([i({value:\"default\"})],z.prototype,\"mode\",null),e([i({readOnly:!0})],z.prototype,\"hasPendingInputs\",null),e([i()],z.prototype,\"latestPointerType\",null),e([i()],z.prototype,\"latestPointerLocation\",null),e([i()],z.prototype,\"_inputManager\",void 0),z=e([a(\"esri.views.3d.input.SceneInputManager\")],z);const E=new Map,b=new Map,k=new Map;b.set(\"pan\",{pan:\"primary\",rotate:\"secondary\",zoom:\"tertiary\"}),b.set(\"rotate\",{pan:\"secondary\",rotate:\"primary\",zoom:\"tertiary\"}),k.set(\"pan\",{pan:\"primary\",rotate:\"tertiary\",zoom:\"secondary\"}),k.set(\"rotate\",{pan:\"tertiary\",rotate:\"primary\",zoom:\"secondary\"}),E.set(\"default\",b),E.set(\"pro\",k);const C=z;export{C as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport t from\"../../support/debugFlags.js\";let e,n,i=!1,l=!1,o=!1,s=!1,a=null;function c(t,e){if(!l||!n)return;u();const i=n;let o=0;for(let n=0;n<t.accBinsNumX;n++)for(let e=0;e<t.accBinsNumY;e++){const l=t.accBins[n][t.accBinsNumY-1-e];o+=l.length;const s=n*t.accBinsSizeX,a=(n+1)*t.accBinsSizeX,c=e*t.accBinsSizeY,r=(e+1)*t.accBinsSizeY;i.fillText(l.length.toFixed(),s+5,c+15),h(s,a,c,r,\"blue\")}i.fillText(\"total totalShownLabels: \"+o,70,40),i.fillText(\"total visible labels: \"+e.size,70,50),i.fillText(\"total numTests: \"+t.accNumTests,70,30)}function r(n){o=t.DECONFLICTOR_SHOW_VISIBLE,s=t.DECONFLICTOR_SHOW_INVISIBLE,i=o||s,l=t.DECONFLICTOR_SHOW_GRID,a=null,i||l?a=()=>p(n):e&&(e.parentElement.removeChild(e),e=null)}function u(){a&&(a(),a=null)}function p(t){null==e&&(e=document.createElement(\"canvas\"),e.setAttribute(\"id\",\"canvas2d\"),t.surface.parentElement.style.position=\"relative\",t.surface.parentElement.appendChild(e));const{state:i}=t,{camera:l,pixelRatio:o}=i,{width:s,height:a}=l,c=s*o,r=a*o;e.setAttribute(\"width\",`${c}px`),e.setAttribute(\"height\",`${r}px`),e.setAttribute(\"style\",`position:absolute;left:0px;top:0px;display:block;pointer-events:none;width:${s}px;height:${a}px`),n=e.getContext(\"2d\"),n.clearRect(0,0,s,a),n.font=\"12px Arial\"}function h(t,i,l,o,s){u();const a=e.height,c=n;c.beginPath(),c.lineWidth=1,c.strokeStyle=s,c.moveTo(t,a-l),c.lineTo(i,a-l),c.stroke(),c.lineTo(i,a-o),c.stroke(),c.lineTo(i,a-l),c.stroke(),c.lineTo(t,a-l),c.stroke(),c.lineTo(t,a-l),c.stroke(),c.closePath()}function f(t,e){i&&(e&&o||!e&&s)&&h(t.aabr[0],t.aabr[2],t.aabr[1],t.aabr[3],e?\"green\":\"red\")}export{c as drawAccelerationStruct,f as drawPoly,r as prepare};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{lerp as s}from\"../../../../core/mathUtils.js\";import{isNone as e,isSome as r}from\"../../../../core/maybe.js\";import a from\"../../../../core/PooledArray.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{a as n}from\"../../../../chunks/mat4.js\";import{c as h}from\"../../../../chunks/mat4f64.js\";import{a as l}from\"../../../../chunks/vec2f64.js\";import{m as p,g as u,s as d,c as f}from\"../../../../chunks/vec3.js\";import{Z as m,c as g}from\"../../../../chunks/vec3f64.js\";import{s as b,t as v,b as y}from\"../../../../chunks/vec4.js\";import{c as _}from\"../../../../chunks/vec4f64.js\";import{getReferenceEllipsoid as G}from\"../../../../geometry/projectionEllipsoid.js\";import{create as S,empty as B,offset as w,width as D,height as N,expand as j,intersects as V}from\"../../../../geometry/support/aaBoundingRect.js\";import{c as I,a as P,e as C}from\"../../../../chunks/boundedPlane.js\";import{create as A}from\"../../../../geometry/support/ray.js\";import{e as x,g as O,h as M,c as T}from\"../../../../chunks/sphere.js\";import{drawAccelerationStruct as z,prepare as E,drawPoly as F}from\"./deconflictorDebug.js\";import{VisibilityGroup as X,VisibilityFlag as R}from\"./enums.js\";import L from\"../../support/debugFlags.js\";import{Camera as Y}from\"../../webgl-engine/lib/Camera.js\";import{applyPrecomputedScaleFactor as k}from\"../../webgl-engine/lib/screenSizePerspectiveUtils.js\";import{VertexAttribute as W}from\"../../webgl-engine/lib/VertexAttribute.js\";import{HUDMaterial as U}from\"../../webgl-engine/materials/HUDMaterial.js\";const H=g(),Z=_(),q=_(),J=g(),K=h(),Q=T(),$=A(),ii=g(),ti=S();class si{constructor(){this.aabr=S(),this.distance=0,this.culled=!1,this.visible=!1}}class ei{constructor(i,t,s={}){this.graphics3DGraphic=i,this.slicePlaneEnabled=t,this.info=s}}class ri{constructor(){this.active=new Map,this.visible=new Map}clear(){this.active.clear(),this.visible.clear()}}class ai{}class oi{constructor(){this.sortArray=new a({allocator:i=>i||new ai})}}var ci;!function(i){i[i.Idle=0]=\"Idle\",i[i.Process=1]=\"Process\",i[i.Sort=2]=\"Sort\",i[i.Deconflict=3]=\"Deconflict\",i[i.NumStates=4]=\"NumStates\"}(ci||(ci={}));class ni{constructor(){this.camera=new Y,this.slicePlane=I(),this.slicePlaneEnabled=!1}copyFrom(i){this.camera.copyFrom(i.camera),P(i.slicePlane,this.slicePlane),this.slicePlaneEnabled=i.slicePlaneEnabled}}let hi=class extends t{constructor(){super(...arguments),this._dirty=!1,this._runningViewState=new ni,this._state=ci.Idle,this.graphics=new ri,this.iterators=new oi,this.accBinsNumX=15,this.accBinsNumY=20,this.accBinsSizeX=0,this.accBinsSizeY=0,this.accBins=null,this.accNumTests=0}get dirty(){return this._dirty}get state(){return this._state}destroy(){this.graphics.clear(),this.iterators=null}setDirty(){!this._dirty&&this.graphics.active.size>0&&(this._dirty=!0,this.notifyChange(\"updating\"))}get updating(){return this._state!==ci.Idle||this._dirty}get updatingProgress(){if(!this.updating)return 1;const i=this._state/ci.NumStates;return this._dirty?.5*i:i}get running(){return this.view.ready&&null!=this.view.state&&this.updating}runTask(i){switch(this._state){case ci.Idle:this._startUpdate(),i.madeProgress();case ci.Process:if(this._state=ci.Process,!this._processActiveGraphics(i))return;case ci.Sort:if(this._state=ci.Sort,!this._sortVisibleGraphics(i))return;case ci.Deconflict:if(this._state=ci.Deconflict,!this._deconflictVisibleGraphics(i))return;default:z(this,this.graphics.visible),this._state=ci.Idle,this.notifyChange(\"updating\")}}modifyGraphics(i,t){t?i.forEach((i=>this.addToActiveGraphics(i))):i.forEach((i=>this.removeFromActiveGraphics(i))),this.setDirty()}layerSupportsDeconfliction(i){if(e(i)||\"object3d\"!==i.type)return!1;const t=i.stageObject;if(1!==(t?t.geometryRecords.length:0))return!1;return t.geometryRecords[0].material instanceof U}_startUpdate(){E(this.view),this._dirty=!1,this._runningViewState.copyFrom(this.viewState);const{fullWidth:i,fullHeight:t}=this._runningViewState.camera;this._initBins(i,t),this._resetIterators()}addToActiveGraphics(i){i.info[this.visibilityGroup]=new si,this.graphics.active.set(i.graphics3DGraphic.graphic.uid,i),this.setDirty()}removeFromActiveGraphics(i){this._removeFromVisibleGraphics(i),li(i,this.visibilityGroup),delete i.info[this.visibilityGroup],this.graphics.active.delete(i.graphics3DGraphic.graphic.uid),this.setDirty()}_addToVisibleGraphics(i){this.graphics.visible.set(i.graphics3DGraphic.graphic.uid,i)}_removeFromVisibleGraphics(i){this.graphics.visible.delete(i.graphics3DGraphic.graphic.uid)}_processActiveGraphics(i){const t=this._ensureActiveGraphicsIterator(),s=n(K,this._runningViewState.camera.projectionMatrix),e=\"global\"===this.view.viewingMode&&1===this.view.map.ground.opacity&&this._runningViewState.camera.relativeElevation>0?Q:null;let a=0;for(r(e)&&(p(e,m,this._runningViewState.camera.viewMatrix),e[3]=G(this.view.spatialReference).radius,a=x(e,m));!i.done;){i.madeProgress();const r=t.next();if(!0===r.done)return this._resetActiveGraphicsIterator(),!0;const o=r.value,c=o&&o.info[this.visibilityGroup];c&&(this._collectGraphics3DGraphics(o,s,e,a),c.culled?this._removeFromVisibleGraphics(o):this._addToVisibleGraphics(o))}return!1}_sortVisibleGraphics(i){const t=this._ensureSortGraphicsIterator();for(;!i.done;){const s=t.next();if(i.madeProgress(),!0===s.done)return this._resetSortGraphicsIterator(),!0}return!1}_deconflictVisibleGraphics(i){const t=this._ensureVisibleGraphicsIterator(),s=this.visibilityGroup===X.LABEL;for(;!i.done;){i.madeProgress();const e=t.next();if(!0===e.done)return this._resetVisibleGraphicsIterator(),!0;const r=e.value,a=r.info[this.visibilityGroup];if(!a||a.culled)continue;const o=r.graphics3DGraphic,c=(!s||o.isVisible())&&!this._isConflicted(r);c&&this._addToBins(r),a.visible=c,this._setGraphicVisibility(r,c),F(a,c)}return!1}_resetIterators(){this.iterators.active=null,this.iterators.visible=null,this.iterators.sort=null}_ensureActiveGraphicsIterator(){return this.iterators.active||(this.iterators.active=pi(this.graphics.active)),this.iterators.active}_resetActiveGraphicsIterator(){this.iterators.active=null}_ensureVisibleGraphicsIterator(){return this.iterators.visible||(this.iterators.visible=pi(this.graphics.visible)),this.iterators.visible}_resetVisibleGraphicsIterator(){this.iterators.visible=null}_ensureSortGraphicsIterator(){return this.iterators.sort||(this.iterators.sort=ui(this.graphics.visible,this.iterators.sortArray,this.visibilityGroup)),this.iterators.sort}_resetSortGraphicsIterator(){this.iterators.sort=null}_collectGraphics3DGraphics(i,t,s,a){const o=i.graphics3DGraphic;if(o.destroyed)return;const c=i.info[this.visibilityGroup];if(!o.isVisible(X.GRAPHIC,R.DECONFLICTION))return void(c.culled=!0);const n=this.getGraphicsLayers(o);B(c.aabr);let h=null;for(const l of n){if(!this.layerSupportsDeconfliction(l))continue;const o=l.stageObject.geometryRecords[0].material;if(e(h)){if(h=this._getProjectionInfo(l,t,mi),h.isOutsideScreen||this._isCulledBySlice(i,H)||r(s)&&this._isCulledByHorizon(h,s,a))return void(c.culled=!0);!L.TESTS_DISABLE_OPTIMIZATIONS&&c.visible&&(h.distance*=.7)}this._expandBoundingRect(c,l,o,h)}e(h)?c.culled=!0:(c.distance=h.distance,c.culled=!1)}_getProjectionInfo(i,t,s){const e=this._runningViewState.camera,r=i.stageObject,a=r.geometryRecords[0],o=a.material,c=O(r.boundingVolumeWorldSpace.bounds);p(H,c,e.viewMatrix);const n=a.geometry.vertexAttributes,h=n.get(W.NORMAL).data,l=n.get(W.AUXPOS1).data;return o.applyShaderOffsetsView(H,h,r.transformation,l,e,s.scaleInfo,H),b(Z,H[0],H[1],H[2],1),v(q,Z,e.projectionMatrix),u(s.positionNDC,q,1/q[3]),o.applyShaderOffsetsNDC(s.positionNDC,l,e,s.positionNDC,J),s.distanceWithoutPolygonOffset=e.depthNDCToWorld(J[2]),s.distance=J[2]===s.positionNDC[2]?s.distanceWithoutPolygonOffset:e.depthNDCToWorld(s.positionNDC[2]),b(q,s.positionNDC[0],s.positionNDC[1],s.positionNDC[2],1),v(Z,q,t),y(Z,Z,1/Z[3]),d(s.positionView,H[0],H[1],H[2]),s}_isCulledByHorizon(i,t,s){return f($.direction,i.positionView),d($.origin,0,0,0),!!M(t,$,ii)&&i.distanceWithoutPolygonOffset>s}_isCulledBySlice(i,t){return i.slicePlaneEnabled&&this._runningViewState.slicePlaneEnabled&&C(this._runningViewState.slicePlane,t)}_expandBoundingRect(i,t,e,{positionNDC:r,scaleInfo:a}){const o=this._runningViewState.camera,c=t.getScreenSize(di);k(c,a.factor,c),c[0]*=o.pixelRatio,c[1]*=o.pixelRatio;const n=w(e.calculateRelativeScreenBounds(c,a.factorAlignment.scale,ti),s(0,o.fullWidth,.5+.5*r[0]),s(0,o.fullHeight,.5+.5*r[1])),h=this.iconMarginFactor;if(0!==h){const i=h*Math.min(D(n),N(n));n[0]-=i,n[1]-=i,n[2]+=i,n[3]+=i}j(i.aabr,n,i.aabr)}_isConflicted(i){const t=i.graphics3DGraphic.graphic.uid,s=i.info[this.visibilityGroup];for(let e=Math.floor(s.aabr[0]/this.accBinsSizeX);e<=Math.floor(s.aabr[2]/this.accBinsSizeX);e++)if(!(e<0||e>=this.accBinsNumX))for(let i=Math.floor(s.aabr[1]/this.accBinsSizeY);i<=Math.floor(s.aabr[3]/this.accBinsSizeY);i++){if(i<0||i>=this.accBinsNumY)continue;const r=this.accBins[e][i];for(let i=0;i<r.length;i++){const e=r.data[i],a=e.info[this.visibilityGroup];if(a&&a.visible&&(e.graphics3DGraphic.graphic.uid!==t&&(this.accNumTests++,V(a.aabr,s.aabr))))return!0}}return!1}_initBins(i,t){if(null==this.accBins){this.accBins=[];for(let i=0;i<this.accBinsNumX;i++){this.accBins.push([]);const i=this.accBins[this.accBins.length-1];for(let t=0;t<this.accBinsNumY;t++)i.push(new a)}}else for(let s=0;s<this.accBinsNumX;s++)for(let i=0;i<this.accBinsNumY;i++)this.accBins[s][i].clear();this.accBinsSizeX=i/this.accBinsNumX,this.accBinsSizeY=t/this.accBinsNumY,this.accNumTests=0}_addToBins(i){const t=i.info[this.visibilityGroup],s=Math.floor(t.aabr[0]/this.accBinsSizeX),e=Math.floor(t.aabr[2]/this.accBinsSizeX),r=Math.floor(t.aabr[1]/this.accBinsSizeY),a=Math.floor(t.aabr[3]/this.accBinsSizeY);for(let o=s;o<=e;o++)if(!(o<0||o>=this.accBinsNumX))for(let t=r;t<=a;t++)t<0||t>=this.accBinsNumY||this.accBins[o][t].push(i)}_setGraphicVisibility(i,t){const s=i.graphics3DGraphic;s.destroyed||(s.setVisibilityFlag(R.DECONFLICTION,t,this.visibilityGroup),this.visibilityGroup===X.LABEL&&this.view.labeler.setLabelGraphicVisibility(s,t))}};function li(i,t){const s=i.graphics3DGraphic;s.destroyed||s.clearVisibilityFlag(R.DECONFLICTION,t)}function*pi(i){if(Map.prototype.entries){const t=i.entries();for(let i=t.next();!i.done;i=t.next())yield i.value[1]}else yield*i.values()}function*ui(i,t,s){t.clear(),i.forEach(((i,e)=>{const r=t.pushNew();r.id=e,r.prio=i.info?-i.info[s].distance:Number.MAX_VALUE})),yield;const e=t.iterableSort(((i,t)=>t.prio-i.prio));for(let r=e.next();!r.done;r=e.next())yield;t.forAll((t=>{const s=i.get(t.id);s&&(i.delete(t.id),i.set(t.id,s))})),t.clear()}i([o({constructOnly:!0})],hi.prototype,\"view\",void 0),i([o({type:Boolean,readOnly:!0})],hi.prototype,\"updating\",null),hi=i([c(\"esri.views.3d.layers.graphics.Deconflictor\")],hi);const di=l();class fi{constructor(){this.positionView=g(),this.positionNDC=g(),this.distance=0,this.distanceWithoutPolygonOffset=0,this.scaleInfo={factor:{scale:0,factor:0,minPixelSize:0,paddingPixels:0},factorAlignment:{scale:0,factor:0,minPixelSize:0,paddingPixels:0}}}get isOutsideScreen(){const i=this.positionNDC;return i[0]<-1||i[1]<-1||i[2]<-1||i[0]>=1||i[1]>=1}}const mi=new fi;export{hi as Deconflictor,ei as DeconflictorGraphic,ni as DeconflictorViewState,ci as State};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{Deconflictor as e,State as o}from\"./Deconflictor.js\";import{VisibilityGroup as i}from\"./enums.js\";import{State as a}from\"../../../support/Scheduler.js\";const c=2e3;let n=class extends e{constructor(){super(...arguments),this.visibilityGroup=i.LABEL,this.iconMarginFactor=0,this._lastDeconfliction=0}get viewState(){return this.parent.viewState}runTask(r){if(this.parent.running)return;const t=performance.now();(r.state===a.IDLE||t-this._lastDeconfliction>c)&&(super.runTask(r),this.state===o.Idle&&(this._lastDeconfliction=t))}enabledChanged(r,t){this.modifyGraphics(t,r.labelsEnabled)}getGraphicsLayers(r){return r.labelGraphics}};r([t({constructOnly:!0})],n.prototype,\"parent\",void 0),n=r([s(\"esri.views.3d.layers.graphics.LabelDeconflictor\")],n);export{n as LabelDeconflictor};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Handles.js\";import{someMap as i}from\"../../../../core/MapUtils.js\";import{isSome as s}from\"../../../../core/maybe.js\";import{watch as r,initial as a}from\"../../../../core/reactiveUtils.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/set.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{t as n}from\"../../../../chunks/boundedPlane.js\";import{Deconflictor as c,DeconflictorViewState as h,DeconflictorGraphic as l}from\"./Deconflictor.js\";import{VisibilityGroup as p,VisibilityFlag as d}from\"./enums.js\";import{LabelDeconflictor as u}from\"./LabelDeconflictor.js\";import{TaskPriority as m}from\"../../../support/Scheduler.js\";let _=class extends c{constructor(){super(...arguments),this._handles=new t,this._contexts=new Map,this._viewState=new h,this.visibilityGroup=p.GRAPHIC,this._iconMarginFactor=-.1}get labels(){return this._labels}get viewState(){return this._viewState}initialize(){this._handles.add([r((()=>this.view?.state?.camera),(()=>{this._updateViewState(),this.setDirty()})),r((()=>this.view?.map?.ground?.opacity),((e,t)=>{1!==e&&1!==t||this.setDirty()})),r((()=>this.view?.slicePlane),(()=>{this._updateSlicePlane(),this._slicePlaneChanged()}),a)]),this._frameTask=this.view.resourceController.scheduler.registerTask(m.GRAPHICS_DECONFLICTOR,this),this._labels=new u({view:this.view,parent:this})}destroy(){this._labels.destroy(),this._labels=null,this._handles.destroy(),this._handles=null,this._frameTask&&(this._frameTask.remove(),this._frameTask=null)}get iconMarginFactor(){return this._iconMarginFactor}set iconMarginFactor(e){this._iconMarginFactor=e,this.setDirty()}setDirty(){this._contexts.size>0&&(super.setDirty(),this._labels.setDirty())}runTask(e){super.runTask(e),this.running||this._labels.setDirty()}setInitialIconVisibilityFlag(e,t){const i=!(this._graphicSupportsDeconfliction(t)&&g(e));t.setVisibilityFlag(d.DECONFLICTION,i,p.GRAPHIC)}_updateViewState(){this.view&&this.view.state&&(this._viewState.camera.copyFrom(this.view.state.camera),this._updateSlicePlane())}_updateSlicePlane(){const e=this.view?this.view.slicePlane:null;s(e)&&n(e,this._viewState.camera.viewMatrix,this._viewState.slicePlane),this._viewState.slicePlaneEnabled=s(e)}_slicePlaneChanged(){i(this._contexts,((e,t)=>t.symbolCreationContext.slicePlaneEnabled))&&this.setDirty()}addGraphicsOwner(e){let t=this._contexts.get(e);return null==t&&(t=new Map,this._contexts.set(e,t),this.setDirty()),{addGraphic:i=>this._addGraphic(e,t,i),removeGraphic:e=>this._removeGraphic(t,e),labelingInfoChange:()=>this._labels.enabledChanged(e,t),featureReductionChange:()=>this.enabledChanged(e,t),slicePlaneEnabledChange:()=>this._slicePlaneEnabledChanged(e,t),clear:()=>t.forEach((e=>this._removeGraphic(t,e.graphics3DGraphic)))}}removeGraphicsOwner(e){const t=this._contexts.get(e);t&&(t.forEach((e=>this._removeGraphic(t,e.graphics3DGraphic))),this._contexts.delete(e),this.setDirty())}_addGraphic(e,t,i){const s=i.graphic.uid,r=new l(i,e.symbolCreationContext.slicePlaneEnabled);t.set(s,r),g(e)&&this.addToActiveGraphics(r),e.labelsEnabled&&this._labels.addToActiveGraphics(r)}_removeGraphic(e,t){const i=t.graphic.uid,s=e.get(i);s&&(this.removeFromActiveGraphics(s),this._labels.removeFromActiveGraphics(s),e.delete(i),this.setDirty())}enabledChanged(e,t){const i=g(e);i||f(e),this.modifyGraphics(t,i)}_slicePlaneEnabledChanged(e,t){const i=e.symbolCreationContext.slicePlaneEnabled;t.forEach((e=>e.slicePlaneEnabled=i)),this.setDirty()}getGraphicsLayers(e){return e.graphics}_graphicSupportsDeconfliction(e){if(e.isDraped)return!1;const t=e.graphics;if(!t||!t.length)return!1;for(const i of t)if(this.layerSupportsDeconfliction(i))return!0;return!1}};function g(e){const t=e.layer;return!(!t||!t.featureReduction||\"selection\"!==t.featureReduction.type)}function f(e){const t=e.graphics3DGraphics;t&&t.forEach((e=>e.clearVisibilityFlag(d.DECONFLICTION)))}_=e([o(\"esri.views.3d.layers.graphics.GraphicsDeconflictor\")],_);export{_ as GraphicsDeconflictor};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport o from\"./Graphics3DSymbol.js\";import r from\"./Graphics3DWebStyleSymbol.js\";function i(i){return i instanceof r?i.graphics3DSymbol:i instanceof o?i:null}export{i as getGraphics3DSymbol};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import e from\"../../../../core/Logger.js\";import{isNone as t,isSome as r,applySome as n}from\"../../../../core/maybe.js\";import{a}from\"../../../../chunks/vec2f64.js\";import{s as c,l}from\"../../../../chunks/vec3.js\";import{f as o,c as s}from\"../../../../chunks/vec3f64.js\";import{f as i}from\"../../../../chunks/vec4f64.js\";import{create as f,center as m,height as p}from\"../../../../geometry/support/aaBoundingBox.js\";import{getGraphics3DSymbol as h}from\"./graphicSymbolUtils.js\";import{HUDMaterial as b}from\"../../webgl-engine/materials/HUDMaterial.js\";const u=e.getLogger(\"esri.views.3d.layers.graphics.labelPlacement\");function g(e){const r=C(e);if(t(r))return null;const n=O(e,r);if(t(n))return null;const c=n.anchor,l=!!r.hasLabelVerticalOffset;return w({anchor:c,verticalOffset:r.verticalOffset,screenOffset:a(),centerOffset:i(0,0,0,-1),centerOffsetUnits:\"world\",translation:s(),elevationOffset:0,hasLabelVerticalOffset:l},n,e)}function O(e,t){if(t.anchor)return t;const r=e.labelClass.labelPlacement,n=x[r],a=n||P(e);return r&&!n&&u.warnOncePerTick(`the requested label placement '${r}' is currently unsupported in SceneView.`),v(a,e)}function d(e){const t=e.graphics3DGraphic.graphics3DSymbol,n=h(t);return r(n)?n.symbol.symbolLayers.getItemAt(0):null}function v(e,n){const a=n.graphics3DGraphic.graphic.geometry;if(t(a))return null;if(r(n.disablePlacement)){return n.labelClass.labelPlacement?(u.warnOncePerTick(y(e.placement,n.disablePlacement.logEntityDescription)),P(n)):e}const c=a.type;switch(c){case\"polyline\":case\"polygon\":case\"extent\":case\"multipoint\":if(n.labelClass.labelPlacement)return u.warnOncePerTick(y(e.placement,`'${c}' geometries`)),P(n);break;case\"point\":case\"mesh\":return e}return e}function y(e,t){return`the requested label placement '${e}' is currently unsupported for ${t} in SceneView.`}function P(e){const n=e.graphics3DGraphic.graphic.geometry;if(t(n))return null;switch(n.type){case\"polyline\":case\"extent\":case\"multipoint\":return{placement:\"center-center\",normalizedOffset:null,anchor:\"center\"};case\"polygon\":{const t=d(e);return r(t)&&\"extrude\"===t.type?x[\"above-center\"]:{placement:\"center-center\",normalizedOffset:null,anchor:\"center\"}}case\"point\":case\"mesh\":return x[\"above-center\"];default:return}}function w(e,r,n){const a=n.graphics3DGraphic.graphic.geometry;if(t(a))return null;switch(a.type){case\"point\":z(e,r,n);break;case\"polygon\":L(e,r,n);break;case\"mesh\":D(e,r,n.graphics3DGraphic.graphics[0])}return e}function L(e,n,a){const l=d(a);if(!t(l))switch(l.type){case\"extrude\":{const t=a.graphics3DGraphic.graphics[0];r(t)?(t.getBoundingBoxObjectSpace($),m($,e.translation),e.translation[2]=p($)/2):c(e.translation,0,0,0),D(e,n,t);break}}}function z(e,n,a){const l=d(a);if(t(l))return;const o=a.graphics3DGraphic.graphics[0];switch(r(o)?o.getCenterObjectSpace(e.translation):c(e.translation,0,0,0),l.type){case\"icon\":case\"text\":j(e,n,a,o);break;case\"object\":D(e,n,o)}}function j(e,t,n,a){const{graphics3DGraphic:c}=n,l=r(a)?a.getScreenSize():null;if(!c.isDraped&&r(l)){const r=S(n);B[0]=l[0]/2*(t.normalizedOffset[0]-r[0]),B[1]=l[1]/2*(t.normalizedOffset[1]-r[1]),e.screenOffset[0]=B[0],e.hasLabelVerticalOffset?(e.centerOffset[1]=B[1],e.centerOffsetUnits=\"screen\"):e.screenOffset[1]=B[1]}else e.hasLabelVerticalOffset||\"center\"===e.anchor||(x[n.labelClass.labelPlacement]&&u.warnOncePerTick(`the requested placement '${t.placement}' is currently unsupported for draped graphics`),e.anchor=\"center\")}function S(e,t=T){const{graphics3DGraphic:n}=e,a=n.graphics[0],c=r(a)?a.stageObject.geometryRecords[0].material:null;if(c&&c instanceof b){const e=c.parameters.anchorPosition;t[0]=2*(e[0]-.5),t[1]=2*(e[1]-.5)}else t[0]=0,t[1]=0;return t}function D(e,t,n){const a=r(n)?n.getBoundingBoxObjectSpace($):$,c=o(a[3]-a[0],a[4]-a[1],a[5]-a[2]),s=Math.sqrt(c[0]*c[0]+c[1]*c[1]);e.centerOffset[0]=s/2*t.normalizedOffset[0];const i=e.translation[2],f=c[2]/2*t.normalizedOffset[1];e.translation[2]=0,e.elevationOffset=i+f;const m=l(c);e.centerOffset[2]=m/2*t.normalizedOffset[2]}function k(e){return\"above-center\"===e}function C(e){const a=e.labelClass.labelPlacement,{labelSymbol:c,graphics3DGraphic:l}=e,o=h(l.graphics3DSymbol),s=n(o,(e=>\"point-3d\"===e.symbol.type?e.symbol:null)),i=x[a]||P(e);return r(s)&&s.supportsCallout()&&s.hasVisibleVerticalOffset()&&!l.isDraped?{placement:null,hasLabelVerticalOffset:!1,verticalOffset:V(s.verticalOffset),anchor:null,normalizedOffset:null}:c&&c.hasVisibleVerticalOffset()&&(t(s)||!s.supportsCallout()||!s.verticalOffset||l.isDraped)?k(i.placement)?{placement:\"above-center\",verticalOffset:V(c.verticalOffset),anchor:\"bottom\",normalizedOffset:[0,i.normalizedOffset[1],0],hasLabelVerticalOffset:!0}:(u.errorOncePerTick(\"Callouts and vertical offset on labels are currently only supported with 'above-center' label placement (not with \"+a+\" placement)\"),null):{placement:null,verticalOffset:null,anchor:null,normalizedOffset:null,hasLabelVerticalOffset:!1}}function V(e){const{screenLength:t,minWorldLength:r,maxWorldLength:n}=e;return{screenLength:t,minWorldLength:r,maxWorldLength:n}}const x={\"above-center\":{placement:\"above-center\",normalizedOffset:[0,1,0],anchor:\"bottom\"},\"above-left\":{placement:\"above-left\",normalizedOffset:[-1,1,0],anchor:\"bottom-right\"},\"above-right\":{placement:\"above-right\",normalizedOffset:[1,1,0],anchor:\"bottom-left\"},\"below-center\":{placement:\"below-center\",normalizedOffset:[0,-1,2],anchor:\"top\"},\"below-left\":{placement:\"below-left\",normalizedOffset:[-1,-1,0],anchor:\"top-right\"},\"below-right\":{placement:\"below-right\",normalizedOffset:[1,-1,0],anchor:\"top-left\"},\"center-center\":{placement:\"center-center\",normalizedOffset:[0,0,1],anchor:\"center\"},\"center-left\":{placement:\"center-left\",normalizedOffset:[-1,0,0],anchor:\"right\"},\"center-right\":{placement:\"center-right\",normalizedOffset:[1,0,0],anchor:\"left\"}},G={\"above-center\":[\"default\",\"esriServerPointLabelPlacementAboveCenter\"],\"above-left\":[\"esriServerPointLabelPlacementAboveLeft\"],\"above-right\":[\"esriServerPointLabelPlacementAboveRight\"],\"below-center\":[\"esriServerPointLabelPlacementBelowCenter\"],\"below-left\":[\"esriServerPointLabelPlacementBelowLeft\"],\"below-right\":[\"esriServerPointLabelPlacementBelowRight\"],\"center-center\":[\"esriServerPointLabelPlacementCenterCenter\"],\"center-left\":[\"esriServerPointLabelPlacementCenterLeft\"],\"center-right\":[\"esriServerPointLabelPlacementCenterRight\"]};for(const q in G){const e=G[q],t=x[q];e.forEach((e=>{x[e]=t}))}Object.freeze&&(Object.freeze(x),Object.keys(x).forEach((e=>{Object.freeze(x[e]),Object.freeze(x[e].normalizedOffset)})));const B=[0,0],T=[0,0],$=f();export{g as get};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nclass s{constructor(s){this._stage=s,this._materials=new Map}get(s){return this._materials.get(s)}add(s,t){this._materials.set(s,t),this._stage.add(t)}dispose(){this._stage.removeMany(Array.from(this._materials.values())),this._materials.clear()}}export{s as MaterialCollection};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import s from\"../../../../core/Evented.js\";import{someMap as i}from\"../../../../core/MapUtils.js\";import{nextHighestPowerOfTwo as r}from\"../../../../core/mathUtils.js\";import{disposeMaybe as a,isSome as n,removeMaybe as h}from\"../../../../core/maybe.js\";import{generateUID as o}from\"../../../../core/uid.js\";import{property as l}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as d}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{ContentObjectType as c}from\"./ContentObjectType.js\";import{textTextureAtlas as m}from\"./testUtils.js\";import{VertexAttribute as p}from\"./VertexAttribute.js\";import{TaskPriority as g,noBudget as u}from\"../../../support/Scheduler.js\";import{TextureType as x,PixelFormat as T,PixelType as _,TextureWrapMode as A,TextureSamplingMode as f}from\"../../../webgl/enums.js\";import{Texture as y}from\"../../../webgl/Texture.js\";const v=512,z=4096,R=.85,w=.95;let b=class extends t{constructor(e){super(e),this.type=c.Texture,this.id=o(),this.events=new s,this._glTexture=null,this.needsClear=!1,this.elementsToAddOrUpdate=new Map,this.elementsToRemove=new Map,this.elementsToRender=new Map,this.elements=new Map,this.stageObjects=new Map,this.updating=!1}initialize(){this.stage=this.view._stage,this.canvas=this._create2DCanvas(),this.ctx=this.canvas.getContext(\"2d\"),this.stage.add(this);const e=this._computeAtlasResolution(this.view.width,this.view.height);this._createAtlasRegion(e),this._update2DCanvasSize(),this._resetAtlasCursor()}unload(){this._glTexture=a(this._glTexture),this.updating=!1,this.events.emit(\"unloaded\")}get width(){return this.atlas.size.width}get height(){return this.atlas.size.height}get requiresFrameUpdates(){return!1}_createDescriptor(e){return{target:x.TEXTURE_2D,pixelFormat:T.RGBA,dataType:_.UNSIGNED_BYTE,wrapMode:A.CLAMP_TO_EDGE,flipped:!0,samplingMode:f.LINEAR_MIPMAP_LINEAR,hasMipmap:!0,preMultiplyAlpha:!0,maxAnisotropy:e.parameters.maxMaxAnisotropy}}get glTexture(){return this._glTexture}load(e){return n(this._glTexture)||(this._glTexture=new y(e,this._createDescriptor(e),this.canvas),this.frameWorker=this.view.resourceController.scheduler.registerTask(g.TEXT_TEXTURE_ATLAS,this),this.setDirty()),this._glTexture}dispose(){this.elements=null,this.elementsToAddOrUpdate=null,this.elementsToRemove=null,this.elementsToRender=null,this.frameWorker=h(this.frameWorker),this._glTexture&&(this.stage.remove(this),this._glTexture=a(this._glTexture)),this.canvas.width=0,this.canvas.height=0,this.canvas=null,this.ctx=null}_create2DCanvas(){const e=document.createElement(\"canvas\");return e.setAttribute(\"id\",\"canvas2d\"),e.setAttribute(\"style\",\"display:none\"),e.setAttribute(\"width\",v.toString()),e.setAttribute(\"height\",v.toString()),e}_update2DCanvasSize(){this.canvas.setAttribute(\"width\",this.atlas.size.width.toString()),this.canvas.setAttribute(\"height\",this.atlas.size.height.toString())}_createAtlasRegion(e=v){this.atlas={size:{width:e,height:e},cursor:{x:0,y:0},lineHeight:0}}_computeAtlasResolution(e,t){let s=Math.max(e,t);return s+=256,s=r(s),s=Math.min(s,z),s}_resizeAtlas(e,t){t=t||e;const s=this.atlas;s.size.width=e,s.size.height=t,n(this._glTexture)&&this._glTexture.resize(e,t),this._update2DCanvasSize()}_resetAtlasCursor(){const e=this.atlas;e.cursor.x=O,e.cursor.y=O+j,e.lineHeight=0,this.needsClear=!0}_getAtlasUsage(){const e=this.atlas;return(e.cursor.x+e.cursor.y*e.size.width)/(e.size.width*e.size.height)}_getExpectedAtlasUsage(){const e=this.elementsToRemove.size,t=this.elementsToAddOrUpdate.size,s=this.elements.size;return this._getAtlasUsage()/s*(s+t-e)}_addAtlasElement(e,t,s,i){const r=this.atlas,{renderedWidth:a,renderedHeight:n,displayWidth:h,displayHeight:o}=e.textRenderer;e.placement.offset.x=r.cursor.x,e.placement.offset.y=r.cursor.y,e.placement.size.width=a,e.placement.size.height=n,e.placement.size.displayWidth=h,e.placement.size.displayHeight=o,e.placement.uvMinMax=[e.placement.offset.x/r.size.width,1-(e.placement.offset.y+n)/r.size.height,(e.placement.offset.x+a)/r.size.width,1-e.placement.offset.y/r.size.height],r.cursor.x+=s,r.lineHeight=Math.max(r.lineHeight,i),this.elements.set(t,e)}_removeAtlasElement(e){if(e&&this.elements.has(e.textId)){const t=e.placement.offset,s=e.placement.size;this.ctx.clearRect(t.x,t.y,s.width,s.height),this.elements.delete(e.textId)}}_ensureStageObjects(e){const t=this.stageObjects.get(e);if(t)return t;const s=new Set;return this.stageObjects.set(e,s),s}_addStageObject(e,t){this._ensureStageObjects(e).add(t)}_removeStageObject(e,t){const s=this.stageObjects.get(e);s&&s.delete(t)&&(t.geometries[0].vertexAttributes.get(p.SIZE).data=[0,0],t.geometryVertexAttrsUpdated(t.geometryRecords[0]))}_processAddition(e,t){const s=this.atlas,i=e.textId,r=e.textRenderer.renderedWidth,a=e.textRenderer.renderedHeight,n=r+O,h=a+O+j;if(s.cursor.x+n<s.size.width&&s.cursor.y+h<s.size.height)this._addAtlasElement(e,i,n,h),this.elementsToRender.set(i,e),this.elementsToAddOrUpdate.delete(i);else{if(!(s.cursor.y+h+s.lineHeight<s.size.height)){const e=this._getExpectedAtlasUsage(),i=e>R&&s.size.width<z;return i&&this._resizeAtlas(2*s.size.width,2*s.size.height),!t||!i&&e>w&&s.size.width===z?(this._processRemovals(),E.OK):(this._repack(),E.REPACK)}s.cursor.x=O,s.cursor.y+=s.lineHeight,s.lineHeight=0,this._addAtlasElement(e,i,n,h),this.elementsToRender.set(i,e),this.elementsToAddOrUpdate.delete(i)}return E.OK}_processRemovals(){this.elementsToRemove.forEach(((e,t)=>{const s=this.stageObjects.get(t);s&&0!==s.size||this._removeAtlasElement(e),s&&0===s.size&&this.stageObjects.delete(t)})),this.elementsToRemove.clear()}_repack(){this._processRemovals(),this.elements.forEach(((e,t)=>{e.rendered=!1,this.elementsToAddOrUpdate.set(t,e)})),this.elements.clear(),this._resetAtlasCursor(),this.elementsToRender.clear()}_processRenderingRequest(e){this.ctx.clearRect(e.placement.offset.x,e.placement.offset.y,e.placement.size.width,e.placement.size.height),e.textRenderer.render(this.ctx,e.placement.offset.x,e.placement.offset.y);const t=this.stageObjects.get(e.textId);t&&t.forEach((t=>{t.geometries[0].vertexAttributes.get(p.UV0).data=new Float32Array(e.placement.uvMinMax),t.geometries[0].vertexAttributes.get(p.SIZE).data=[e.placement.size.displayWidth,e.placement.size.displayHeight],t.geometryVertexAttrsUpdated(t.geometryRecords[0])})),e.rendered=!0}get running(){return this.updating}runTask(e,t=!0){if(!this._glTexture)return;let s=!1;if(i(this.elementsToAddOrUpdate,((e,i)=>{const r=this.elements.get(i);if(r&&r.rendered){const e=this.stageObjects.get(i);return e&&e.forEach((e=>{const t=e.geometries[0].vertexAttributes,s=this.elements.get(i);t.get(p.UV0).data=new Float32Array(s.placement.uvMinMax),t.get(p.SIZE).data=new Float32Array([s.placement.size.displayWidth,s.placement.size.displayHeight]),e.geometryVertexAttrsUpdated(e.geometryRecords[0])})),this.elementsToAddOrUpdate.delete(i),!1}return this._processAddition(this.elementsToAddOrUpdate.get(i),t)===E.REPACK&&(s=!0,!0)})),s)return void this.runTask(u,!1);let r=!1;this.elementsToRender.size>0&&this.needsClear&&(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.needsClear=!1),i(this.elementsToRender,((t,s)=>(this._processRenderingRequest(t),this.elementsToRender.delete(s),r=!0,e.madeProgress(),e.done))),r&&n(this._glTexture)&&this._glTexture.setData(this.canvas),this.updating=this.elementsToRender.size>0,!this.updating&&m.orderedRepackingEnabled&&this.repackOrdered()}addTextTexture(e,t){const s=e.key;this.elementsToAddOrUpdate.has(s)||this.elementsToAddOrUpdate.set(s,{textId:s,placement:{offset:{x:0,y:0},size:{width:0,height:0,displayWidth:0,displayHeight:0},uvMinMax:[]},textRenderer:e,rendered:!1}),this._addStageObject(s,t),this.elementsToRemove.delete(s),this.setDirty()}removeTextTexture(e,t){const s=e.key;this.elementsToRemove.set(s,this.elements.get(s)),this._removeStageObject(s,t)}setDirty(){this._glTexture&&(this.updating=!0)}repackOrdered(){if(0===this.elements.size)return;const e=[];this.elements.forEach(((t,s)=>e.push({element:t,key:s})));let t=!0;for(let s=0;s<e.length-1;s++)if(e[s].key.localeCompare(e[s+1].key)>0){t=!1;break}if(!t||this.elementsToRemove.size){e.sort(((e,t)=>e.key.localeCompare(t.key))),this.elements.clear();for(const{element:t,key:s}of e)this.elements.set(s,t);this._repack(),this.setDirty()}}get test(){const{elements:e,stageObjects:t,elementsToRemove:s,atlas:i}=this,r=this;return{elements:e,stageObjects:t,elementsToRemove:s,atlas:i,_resizeAtlas:(e,t)=>r._resizeAtlas(e,t),run:(e,t)=>r.runTask(e,t)}}};e([l({constructOnly:!0})],b.prototype,\"view\",void 0),e([l({type:Boolean})],b.prototype,\"updating\",void 0),b=e([d(\"esri.views.3d.webgl-engine.lib.TextTextureAtlas\")],b);const O=2,j=2;var E;!function(e){e[e.OK=0]=\"OK\",e[e.REPACK=1]=\"REPACK\"}(E||(E={}));export{b as TextTextureAtlas};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{forEach as s,result as l}from\"../../../../core/asyncUtils.js\";import i from\"../../../../core/Handles.js\";import a from\"../../../../core/Logger.js\";import{someMap as r}from\"../../../../core/MapUtils.js\";import{destroyMaybe as o,disposeMaybe as n,isSome as c,isNone as h,unwrap as b}from\"../../../../core/maybe.js\";import{throwIfAborted as d,isAbortError as p}from\"../../../../core/promiseUtils.js\";import{watch as u}from\"../../../../core/reactiveUtils.js\";import{property as g}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as y}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{hydrateGraphic as f}from\"../../../../layers/graphics/hydratedFeatures.js\";import{createLabelFunction as m}from\"../../../../layers/support/labelFormatUtils.js\";import{areLabelsVisible as _}from\"../../../../layers/support/layerUtils.js\";import{hasCalloutSupport as x}from\"../../../../symbols/callouts/calloutUtils.js\";import{VisibilityFlag as C,VisibilityGroup as v}from\"./enums.js\";import{make as L}from\"./Graphics3DCalloutSymbolLayerFactory.js\";import T from\"./Graphics3DGraphicCreationContext.js\";import{getGraphics3DSymbol as G}from\"./graphicSymbolUtils.js\";import{get as D}from\"./labelPlacement.js\";import{horizontalPlacementFromAnchor as R,verticalPlacementFromAnchor as A,textRenderAlignmentFromHorizontalPlacement as w}from\"./placementUtils.js\";import S from\"../../support/debugFlags.js\";import{MaterialCollection as I}from\"../../webgl-engine/lib/MaterialCollection.js\";import{TextRenderer as O}from\"../../webgl-engine/lib/TextRenderer.js\";import{TextRenderParameters as P}from\"../../webgl-engine/lib/TextRenderParameters.js\";import{TextTextureAtlas as j}from\"../../webgl-engine/lib/TextTextureAtlas.js\";import{WebGLLayer as E}from\"../../webgl-engine/lib/WebGLLayer.js\";import{TaskPriority as U}from\"../../../support/Scheduler.js\";const V=a.getLogger(\"esri.views.3d.layers.graphics.Labeler\");let F=class extends t{constructor(){super(...arguments),this._dirty=!1,this._labels=new Map,this._labelsToAdd=new Map,this._labelsToRemove=new Map,this._labelingContexts=new Array}setup(){this.dispose(),this._handles=new i,this._handles.add([u((()=>this.view.state?.camera),(()=>this.setDirty())),u((()=>this.view.state?.pixelRatio),(()=>this._resetAllLabels())),this.view.resourceController.scheduler.registerTask(U.LABELER,this)]),this._textTextureAtlas=new j({view:this.view}),this._hudMaterialCollection=new I(this.view._stage),this._calloutMaterialCollection=new I(this.view._stage)}dispose(){this._handles=o(this._handles),this._textTextureAtlas=n(this._textTextureAtlas),this._hudMaterialCollection=n(this._hudMaterialCollection),this._calloutMaterialCollection=n(this._calloutMaterialCollection),this._labelingContexts.length=0,this._labels.clear(),this._labelsToAdd.clear(),this._labelsToRemove.clear()}_activateLabelingContext(e){e.labels.forEach(((e,t)=>{this._labels.set(t,e),e.graphics3DGraphic.setVisibilityFlag(C.USER_SETTING,!0,v.LABEL)})),e.active=!0}_deactivateLabelingContext(e){e.labels.forEach(((e,t)=>{e.graphics3DGraphic.setVisibilityFlag(C.USER_SETTING,!1,v.LABEL),this.setLabelGraphicVisibility(e.graphics3DGraphic,!1),this._labels.delete(t)})),e.active=!1}_addLabelTextureToAtlas(e){for(const t of e.graphics3DGraphic.labelGraphics){if(!t._labelClass)continue;const s=e.textTextureResources.textRenderers[t._labelIndex];c(s)&&this._textTextureAtlas.addTextTexture(s,t.stageObject)}e.rendered=!0}_removeLabelTextureFromAtlas(e){for(const t of e.graphics3DGraphic.labelGraphics){if(!t._labelClass)continue;const s=e.textTextureResources.textRenderers[t._labelIndex];c(s)&&this._textTextureAtlas.removeTextTexture(s,t.stageObject)}e.rendered=!1}get running(){return this.view.ready&&(this._dirty||this._textTextureAtlas?.updating||this.deconflictor.running)}runTask(e){this._updateLabels(e),!this._dirty&&this.deconflictor.running&&this.deconflictor.runTask(e)}_updateLabels(e){if(this._dirty){this._dirty=!1;for(const t of this._labelingContexts)if(M(t)){if(!B(t)){if(k(t)){this._deactivateLabelingContext(t);continue}if(this._createLabelClassContext(t),z(t)){this._dirty=!0;continue}if(!B(t))continue}r(t.labelsToInitialize,((s,l)=>(this._ensureGraphics3DResources(s)&&(this._labels.set(l,s),this.deconflictor.setDirty(),e.madeProgress()),(s.visible&&s.textTextureResources.initialized||!s.visible&&s.hasGraphics3DResources)&&(t.labelsToInitialize.delete(l),e.madeProgress()),e.done)))&&(this._dirty=!0)}this._labelsToRemove.forEach((e=>this._removeLabelTextureFromAtlas(e))),this._labelsToAdd.forEach((e=>this._addLabelTextureToAtlas(e))),this._labelsToRemove.clear(),this._labelsToAdd.clear(),this._dirty||this.notifyChange(\"updating\")}}async _createLabelClassContextAsync(e){const t=e.labelClassAbortController.signal;await e.layer.when(),d(t),e.scaleVisibility&&e.scaleVisibility.updateScaleRangeActive();const i=e.graphics3DCore,a=i.layer,r=a.labelingInfo&&a.labelingInfo.filter((e=>!!e.symbol));if(!r||0===r.length)return;const o=new Array(r.length);let n=!1;await s(r,(async(s,a)=>{const r=s.symbol,c=G(i.getOrCreateGraphics3DSymbol(r));if(h(c))return void V.error(\"Failed to create Graphics3DSymbol for label\");await c.load(),d(t);let b=null;x(r)&&r.hasVisibleCallout()&&(b=L(r,i.symbolCreationContext),await b.load(),d(t));const p=await l(m(s,e.layer.fieldsIndex,this.view.spatialReference));if(d(t),!0===p.ok){const e=await this._createTextRenderParameters(c.symbol);d(t),o[a]={labelClass:s,labelFunction:p.value,graphics3DSymbol:c,graphics3DCalloutSymbolLayer:b,calloutSymbolLayerIndex:0,textRenderParameters:e}}else V.error(`Label expression failed to evaluate: ${p.error}`),n=!0})),d(t),n||(e.labelClassContexts=o)}async _createLabelClassContext(e){return e.labelClassPromise||(e.labelClassPromise=this._createLabelClassContextAsync(e).catch((t=>{if(p(t))throw t;e.labelClassContexts=null})).then((()=>{e.labelClassAbortController=null,this.notifyChange(\"updating\")})).catch((()=>{})),this.notifyChange(\"updating\")),e.labelClassPromise}async _createTextRenderParameters(e){const t=e.symbolLayers.getItemAt(0);return t&&\"text\"===t.type?P.fromSymbol(t,this.view.state.pixelRatio):null}_destroyLabelClassContext(e){for(const s of e.labelClassContexts)--s.graphics3DSymbol.referenced,s.graphics3DSymbol=null;const t=e.labelClassAbortController;e.labelClassAbortController=new AbortController,t&&t.abort(),e.labelClassContexts=[],e.labelClassPromise=null,this.notifyChange(\"updating\")}_createTextSymbolGraphic(e,t,s,l,i){const a={text:e.text,centerOffset:s.centerOffset,translation:s.translation,elevationOffset:s.elevationOffset,screenOffset:s.screenOffset,centerOffsetUnits:s.centerOffsetUnits,horizontalPlacement:R(s.anchor),verticalPlacement:A(s.anchor),verticalOffset:s.verticalOffset,debugDrawLabelBorder:S.LABELS_SHOW_BORDER,displayWidth:e.displayWidth,displayHeight:e.displayHeight};return N.graphic=t,N.renderingInfo=null,N.layer=l,i.createLabel(N,a,this._hudMaterialCollection,this._textTextureAtlas)}_createLineCalloutGraphic(e,t,s,l,i){const a={symbol:t,translation:l.translation,elevationOffset:l.elevationOffset,screenOffset:l.screenOffset,centerOffset:l.centerOffset,centerOffsetUnits:l.centerOffsetUnits,materialCollection:this._calloutMaterialCollection};return N.graphic=e,N.renderingInfo=a,N.layer=i,s.createGraphics3DGraphic(N)}_ensureGraphics3DResources(e){if(e.hasGraphics3DResources)return!1;const t=e.graphics3DGraphic;if(t.destroyed)return!1;this._ensureTextTextureResources(e);const{textTextureResources:s}=e,l=e.labelingContext,i=l.labelClassContexts;if(!i||0===i.length||!l.emptySymbolLabelSupported&&0===t.graphics.length)return!1;let a=!1;const r=t.graphic,o=l.layer,n=_(l.layer),b=this.view._stage;for(let d=0;d<i.length;d++){const e=s.textRenderers[d],p=s.labelPlacements[d];if(h(e)||h(p))continue;const u=i[d],g=u.graphics3DSymbol,y=g.symbol&&\"label-3d\"===g.symbol.type?g.symbol:null,f=g.symbolLayers[0];if(!f)continue;f.setElevationInfoOverride(l.elevationInfoOverride);const m=this._createTextSymbolGraphic(e,r,p,o,f);if(!m)return!1;m._labelClass=u.labelClass,m._labelIndex=d,t.addLabelGraphic(m,b,l.stageLayer),t.setVisibilityFlag(C.USER_SETTING,n,v.LABEL),t.clearVisibilityFlag(C.SCALE_RANGE,v.LABEL),t.setVisibilityFlag(C.DECONFLICTION,!1,v.LABEL),a=!0;const _=u.graphics3DCalloutSymbolLayer;if(_&&p.hasLabelVerticalOffset){_.setElevationInfoOverride(l.elevationInfoOverride);const e=this._createLineCalloutGraphic(r,y,_,p,o);c(e)&&(u.calloutSymbolLayerIndex=t.labelGraphics.length,t.addLabelGraphic(e,b,l.stageLayer))}break}return l.scaleVisibility&&a&&l.scaleVisibility.updateGraphicLabelScaleVisibility(t),e.hasGraphics3DResources=!0,!0}_destroyGraphics3DResources(e){const t=e.labelingContext.labelClassContexts;for(const s of e.graphics3DGraphic.labelGraphics){if(null==s._labelClass)continue;const e=t[s._labelIndex].graphics3DSymbol.symbolLayers[0];null!=e&&e.onRemoveGraphic(s)}e.graphics3DGraphic.clearLabelGraphics(),e.hasGraphics3DResources=!1}_ensureTextTextureResources(e){const{textTextureResources:t}=e;if(t.initialized)return;const s=e.labelingContext,l=s.labelClassContexts;if(!l||0===l.length)return;const i=e.graphics3DGraphic.graphic;for(let r=0;r<l.length;r++){const o=l[r];if(t.textRenderers[r]=null,t.labelPlacements[r]=null,!o.textRenderParameters)continue;const n=o.labelFunction;let c;if(\"arcade\"===n.type)try{const e=n.needsHydrationToEvaluate()?f(i,s.layer):i;c=n.evaluate(e)}catch(a){c=null}else c=n.evaluate(i);if(h(c)||\"\"===c||/^\\s+$/.test(c))continue;const b=o.graphics3DSymbol,d=b.symbol&&\"label-3d\"===b.symbol.type?b.symbol:null;if(!b.symbolLayers[0])continue;const p=e.graphics3DGraphic,u=o.labelClass,g=s.disablePlacement,y=D({graphics3DGraphic:p,labelSymbol:d,labelClass:u,disablePlacement:g});if(h(y))continue;const m=R(y.anchor),_=w(m);t.textRenderers[r]=new O(c,_,o.textRenderParameters),t.labelPlacements[r]=y}t.initialized=!0}_destroyTextTextureResources(e){const{textTextureResources:t}=e;t.initialized=!1,t.textRenderers=[],t.labelPlacements=[]}_addGraphic(e,t){const s={hasGraphics3DResources:!1,visible:!1,rendered:!1,labelingContext:e,graphics3DGraphic:t,textTextureResources:{initialized:!1,textRenderers:[],labelPlacements:[]}},l=t.graphic.uid;e.labels.set(l,s),e.labelsToInitialize.set(l,s),this.setDirty(),this.deconflictor.setDirty()}_removeGraphic(e,t){const s=t.graphic.uid,l=e.labels.get(s);l&&(this._destroyGraphic(l,s),e.labels.delete(s),e.labelsToInitialize.delete(s),this.setDirty(),this.deconflictor.setDirty())}_destroyGraphic(e,t){this._labels.has(t)&&(this._labels.delete(t),this._labelsToAdd.delete(t),this._labelsToRemove.delete(t)),e.textTextureResources.initialized&&(this._removeLabelTextureFromAtlas(e),this._destroyTextTextureResources(e)),e.hasGraphics3DResources&&this._destroyGraphics3DResources(e)}async _labelingInfoChange(e,t){if(!t)return this._visibilityInfoChange(e),this._resetLabels(e),this._createLabelClassContext(e);for(const s of t){const t=e.labels.get(s);t&&(this._removeGraphic(e,t.graphics3DGraphic),this._addGraphic(e,t.graphics3DGraphic))}}_globalPropertyChanged(e,t){for(const s of t.labelClassContexts){const l=new Map;t.labels.forEach((e=>{const t=e.graphics3DGraphic;l.set(t.graphic.uid,t)}));const i=e=>e.labelGraphics[0];if(b(s.graphics3DSymbol.symbolLayers[0]).globalPropertyChanged(e,l,i),s.graphics3DCalloutSymbolLayer){const t=e=>e.labelGraphics[s.calloutSymbolLayerIndex];s.graphics3DCalloutSymbolLayer.globalPropertyChanged(e,l,t)}}}_visibilityInfoChange(e){const t=e.layer.labelsVisible;t&&!e.active&&this._activateLabelingContext(e),!t&&e.active&&this._deactivateLabelingContext(e),this.setDirty()}_resetAllLabels(){for(const e of this._labelingContexts)this._resetLabels(e)}_resetLabels(e){e.labels.forEach(((t,s)=>{this._destroyGraphic(t,s),t.visible=!1,t.rendered=!1,e.labelsToInitialize.set(s,t)})),this._destroyLabelClassContext(e),this.setDirty(),this.deconflictor.setDirty()}_findLabelingContext(e){for(const t of this._labelingContexts)if(t.graphics3DCore===e)return t;return null}addGraphicsOwner(e,t,s){const l=s&&s.emptySymbolLabelSupported||!1,i=s&&s.elevationInfoOverride||null,a=s&&s.disablePlacement||null;if(this._findLabelingContext(e))return;const r=e.layer,o={graphics3DCore:e,layer:r,scaleVisibility:t,emptySymbolLabelSupported:l,elevationInfoOverride:i,disablePlacement:a,active:r.labelsVisible,labelClassPromise:null,labelClassAbortController:new AbortController,labelClassContexts:[],labels:new Map,labelsToInitialize:new Map,stageLayer:new E({isPickable:!0},r.uid)};return this.view._stage.add(o.stageLayer),this._labelingContexts.push(o),this.setDirty(),{addGraphic:e=>this._addGraphic(o,e),removeGraphic:e=>this._removeGraphic(o,e),featureReductionChange:()=>{},layerLabelsEnabled:()=>_(o.layer),labelingInfoChange:e=>this._labelingInfoChange(o,e),elevationInfoChange:()=>this._globalPropertyChanged(\"elevationInfo\",o),slicePlaneEnabledChange:()=>this._globalPropertyChanged(\"slicePlaneEnabled\",o),visibilityInfoChange:()=>this._visibilityInfoChange(o),reset:()=>this._resetLabels(o),clear:()=>{}}}removeGraphicsOwner(e){const t=this._findLabelingContext(e);if(!t)return;const s=this._labelingContexts.indexOf(t);this._labelingContexts.splice(s,1),t.labels.forEach((e=>this._removeGraphic(t,e.graphics3DGraphic))),this.view._stage.remove(t.stageLayer),t.stageLayer=null,this.setDirty()}setLabelGraphicVisibility(e,t){const s=e.graphic.uid,l=this._labels.get(s);l&&l.visible!==t&&(t&&!l.rendered?(this._labelsToAdd.set(s,l),this._labelsToRemove.delete(s),l.textTextureResources.initialized||l.labelingContext.labelsToInitialize.set(s,l)):!t&&l.rendered&&(this._labelsToRemove.set(s,l),this._labelsToAdd.delete(s)),l.visible=t,this.setDirty())}setDirty(){!this._dirty&&this._labelingContexts.length>0&&(this._dirty=!0,this.notifyChange(\"updating\"))}get updating(){return this._dirty||this._textTextureAtlas?.updating||this.deconflictor.updating||this._labelingContexts.some((e=>z(e)))}get updatingProgress(){if(!this.updating||!this._textTextureAtlas)return 1;const e=this._labelingContexts.length>0?this._labelingContexts.reduce(((e,t)=>e+(z(t)?0:1)),0)/this._labelingContexts.length:1;return(this._dirty?0:.3)+(this._textTextureAtlas.updating?0:.1)+.1*e+.5*this.deconflictor.updatingProgress}get test(){return{textTextureAtlas:this._textTextureAtlas,resetAllLabels:()=>this._resetAllLabels()}}};function M(e){return e.active&&_(e.layer)}function z(e){return e.labelClassPromise&&!!e.labelClassAbortController}function B(e){return e.labelClassContexts&&e.labelClassContexts.length}function k(e){return null===e.labelClassContexts}e([g({constructOnly:!0})],F.prototype,\"view\",void 0),e([g({constructOnly:!0})],F.prototype,\"deconflictor\",void 0),e([g()],F.prototype,\"_textTextureAtlas\",void 0),e([g({type:Boolean,readOnly:!0})],F.prototype,\"updating\",null),F=e([y(\"esri.views.3d.layers.graphics.Labeler\")],F);const N=new T(null,null,null);export{F as Labeler};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Handles.js\";import{timeoutHandle as t}from\"../../../../core/handleUtils.js\";import{isSome as r}from\"../../../../core/maybe.js\";import{isAborted as o,createAbortError as s,onAbort as i}from\"../../../../core/promiseUtils.js\";import{DefaultLoadingContext as a}from\"../../glTF/DefaultLoadingContext.js\";import{load as n}from\"../../glTF/loader.js\";import{load as l}from\"./wosrLoader.js\";class c{constructor(){this.gltfCache=new Map,this.wosrCache=new Map,this.evictHandles=new e}loadGLTF(e,t,r){const o=r?`gltfPBR:${e}`:`gltf:${e}`;return this._fromCache(this.gltfCache,o,(t=>n(new a(t.streamDataRequester),e,t,r)),t)}loadWOSR(e,t){const r=`wosr:${e}:${t.disableTextures}`;return this._fromCache(this.wosrCache,r,(t=>l(e,t)),t)}destroy(){this.evictHandles.destroy(),this.gltfCache.clear(),this.wosrCache.clear()}get size(){return this.wosrCache.size+this.gltfCache.size}_fromCache(e,t,a,n){return new Promise(((l,c)=>{if(o(n))return void c(s());const m=i(n,(()=>{this._remove(e,t),c(s())})),h=e.get(t);if(h)return this.evictHandles.remove(t),h.refCount++,void h.item.then(l,c);const f=new AbortController,d={...n,signal:f.signal},C={refCount:1,abortController:f,item:a(d).then((r=>(C.abortController=null,r.remove=()=>this._remove(e,t),r)))};e.set(t,C),C.item.then((e=>{r(m)&&m.remove(),l(e)}),(e=>{r(m)&&m.remove(),c(e)}))}))}_remove(e,o){const s=e.get(o);s&&(s.refCount--,0===s.refCount&&this.evictHandles.add(t((()=>{e.delete(o),r(s.abortController)&&s.abortController.abort()}),h),o))}}const m=1e4;let h=m;const f={overrideEvictDelay:e=>(h=e,{remove(){h=m}})};export{c as ObjectResourceCache,f as test};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{acosClamped as e}from\"../../../../core/mathUtils.js\";import t from\"../../../../core/ObjectPool.js\";import{b as i,g as s,a as r,o as n,e as o}from\"../../../../chunks/vec3.js\";import{c as a}from\"../../../../chunks/vec3f64.js\";import{getReferenceEllipsoid as u}from\"../../../../geometry/projectionEllipsoid.js\";import{PointIndex as l,PlaneIndex as d}from\"../../../../geometry/support/frustum.js\";import{create as c,projectVector as h,fromPoints as m,normal as _}from\"../../../../geometry/support/plane.js\";import{wrap as T}from\"../../../../geometry/support/ray.js\";import{ViewingMode as p}from\"../../../ViewingMode.js\";import{FeatureTileDescriptor3D as E,Visibility as I}from\"./FeatureTileDescriptor3D.js\";import{Frustum as F}from\"../../state/Frustum.js\";import{FrustumExtentIntersection as f}from\"../../support/FrustumExtentIntersection.js\";class A{constructor(e){this.renderCoordsHelper=e,this.surfaceElevation=0,this.cache=new Map,this.frustum=new F(e),this.extendedFrustum=new F(e),this.intersector=new f({renderCoordsHelper:e}),this.renderCoordsHelper=e}begin(e,t){this.surfaceElevation=t,this.aboveGround=this.renderCoordsHelper.getAltitude(e.eye)>t,this.frustum.update(e),this._shortenFrustumFarPlane(this.frustum),this._updateExtendedFrustum(e)}end(){this.cache.clear()}calculate(e){if(this.allTilesInvisible)return I.INVISIBLE;const t=this.renderCoordsHelper.viewingMode===p.Global&&e.lij[0]>=R&&e.lij[0]<O,i=this._getOrCalculateSingleTileVisibility(e,!t);return i!==I.INVISIBLE&&t?this._calculateAggregatedChildrenVisibility(e):i}_shortenFrustumFarPlane(e){const t=F.nearFarLineIndices,n=e.mutablePoints;for(const o of t){const[e,t]=o,a=n[e],u=n[t];i(S,u,a),s(S,S,b),r(n[t],a,S)}e.updatePoints(n)}_calculateAggregatedChildrenVisibility(e){let t=I.INVISIBLE;const i=this.cache.get(e.id);if(null!=i)return i;const s=H.acquire();e.getChildren(s);for(const r of s){const e=this.calculate(r);if(e!==I.INVISIBLE&&(t=e,e===I.VISIBLE_ON_SURFACE))break}return H.release(s),this.cache.set(e.id,t),t}_getOrCalculateSingleTileVisibility(e,t){const i=this.cache.get(e.id);if(null!=i)return i;const s=this._calculateSingleTileVisibility(e);return t&&this.cache.set(e.id,s),s}_calculateSingleTileVisibility(e){if(!this.aboveGround&&this.renderCoordsHelper.viewingMode===p.Global&&e.lij[0]<g){return this._calculateSingleTileVisibilitySided(e,!1)===I.INVISIBLE?this._calculateSingleTileVisibilitySided(e,!0):void 0}return this._calculateSingleTileVisibilitySided(e,this.aboveGround)}_calculateSingleTileVisibilitySided(e,t){this.intersector.update(e.extent,e.tilingScheme.spatialReference,this.surfaceElevation,t);const i=u(e.tilingScheme.spatialReference).radius;return this.intersector.isVisibleInFrustum(this.extendedFrustum,i)?this.intersector.isVisibleInFrustum(this.frustum,i,!0)?I.VISIBLE_ON_SURFACE:I.VISIBLE_WHEN_EXTENDED:I.INVISIBLE}_updateExtendedFrustum(t){this.extendedFrustum.update(t),this._shortenFrustumFarPlane(this.extendedFrustum);const i=this.renderCoordsHelper.worldUpAtPosition(t.eye,S);this.aboveGround||n(i,i);const r=e(-o(i,t.viewForward));if(this.allTilesInvisible=r>(Math.PI+t.fovY)/2,this.allTilesInvisible)return;if(this.hasExtendedFrustum=r>t.fovY/2,!this.hasExtendedFrustum)return;const a=this._extendedFrustumParameters(),u=this.extendedFrustum.mutablePoints;for(let e=0;e<4;e++){const t=a.pointIndices[e],i=u[t],r=this.renderCoordsHelper.getAltitude(i);if(a.needsAltitudeAdjustment(r)){switch(this.renderCoordsHelper.worldUpAtPosition(i,S),t){case l.FAR_BOTTOM_LEFT:case l.FAR_TOP_LEFT:case l.NEAR_BOTTOM_LEFT:case l.NEAR_TOP_LEFT:h(this.extendedFrustum.planes[d.LEFT],S,S);break;case l.FAR_BOTTOM_RIGHT:case l.FAR_TOP_RIGHT:case l.NEAR_BOTTOM_RIGHT:case l.NEAR_TOP_RIGHT:h(this.extendedFrustum.planes[d.RIGHT],S,S)}s(S,S,a.direction),this.renderCoordsHelper.intersectInfiniteManifold(T(i,S),a.zWithMargin,i)}}if(this.extendedFrustum.updatePoints(u),m(u[l.NEAR_BOTTOM_LEFT],u[l.NEAR_BOTTOM_RIGHT],u[l.NEAR_TOP_RIGHT],N),m(u[l.NEAR_BOTTOM_RIGHT],u[l.NEAR_TOP_RIGHT],u[l.NEAR_TOP_LEFT],v),o(_(N),_(v))<0){const e=this.extendedFrustum.mutablePoints;this.aboveGround?[e[l.NEAR_BOTTOM_LEFT],e[l.NEAR_BOTTOM_RIGHT]]=[e[l.NEAR_BOTTOM_RIGHT],e[l.NEAR_BOTTOM_LEFT]]:[e[l.NEAR_TOP_LEFT],e[l.NEAR_TOP_RIGHT]]=[e[l.NEAR_TOP_RIGHT],e[l.NEAR_TOP_LEFT]],this.extendedFrustum.updatePoints(e)}}_extendedFrustumParameters(){return this.aboveGround?this._extendedFrustumParametersAboveSurface():this._extendedFrustumParametersBelowSurface()}_extendedFrustumParametersAboveSurface(){const e=this.surfaceElevation-P;return{zWithMargin:e,pointIndices:F.planePointIndices.bottom,direction:-1,needsAltitudeAdjustment:t=>t>e}}_extendedFrustumParametersBelowSurface(){const e=this.surfaceElevation+P;return{zWithMargin:e,pointIndices:F.planePointIndices.top,direction:1,needsAltitudeAdjustment:t=>t<e}}}const R=2,O=6,g=12,b=.95,P=1,S=a(),N=c(),v=c(),H=new t(Array,(e=>{4!==e.length&&(e[0]=new E,e[1]=new E,e[2]=new E,e[3]=new E)}),(e=>{e[0].release(),e[1].release(),e[2].release(),e[3].release()}));export{A as FeatureTileVisibility3D};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{createScreenPointArray as e,createRenderScreenPointArray3 as t}from\"../../../../core/screenUtils.js\";import{g as i,a as r}from\"../../../../chunks/vec3.js\";import{c as s}from\"../../../../chunks/vec3f64.js\";import{create as o,fromValues as n,distance as a,empty as c,expandPointInPlace as l,expand as h}from\"../../../../geometry/support/aaBoundingRect.js\";import{PlaneIndex as m}from\"../../../../geometry/support/frustum.js\";import{signedDistance as u,normal as p}from\"../../../../geometry/support/plane.js\";import{areaPoints2d as d}from\"../../../../geometry/support/triangle.js\";import{Visibility as f}from\"./FeatureTileDescriptor3D.js\";import{FeatureTileVisibility3D as S}from\"./FeatureTileVisibility3D.js\";import{Camera as _}from\"../../webgl-engine/lib/Camera.js\";class j{constructor(e){this.camera=new _,this.focusOnMap=[0,0],this.screenRect=o(),this.tileSize=e.tileSize,this.renderCoordsHelper=e.renderCoordsHelper,this.tilingScheme=e.tilingScheme,this.visibility=new S(e.renderCoordsHelper)}begin(e,t,i){this.camera.copyFrom(e),this.surfaceElevation=i,this.focusOnMap[0]=t.x,this.focusOnMap[1]=t.y,n(0,0,e.fullWidth,e.fullHeight,this.screenRect),this.visibility.begin(this.camera,i)}end(){this.visibility.end()}updateTile(e){e.measures.visibility=this.visibility.calculate(e),e.measures.distance=a(e.extent,this.focusOnMap),e.measures.visibility!==f.INVISIBLE&&this._updateScreenMeasure(e)}_updateScreenMeasure(e){const t=T,i=1<<t,r=e.measures.screenRect;c(r);let s=0;const o=e.lij[0]+t,n=e.lij[1]<<t,a=e.lij[2]<<t,l=this._tileSizeWithBias(e),h=l*l;for(let c=0;c<i;c++)for(let t=0;t<i;t++)if(s+=this._computeScreenArea(e,o,n+c,a+t,r),s>h)return void(e.measures.shouldSplit=!0);e.measures.shouldSplit=!1}_tileSizeWithBias(e){return e.measures.visibility===f.VISIBLE_WHEN_EXTENDED?this.tileSize*y:this.tileSize}_computeScreenArea(e,t,i,r,s){const o=e.measures.visibility===f.VISIBLE_WHEN_EXTENDED;this._projectToScreen(t,i,r,o,E),c(g);for(let n=0;n<4;n++)l(g,E[n]);return h(s,g,s),d(E[0],E[1],E[2])+d(E[0],E[2],E[3])}_projectToScreen(e,t,i,r,s){this.tilingScheme.ensureMaxLod(e),this.tilingScheme.getExtent(e,t,i,b),this._toRenderCoords(b,0,3,R[0]),this._toRenderCoords(b,2,3,R[1]),this._toRenderCoords(b,2,1,R[2]),this._toRenderCoords(b,0,1,R[3]),r&&(this._projectToPlane(R,this.camera.frustum[m.NEAR]),this._projectToPlane(R,this.camera.frustum[m.TOP]),this._projectToPlane(R,this.camera.frustum[m.BOTTOM]));for(let o=0;o<4;o++)this.camera.projectToRenderScreen(R[o],M),this.camera.renderToScreen(M,s[o])}_projectToPlane(e,t){for(let i=0;i<4;i++)C[i]=u(t,e[i]);const s=Math.max(C[0],C[1],C[2],C[3]);if(s>0){const o=i(v,p(t),-s);for(let t=0;t<4;t++)r(e[t],e[t],o)}}_toRenderCoords(e,t,i,r){return v[0]=e[t],v[1]=e[i],v[2]=this.surfaceElevation,this.renderCoordsHelper.toRenderCoords(v,this.tilingScheme.spatialReference,r),r}}const g=o(),T=2,y=5,E=[e(),e(),e(),e()],b=o(),v=s(),R=[s(),s(),s(),s()],C=[0,0,0,0],M=t();export{j as FeatureTileMeasurements3D};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import i from\"../../../../core/Collection.js\";import s from\"../../../../core/Handles.js\";import r from\"../../../../core/Logger.js\";import{isSome as n,isNone as o,removeMaybe as l,destroyMaybe as h}from\"../../../../core/maybe.js\";import a from\"../../../../core/PooledArray.js\";import{watch as c,sync as d,syncAndInitial as p}from\"../../../../core/reactiveUtils.js\";import{property as u}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as m}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as _,empty as f,expand as g,height as T,intersects as y}from\"../../../../geometry/support/aaBoundingRect.js\";import{FeatureTileDescriptor3D as S,Visibility as E}from\"./FeatureTileDescriptor3D.js\";import{FeatureTileMeasurements3D as v}from\"./FeatureTileMeasurements3D.js\";import{toBoundingRect as w}from\"../../support/extentUtils.js\";import{TaskPriority as R,noBudget as x}from\"../../../support/Scheduler.js\";const C=r.getLogger(\"esri.views.3d.layers.support.FeatureTileTree3D\");let j=class extends t{constructor(e){super(e),this.tiles=new i,this.tileSize=512,this._idToTile=new Map,this._handles=new s,this._clients=new Set,this._dirty=!1,this._newTiles=new a}get tilingScheme(){const e=this.tilingSchemeOwner.tilingScheme;if(!e)return null;return e.clone()}set filterExtent(e){if(n(e)&&!e.spatialReference.equals(this.viewState.spatialReference))return void C.error(\"#extent\",\"extent spatial reference needs to be in the same spatial reference as the view\");const t=this._get(\"filterExtent\");if(t===e||n(t)&&e&&t.equals(e))return;const i=n(e)?e.clone():null;this._set(\"filterExtent\",i),this._setDirty()}get filterExtentRect(){if(o(this.filterExtent)||!this.tilingScheme)return null;const e=_();return w(this.filterExtent,e,this.tilingScheme.spatialReference),e}get rootTileIds(){return this.filterExtentRect?this.tilingScheme.rootTilesInExtent(this.filterExtentRect):[[0,0,0]]}set suspended(e){e!==this._get(\"suspended\")&&(this._set(\"suspended\",e),this._setDirty())}get updating(){return this._dirty||!!this._pendingTiles}initialize(){this._handles.add([c((()=>[this.tilingScheme,this.tileSize]),(()=>this._reset()),d),c((()=>[this.tileSize,this.cameraOnSurface?.location,this.tilingScheme,this.viewState?.contentCamera,this.focus?.location]),(()=>this._setDirty()),p)]),this.scheduler&&(this._frameWorker=this.scheduler.registerTask(R.FEATURE_TILE_TREE,this))}destroy(){this._frameWorker=l(this._frameWorker),this._handles=h(this._handles)}addClient(){const e=I();return this._clients.add(e),1===this._clients.size&&this._setDirty(),{remove:()=>this._removeClient(e)}}_removeClient(e){this._clients.delete(e),this._hasClients||this._clear()}get _hasClients(){return this._clients.size>0}_setDirty(){!this._hasClients||this.suspended||this._dirty||(this._frameWorker?(this._dirty=!0,this.notifyChange(\"updating\")):this.runTask(x))}_clear(){this.tiles.removeAll(),this._idToTile.clear(),this._reset(),this._dirty=!1,this.notifyChange(\"updating\")}get running(){return this.updating}runTask(e){this._dirty=!1,this._pendingTiles||(this._startUpdate(),n(this._frameWorker)&&(this._frameWorker.priority=R.FEATURE_TILE_TREE_ACTIVE)),this._subdivideTilesForView(e),!this._pendingTiles&&n(this._frameWorker)&&(this._frameWorker.priority=R.FEATURE_TILE_TREE),this.notifyChange(\"updating\")}_startUpdate(){if(this.suspended)return;if(!this.tilingScheme)return void this._clear();this._tileMeasurements||(this._tileMeasurements=new v({renderCoordsHelper:this.renderCoordsHelper,tilingScheme:this.tilingScheme,tileSize:this.tileSize}));const e=this.viewState.contentCamera;this._tileMeasurements.begin(e,this.focus.location,this.cameraOnSurface.location.z),this._pendingTiles=this._getRootTiles()}_reset(){this._newTiles.clear(),this._tileMeasurements=null,this._pendingTiles=null,this._setDirty()}_getRootTiles(){return this.rootTileIds.map((e=>new S(e[0],e[1],e[2],this.tilingScheme)))}_purgeHorizonTiles(e){e.sort(((e,t)=>{const i=e.measures.screenRect,s=t.measures.screenRect;return i[1]+i[3]-(s[1]+s[3])})),f(k);for(let t=0;t<e.length;t++)if(g(k,e.data[t].measures.screenRect,k),T(k)>z)return e.data.slice(t,e.length);return[]}_subdivideTilesForView(e){if(this._pendingTiles){for(;this._pendingTiles.length>0&&!e.done;){const t=this._pendingTiles.pop();e.madeProgress(),this.filterExtentRect&&!y(this.filterExtentRect,t.extent)||(this._tileMeasurements.updateTile(t),t.measures.visibility!==E.INVISIBLE&&(t.measures.shouldSplit?(this.tilingScheme.ensureMaxLod(t.lij[0]+1),this._pendingTiles.push(...t.getChildren())):this._newTiles.push(t)))}0===this._pendingTiles.length&&(this._updateTiles(this._purgeHorizonTiles(this._newTiles)),this._newTiles.clear(),this._tileMeasurements.end(),this._pendingTiles=null)}}_updateTiles(e){for(const s of this.tiles.items)s.used=!1;const t=e.filter((e=>{const t=this._idToTile.get(e.id);return t?(t.copyMeasurementsFrom(e),t.used=!0):this._idToTile.set(e.id,e),!t})),i=this.tiles.items.filter((e=>!e.used&&(this._idToTile.delete(e.id),!0)));this.tiles.removeMany(i),this.tiles.addMany(t),this._sortTiles()}_sortTiles(){this.viewState.fixedContentCamera||this.tiles.sort(((e,t)=>e.measures.visibility!==t.measures.visibility?e.measures.visibility===E.VISIBLE_ON_SURFACE?-1:1:e.measures.distance-t.measures.distance)),this.tiles.forEach(((e,t)=>e.loadPriority=t))}};e([u({constructOnly:!0})],j.prototype,\"scheduler\",void 0),e([u({constructOnly:!0})],j.prototype,\"renderCoordsHelper\",void 0),e([u({constructOnly:!0})],j.prototype,\"tilingSchemeOwner\",void 0),e([u({constructOnly:!0})],j.prototype,\"cameraOnSurface\",void 0),e([u({constructOnly:!0})],j.prototype,\"focus\",void 0),e([u({constructOnly:!0})],j.prototype,\"viewState\",void 0),e([u({constructOnly:!0})],j.prototype,\"terrain\",void 0),e([u()],j.prototype,\"tiles\",void 0),e([u()],j.prototype,\"tileSize\",void 0),e([u({readOnly:!0})],j.prototype,\"tilingScheme\",null),e([u()],j.prototype,\"filterExtent\",null),e([u({readOnly:!0})],j.prototype,\"filterExtentRect\",null),e([u({readOnly:!0})],j.prototype,\"rootTileIds\",null),e([u({value:!1})],j.prototype,\"suspended\",null),e([u({readOnly:!0})],j.prototype,\"updating\",null),j=e([m(\"esri.views.3d.layers.support.FeatureTileTree3D\")],j);let O=0;function I(){return O++}const k=_(),z=10;export{j as FeatureTileTree3D};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import r from\"../../../core/Evented.js\";import{isSome as o}from\"../../../core/maybe.js\";import{watch as a,sync as i}from\"../../../core/reactiveUtils.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../core/accessorSupport/decorators/subclass.js\";import{afterDispatch as l}from\"../../../core/accessorSupport/watch.js\";import{f as p}from\"../../../chunks/vec3f64.js\";import{getReferenceEllipsoid as c}from\"../../../geometry/projectionEllipsoid.js\";import m from\"../../ViewAnimation.js\";import{ViewingMode as h}from\"../../ViewingMode.js\";import{Constraints as d}from\"./Constraints.js\";import{AnimationController as u}from\"./controllers/AnimationController.js\";import{State as g}from\"./controllers/CameraController.js\";import{PropertiesPool as C}from\"../support/PropertiesPool.js\";import{Camera as y,PaddingSide as f}from\"../webgl-engine/lib/Camera.js\";let w=class extends t{constructor(){super(...arguments),this._propertiesPool=new C({camera:y},this),this._lastSeenCameraProjectionValues=new y,this.events=new r,this.viewingMode=h.Global,this._cameraChanged=!1,this.updateQueue=new Array,this.processingUpdates=!1}init(e,t){this._set(\"viewingMode\",e),this._set(\"spatialReference\",t),this._set(\"constraints\",new d({mode:this.viewingMode}))}exit(){this.cameraController=null,this._propertiesPool.destroy(),this._propertiesPool=new C({camera:y},this)}createInitialCamera(){if(this.viewingMode===h.Global){const e=c(this.spatialReference).radius;this.camera=new y(p(4*e,0,0),p(e,0,0),p(0,0,1))}else this.camera=new y(p(0,0,100),p(0,0,0),p(0,1,0))}get animation(){return this.cameraController instanceof u&&o(this.cameraController.viewAnimation)?this.cameraController.viewAnimation:null}get camera(){return this._get(\"camera\")}set camera(e){e!==v&&v.copyFrom(e),v.computeUp(this.viewingMode),j.camera=v,this.events.emit(\"before-camera-change\",j);const t=this._get(\"camera\");if(this._cameraProjectionChanged(this._lastSeenCameraProjectionValues,v)&&(this._lastSeenCameraProjectionValues.copyFrom(v),O.camera=this._lastSeenCameraProjectionValues,this.events.emit(\"camera-projection-changed\",O)),(!t||!t.equals(v))&&(this._set(\"camera\",this._propertiesPool.get(\"camera\").copyFrom(v)),this._cameraChanged=!t||!t.almostEquals(v),this._cameraChanged)){const e=l((()=>{this._cameraChanged=!1,e.remove()}))}}get pixelRatio(){return this.camera.pixelRatio}get contentCamera(){return o(this._contentCamera)?this._contentCamera:this.camera}set contentCamera(e){this._contentCamera=o(e)?e.clone():null}get fixedContentCamera(){return o(this._contentCamera)}get isGlobal(){return this.viewingMode===h.Global}get isLocal(){return this.viewingMode===h.Local}get navigating(){return!(!this.cameraController||!this.cameraController.isInteractive)}get stationary(){return!this._cameraChanged&&!this.navigating}get cameraController(){return this._get(\"cameraController\")}set cameraController(e){this.stopActiveCameraController()?(e&&(this.own(a((()=>e.state),(t=>{t!==g.Finished&&t!==g.Stopped||(this._set(\"cameraController\",null),this.updateCamera((t=>e.onControllerEnd(t))))}),i)),e.onControllerStart(this.camera)),this._set(\"cameraController\",e)):e&&(e.state=g.Rejected)}switchCameraController(e){return this.cameraController=e,e.state!==g.Rejected}stopActiveCameraController(){return!(this.cameraController&&!this.cameraController.stopController())}updateCamera(e){this.updateQueue.push(e),this._processUpdateQueue()}_processUpdateQueue(){if(0===this.updateQueue.length||this.processingUpdates)return;this.processingUpdates=!0;const e=this.updateQueue.shift();v.copyFrom(this._get(\"camera\")),e(v),this.camera=v,this.processingUpdates=!1,this._processUpdateQueue()}_cameraProjectionChanged(e,t){return e.fov!==t.fov||(e.fullViewport[0]!==t.fullViewport[0]||e.fullViewport[1]!==t.fullViewport[1]||e.fullViewport[2]!==t.fullViewport[2]||e.fullViewport[3]!==t.fullViewport[3]||(e.padding[f.TOP]!==t.padding[f.TOP]||e.padding[f.RIGHT]!==t.padding[f.RIGHT]||e.padding[f.BOTTOM]!==t.padding[f.BOTTOM]||e.padding[f.LEFT]!==t.padding[f.LEFT]))}};e([s({readOnly:!0,type:m})],w.prototype,\"animation\",null),e([s({type:y})],w.prototype,\"camera\",null),e([s()],w.prototype,\"pixelRatio\",null),e([s({})],w.prototype,\"_contentCamera\",void 0),e([s({type:y})],w.prototype,\"contentCamera\",null),e([s({readOnly:!0})],w.prototype,\"fixedContentCamera\",null),e([s({readOnly:!0})],w.prototype,\"constraints\",void 0),e([s({readOnly:!0})],w.prototype,\"events\",void 0),e([s({readOnly:!0})],w.prototype,\"isGlobal\",null),e([s({readOnly:!0})],w.prototype,\"isLocal\",null),e([s({readOnly:!0})],w.prototype,\"viewingMode\",void 0),e([s({readOnly:!0})],w.prototype,\"spatialReference\",void 0),e([s({readOnly:!0})],w.prototype,\"navigating\",null),e([s({readOnly:!0})],w.prototype,\"stationary\",null),e([s()],w.prototype,\"_cameraChanged\",void 0),e([s()],w.prototype,\"cameraController\",null),w=e([n(\"esri.views.3d.state.ViewState\")],w);const _=w,v=new y,j={camera:null},O={camera:null};export{_ as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{lerp as e,clamp as t}from\"../../../core/mathUtils.js\";import{isSome as i}from\"../../../core/maybe.js\";import{getMetersPerUnitForSR as r}from\"../../../core/unitUtils.js\";import{b as n,n as s,e as a,l as o}from\"../../../chunks/vec3.js\";import{c as m}from\"../../../chunks/vec3f64.js\";import h from\"../../../geometry/Extent.js\";import{getReferenceEllipsoid as l}from\"../../../geometry/projectionEllipsoid.js\";import{ViewingMode as x}from\"../../ViewingMode.js\";function c(e,t,i){return e===x.Global?new M(i):new u(t,i)}class u{constructor(e,t){this.elevationProvider=e,this._referenceEllipsoid=l(t),this.unitInMeters=r(t,this._referenceEllipsoid.metersPerDegree)}compute(r,o,m,l,x){x||(x={near:0,far:0});let c=r[2]*this.unitInMeters;const u=c,M=c-l,d=this.elevationProvider?this.elevationProvider.elevationBounds:null;d&&(c=M>=0?u-this.unitInMeters*d.min:this.unitInMeters*d.max-u);const E={x:(m=i(m)?m:new h({xmin:0,ymin:0,zmin:0,xmax:0,ymax:0,zmax:0})).xmax-m.xmin,y:m.ymax-m.ymin,z:4*Math.max(m.xmax-m.xmin,m.ymax-m.ymin)},b=Math.max(E.x,E.y,E.z);n(I,o,r),v[0]=I[0]>0?m.xmax:m.xmin,v[1]=I[1]>0?m.ymax:m.ymin,v[2]=I[2]>0?b/2:-b/2,n(v,v,r),s(I,I);const g=1.1*a(v,I)*this.unitInMeters,_=Math.sqrt(c*(c+2*this._referenceEllipsoid.radius)),w=Math.max(m.xmax-m.xmin,m.ymax-m.ymin),z=w*y*this.unitInMeters,P=w*j*this.unitInMeters;let k=t((c-P)/(z-P),0,1);k*=k*k;let q=e(_,g,k);return q*=Math.max(Math.log(Math.abs(M)),1),q=Math.min(q,Math.max(34064e4,b)),q/=this.unitInMeters,f(q,p,this.unitInMeters,x)}}class M{constructor(e){this._referenceEllipsoid=l(e)}compute(e,i,r,n,s){s||(s={near:0,far:0});const a=o(e)-this._referenceEllipsoid.radius,m=this._referenceEllipsoid.radius+Math.min(0,n),h=Math.abs(a-n),l=Math.max(h,Math.abs(a));return f(1.2*Math.sqrt(l*(l+2*m)),t(2e4-(Math.log(l)-7.983)/9.011*19e3,1e3,2e4),1,s)}}function f(e,t,i,r){const n=d/i;return e/t>n?(r.far=e,r.near=r.far/t):(r.near=n,r.far=r.near*t),r}const p=2e4,d=2,y=.001,j=1e-4,v=m(),I=m();export{c as createNearFarHeuristic};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import s from\"../../../core/Handles.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../camera/constraintUtils.js\";import{eyeWithinExtent as a}from\"../camera/intersectionUtils.js\";import{applySurfaceCollisionConstraint as i,Mode as n}from\"../camera/constraintUtils/surfaceCollision.js\";let c=class extends t{constructor(e){super(e),this.handles=new s}initialize(){this.handles.add(this.view.basemapTerrain.on(\"elevation-change\",(e=>this._handleElevationChangeEvent(e))))}destroy(){this.handles&&(this.handles.destroy(),this.handles=null)}_handleElevationChangeEvent(e){if(this.view.state.cameraController)return;const t=this.view.state.camera;a(this.view,t,e.extent,e.spatialReference)&&this._applyToCurrentCamera()}_applyToCurrentCamera(){this.view.state.updateCamera((e=>{i(this.view,e,n.EYE_AND_CENTER)}))}};e([r({constructOnly:!0})],c.prototype,\"view\",void 0),c=e([o(\"esri.views.3d.state.ElevationCollisionConstraint\")],c);export{c as SurfaceCollisionConstraint};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import i from\"../../../core/Accessor.js\";import a from\"../../../core/Handles.js\";import{deg2rad as e,rad2deg as s}from\"../../../core/mathUtils.js\";import{destroyMaybe as r,isNone as n}from\"../../../core/maybe.js\";import{watch as o,sync as c,initial as l}from\"../../../core/reactiveUtils.js\";import{property as h}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as u}from\"../../../core/accessorSupport/decorators/subclass.js\";import{ViewingMode as p}from\"../../ViewingMode.js\";import{applyAll as d}from\"../camera/constraintUtils.js\";import{surfaceElevationBelowRenderLocation as m}from\"../camera/intersectionUtils.js\";import{ConstraintTypes as v,InteractionType as w,TiltMode as _}from\"../camera/constraintUtils/common.js\";import{createNearFarHeuristic as C}from\"./NearFarHeuristic.js\";import{SurfaceCollisionConstraint as f}from\"./SurfaceCollisionConstraint.js\";let M=class extends i{constructor(t){super(t),this._handles=new a,this.nearFarHeuristic=C(t.view.state.viewingMode,t.view.basemapTerrain,t.view.renderCoordsHelper.spatialReference)}initialize(){this._handles.add([o((()=>[this.view.constraints?.clipDistance?.near,this.view.constraints?.clipDistance?.far]),(()=>this._clipDistanceNearFarChanged())),o((()=>this.view.constraints?.clipDistance?.mode),(()=>this._updateNearFar())),this.view.state.events.on(\"before-camera-change\",(t=>this._updateCameraNearFar(t.camera))),o((()=>this.view.renderDataExtent),(()=>this._updateNearFar()),c),o((()=>[this.view.constraints?.altitude?.min,this.view.constraints?.altitude?.max]),(()=>this._updateAltitude()),c),o((()=>this.view.constraints?.tilt?.max),(()=>this._updateTiltMax()),c),o((()=>this.view.constraints?.tilt?.mode),(()=>this._updateTilt()),c),o((()=>this.view.state?.camera),(()=>this._updateTiltAutoMax()),c),o((()=>[this.view.map?.ground?.navigationConstraint?.type,this.view.state?.constraints?.collision?.enabled]),(()=>this._updateCollision()),c)]),this.view.state.isLocal&&this._handles.add(o((()=>this.view.renderDataExtent),(t=>this._updateLocalSurfaceDistance(t)),l)),this._updateNearFar(),this.view.state.viewingMode!==p.Local&&this._updateAltitude(),this._updateTilt(),this._updateCollision(),this._set(\"surfaceCollisionConstraint\",new f({view:this.view}))}destroy(){this._handles=r(this._handles),this.surfaceCollisionConstraint&&(this.surfaceCollisionConstraint.destroy(),this._set(\"surfaceCollisionConstraint\",null))}_clipDistanceNearFarChanged(){const t=this.view.constraints?.clipDistance;t&&\"auto\"!==t.mode&&this.view.state.updateCamera((i=>(this._updateCameraNearFarManual(i,t),!0)))}_updateNearFar(){this.view.state.updateCamera((t=>(this._updateCameraNearFar(t),!0)))}_updateCameraNearFar(t){const i=this.view.constraints&&this.view.constraints.clipDistance;\"manual\"===(i?i.mode:\"auto\")?this._updateCameraNearFarManual(t,i):this._updateCameraNearFarAuto(t,i)}_updateCameraNearFarAuto(t,i){this.nearFarHeuristic.compute(t.eye,t.center,this.view.renderDataExtent,m(this.view,t.eye),t),i&&i.autoUpdate(t.near,t.far)}_updateCameraNearFarManual(t,i){i&&(t.near=i.near,t.far=i.far)}_updateCollision(){const t=this.view.map?.ground?.navigationConstraint?.type,i=!t||\"stay-above\"===t,a=this.view.state.constraints.collision;if(i!==a.enabled){a.enabled=i,i&&this._reapplyConstraints(v.COLLISION);const t=this.view.constraints&&this.view.constraints.tilt;t&&\"auto\"!==t.mode||this._updateTiltAuto()}}_updateAltitude(){const t=this.view.constraints&&this.view.constraints.altitude;t&&this.view.state.viewingMode!==p.Local?this.view.state.constraints.altitude={min:t.min,max:t.max}:this.view.state.constraints.altitude=null,this._reapplyConstraints()}_updateTiltMax(){const t=this.view.constraints&&this.view.constraints.tilt;t&&\"auto\"!==t.mode&&(this._updateTiltManual(t),this._reapplyConstraints())}_updateTilt(){const t=this.view.constraints&&this.view.constraints.tilt;\"manual\"===(t?t.mode:\"auto\")?this._updateTiltManual(t):this._updateTiltAuto(),this._reapplyConstraints()}_updateTiltManual(t){const i=this.view.state.constraints;i.tilt=i.createConstantMaxTilt(e(t.max))}_updateTiltAuto(){const t=this.view.state.constraints;t.tilt=t.createDefaultTilt(),this._updateTiltAutoMax()}_updateTiltAutoMax(){const t=this.view.constraints&&this.view.constraints.tilt;if(!t||\"auto\"!==t.mode)return;const i=this.view.state.constraints;if(i.tilt){const a=i.tilt(this.view.state.camera.distance).max;t.autoUpdate(s(a))}}_updateLocalSurfaceDistance(t){if(n(t))return;let i=Math.max(t.width,t.height);if(i<=0)return;t.hasZ&&(i=Math.max(i,t.zmax-t.zmin));const a=this.view.state,e=3*i/Math.atan(a.camera.fov/2);e!==a.constraints.distance&&(a.constraints.distance=e)}_reapplyConstraints(t=v.ALL){this.view.state.updateCamera((i=>d(this.view,i,{selection:t,interactionType:w.NONE,interactionFactor:null,interactionStartCamera:null,interactionDirection:null,tiltMode:_.TUMBLE})))}};t([h({constructOnly:!0})],M.prototype,\"view\",void 0),t([h({readOnly:!0})],M.prototype,\"surfaceCollisionConstraint\",void 0),M=t([u(\"esri.views.3d.state.ConstraintsManager\")],M);export{M as ConstraintsManager};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Handles.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../camera/constraintUtils.js\";import{eyeWithinExtent as s}from\"../../camera/intersectionUtils.js\";import{CameraController as i,State as a}from\"./CameraController.js\";import{applySurfaceCollisionConstraint as n,Mode as l}from\"../../camera/constraintUtils/surfaceCollision.js\";let c=class extends i{constructor(e){super(e),this.handles=new t}set desiredCamera(e){this._set(\"desiredCamera\",e.clone())}get canStop(){return!0}get constraintEnabled(){return this.view.state.constraints.collision.enabled}onControllerStart(){this.state=a.Running,this.handles.add(this.view.basemapTerrain.on(\"elevation-change\",(e=>this._handleElevationChangeEvent(e)))),this._applyCorrection()}onControllerEnd(){this.handles.removeAll()}stepController(){}_handleElevationChangeEvent(e){s(this.view,this.desiredCamera,e.extent,e.spatialReference)&&this._applyCorrection()}_applyCorrection(){this.view.state.updateCamera((e=>{e.copyViewFrom(this.desiredCamera),n(this.view,e,l.EYE_AND_CENTER)||this.constraintEnabled||(this.state=a.Stopped)}))}};e([r({constructOnly:!0})],c.prototype,\"view\",void 0),e([r({constructOnly:!0})],c.prototype,\"desiredCamera\",null),c=e([o(\"esri.views.3d.state.controllers.SurfaceCollisionCorrectionController\")],c);export{c as SurfaceCollisionCorrectionController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../Camera.js\";import\"../../../geometry.js\";import t from\"../../../Graphic.js\";import n from\"../../../Viewpoint.js\";import{result as r}from\"../../../core/asyncUtils.js\";import\"../../../core/has.js\";import{cyclicalDegrees as a}from\"../../../core/Cyclical.js\";import o from\"../../../core/Error.js\";import{isSome as i,isNone as s,unwrapOr as c,unwrap as l}from\"../../../core/maybe.js\";import{eachAlways as m}from\"../../../core/promiseUtils.js\";import{f as u,t as f}from\"../../../chunks/mat3.js\";import{c as p}from\"../../../chunks/mat3f64.js\";import{c as g}from\"../../../chunks/mat4f64.js\";import{g as h,a as y,i as d,c as x,b as w,s as v,t as b}from\"../../../chunks/vec3.js\";import{c as j}from\"../../../chunks/vec3f64.js\";import{projectVectorToPoint as R,projectPointToVector as G,projectBuffer as z,computeTranslationToOriginAndRotation as S,projectVectorToVector as B}from\"../../../geometry/projection.js\";import{create as k,empty as M,center as Z,toRect as A,isPoint as F,expandWithVec3 as E,expandWithAABB as D,width as T,height as U,depth as O}from\"../../../geometry/support/aaBoundingBox.js\";import{create as C,isPoint as P}from\"../../../geometry/support/aaBoundingRect.js\";import{intersectsPoint as I}from\"../../../geometry/support/frustum.js\";import{project as J,canProject as K}from\"../../../geometry/support/webMercatorUtils.js\";import{cameraOnContentAlongViewDirection as L}from\"../camera/intersectionUtils.js\";import{internalToExternal as N,OrientationMode as V,scaleToDistance as W,fromCenterDistance as Y,fromExtent as $,scaleToResolution as q,zoomToScale as X,externalToInternal as _,computeScale as H,AsyncContext as Q,distanceToScale as ee,fromCenterScale as te,directionToHeadingTilt as ne}from\"./cameraUtils.js\";import{getElevationAtPoint as re}from\"./ElevationProvider.js\";import ae from\"../../../geometry/Point.js\";import oe from\"../../../geometry/SpatialReference.js\";import ie from\"../../../geometry/Extent.js\";import se from\"../../../geometry/Geometry.js\";const ce=.66;function le(e){return 360-a.normalize(e)}function me(e){return a.normalize(360-e)}function ue(e){return i(e)&&e.resolver&&e.resolver.reject(),null}function fe(e,t){return i(e)&&e.resolver&&e.resolver.resolve(t),t}function pe(e,t,n,r=null){if(!t)return ue(r);const a=e.spatialReference||oe.WGS84;if(i(t.camera)){const e=J(t.camera.position,a);if(s(e))return ue(r);const n=t.camera.clone();return n.position=e,fe(r,n)}if(s(t.targetGeometry))return ue(r);const o=t.get(\"targetGeometry.spatialReference\");if(o&&!K(o,a))return ue(r);const c=N(e,e.state.camera);let l=V.ADJUST;if(null!=t.rotation&&(c.heading=le(t.rotation),l=V.LOCKED),null!=n&&(c.tilt=n),\"point\"===t.targetGeometry.type){const n=t.targetGeometry;let a;const o=t.targetGeometry.clone();return a=null!=t.scale?W(e,t.scale,n.latitude):e.state.camera.distance,Y(e,o,a,c,l,r)}const m=t.targetGeometry.extent;return $(e,m,c.heading,c.tilt,l,r)}function ge(e,t,r=null){return s(r)&&(r=new n),we(e,null,t.clone(),r)}async function he(t,r,a){const i=Fe(t,r);if(!i)throw new o(\"viewpointutils-create:no-target\",\"Missing target for creating viewpoint\");const s=new e({fov:t.camera.fov}),c=new n({camera:s});if(i.target instanceof n){return Ee(await Re(t,i.target,i,a,c))}if(i.target instanceof e)return Ee(Ge(t,i.target,c));const l=null!=i.scale||null!=i.zoom;if(i.target instanceof ie){const e=i.target.xmin===i.target.xmax||i.target.ymin===i.target.ymax;return Ee(l||e?await Se(t,i,i.target.center,s,a,c):await Me(t,i,i.target,s,a,c))}const m={boundingBox:M(),hasZ:!1,screenSpaceObjects:[]},u=l?de(t,i):void 0;if(await je(t,i.target,u,m),isFinite(m.boundingBox[0])){let e;if(Z(m.boundingBox,Te),Ne.x=Te[0],Ne.y=Te[1],Ne.z=Te[2],Ne.spatialReference=t.spatialReference,isFinite(Ne.z)&&m.hasZ?e=F(m.boundingBox):(Ne.z=void 0,e=P(A(m.boundingBox,Pe))),l||e)return Ee(await Se(t,i,Ne,s,a,c));const n=De(t,m.screenSpaceObjects);return Ee(await Ae(t,i,Ne,m.boundingBox,n,s,a,c))}return i.position?Ee(Be(t,i,s,c)):Ee(await ke(t,i,s,a,c))}function ye(e,t){return null==t.scale&&null!=t.zoom?X(e,t.zoom):t.scale}function de(e,t){return q(e,ye(e,t))}function xe(e,t){let n=!1;return null!=t.heading?(e.heading=t.heading,n=!0):null!=t.rotation&&(e.heading=le(t.rotation),n=!0),null!=t.tilt&&(e.tilt=t.tilt,n=!0),null!=t.fov&&(e.fov=t.fov),n}function we(e,t,n,r){const a=e.spatialReference||oe.WGS84;return t=i(t)?t:_(e,n),s(t)||(r.targetGeometry=R(t.center,e.renderSpatialReference,a),r.scale=H(e,t),r.rotation=me(n.heading),r.camera=n),r}function ve(e,t,n){if(!t)return;if(!K(t.spatialReference,e.spatialReference))throw new o(\"viewpointutils:incompatible-spatialreference\",`Spatial reference (${t.spatialReference?t.spatialReference.wkid:\"unknown\"}) is incompatible with the view (${e.spatialReference.wkid})`,{geometry:t});const r=[];if(!t.hasZ&&e.basemapTerrain){let n;switch(t.type){case\"point\":n=t;break;case\"multipoint\":case\"polyline\":n=t.extent.center;break;case\"mesh\":n=t.origin;break;case\"extent\":n=t.center;break;case\"polygon\":n=t.centroid}n&&K(n,e.basemapTerrain.spatialReference)?Te[2]=c(re(e.elevationProvider,n),0):Te[2]=0}(0,Ve[t.type])(t,(e=>{r.push(e[0],e[1],e[2])}),Te);const a=r.length/3;if(0===a)return;const i=new Array(r.length);if(z(r,t.spatialReference,0,i,e.spatialReference,0,a)){t.hasZ&&(n.hasZ=!0);for(let e=0;e<i.length;e+=3)t.hasZ?(Te[0]=i[e+0],Te[1]=i[e+1],Te[2]=i[e+2]):(Te[0]=i[e+0],Te[1]=i[e+1]),E(n.boundingBox,Te)}}async function be(e,t,n,a){const o=await r(e.whenViewForGraphic(t));if(!1===o.ok||s(o.value)||!(\"whenGraphicBounds\"in o.value))return void ve(e,t.geometry,a);const i=o.value,c=await r(i.whenGraphicBounds(t,{minDemResolution:n}));if(!1===c.ok)return void ve(e,t.geometry,a);const{screenSpaceObjects:l,boundingBox:m}=c.value;D(a.boundingBox,m),l&&l.forEach((e=>{a.screenSpaceObjects.push(e)})),isFinite(m[2])&&(a.hasZ=!0)}async function je(e,n,r,a){if(Array.isArray(n)&&2===n.length){const t=n[0],r=n[1];if(\"number\"==typeof t&&\"number\"==typeof r)return Ne.x=t,Ne.y=r,Ne.z=void 0,Ne.spatialReference=e.spatialReference.isGeographic?e.spatialReference:oe.WGS84,void ve(e,Ne,a)}n&&\"function\"==typeof n.map?await m(n.map((t=>je(e,t,r,a)))):n instanceof se?ve(e,n,a):n instanceof t&&await be(e,n,r,a)}async function Re(e,t,n,r,a){if(i(t.camera))return Ge(e,t.camera,a);a.scale=t.scale,a.rotation=t.rotation,a.targetGeometry=i(t.targetGeometry)?t.targetGeometry.clone():null,a.camera=null,null!=n.heading?a.rotation=me(n.heading):null!=n.rotation&&(a.rotation=n.rotation);const o=ye(e,n);null!=o&&(a.scale=o);const s=new Q(r);return pe(e,a,n.tilt,s),a.camera=await s.resolver.promise,a}function Ge(e,t,n){const r=e.spatialReference,a=J(t.position,r);return s(a)?null:((t=t.clone()).fov=e.camera.fov,t.position=a,we(e,null,t,n))}function ze(e,t,n,r,a,o){const i=e.renderSpatialReference;return G(n.position,Je,i),G(t,Ke,i),o.targetGeometry=new ae(t),a.position=new ae(n.position),w(Ie,Ke,Je),ne(e,Je,Ie,r.up,a),o.scale=ee(e,d(Je,Ke),o.targetGeometry.latitude),o.rotation=me(a.heading),o.camera=a,o}async function Se(e,t,n,r,a,i){if(s(n))throw new o(\"createfromcenter\",\"invalid point\");i.targetGeometry=n.clone();const c=L(e);if(t.position)return ze(e,i.targetGeometry,t,c,r,i);if(t.zoomFactor){const r=c.distance/t.zoomFactor,a=h(Te,c.viewForward,-r);c.eye=y(Te,c.center,a),i.scale=ee(e,r,n.latitude)}N(e,c,r);const l=xe(r,t)?V.LOCKED:V.ADJUST;if(!t.zoomFactor){i.scale=ye(e,t),null==i.scale&&(G(n,Te,e.renderSpatialReference),I(c.frustum,Te)?i.scale=ee(e,d(c.eye,Te),n.latitude):i.scale=H(e,c));const o=new Q(a);te(e,i.targetGeometry,i.scale,r,l,o),i.camera=await o.resolver.promise}return i}function Be(e,t,n,r){const a=L(e);return x(Ie,a.viewForward),ne(e,a.eye,Ie,a.up,Le),n.position=new ae(t.position),n.heading=null!=t.heading?t.heading:Le.heading,n.tilt=null!=t.tilt?t.tilt:Le.tilt,we(e,null,n,r)}async function ke(e,t,n,r,a){const o=L(e);return Se(e,t,R(o.center,e.renderSpatialReference,e.spatialReference),n,r,a)}async function Me(e,t,n,r,a,o){o.targetGeometry=n.clone();const i=L(e);N(e,i,r);const s=xe(r,t)?V.LOCKED:V.ADJUST,c=new Q(a);return $(e,n,r.heading,r.tilt,s,c),o.camera=await c.resolver.promise,o}function Ze(e,t,n,r,a){let o=0;n.hasZ?o=n.z:e.basemapTerrain&&(o=l(re(e.elevationProvider,n))),v(Te,n.x,n.y,o),S(e.spatialReference,Te,Ue,e.renderSpatialReference),u(Oe,Ue),f(Oe,Oe),M(Ce);const i=[[0,1,2],[3,1,2],[0,4,2],[3,4,2],[0,1,5],[3,1,5],[0,4,5],[3,4,5]];for(let l=0;l<i.length;l++){const t=i[l];let n=r[t[2]];isFinite(n)||(n=o),v(Te,r[t[0]],r[t[1]],n),B(Te,e.spatialReference,Te,e.renderSpatialReference),E(Ce,b(Te,Te,Oe))}const s=T(Ce),c=U(Ce),m=O(Ce),p=1/Math.tan(t.fovX/2),g=1/Math.tan(t.fovY/2),h=.5*Math.sqrt(s*s+m*m)*Math.max(g,p)+.5*c,y=.5*c*g+.5*Math.max(s,m);return Math.max(h,y)/a}async function Ae(e,t,n,r,a,o,i,s){s.targetGeometry=n.clone();const c=L(e),l=Ze(e,c,n,r,a);N(e,c,o);const m=xe(o,t)?V.LOCKED:V.ADJUST;s.scale=ee(e,l,s.targetGeometry.latitude);const u=new Q(i);return te(e,s.targetGeometry,s.scale,o,m,u),s.camera=await u.resolver.promise,s}function Fe(e,t){if(!t||!e.spatialReference)return null;const n={target:null};if(\"declaredClass\"in t||Array.isArray(t))n.target=t;else{for(const e in t)n[e]=t[e];t.center&&!n.target&&(n.target=t.center)}return n}function Ee(e){return e&&i(e.camera)&&(e.rotation=me(e.camera.heading)),e}function De(e,t){const n=ce;if(!t.length)return n;let r=Number.NEGATIVE_INFINITY;for(let a=0;a<t.length;a++){const e=t[a].screenSpaceBoundingRect;r=Math.max(r,Math.abs(e[0]),Math.abs(e[1]),Math.abs(e[2]),Math.abs(e[3]))}return n-r/Math.min(e.width,e.height)*2}const Te=j(),Ue=g(),Oe=p(),Ce=k(),Pe=C(),Ie=j(),Je=j(),Ke=j(),Le={heading:0,tilt:0},Ne=new ae,Ve={point(e,t,n){n[0]=e.x,n[1]=e.y,e.hasZ&&(n[2]=e.z),t(n)},polygon(e,t,n){const r=e.hasZ;for(let a=0;a<e.rings.length;a++){const o=e.rings[a];for(let e=0;e<o.length;e++)n[0]=o[e][0],n[1]=o[e][1],r&&(n[2]=o[e][2]),t(n)}},polyline(e,t,n){const r=e.hasZ;for(let a=0;a<e.paths.length;a++){const o=e.paths[a];for(let e=0;e<o.length;e++)n[0]=o[e][0],n[1]=o[e][1],r&&(n[2]=o[e][2]),t(n)}},multipoint(e,t,n){const r=e.points,a=e.hasZ;for(let o=0;o<r.length;o++)n[0]=r[o][0],n[1]=r[o][1],a&&(n[2]=r[o][2]),t(n)},extent(e,t,n){e.hasZ?(t(v(n,e.xmin,e.ymin,e.zmin)),t(v(n,e.xmax,e.ymin,e.zmin)),t(v(n,e.xmin,e.ymax,e.zmin)),t(v(n,e.xmax,e.ymax,e.zmin)),t(v(n,e.xmin,e.ymin,e.zmax)),t(v(n,e.xmax,e.ymin,e.zmax)),t(v(n,e.xmin,e.ymax,e.zmax)),t(v(n,e.xmax,e.ymax,e.zmax))):(t(v(n,e.xmin,e.ymin,n[2])),t(v(n,e.xmax,e.ymin,n[2])),t(v(n,e.xmin,e.ymax,n[2])),t(v(n,e.xmax,e.ymax,n[2])))},mesh(e,t,n){const r=e.vertexAttributes&&e.vertexAttributes.position;if(r)for(let a=0;a<r.length;a+=3)t(v(n,r[a+0],r[a+1],r[a+2]))}};export{he as create,ge as fromCamera,me as headingToRotation,le as rotationToHeading,pe as toCamera};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport t from\"../../../Camera.js\";import i from\"../../../Viewpoint.js\";import e from\"../../../core/Error.js\";import{isSome as a,isNone as n}from\"../../../core/maybe.js\";import{onAbort as o,createAbortError as r}from\"../../../core/promiseUtils.js\";import{whenOnce as s}from\"../../../core/reactiveUtils.js\";import{applyAll as l}from\"../camera/constraintUtils.js\";import{State as c}from\"./controllers/CameraController.js\";import{PointToPointAnimationController as m}from\"./controllers/PointToPointAnimationController.js\";import{SurfaceCollisionCorrectionController as h}from\"./controllers/SurfaceCollisionCorrectionController.js\";import{externalToInternal as w}from\"../support/cameraUtils.js\";import{create as p}from\"../support/viewpointUtils.js\";import{applySurfaceCollisionConstraint as f,Mode as v}from\"../camera/constraintUtils/surfaceCollision.js\";class C{constructor(t,i,e){this.target=t,this.options=i,this.view=e,this.state=\"pending\",this.abortController=null,this.animationController=null,this.promise=new Promise(((t,i)=>{this.resolveCallback=t,this.rejectCallback=i;const e=new AbortController;a(this.options.signal)&&o(this.options.signal,(()=>{this.abort()})),this.abortController=e,this.waitForReady()}))}then(t,i){return this.promise.then(t,i)}catch(t){return this.promise.catch(t)}resolve(t){return this.state=\"finished\",this.resolveCallback(t)}reject(t){return this.state=\"finished\",this.rejectCallback(t)}abort(t=!1){switch(this.state){case\"pending\":case\"wait-for-ready\":case\"wait-for-viewpoint\":this.reject(r());break;case\"wait-for-animation-finish\":!t&&a(this.animationController)&&this.view.state.cameraController===this.animationController&&this.animationController.active&&this.animationController.stopController(),this.reject(r())}}async waitForReady(){if(this.state=\"wait-for-ready\",!this.view.ready)try{await s((()=>this.view.ready),this.abortController.signal)}catch(t){return this.reject(t)}this.createViewPoint()}createViewPoint(){\"finished\"!==this.state&&(this.state=\"wait-for-viewpoint\",this.animationController=this.options.animate?this._getAnimationController():null,p(this.view,this.target,this.abortController.signal).then((t=>{if(\"finished\"===this.state)return;const i=this._getCameraFromViewpoint(t);if(!n(i))if(this.options.animate){if(n(this.animationController))return;this.startAnimation(i,this.animationController)}else this.view.stateManager.setStateCamera(i.camera,{applyConstraints:!i.isFullySpecified,positionAndOrientationOnly:!0,doNotCancelGoToOperation:!0}),this.resolve()}),(t=>{this.reject(t)})))}_getCameraFromViewpoint(a){const o=!!(this.target instanceof i&&this.target.camera||this.target instanceof t),r=a.camera;if(n(r))return null;if(!this.view.stateManager.isCompatible(r)){const t=r.position,i=t&&t.spatialReference,a=i?i.wkid:\"none\",n=this.view.spatialReference.wkid;return this.reject(new e(\"GotoAnimation:incompatible-spatialreference\",`Resulting camera has an incompatible spatial reference (camera: ${a}, view: ${n})`,{camera:r})),null}const s=w(this.view,r);return n(s)?(this.reject(new e(\"GotoAnimation:invalid-camera\",\"Resulting camera is invalid\")),null):{viewpoint:a,camera:s,isFullySpecified:o}}startAnimation(t,i){this.state=\"wait-for-animation-finish\";const o=i.viewAnimation;if(n(o))return void this.reject(new e(\"GotoAnimation:missing-animation\",\"Unreachable code in view.stateManager\"));if(o.update(t.viewpoint,\"running\"),!i.active||n(i.viewAnimation)||i.viewAnimation.target!==t.viewpoint||this.view.state.cameraController!==i)return this.abort();let r;t.isFullySpecified?(r=new h({view:this.view,desiredCamera:t.camera}),f(this.view,t.camera,v.EYE_AND_CENTER)):l(this.view,t.camera),i.begin(t.camera,this.options);const s=()=>{const e=this.view.state.cameraController;r&&(e&&e.active?e instanceof m&&a(e.viewAnimation)&&e.viewAnimation.target===t.viewpoint&&(this.view.state.cameraController=r):a(i.viewAnimation)&&i.viewAnimation.target===t.viewpoint&&\"finished\"===i.state&&(this.view.state.cameraController=r))},w=t=>{if(!n(this.view.state))switch(i.state){case c.Finished:switch(this.state){case\"pending\":case\"wait-for-ready\":case\"wait-for-viewpoint\":case\"wait-for-animation-finish\":this.resolve()}break;case c.Ready:case c.Rejected:case c.Running:case c.Stopped:switch(this.state){case\"pending\":case\"wait-for-ready\":case\"wait-for-viewpoint\":case\"wait-for-animation-finish\":this.reject(t)}}};o.when(s,(t=>w(t))),i.asyncResult={resolve:()=>w(),reject:t=>w(t)}}_getAnimationController(){let t,i=null;const n=this.view.state.cameraController;return n instanceof m&&(n.updateStateFromViewAnimation(),n.active&&(t=n,i=t.viewAnimation)),null!=t||(t=new m({view:this.view,mode:\"animation\"}),i=t.viewAnimation,this.view.state.switchCameraController(t))?t:(a(i)&&i.stop(),this.reject(new e(\"GotoAnimation:goto-cannot-interrupt\",\"Cannot start an animation while interacting\")),null)}}export{C as GoToOperation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Camera.js\";import i from\"../../../Viewpoint.js\";import r from\"../../../core/Accessor.js\";import a from\"../../../core/Handles.js\";import s from\"../../../core/Logger.js\";import{isNone as o,isSome as n}from\"../../../core/maybe.js\";import{watch as h,on as p,when as l}from\"../../../core/reactiveUtils.js\";import{addFrameTask as c}from\"../../../core/scheduling.js\";import{createScreenPoint as m}from\"../../../core/screenUtils.js\";import{property as d}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as v}from\"../../../core/accessorSupport/decorators/subclass.js\";import{d as u}from\"../../../chunks/vec3.js\";import{d as w}from\"../../../chunks/vec3f64.js\";import{s as y}from\"../../../chunks/vec4.js\";import{c as C}from\"../../../chunks/vec4f64.js\";import f from\"../../../geometry/Extent.js\";import g from\"../../../geometry/Point.js\";import{canProject as _}from\"../../../geometry/support/webMercatorUtils.js\";import{ViewingMode as x}from\"../../ViewingMode.js\";import{applyAll as R}from\"../camera/constraintUtils.js\";import{cameraOnContentAlongViewDirection as P,surfaceElevationBelowRenderLocation as O}from\"../camera/intersectionUtils.js\";import{ConstraintsManager as T}from\"./ConstraintsManager.js\";import{Frustum as b}from\"./Frustum.js\";import{GoToOperation as S}from\"./GoToOperation.js\";import{SurfaceCollisionCorrectionController as j}from\"./controllers/SurfaceCollisionCorrectionController.js\";import{internalToExternal as M,externalToInternal as I,toExtent as B,distanceToScale as U,scaleToZoom as k,fromExtent as z,OrientationMode as E,getObserverForPointAtDistance as V,scaleToDistance as A,zoomToScale as D}from\"../support/cameraUtils.js\";import{PropertiesPool as H}from\"../support/PropertiesPool.js\";import{fromCamera as N,toCamera as F}from\"../support/viewpointUtils.js\";import{Camera as G,PaddingSide as L}from\"../webgl-engine/lib/Camera.js\";const q=s.getLogger(\"esri.views.3d.state.ViewStateManager\");let W=class extends r{constructor(e){super(e),this.propertiesPool=new H({frustum:b},this),this.handles=new a,this.cameraSetByUser=!1,this.gotoOperation=null,this.ready=!1,this._windowDevicePixelRatio=1,this._devicePixelRatioOverride=null,this._maximumPixelRatioOverride=null,this.test={contentCameraResetState:new Map,setDevicePixelRatio:e=>this._devicePixelRatioOverride=e,setMaximumPixelRatio:e=>this._maximumPixelRatioOverride=e}}get camera(){const e=this._get(\"camera\");if(!this.ready)return e;const t=M(this.view,this.view.state.camera);return t&&e&&t.equals(e)?e:t}set camera(e){this._updatePropertyBeforeReady(\"camera\",e)||(this.view.elevationProvider.enableElevationCache(!0),this.setStateCamera(I(this.view,e),{applyConstraints:!1})||q.error(\"#camera=\",\"Invalid camera\",e),this.view.elevationProvider.enableElevationCache(!1))}get contentCamera(){const e=this._get(\"contentCamera\");if(!this.ready)return e;const t=M(this.view,this.view.state.contentCamera);return t&&e&&t.equals(e)?e:t}set contentCamera(e){if(this._updatePropertyBeforeReady(\"contentCamera\",e))return;const t=I(this.view,e);o(t)?this.view.state.contentCamera=null:(this._updateElevation(t),this.view.state.contentCamera=t)}installContentCameraReset(e){if(this.handles.remove(\"contentCameraReset\"),this.test.contentCameraResetState.clear(),!this.view.state.fixedContentCamera)return!1;const t=this.zoom,i=this.view.state.camera.distance**2,r=w(this.view.state.camera.center),a=e.sticky?this.contentCamera.clone():null;return this.handles.add([h((()=>this.contentCamera),(()=>{e.sticky||(this.handles.remove(\"contentCameraReset\"),this.test.contentCameraResetState.clear())})),h((()=>this.zoom),(e=>{this.test.contentCameraResetState.set(\"view.zoom\",Math.abs(e-t)/2),Math.abs(e-t)>2?this.contentCamera=null:this.view.state.fixedContentCamera||(this.contentCamera=a)})),h((()=>this.view.state.camera),(e=>{const t=u(r,e.center);this.test.contentCameraResetState.set(\"camera.center\",t/i),t>i?this.contentCamera=null:this.view.state.fixedContentCamera||(this.contentCamera=a)}))],\"contentCameraReset\"),!0}get center(){return this.ready?this.view.pointsOfInterest.centerOnContent.location:this._get(\"center\")}set center(e){this._updatePropertyBeforeReady(\"center\",e)||(e?this.isCompatible(e)?this.setStateCamera(this._centerToCamera(e),{applyConstraints:!0})?this.view.pointsOfInterest.centerOnContent.runTask():q.error(\"#center=\",\"Invalid center\",e):q.error(\"#center=\",\"Center has an incompatible spatial reference (center: \"+(e.spatialReference?e.spatialReference.wkid:\"none\")+\", view: \"+this.view.spatialReference.wkid+\")\",e):q.error(\"#center=\",\"Center may not be null or undefined\"))}get extent(){if(!this.ready)return this._get(\"extent\");const e=this.view,t=B(e,e.state.camera,e.pointsOfInterest.centerOnContent.renderLocation);return n(t)?t:this._get(\"extent\")}set extent(e){this._updatePropertyBeforeReady(\"extent\",e)||(e?this.isCompatible(e)?this.setStateCamera(this._extentToCamera(e),{applyConstraints:!0})||q.error(\"#extent=\",\"Invalid extent\",e):q.error(\"#extent=\",\"Extent has an incompatible spatial reference (extent: \"+(e.spatialReference?e.spatialReference.wkid:\"none\")+\", view: \"+this.view.spatialReference.wkid+\")\",e):q.error(\"#extent=\",\"Extent may not be null or undefined\"))}get frustum(){const e=this.propertiesPool.get(\"frustum\");return e.renderCoordsHelper=this.view.renderCoordsHelper,e.update(this.view.state.camera),e}get hasInitialView(){return!!this.view.get(\"map.initialViewProperties.viewpoint\")}get scale(){if(this.ready){const e=this.view.pointsOfInterest.centerOnContent;return U(this.view,e.distance,e.location.latitude)}return this._get(\"scale\")}set scale(e){this._updatePropertyBeforeReady(\"scale\",e)||this.setStateCamera(this._scaleToCamera(e),{applyConstraints:!0})||q.error(\"#scale=\",\"Invalid scale\",e)}get padding(){if(!this.ready)return this._get(\"padding\");const e=this.view.state.camera,t=e.padding,i=e.pixelRatio,r=this._get(\"padding\"),a=Math.round(t[L.TOP]/i),s=Math.round(t[L.RIGHT]/i),o=Math.round(t[L.BOTTOM]/i),n=Math.round(t[L.LEFT]/i);return null!=r&&r.top===a&&r.right===s&&r.bottom===o&&r.left===n?r:{top:a,right:s,bottom:o,left:n}}set padding(e){this._updatePropertyBeforeReady(\"padding\",e)||(this._paddingToArray(e,this.view.state.camera.pixelRatio,$),this.view.state.updateCamera((e=>e.padding=$)))}_paddingToArray(e,t,i){e?y(i,e.top||0,e.right||0,e.bottom||0,e.left||0):y(i,0,0,0,0);for(let r=0;r<4;r++)i[r]=Math.round(i[r]*t)}get screenCenter(){const e=this.padding;return m((this.view.width-(e.left+e.right))/2+e.left,(this.view.height-(e.top+e.bottom))/2+e.top)}get viewpoint(){return this.ready?N(this.view,this.camera):this._get(\"viewpoint\")}set viewpoint(e){if(!this._updatePropertyBeforeReady(\"viewpoint\",e))if(e)if(this.isCompatible(e))this.setStateCamera(this._viewpointToCamera(e),{applyConstraints:!e.camera})||q.error(\"#viewpoint=\",\"Invalid viewpoint\",e);else{const t=n(e.camera)?e.camera.position:e.targetGeometry,i=n(t)&&t.spatialReference;q.error(\"#viewpoint=\",\"Viewpoint has an incompatible spatial reference (viewpoint: \"+(i?i.wkid:\"none\")+\", view: \"+this.view.spatialReference.wkid+\")\",e)}else q.error(\"#viewpoint=\",\"Viewpoint may not be null or undefined\")}get zoom(){return this.ready?k(this.view,this.scale):this._get(\"zoom\")}set zoom(e){this._updatePropertyBeforeReady(\"zoom\",e)||this.setStateCamera(this._zoomToCamera(e),{applyConstraints:!0})||q.error(\"#zoom=\",\"Invalid zoom\",e)}get maximumPixelRatio(){if(n(this._maximumPixelRatioOverride))return this._maximumPixelRatioOverride;let e=1/0;const{maximumPixelRatio:t,maximumRenderResolution:i}=this.view.qualitySettings;if(null!=t&&(e=Math.min(e,t)),null!=i){const t=i/Math.max(this.view.width,this.view.height);e=Math.min(e,t)}return e}get _devicePixelRatio(){return o(this._devicePixelRatioOverride)?Math.min(this._windowDevicePixelRatio,this.maximumPixelRatio):this._devicePixelRatioOverride}initialize(){this.handles.add([p((()=>this.view.state.events),\"before-camera-change\",(e=>this._updateElevation(e.camera)))]),h((()=>this.view.state.camera),(e=>this._updateElevation(e)),{once:!0,sync:!0}),this.handles.add(c({prepare:()=>this._prepareFrame()})),this.handles.add(h((()=>this.view.state.cameraController),(()=>{this.cameraSetByUser=!0,this.handles.remove(ee)}))),this.handles.add(p((()=>this.view.state.events),\"camera-projection-changed\",(()=>this.notifyChange(\"scale\"))))}destroy(){this.deinit(),this.handles&&(this.handles.destroy(),this.handles=null),this.propertiesPool&&(this.propertiesPool.destroy(),this.propertiesPool=null)}init(){this.constraintsManager=new T({view:this.view}),this._prepareFrame();const e=this._getInitialProperties();this.cameraSetByUser=!1,this._set(\"ready\",!0);for(const t of e)this.set(t.name,t.value);if(!this.cameraSetByUser){const e=this.view.get(\"map.initialViewProperties.viewpoint\")||this.view.initialExtent;e&&this.isCompatible(e)?this._setInitialView(e):this.view.state.viewingMode===x.Local&&this.handles.add(l((()=>this.view.basemapTerrain.ready),(()=>{this.handles.remove(ee),this._setInitialView(this.view.dataExtent)}),{once:!0,initial:!0}),ee)}}deinit(){this._cancelGoToOperation(),this.ready&&(this._override(\"padding\",this.padding),this._set(\"ready\",!1),this._clearOverride(\"hasInitialView\"),this.cameraSetByUser=!1,this.handles.remove(ee),this.constraintsManager&&(this.constraintsManager.destroy(),this.constraintsManager=null))}async goTo(e,t){const i={animate:!0,...t};return n(this.gotoOperation)&&this.gotoOperation.abort(i.animate),this.gotoOperation=new S(e,i,this.view),this.view.resourceController.scheduler.stopFrame(),this.gotoOperation}debugSetCameraOnContent(){this.setStateCamera(P(this.view),{applyConstraints:!1})}step(e){const t=this.view.state,i=t&&this.view.state.cameraController;i&&(t.updateCamera((t=>{i.stepController(e,t)})),i.steppingFinished&&i.finishController())}_cancelGoToOperation(){n(this.gotoOperation)&&(this.gotoOperation.abort(),this.gotoOperation=null)}_getInitialProperties(){const e=new Set,t=[];for(const{propertyName:i,overrides:r}of Q){const a=e.has(i),s=this._isOverridden(i);!a&&s&&t.push({name:i,value:this._get(i)}),this._clearOverride(i),(a||s)&&r.forEach((t=>e.add(t)))}return t}_setInitialView(e){if(o(e)||this.cameraSetByUser)return;if(e instanceof t)return void this.setStateCamera(I(this.view,e),{applyConstraints:!1});if(e instanceof i){if(e.targetGeometry instanceof f){const t=z(this.view,e.targetGeometry,0,.5,E.LOCKED);return void(n(t)&&this.setStateCamera(I(this.view,t),{applyConstraints:!0}))}const t={applyConstraints:!e.camera},i=this._viewpointToCamera(e);return void this.setStateCamera(i,t)}const r=z(this.view,e,0,.5,E.LOCKED);n(r)&&this.setStateCamera(I(this.view,r),{applyConstraints:!0})}_updatePropertyBeforeReady(e,t){return!this.ready&&(this._override(e,t),t&&K.includes(e)&&this._override(\"hasInitialView\",!0),!0)}isCompatible(e){return!o(e)&&(e instanceof i?e.camera?this.isCompatible(e.camera):this.isCompatible(e.targetGeometry):e instanceof t?this.isCompatible(e.position):e.spatialReference&&_(e.spatialReference,this.view.spatialReference))}_getPreservingHeadingTilt(e=X){return this.cameraSetByUser?(e.heading=this.camera.heading,e.tilt=this.camera.tilt):(e.heading=0,e.tilt=.5),e}_centerPointAtDistanceToCamera(e,t,i=Z){const{heading:r,tilt:a}=this._getPreservingHeadingTilt(),s=V(this.view,r,a,e,t,E.ADJUST);return o(s)?null:(i.copyFrom(this.view.state.camera),i.eye=s.eye,i.center=s.center,i.up=s.up,i)}_centerToCamera(e){const t=this.view.pointsOfInterest.centerOnContent;t.runTask();const i=t.distance;return this._centerPointAtDistanceToCamera(e,i)}_extentToCamera(e){const{heading:t,tilt:i}=this._getPreservingHeadingTilt(),r=z(this.view,e,t,i,E.ADJUST,Y);return n(r)?I(this.view,r):null}_scaleToCamera(e){if(null==e)return null;const t=this.view.pointsOfInterest.centerOnContent;t.runTask();const i=t.renderLocation,r=t.location.latitude,a=A(this.view,e,r);return this._centerPointAtDistanceToCamera(i,a)}_zoomToCamera(e){return this._scaleToCamera(D(this.view,e))}_viewpointToCamera(e){return I(this.view,F(this.view,e))}setStateCamera(e,t){return!(o(e)||!this.view.state.stopActiveCameraController())&&(this.cameraSetByUser=!0,t.doNotCancelGoToOperation||this._cancelGoToOperation(),this.view.state.updateCamera((i=>{t.positionAndOrientationOnly?(i.eye=e.eye,i.center=e.center,i.up=e.up):i.copyFrom(e),t.applyConstraints&&R(this.view,i)})),t.applyConstraints||(this.view.state.cameraController=new j({view:this.view,desiredCamera:e})),!0)}_prepareFrame(){const{surface:e,canvas:t}=this.view;if(!e||!t)return;this._windowDevicePixelRatio=window.devicePixelRatio;const i=this._devicePixelRatio,r=Math.round(e.clientWidth*i),a=Math.round(e.clientHeight*i);if(0!==r&&0!==a&&(t.width===r&&t.height===a||(t.width=r,t.height=a),this.view.state)){const e=this.view.state.camera;e.fullWidth===r&&e.fullHeight===a&&e.pixelRatio===i||(Z.copyFrom(e),Z.pixelRatio!==i&&(this._paddingToArray(this.padding,i,$),Z.padding=$),Z.fullWidth=r,Z.fullHeight=a,Z.pixelRatio=i,this.view.state.camera=Z)}}_updateElevation(e){const t=this.view.basemapTerrain&&this.view.basemapTerrain.spatialReference,i=this.view.renderCoordsHelper.getAltitude(e.eye),r=t?O(this.view,e.eye):0;e.relativeElevation=i-r}};e([d({type:t,dependsOn:[\"view.state.camera\",\"ready\"]})],W.prototype,\"camera\",null),e([d({type:t,dependsOn:[\"view.state.contentCamera\",\"ready\"]})],W.prototype,\"contentCamera\",null),e([d({type:g})],W.prototype,\"center\",null),e([d({type:f})],W.prototype,\"extent\",null),e([d({readOnly:!0})],W.prototype,\"frustum\",null),e([d({readOnly:!0})],W.prototype,\"hasInitialView\",null),e([d({readOnly:!0,type:Boolean})],W.prototype,\"ready\",void 0),e([d({type:Number})],W.prototype,\"scale\",null),e([d()],W.prototype,\"padding\",null),e([d({readOnly:!0})],W.prototype,\"screenCenter\",null),e([d({constructOnly:!0})],W.prototype,\"view\",void 0),e([d({type:i})],W.prototype,\"viewpoint\",null),e([d({type:Number})],W.prototype,\"zoom\",null),e([d()],W.prototype,\"maximumPixelRatio\",null),e([d()],W.prototype,\"_devicePixelRatio\",null),e([d()],W.prototype,\"_windowDevicePixelRatio\",void 0),e([d()],W.prototype,\"_devicePixelRatioOverride\",void 0),e([d()],W.prototype,\"_maximumPixelRatioOverride\",void 0),W=e([v(\"esri.views.3d.state.ViewStateManager\")],W);const J=W,K=[\"camera\",\"viewpoint\",\"extent\",\"scale\",\"center\",\"zoom\"],Q=[{propertyName:\"camera\",overrides:[\"viewpoint\"]},{propertyName:\"viewpoint\",overrides:[\"extent\"]},{propertyName:\"extent\",overrides:[\"center\",\"scale\"]},{propertyName:\"center\",overrides:[]},{propertyName:\"scale\",overrides:[\"zoom\"]},{propertyName:\"zoom\",overrides:[]},{propertyName:\"padding\",overrides:[]}],X={heading:0,tilt:0},Y=new t,Z=new G,$=C(),ee=\"pending-initial-view\";export{J as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as t,unwrapOr as r}from\"../../../../core/maybe.js\";import i from\"../../../../core/PooledArray.js\";import{castRenderScreenPointArray3 as n,createRenderScreenPointArray3 as s}from\"../../../../core/screenUtils.js\";import{a as o,n as a,g as c,l}from\"../../../../chunks/vec3.js\";import{c as h}from\"../../../../chunks/vec3f64.js\";import{create as u,copy as m,NEGATIVE_INFINITY as d,width as p,height as y,expandPointInPlace as g}from\"../../../../geometry/support/aaBoundingRect.js\";import{create as f}from\"../../../../geometry/support/ray.js\";import{sv3d as R}from\"../../../../geometry/support/vectorStacks.js\";import{ViewingMode as v}from\"../../../ViewingMode.js\";import{fromRenderAtEye as x,fromScreen as w}from\"../../support/geometryUtils/ray.js\";import{DEFAULT_TOLERANCE as b,newIntersector as I}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as M,IntersectorType as P}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{isValidIntersectorResult as j,sliceFilterPredicate as E}from\"../../webgl-engine/lib/intersectorUtils.js\";class H{constructor(e,t,r){this.viewingMode=e,this._forEachLayer=t,this.view=r,this.externalIntersectionHandlers=new i,this.tolerance=b,this.tmpRay=f(),this.tmpRegion=u(),this.validateHUDIntersector=I(this.viewingMode),this.validateHUDIntersector.options.hud=!1}intersectScreen(e,t,r){return this.intersectRay(this._getPickRay(e,this.tmpRay),k(this.viewingMode),t,r)}intersectScreenFreePointFallback(e,t,r){return this.intersectRayFreePointFallback(this._getPickRay(e,this.tmpRay),t,r)}intersectRayFreePointFallback(e,t,r){return this.intersectRay(e,k(this.viewingMode),t,r)||this._intersectRayFreePointLocal(e,t)}intersectRay(e,t,r,i){return t.options.selectionMode=!1,t.options.store=M.MIN,this.computeIntersection(e,t,i),!!t.results.min&&t.results.min.getIntersectionPoint(r)}getCenterRayWithSubpixelOffset(e,t,r=.5,i=.5){return e.getRenderCenter(N,r,i),N[0]+=.0466,N[1]-=.0123,x(e,N,t)}intersectIntersectorScreen(e,t,r){this.computeIntersection(this._getPickRay(e,this.tmpRay),t,r)}intersectToolIntersectorScreen(e,t,r){const i=this._getPickRay(e,this.tmpRay);this.intersectToolIntersectorRay(i,t,r)}intersectToolIntersectorRay(e,t,r){t.options.selectionMode=!0,this.computeIntersection(e,t,r);const i=t.results.min;!!this.view.basemapTerrain&&this.view.basemapTerrain.opaque||j(i)&&i.intersector!==P.TERRAIN||(t.options.selectionMode=!1,this.computeIntersection(e,t,r))}setTolerance(e=b){this.tolerance=e}addIntersectionHandler(e){this.externalIntersectionHandlers.push(e),this.externalIntersectionHandlers.sort(((e,t)=>e.type===P.TERRAIN?1:t.type===P.TERRAIN?-1:0))}removeIntersectionHandler(e){null!=this.externalIntersectionHandlers.removeUnordered(e)&&this.externalIntersectionHandlers.sort(((e,t)=>e.type===P.TERRAIN?1:t.type===P.TERRAIN?-1:0))}_getPickRay(e,t){const r=this.view.state.camera;return w(r,e,t)}_intersectRayFreePointLocal(t,r){if(this.viewingMode!==v.Local||e(t))return!1;const i=this.view.renderDataExtent;if(e(i))return o(r,t.origin,a(R.get(),t.direction)),!0;const n={x:i.xmax-i.xmin,y:i.ymax-i.ymin,z:8*Math.max(i.xmax-i.xmin,i.ymax-i.ymin)},s=Math.max(n.x,n.y,n.z);if(0===s)return o(r,t.origin,a(R.get(),t.direction)),!0;const h=this.view.state.camera,u=Math.max(0,i.xmin-h.eye[0],h.eye[0]-i.xmax),m=Math.max(0,i.ymin-h.eye[1],h.eye[1]-i.ymax),d=Math.sqrt(u*u+m*m),p=Math.abs(h.relativeElevation)+Number.MIN_VALUE,y=Math.max(0,Math.log(s/p))**2;let g=s/Math.max(1,y);g=Math.max(g,Math.min(d,s));const f=c(R.get(),t.direction,g/l(t.direction));return o(r,t.origin,f),!0}intersectElevationFromScreen(e,t,r=0,i=null){return this._intersectElevation(this._getPickRay(e,this.tmpRay),t,r,i)}_intersectElevation(i,s,a=0,c=null){if(e(i))return null;const l=t(s)?s.mode:\"absolute-height\",h=t(s)?r(s.offset,0):0,u=\"on-the-ground\"!==l?h+a:0,m=u/this.view.renderCoordsHelper.unitInMeters;if(\"absolute-height\"===l){if(this.view.renderCoordsHelper.intersectInfiniteManifold(i,u,S)){const e=this.view.computeMapPointFromVec3d(S);return e.z-=h,e}return null}const d=this.view.state.camera,p=n(R.get());d.projectToRenderScreen(i.origin,p);const y=new A(null,this._forEachLayer),g=this.view.slicePlane,f=t(g)?E(g):null,v=I(this.viewingMode);v.options.store=M.MIN,v.options.verticalOffset=m;const x=i.origin,w=o(R.get(),x,i.direction);v.reset(x,w,d),v.point=p;const b=t(c)?\"type\"in c&&\"graphics\"===c.type?e=>e.metadata.layerUid!==c.uid:e=>e.metadata.graphicUid!==c.uid:null;switch(l){case\"relative-to-scene\":{const t=t=>(e(b)||b(t))&&t.metadata&&t.metadata.isElevationSource;v.intersect(y.layers,p,this.tolerance,null,t),this.externalIntersectionHandlers.forAll((e=>{if(e.type===P.I3S||e.type===P.TERRAIN){const t=e.slicePlaneEnabled?f:null;e.intersect(v,t,v.rayBegin,v.rayEnd,p)}}))}break;case\"on-the-ground\":case\"relative-to-ground\":this.externalIntersectionHandlers.forAll((e=>{if(e.isGround){const t=e.slicePlaneEnabled?f:null;e.intersect(v,t,v.rayBegin,v.rayEnd,p)}}))}if(v.results.min.getIntersectionPoint(S)){const e=this.view.computeMapPointFromVec3d(S);return e.z=a,e}return null}computeIntersection(i,s,a){if(e(i))return;const c=this.view.state.camera,l=n(R.get());c.projectToRenderScreen(i.origin,l);const h=new A(a,this._forEachLayer);s.options.selectOpaqueTerrainOnly=!a||!(\"include\"in a||\"exclude\"in a);const u=i.origin,m=o(R.get(),i.origin,i.direction);s.reset(u,m,c),s.intersect(h.layers,l,this.tolerance);const d=this.view.slicePlane,p=t(d)?E(d):null;s.intersect(h.sliceableLayers,l,this.tolerance,p);const y=a&&(a.requiresGroundFeedback||a.enableDraped);this.externalIntersectionHandlers.forAll((e=>{if(s.options.isFiltered=!h.filterLayerUid(e.layerUid),e.isGround&&y||!s.options.isFiltered){const t=e.slicePlaneEnabled?p:null;e.intersect(s,t,u,m,l)}}));const g=R.get();if(a&&a.enableDraped&&s.results.ground.getIntersectionPoint(g)){const e=this.view.basemapTerrain,t=e.overlayManager.renderer,i=this.view.renderCoordsHelper.spatialReference,n=R.get();this.view.renderCoordsHelper.fromRenderCoords(g,n,e.spatialReference),n[2]=r(this.view.elevationProvider.getElevation(g[0],g[1],g[2],i,\"ground\"),0),t.intersect(s,n,s.results.ground,(e=>h.filterRenderGeometry(e)))}s.sortResults(),this._processHUDResults(s)}_processHUDResults(r){const i=r.results.hud;m(this.tmpRegion,d);const n=this.view.state.camera,s=[],o=this.tmpRegion,a=e=>{const t=new T(e);n.projectToRenderScreen(e.target.center,t.screenPoint),t.screenPoint[0]=Math.floor(t.screenPoint[0]),t.screenPoint[1]=Math.floor(t.screenPoint[1]),s.push(t),g(o,t.screenPoint)};r.sortResults(i.all),t(i.min.dist)&&a(i.min);for(const e of i.all)i.min.target.object!==e.target.object&&i.max.target.object!==e.target.object&&a(e);if(t(i.max.dist)&&i.max.target.object!==i.min.target.object&&a(i.max),!s.length)return;o[0]===o[2]&&(o[2]+=1),o[1]===o[3]&&(o[3]+=1);const c=n.fullWidth,l=n.fullHeight,h=Math.max(0,o[0]-U),u=Math.max(0,o[1]-U),f=Math.min(p(o)+2*U,c-h),R=Math.min(y(o)+2*U,l-u),v=new Uint8Array(f*R*4);this.view._stage.renderView.readHUDVisibility(h,u,f,R,v);let x=!0;const w=e(r.results.max.dist);let b=0;for(const e of s)for(const t of L){if(v[4*(Math.min(e.screenPoint[0]+t[0],c)-o[0]+(Math.min(e.screenPoint[1]+t[1],l)-o[1])*f)]){x&&(r.results.min.copy(e.result),x=!1),w&&r.results.max.copy(e.result),r.options.store===M.ALL&&r.results.all.splice(b++,0,e.result);break}}}}const U=1,L=(()=>{const e=[],t=U;for(let r=-t;r<=t;r++)for(let i=-t;i<=t;i++)e.push([i+t,r+t]);return e})();class T{constructor(e){this.result=e,this.screenPoint=s()}}let _;function k(e){return _&&_.viewingMode===e||(_=I(e)),_}class A{constructor(e,t){this.layers=new Array,this.sliceableLayers=new Array,this.include=e?.include,this.exclude=e?.exclude,t((e=>{e.isPickable&&this.filterLayerUid(e.apiLayerUid)&&(e.isSliceable?this.sliceableLayers:this.layers).push(e)}))}filterLayerUid(t){const{include:r,exclude:i}=this;return e(t)?null==r&&null==i:(null==r||r.has(t))&&(null==i||!i.has(t))}filterRenderGeometry(e){return this.filterLayerUid(e.layerUid)}}function F(e){return\"object\"==typeof e&&\"intersect\"in e}const S=h(),N=s();export{H as SceneIntersectionHelper,F as isIntersectionHandler};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import s from\"../../../core/Evented.js\";import{destroyMaybe as r,isNone as i,isSome as o}from\"../../../core/maybe.js\";import{createResolver as n,isAbortError as a}from\"../../../core/promiseUtils.js\";import{property as l}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import{ElevationQuery as h}from\"../layers/graphics/ElevationQuery.js\";let u=class extends(s.EventedMixin(t)){constructor(e){super(e),this.im=new Array,this.ground=new Array,this.scene=new Array,this.handles=new Map,this.lastElevationQuery=null,this.elevationCacheEnabled=!1}destroy(){this._elevationQuery=r(this._elevationQuery)}get elevationQuery(){return i(this._elevationQuery)&&(this._elevationQuery=new h(this.view.resourceController.scheduler,this.view.spatialReference,(()=>this.view.map&&this.view.map.ground),{maximumAutoTileRequests:4})),this._elevationQuery}enableElevationCache(e){e||(this.lastElevationQuery=null),this.elevationCacheEnabled=e}getElevation(e,t,s,r,o){if(this.elevationCacheEnabled&&null!=this.lastElevationQuery){const i=this.lastElevationQuery;if(e===i.x&&t===i.y&&s===i.z&&r.equals(i.spatialReference)&&o===i.queryContext)return i.result}let n=null;return n=p(n,this.im,e,t,s,r,o),i(n)&&(n=p(n,this.ground,e,t,s,r,o)),\"scene\"===o&&(n=p(n,this.scene,e,t,s,r,o)),this.elevationCacheEnabled&&(this.lastElevationQuery={x:e,y:t,z:s,spatialReference:r,queryContext:o,result:n}),n}queryElevation(e,t,s,r,i,o=null,l=0){const c=n();return this.elevationQuery.queryElevation(e,t,o,l).then((o=>{\"scene\"===i&&(o=p(o,this.scene,e,t,s,r,i)),c.resolve(o)})).catch((o=>{a(o)?c.reject(o):c.resolve(this.getElevation(e,t,s,r,i))})),c.promise}register(e,t){this.handles.set(t,t.on(\"elevation-change\",(e=>this.emit(\"elevation-change\",e)))),this[e].push(t)}unregister(e){this.handles.has(e)&&(this.handles.get(e).remove(),this.handles.delete(e));for(const t of[this.im,this.ground,this.scene]){const s=t.indexOf(e);s>-1&&t.splice(s,1)}}};function p(e,t,s,r,i,n,a){for(const l of t){const t=l.getElevation(s,r,i,n,a);o(t)&&(e=o(e)?Math.max(t,e):t)}return e}e([l({constructOnly:!0})],u.prototype,\"view\",void 0),e([l({readOnly:!0,aliasOf:\"view.basemapTerrain.spatialReference\"})],u.prototype,\"spatialReference\",void 0),u=e([c(\"esri.views.3d.support.CombinedElevationProvider\")],u);export{u as CombinedElevationProvider};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/has.js\";class a{static isValidProfile(e){return e in a.profiles}static getDefaultProfile(){return e(\"trident\")||e(\"esri-iPhone\")?\"low\":\"medium\"}static apply(e,i){const o=a.profiles[e];i.graphics3D.maxTotalNumberOfFeatures=o.graphics3D.maxTotalNumberOfFeatures,i.graphics3D.maxTotalNumberOfPrimitives=o.graphics3D.maxTotalNumberOfPrimitives,i.graphics3D.polygonLodFactor=o.graphics3D.polygonLodFactor,i.graphics3D.polylineLodFactor=o.graphics3D.polylineLodFactor,i.graphics3D.snapshotAvailable=o.graphics3D.snapshotAvailable;{const e=i.sceneService[\"3dObject\"],a=o.sceneService[\"3dObject\"];e.lodFactor=a.lodFactor,e.lodCrossfadeinDuration=a.lodCrossfadeinDuration,e.lodCrossfadeoutDuration=a.lodCrossfadeoutDuration,e.lodCrossfadeUncoveredDuration=a.lodCrossfadeUncoveredDuration}i.sceneService.point.lodFactor=o.sceneService.point.lodFactor,i.sceneService.integratedMesh.lodFactor=o.sceneService.integratedMesh.lodFactor,i.sceneService.pointCloud.lodFactor=o.sceneService.pointCloud.lodFactor,i.sceneService.uncompressedTextureDownsamplingEnabled=o.sceneService.uncompressedTextureDownsamplingEnabled,i.tiledSurface.lodBias=o.tiledSurface.lodBias,i.tiledSurface.angledSplitBias=o.tiledSurface.angledSplitBias,i.tiledSurface.reduceTileLevelDifferences=o.tiledSurface.reduceTileLevelDifferences,i.tiledSurface.textureFadeDuration=o.tiledSurface.textureFadeDuration,i.heatmap.pixelRatio=o.heatmap.pixelRatio,i.heatmap.maxTotalNumberOfFeatures=o.heatmap.maxTotalNumberOfFeatures,i.antialiasingEnabled=o.antialiasingEnabled,i.physicallyBasedRenderingEnabled=o.physicalBasedRenderingEnabled,i.highQualityTransparency=o.highQualityTransparency,i.memoryLimit=o.memoryLimit,i.additionalCacheMemory=o.additionalCacheMemory,i.frameRate=o.frameRate,i.maximumRenderResolution=o.maximumRenderResolution,i.maximumPixelRatio=o.maximumPixelRatio}}function i(){const a=!!e(\"esri-mobile\"),i=!!e(\"ios\");return{low:{graphics3D:{maxTotalNumberOfFeatures:25e3,maxTotalNumberOfPrimitives:85e4,polygonLodFactor:.5,polylineLodFactor:1,snapshotAvailable:!1},heatmap:{pixelRatio:.125,maxTotalNumberOfFeatures:25e3},sceneService:{\"3dObject\":{lodFactor:.2,lodCrossfadeinDuration:0,lodCrossfadeoutDuration:0,lodCrossfadeUncoveredDuration:0},point:{lodFactor:1},integratedMesh:{lodFactor:.6},pointCloud:{lodFactor:.5},uncompressedTextureDownsamplingEnabled:!0},tiledSurface:{lodBias:-1,angledSplitBias:.5,reduceTileLevelDifferences:!1,textureFadeDuration:0},antialiasingEnabled:!1,physicalBasedRenderingEnabled:!1,highQualityTransparency:!1,memoryLimit:200,additionalCacheMemory:0,frameRate:0,maximumRenderResolution:null,maximumPixelRatio:1},medium:{graphics3D:{maxTotalNumberOfFeatures:5e4,maxTotalNumberOfPrimitives:17e5,polygonLodFactor:a?.8:1,polylineLodFactor:a?1.2:1.5,snapshotAvailable:!i},heatmap:{pixelRatio:.25,maxTotalNumberOfFeatures:5e4},sceneService:{\"3dObject\":{lodFactor:1,lodCrossfadeinDuration:0,lodCrossfadeoutDuration:0,lodCrossfadeUncoveredDuration:400},point:{lodFactor:1},integratedMesh:{lodFactor:1},pointCloud:{lodFactor:1},uncompressedTextureDownsamplingEnabled:a},tiledSurface:{lodBias:0,angledSplitBias:1,reduceTileLevelDifferences:!e(\"disable-feature:reduce-map-tile-levels\"),textureFadeDuration:400},antialiasingEnabled:!0,physicalBasedRenderingEnabled:!0,highQualityTransparency:!0,memoryLimit:a?600:750,additionalCacheMemory:a?0:150,frameRate:0,maximumRenderResolution:null,maximumPixelRatio:1},high:{graphics3D:{maxTotalNumberOfFeatures:5e4,maxTotalNumberOfPrimitives:17e5,polygonLodFactor:a?1.2:2,polylineLodFactor:a?1.2:2,snapshotAvailable:!i},heatmap:{pixelRatio:.5,maxTotalNumberOfFeatures:5e4},sceneService:{\"3dObject\":{lodFactor:1,lodCrossfadeinDuration:0,lodCrossfadeoutDuration:0,lodCrossfadeUncoveredDuration:400},point:{lodFactor:1},integratedMesh:{lodFactor:1},pointCloud:{lodFactor:1},uncompressedTextureDownsamplingEnabled:!1},tiledSurface:{lodBias:0,angledSplitBias:1,reduceTileLevelDifferences:!e(\"disable-feature:reduce-map-tile-levels\"),textureFadeDuration:400},antialiasingEnabled:!0,physicalBasedRenderingEnabled:!0,highQualityTransparency:!0,memoryLimit:a?900:1500,additionalCacheMemory:0,frameRate:0,maximumRenderResolution:a?null:4096,maximumPixelRatio:a?1:null}}}a.debug={reset(){const e=i();for(const i in e)a.profiles[i]=e[i]}},function(e){e.profiles=i()}(a||(a={}));const o=a;export{o as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Color.js\";import r from\"../../../core/Accessor.js\";import{isSome as s}from\"../../../core/maybe.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../../core/accessorSupport/decorators/subclass.js\";import{f as c}from\"../../../chunks/vec4f32.js\";import{f as a}from\"../../../chunks/vec4f64.js\";let e=class extends r{constructor(){super(...arguments),this.color=new t([0,255,255]),this.haloColor=null,this.haloOpacity=1,this.fillOpacity=.25,this.shadowOpacity=.4,this.shadowColor=new t([0,0,0]),this.shadowDifference=.2}static toEngineOptions(o){const r=t.toUnitRGBA(o.color),i=s(o.haloColor)?t.toUnitRGBA(o.haloColor):r,p=t.toUnitRGBA(o.shadowColor);return{color:c(r[0],r[1],r[2],r[3]),haloColor:c(i[0],i[1],i[2],i[3]),haloOpacity:o.haloOpacity,haloOpacityOccluded:.25*o.haloOpacity,fillOpacity:o.fillOpacity,fillOpacityOccluded:.25*o.fillOpacity,shadowOpacity:o.shadowOpacity,shadowColor:a(p[0],p[1],p[2],p[3]),occludedShadowOpacity:o.shadowOpacity*(1-o.shadowDifference)}}};o([i({type:t})],e.prototype,\"color\",void 0),o([i({type:t})],e.prototype,\"haloColor\",void 0),o([i()],e.prototype,\"haloOpacity\",void 0),o([i()],e.prototype,\"fillOpacity\",void 0),o([i()],e.prototype,\"shadowOpacity\",void 0),o([i({type:t})],e.prototype,\"shadowColor\",void 0),o([i()],e.prototype,\"shadowDifference\",void 0),e=o([p(\"esri.views.3d.support.HighlightOptions\")],e);const l=e;export{l as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import e from\"../../../core/Error.js\";import{getMetersPerUnitForSR as r}from\"../../../core/unitUtils.js\";import{getReferenceEllipsoid as t}from\"../../../geometry/projectionEllipsoid.js\";import{getGeometryServiceURL as o}from\"../../../portal/support/geometryServiceUtils.js\";import{project as i}from\"../../../rest/geometryService/project.js\";import s from\"../../../rest/support/ProjectParameters.js\";import m from\"../../../geometry/Point.js\";import p from\"../../../geometry/SpatialReference.js\";class a{constructor(i,s){this.spatialReference=s,this.unitInMeters=r(this.spatialReference,t(this.spatialReference).metersPerDegree),this._geometryServiceURLPromise=o(i&&i.get(\"portalItem\")).catch((()=>{throw new e(\"mapcoordshelper:missing-geometry-service\",\"Must specify geometryService in esri/config\")}))}async toGeographic(e){const r=await this._geometryServiceURLPromise;let t,o=!0;Array.isArray(e[0])&&\"number\"!=typeof e[0]?t=e:(t=[e],o=!1);const a=t.map((e=>e instanceof m?e:new m(e,this.spatialReference))),c=new s({geometries:a,outSpatialReference:p.WGS84}),n=(await i(r,c)).map((e=>\"point\"===e.type?[e.x,e.y]:void 0));return o?n:n[0]}}export{a as MapCoordsHelper};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Accessor.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";let s=class extends e{constructor(){super(...arguments),this.minTotalNumberOfFeatures=2e3,this.maxTotalNumberOfFeatures=5e4,this.maxTotalNumberOfPrimitives=17e5,this.snapshotAvailable=!0,this.polygonLodFactor=1,this.polylineLodFactor=1}};t([o()],s.prototype,\"minTotalNumberOfFeatures\",void 0),t([o()],s.prototype,\"maxTotalNumberOfFeatures\",void 0),t([o()],s.prototype,\"maxTotalNumberOfPrimitives\",void 0),t([o()],s.prototype,\"snapshotAvailable\",void 0),t([o()],s.prototype,\"polygonLodFactor\",void 0),t([o()],s.prototype,\"polylineLodFactor\",void 0),s=t([i(\"esri.views.3d.support.QualitySettings.Graphics3DSettings\")],s);let r=class extends e{constructor(){super(...arguments),this.lodFactor=1}};t([o()],r.prototype,\"lodFactor\",void 0),r=t([i(\"esri.views.3d.support.QualitySettings.LoDFactorSettings\")],r);let p=class extends r{constructor(){super(...arguments),this.lodCrossfadeinDuration=0,this.lodCrossfadeoutDuration=0,this.lodCrossfadeUncoveredDuration=0}};p=t([i(\"esri.views.3d.support.QualitySettings.LoDFactor3DObjectSettings\")],p);let a=class extends e{constructor(){super(...arguments),this[\"3dObject\"]=new p,this.point=new r,this.integratedMesh=new r,this.pointCloud=new r,this.uncompressedTextureDownsamplingEnabled=!1}};t([o({type:p})],a.prototype,\"3dObject\",void 0),t([o({type:r})],a.prototype,\"point\",void 0),t([o({type:r})],a.prototype,\"integratedMesh\",void 0),t([o({type:r})],a.prototype,\"pointCloud\",void 0),t([o()],a.prototype,\"uncompressedTextureDownsamplingEnabled\",void 0),a=t([i(\"esri.views.3d.support.QualitySettings.SceneServiceSettings\")],a);let n=class extends e{constructor(){super(...arguments),this.lodBias=0,this.angledSplitBias=1,this.reduceTileLevelDifferences=!0,this.textureFadeDuration=500}};t([o()],n.prototype,\"lodBias\",void 0),t([o()],n.prototype,\"angledSplitBias\",void 0),t([o()],n.prototype,\"reduceTileLevelDifferences\",void 0),t([o()],n.prototype,\"textureFadeDuration\",void 0),n=t([i(\"esri.views.3d.support.QualitySettings.TiledSurfaceSettings\")],n);let d=class extends e{constructor(){super(...arguments),this.pixelRatio=1,this.maxTotalNumberOfFeatures=5e4}};t([o()],d.prototype,\"pixelRatio\",void 0),t([o()],d.prototype,\"maxTotalNumberOfFeatures\",void 0),d=t([i(\"esri.views.3d.support.QualitySettings.HeatmapSettings\")],d);let l=class extends e{constructor(){super(...arguments),this.graphics3D=new s,this.sceneService=new a,this.tiledSurface=new n,this.heatmap=new d,this.antialiasingEnabled=!0,this.physicallyBasedRenderingEnabled=!1,this.highQualityTransparency=!0}};t([o({type:s})],l.prototype,\"graphics3D\",void 0),t([o({type:a})],l.prototype,\"sceneService\",void 0),t([o({type:n})],l.prototype,\"tiledSurface\",void 0),t([o({type:d})],l.prototype,\"heatmap\",void 0),t([o()],l.prototype,\"antialiasingEnabled\",void 0),t([o()],l.prototype,\"physicallyBasedRenderingEnabled\",void 0),t([o()],l.prototype,\"highQualityTransparency\",void 0),t([o()],l.prototype,\"memoryLimit\",void 0),t([o()],l.prototype,\"additionalCacheMemory\",void 0),t([o()],l.prototype,\"frameRate\",void 0),t([o()],l.prototype,\"maximumRenderResolution\",void 0),t([o()],l.prototype,\"maximumPixelRatio\",void 0),l=t([i(\"esri.views.3d.support.QualitySettings.QualitySettings\")],l);const c=l;export{c as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nfunction e(e){return\"function\"==typeof e.getUsedMemory}export{e as isMemoryManagedLayerView};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Accessor.js\";import i from\"../../../core/Logger.js\";import{isSome as s}from\"../../../core/maybe.js\";import{MemCacheStorage as r,MemCache as a}from\"../../../core/MemCache.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as h}from\"../../../core/accessorSupport/decorators/subclass.js\";import{isMemoryManagedLayerView as m}from\"../layers/support/MemoryManagedLayerView.js\";const y=i.getLogger(\"esri.views.3d.support.MemoryController\");function l(t){return new p({view:t})}const n=1,d=1,u=.75,c=.6,_=1.3;let p=class extends e{constructor(t){super(t),this._quality=1,this._memoryUsed=0,this._updating=!1,this.minQuality=.1,this._stableQuality=0,this._downscaleMemoryUsed=0,this._canFastRecover=!1,this._memoryPredicted=0,this._cacheStorage=new r,this._numQualityChanges=0,this._maxMemory=500,this._additionalCacheMemory=100}destroy(){this._cacheStorage.destroy()}set maxMemory(t){null==t||t<=0||(this._stableQuality=0,this._canFastRecover=!1,this._maxMemory<t&&this._updateQuality(n),this._maxMemory=t)}get maxMemory(){return this._maxMemory}set additionalCacheMemory(t){null!=t&&t>=0&&(this._additionalCacheMemory=t)}get additionalCacheMemory(){return this._additionalCacheMemory}get memoryFactor(){return this._quality}get updating(){return this._updating}get usedMemory(){return this._memoryUsed}newCache(t,e){return new a(t,this._cacheStorage,e)}resetStableQuality(){this._stableQuality=0}disableMemCache(){this.additionalCacheMemory=-4096}update(){if(this._updateMemory(),this._memoryPredicted<=0&&!this._updating)return;let t=this._layersUpdating();if(this._memoryPredicted<c&&this._canFastRecover)this._downscaleMemoryUsed=0,this._stableQuality=0,this._canFastRecover=!1,this._updateQuality(n);else if(t)(this._memoryPredicted>1.1*d||this._memoryUsed>d)&&(this._stableQuality>0?(this._downscaleMemoryUsed=0,this._updateQuality(this._stableQuality)):this._quality>this.minQuality&&this._downscaleMemoryUsed<this._memoryUsed&&(this._updateQuality(this._quality/_),this._downscaleMemoryUsed=this._memoryUsed,this._canFastRecover=!1));else if(this._downscaleMemoryUsed=0,this._memoryUsed>d)this._stableQuality=0,this._canFastRecover=!1,t=this._updateQuality(this._quality/_),this._downscaleMemoryUsed=this._memoryPredicted;else if(this._stableQuality!==this._quality)if(this._memoryUsed<u&&this._quality<n){this._stableQuality=this._quality;const e=.05;t=this._updateQuality(this._quality+e)}else this._quality<1&&(this._canFastRecover=!0);this._updating=t}_updateQuality(t){return(t=Math.min(Math.max(t,this.minQuality),n))!==this._quality&&(this._quality=t,++this._numQualityChanges,!0)}_layersUpdating(){return this.view.allLayerViews.some((t=>!!t.updating))}_updateMemory(){let t=0,e=0;this.view.basemapTerrain&&this.view.basemapTerrain.getUsedMemory&&(t+=this.view.basemapTerrain.getUsedMemory());const i=this.view._stage&&this.view._stage.renderView&&this.view._stage.renderView.edgeView;s(i)&&(t+=i.usedMemory),this.view.allLayerViews&&this.view.allLayerViews.forEach((i=>{if(m(i)){const s=i.ignoresMemoryFactor()?this._quality:1;t+=i.getUsedMemory()*s,e+=i.getUnloadedMemory()*s}}));const r=null==this._warnMemoryUsage||Math.round(10*t)!==Math.round(10*this._warnMemoryUsage),a=1048576*this.maxMemory;if(t>a&&r){this._warnMemoryUsage=t;const i=t=>(t/1048576).toLocaleString(void 0,{maximumFractionDigits:1})+\" MB\",s=Math.round(100*this._quality);y.warn(`Memory Limit exceeded! Limit: ${i(a)} Current: ${i(t)} Projected: ${i(t+e)} Quality: ${s}%`)}this._memoryUsed=t/a,this._memoryPredicted=(t+e)/a;const o=a-t;this._cacheStorage.maxSize=Math.max(0,o+1048576*this.additionalCacheMemory)}get test(){const t=this;return{cacheStorage:this._cacheStorage,resetQualityChanges:()=>{const e=t._numQualityChanges;return t._numQualityChanges=0,e}}}};t([o({constructOnly:!0})],p.prototype,\"view\",void 0),t([o()],p.prototype,\"maxMemory\",null),t([o()],p.prototype,\"additionalCacheMemory\",null),t([o()],p.prototype,\"memoryFactor\",null),t([o()],p.prototype,\"updating\",null),t([o()],p.prototype,\"usedMemory\",null),t([o()],p.prototype,\"_quality\",void 0),t([o()],p.prototype,\"_memoryUsed\",void 0),t([o()],p.prototype,\"_updating\",void 0),t([o()],p.prototype,\"_stableQuality\",void 0),t([o()],p.prototype,\"_maxMemory\",void 0),t([o()],p.prototype,\"_additionalCacheMemory\",void 0),p=t([h(\"esri.views.3d.support.MemoryController\")],p);export{l as newMemoryController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import r from\"../../../core/Handles.js\";import{destroyMaybe as s,removeMaybe as a}from\"../../../core/maybe.js\";import{watch as o,sync as i}from\"../../../core/reactiveUtils.js\";import{addFrameTask as h}from\"../../../core/scheduling.js\";import{secondsFromMilliseconds as l}from\"../../../core/time.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as m}from\"../../../core/accessorSupport/decorators/subclass.js\";import{maxDownloadSlots as d,downloadSlotsPerClient as u}from\"./index.js\";import{newMemoryController as c}from\"./MemoryController.js\";import{StreamDataLoader as _}from\"./StreamDataLoader.js\";import{ImmediateTask as p,State as y,newScheduler as g,TaskPriority as C}from\"../../support/Scheduler.js\";let T=class extends t{constructor(){super(...arguments),this.updating=!1}};function f(e){return new v.ResourceController({view:e})}var v;e([n({readOnly:!0})],T.prototype,\"updating\",void 0),T=e([m(\"esri.views.3d.support.ResourceController\")],T),function(t){let f=class extends T{constructor(){super(...arguments),this._scheduler=null,this._memoryController=null,this._streamDataLoader=null,this._scheduleTask=p,this._cameraChangeTime=0,this._handles=new r,this._frameTask=null,this._state=y.IDLE}initialize(){this._cameraChangeTime=performance.now(),this._scheduler=g(),this._memoryController=c(this.view),this._streamDataLoader=new _,this._streamDataLoader.setup(d,u,this._scheduler),this._handles.add([o((()=>this.view.state?.camera),((e,t)=>this._cameraChangedHandler(e,t)),i),o((()=>this.view.stationary),(()=>this._stationaryChangedHandler()))]),this._frameTask=h({update:e=>this._frame(e)}),this._scheduleTask=this._scheduler.registerTask(C.RESOURCE_CONTROLLER)}destroy(){this._handles=s(this._handles),this._scheduleTask.remove(),this._frameTask=a(this._frameTask),this._streamDataLoader=s(this._streamDataLoader),this._memoryController=s(this._memoryController),this._scheduler=s(this._scheduler)}get updating(){return!!(this._memoryController?.updating||this._streamDataLoader?.updating||this._scheduleTask?.updating)}get scheduler(){return this._scheduler}get memoryController(){return this._memoryController}schedule(e,t,r){return this._scheduleTask.schedule(e,t,r)}createStreamDataRequester(e){const t=this._streamDataLoader;return{request:(r,s,a)=>t.request(r,s,e,a),get busy(){return!t.hasDownloadSlots(e)}}}_frame(e){this.view.suspended||this.view.stateManager&&(this.view.stateManager.step(l(e.deltaTime)),!this._scheduler)||(this._updateState(),this._scheduler.state=this._state,this._scheduler.updateBudget(e)?(this._memoryController.update(),this._scheduler.frame()):this._memoryController.updating&&this._memoryController.update())}_cameraChangedHandler(e,t){e&&t&&e.almostEquals(t)||(this._cameraChangeTime=performance.now(),this._updateState(),this._scheduler.state=this._state)}_stationaryChangedHandler(){this.memoryController.resetStableQuality()}_updateState(){this.view.animation?this._state=y.ANIMATING:this.view.interacting?this._state=y.INTERACTING:(this._state===y.ANIMATING&&(this._cameraChangeTime=0),performance.now()-this._cameraChangeTime<=v?this._state=y.INTERACTING:this._state=y.IDLE)}get test(){return{getQueueStats:e=>this._streamDataLoader.test.loadQueue.getStatsForType(e),state:this._state}}};e([n({constructOnly:!0})],f.prototype,\"view\",void 0),e([n()],f.prototype,\"_scheduler\",void 0),e([n()],f.prototype,\"_memoryController\",void 0),e([n()],f.prototype,\"_streamDataLoader\",void 0),e([n()],f.prototype,\"_scheduleTask\",void 0),e([n({readOnly:!0})],f.prototype,\"updating\",null),f=e([m(\"esri.views.3d.support.ResourceController\")],f),t.ResourceController=f;const v=300}(v||(v={}));export{T as ResourceControllerMain,f as newResourceController};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nfunction n(n){return\"performanceInfo\"in n}export{n as isPerformanceInfoLayerView};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isPerformanceInfoLayerView as e}from\"../layers/support/PerformanceInfoLayerView.js\";import{isSurfaceLayerView as r}from\"../terrain/terrainUtils.js\";class t{constructor(t,s){if(this.layer=null,this.memory=0,this.displayedNumberOfFeatures=0,this.maximumNumberOfFeatures=null,this.totalNumberOfFeatures=null,this.layer=t.layer,this.memory=r(t)?s.basemapTerrain.getUsedMemoryForLayerView(t):t.getUsedMemory(),e(t)){const e=t.performanceInfo;this.displayedNumberOfFeatures=e.displayedNumberOfFeatures,this.maximumNumberOfFeatures=e.maximumNumberOfFeatures,this.totalNumberOfFeatures=e.totalNumberOfFeatures}}}export{t as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{ByteSizeUnit as e}from\"../../../core/byteSizeEstimations.js\";import{isSome as r}from\"../../../core/maybe.js\";import{isMemoryManagedLayerView as o}from\"../layers/support/MemoryManagedLayerView.js\";import t from\"./LayerPerformanceInfo.js\";import{isSurfaceLayerView as s}from\"../terrain/terrainUtils.js\";class a{constructor(a){this.totalMemory=0,this.usedMemory=0,this.quality=1,this.load=0,this.terrainMemory=0,this.edgesMemory=0,this.layerPerformanceInfos=new Array;const m=a.resourceController.memoryController;this.totalMemory=m.maxMemory*e.MEGABYTES,this.usedMemory=Math.round(m.usedMemory*this.totalMemory),this.quality=m.memoryFactor,this.load=a.resourceController.scheduler.load,this.terrainMemory=a.basemapTerrain?a.basemapTerrain.getUsedMemory():0;const i=a._stage&&a._stage.renderView&&a._stage.renderView.edgeView;this.edgesMemory=r(i)?i.usedMemory:0,a.allLayerViews.items.forEach((e=>{(o(e)||s(e))&&this.layerPerformanceInfos.push(new t(e,a))})),this.layerPerformanceInfos.sort(((e,r)=>r.memory-e.memory))}}export{a as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import{throwIfAborted as t,onAbort as r,createAbortError as s}from\"../../../core/promiseUtils.js\";import{isSVG as i}from\"../../../core/urlUtils.js\";import{TextureCollection as o}from\"./TextureCollection.js\";import{PowerOfTwoResizeMode as n}from\"../webgl-engine/lib/basicInterfaces.js\";import{Texture as a}from\"../webgl-engine/lib/Texture.js\";class h extends o{constructor(e,t,r,s){super(t,s),this._streamDataRequester=e,this._parameters=r}async fromUrl(i,o,n){t(n);const a=e(n)&&n.signal,h=this.makeUid(i,o);let l=this._textureRequests.get(h);if(!l){const e=new AbortController,t=this._streamDataRequester.request(i,\"image\",{uid:h,signal:e.signal});l={referenceCount:0,texture:null,textureAsync:null,abortController:e},this._textureRequests.set(h,l),l.textureAsync=t.then((async e=>{const t=this._createTexture(i,e,o);return l.texture=t,l.abortController=null,this._stage.add(t),await this._stage.load(t),{uid:h,texture:t,release:()=>this._release(h)}}),(e=>{throw l.abortController=null,e}))}return l.referenceCount++,new Promise(((e,t)=>{r(a,(()=>{t(s())})),l.textureAsync.then(e,t)})).catch((e=>{throw this._release(h),e}))}_createTexture(e,t,r){const s={...this._parameters,powerOfTwoResizeMode:n.PAD};if(i(e)){if(r||0===t.width&&0===t.height){const e=t.width?t.height/t.width:1;r=r||64,e>1?(t.width=Math.round(r/e),t.height=r):(t.width=r,t.height=Math.round(r*e))}this._stage.renderView&&this._stage.renderView.renderingContext.driverTest.svgAlwaysPremultipliesAlpha&&(s.preMultiplyAlpha=!1)}return s.width=t.width,s.height=t.height,new a(t,s)}}export{h as StreamTextureCollection};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{removeUnordered as e}from\"../../../core/arrayUtils.js\";import t from\"../../../core/Handles.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{watch as i,sync as r}from\"../../../core/reactiveUtils.js\";import{getReferenceEllipsoid as n}from\"../../../geometry/projectionEllipsoid.js\";import{ClientType as c}from\"./index.js\";import{StreamTextureCollection as a}from\"./StreamTextureCollection.js\";import{getSettings as o,getLabelSettings as p}from\"../webgl-engine/lib/screenSizePerspectiveUtils.js\";import{TextureWrapMode as l}from\"../../webgl/enums.js\";class h{constructor(e){this.textures=null,this.streamDataRequester=null,this.graphicsOwners=[],this.screenSizePerspectiveHandles=null,this.cimSymbolRasterizer=null,this.viewState=e.viewState,this.view=e.view,this.pointsOfInterest=e.pointsOfInterest,this.objectResourceCache=e.objectResourceCache,this.streamDataRequester=e.resourceController.createStreamDataRequester(c.SYMBOLOGY),this.textures=new a(this.streamDataRequester,e.view._stage,{preMultiplyAlpha:!0,wrap:{s:l.CLAMP_TO_EDGE,t:l.CLAMP_TO_EDGE}},e.resourceController.scheduler);const t=n(this.view.spatialReference).radius;this.screenSizePerspectiveSettings=o(e.viewingMode,t),this.screenSizePerspectiveSettingsLabels=p(e.viewingMode,t)}destroy(){this.textures.destroy(),this.textures=null,this.streamDataRequester=null}addGraphicsOwner(t){if(!t)return s();this.graphicsOwners.push(t);const r=i((()=>t.layer?.screenSizePerspectiveEnabled),(()=>this._updateScreenSizePerspectiveEnabled()));return this._updateScreenSizePerspectiveEnabled(),s((()=>{r.remove(),e(this.graphicsOwners,t),this._updateScreenSizePerspectiveEnabled()}))}_updateScreenSizePerspectiveEnabled(){const e=this.graphicsOwners.some((e=>!0===e.layer?.screenSizePerspectiveEnabled));if(e&&!this.screenSizePerspectiveHandles){this.screenSizePerspectiveHandles=new t;const e=()=>this._updateScreenSizePerspectiveSettings();this.screenSizePerspectiveHandles.add([i((()=>this.pointsOfInterest.centerOnSurfaceInfrequent.distance),e,r),this.viewState.events.on(\"camera-projection-changed\",e)]),this._updateScreenSizePerspectiveSettings()}else!e&&this.screenSizePerspectiveHandles&&(this.screenSizePerspectiveHandles.destroy(),this.screenSizePerspectiveHandles=null)}_updateScreenSizePerspectiveSettings(){const e=this.pointsOfInterest;S.distance=e.centerOnSurfaceInfrequent.distance,S.fovY=this.viewState.camera.fovY,this.screenSizePerspectiveSettings.update(S),this.screenSizePerspectiveSettingsLabels.update(S),this.view._stage.renderView.requestRender()}get test(){return{screenSizePerspectiveHandles:this.screenSizePerspectiveHandles}}}const S={distance:0,fovY:0};export{h as SharedSymbolResources};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import s from\"../../../Graphic.js\";import\"../../../symbols.js\";import{isNone as o,isSome as i}from\"../../../core/maybe.js\";import e from\"../../../geometry/Polygon.js\";import r from\"../../../symbols/FillSymbol3DLayer.js\";import t from\"../../../symbols/PolygonSymbol3D.js\";import m from\"../../../symbols/PointSymbol3D.js\";import h from\"../../../symbols/IconSymbol3DLayer.js\";import l from\"../../../symbols/TextSymbol3DLayer.js\";import a from\"../../../geometry/Point.js\";class c{constructor(s,o,i=\"\"){this.graphics=s,this._symbol=new m({symbolLayers:[new h({material:{color:o},outline:{color:[255,255,255],size:1},resource:{primitive:\"circle\"}}),new l({text:i,halo:{color:\"white\",size:1/.75},material:{color:o},size:12})]})}show(i,e){if(o(e))return;this.hide();const r=new a({x:i[0],y:i[1],z:i[2],spatialReference:e});this._graphic=new s({geometry:r,symbol:this._symbol}),this.graphics.add(this._graphic)}hide(){i(this._graphic)&&(this.graphics.remove(this._graphic),this._graphic=null)}}class y{constructor(s,o,i=\"\"){this.graphics=s,this._graphics=new Array,this._outline=new t({symbolLayers:[new r({material:{color:[0,0,0,0]},outline:{color:o,size:2}})]}),this._text=new m({symbolLayers:[new l({text:i,halo:{color:\"white\",size:1/.75},material:{color:o},size:12})]})}show(o){this.hide();const i=new a({x:o.xmin,y:o.ymin,z:o.zmax,spatialReference:o.spatialReference});this._graphics.push(new s({geometry:e.fromExtent(o),symbol:this._outline})),this._graphics.push(new s({geometry:i,symbol:this._text})),this.graphics.addMany(this._graphics)}hide(){this.graphics.removeMany(this._graphics),this._graphics.length=0}}export{y as ExtentGraphics,c as PointGraphics};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import o from\"../../../../core/Accessor.js\";import s from\"../../../../core/Handles.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";let c=class extends o{constructor(r){super(r),this.handles=new s}destroy(){this.handles.destroy()}};r([t({constructOnly:!0})],c.prototype,\"renderCoordsHelper\",void 0),r([t({constructOnly:!0})],c.prototype,\"surface\",void 0),r([t({constructOnly:!0})],c.prototype,\"state\",void 0),c=r([e(\"esri.views.3d.support.PointOfInterest\")],c);export{c as PointOfInterest};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{isAbortError as e}from\"../../../../core/promiseUtils.js\";import{on as r}from\"../../../../core/reactiveUtils.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{i as s,k as n,c as a}from\"../../../../chunks/vec3.js\";import{c}from\"../../../../chunks/vec3f64.js\";import d from\"../../../../geometry/Point.js\";import{distanceToScale as l}from\"../cameraUtils.js\";import{PropertiesPool as p}from\"../PropertiesPool.js\";import{PointOfInterest as h}from\"./PointOfInterest.js\";const u=Array;let m=class extends h{constructor(t){super(t),this._dirty=!1,this._propertiesPool=new p({location:d,renderLocation:u},this),this._estimatedSurfaceAltitude=0,this._pendingElevationQueryController=null,this.cameraName=\"camera\",this.renderLocation=c(),this.tmpPoint=new d}initialize(){if(this.scheduler&&this.handles.add(this.scheduler.registerTask(this.task,this)),this.runTask(),this.map){const t=()=>this._setDirty();this.handles.add(r((()=>this.map?.ground?.layers),\"change\",t,{onListenerAdd:t,onListenerRemove:t}))}this._updateRenderLocation()}destroy(){this._cancelPendingRequest(),this._propertiesPool.destroy(),this._propertiesPool=null}get _camera(){return this.state[this.cameraName]}get location(){const t=this._propertiesPool.get(\"location\");return this.renderCoordsHelper.fromRenderCoords(this.renderLocation,t,this.state.spatialReference),t}get scale(){const t=this._camera,e=s(t.eye,this.renderLocation),r={renderCoordsHelper:this.renderCoordsHelper,state:{camera:t}};return l(r,e,0)}get updating(){return this._dirty||null!=this._pendingElevationQueryController}updateRenderLocation(){this._setDirty(),this._updateRenderLocation()}_setDirty(){this._dirty||(this._dirty=!0,this.notifyChange(\"updating\"))}_cancelPendingRequest(){const t=this._pendingElevationQueryController;t&&(this._pendingElevationQueryController=null,t.abort(),this.notifyChange(\"updating\"))}get running(){return!this._pendingElevationQueryController&&this._dirty}runTask(){if(this._cancelPendingRequest(),this._dirty=!1,this.notifyChange(\"updating\"),!this.map||!this.map.ground)return void this._updateSurfaceAltitude(0);this.renderCoordsHelper.fromRenderCoords(this._camera.eye,this.tmpPoint,this.state.spatialReference);let t=new AbortController;this.map.ground.queryElevation(this.tmpPoint,{signal:t.signal,cache:this.cache}).then((t=>this._updateSurfaceAltitude(t.geometry.z))).catch((t=>{e(t)||this._updateSurfaceAltitude(0)})).catch((()=>{})).then((()=>{this._pendingElevationQueryController===t&&(this._pendingElevationQueryController=null,this.notifyChange(\"updating\")),t=null})),this._pendingElevationQueryController=t}_updateSurfaceAltitude(t){this._estimatedSurfaceAltitude!==t&&(this._estimatedSurfaceAltitude=t,this._updateRenderLocation())}_updateRenderLocation(){this.renderCoordsHelper.setAltitude(y,this._estimatedSurfaceAltitude,this._camera.eye),n(this._get(\"renderLocation\"),y)||this._set(\"renderLocation\",a(this._propertiesPool.get(\"renderLocation\"),y))}};t([o({constructOnly:!0})],m.prototype,\"scheduler\",void 0),t([o({constructOnly:!0})],m.prototype,\"cache\",void 0),t([o({constructOnly:!0})],m.prototype,\"task\",void 0),t([o({constructOnly:!0})],m.prototype,\"cameraName\",void 0),t([o({readOnly:!0})],m.prototype,\"location\",null),t([o({constructOnly:!0})],m.prototype,\"map\",void 0),t([o({readOnly:!0})],m.prototype,\"renderLocation\",void 0),t([o({readOnly:!0})],m.prototype,\"scale\",null),t([o({readOnly:!0})],m.prototype,\"updating\",null),m=t([i(\"esri.views.3d.support.CameraOnSurface\")],m);const y=c();export{m as CameraOnSurface};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{clamp as e}from\"../../../../core/mathUtils.js\";import{removeMaybe as r,destroyMaybe as s,isSome as i}from\"../../../../core/maybe.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c,i as n,g as u,a as l,k as p,p as d}from\"../../../../chunks/vec3.js\";import{c as h}from\"../../../../chunks/vec3f64.js\";import f from\"../../../../geometry/Point.js\";import{projectBoundingRect as m}from\"../../../../geometry/projection.js\";import{getReferenceEllipsoid as _}from\"../../../../geometry/projectionEllipsoid.js\";import{create as y}from\"../../../../geometry/support/aaBoundingRect.js\";import S from\"../debugFlags.js\";import{PropertiesPool as g}from\"../PropertiesPool.js\";import{PointOfInterest as A}from\"./PointOfInterest.js\";const j=Array;let k=class extends A{constructor(t){super(t),this._propertiesPool=new g({location:f,renderLocation:j},this),this._currentSurfaceAltitude=0,this._latestSurfaceAltitude=0,this.cameraName=\"camera\",this.distance=0,this.renderLocation=h(),this.updating=!1}initialize(){this._frameWorker=this.scheduler.registerTask(this.task,this),this.runTask()}destroy(){this._frameWorker=r(this._frameWorker),this._propertiesPool=s(this._propertiesPool)}get _camera(){return this.state[this.cameraName]}get location(){const t=this._propertiesPool.get(\"location\");return this.renderCoordsHelper.fromRenderCoords(this.renderLocation,t,this.state.spatialReference),t}updateRenderLocation(){this.updating=!0,this._updateRenderLocation()}get estimatedSurfaceAltitude(){return this._latestSurfaceAltitude}get running(){return this.updating}runTask(){this._latestSurfaceAltitude=this.estimateSurfaceAltitudeAtCenter(),this._updateRenderLocation(),this.updating=!1}_updateRenderLocation(){const t=L;let e=this._calculateSurfaceIntersection(this._currentSurfaceAltitude,t);const r=this._currentSurfaceAltitude!==this._latestSurfaceAltitude;!e&&r&&(e=this._calculateSurfaceIntersection(this._latestSurfaceAltitude,t),e&&(this._currentSurfaceAltitude=this._latestSurfaceAltitude));const s=C;e&&this._latestSurfaceAltitudeChangesDistanceSignificantly(t,s)&&(c(t,s),this._currentSurfaceAltitude=this._latestSurfaceAltitude),e?this.distance=n(this._camera.eye,t):(u(t,this._camera.viewForward,this._get(\"distance\")),l(t,t,this._camera.eye)),p(this._get(\"renderLocation\"),t)||this._set(\"renderLocation\",c(this._propertiesPool.get(\"renderLocation\"),t))}_calculateSurfaceIntersection(t,r){const s=this._camera;if(!this.renderCoordsHelper.intersectManifold(s.ray,t,r))return!1;if(this.state.isGlobal){const e=_(this.renderCoordsHelper.spatialReference).radius,i=e+t,o=d(s.eye),a=o<i*i,c=n(s.eye,r);if(a&&c>e/4){const t=i-Math.sqrt(o);return u(r,s.viewForward,t),l(r,r,s.eye),!0}}else{const t=this.surface.ready?this.surface.extent:null;i(t)&&m(t,this.surface.spatialReference,O,this.renderCoordsHelper.spatialReference)&&(r[0]=e(r[0],O[0],O[2]),r[1]=e(r[1],O[1],O[3]))}return!0}_latestSurfaceAltitudeChangesDistanceSignificantly(t,e){if(this._latestSurfaceAltitude===this._currentSurfaceAltitude||null==t)return!1;if(this._calculateSurfaceIntersection(this._latestSurfaceAltitude,e)){if(S.TESTS_DISABLE_OPTIMIZATIONS)return!0;const r=this._camera.eye,s=n(r,t),i=n(r,e);if(Math.abs(i-s)/s>v)return!0}return!1}};t([o({constructOnly:!0})],k.prototype,\"scheduler\",void 0),t([o({constructOnly:!0})],k.prototype,\"task\",void 0),t([o({constructOnly:!0})],k.prototype,\"cameraName\",void 0),t([o()],k.prototype,\"distance\",void 0),t([o({constructOnly:!0})],k.prototype,\"estimateSurfaceAltitudeAtCenter\",void 0),t([o({readOnly:!0})],k.prototype,\"location\",null),t([o({readOnly:!0})],k.prototype,\"renderLocation\",void 0),t([o()],k.prototype,\"updating\",void 0),k=t([a(\"esri.views.3d.support.CenterOnSurface\")],k);const v=.05,L=h(),C=h(),O=y();export{k as CenterOnSurface};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Evented.js\";import s from\"../../../../core/Handles.js\";class t{constructor(t){this.handles=new s,this.events=new e,this.contentLayerViews=t.contentLayerViews,this.handles.add(this.contentLayerViews.on(\"change\",(e=>this._layerViewsChanged(e)))),this._layerViewsChanged({added:this.contentLayerViews.toArray(),removed:[],moved:[],target:this.contentLayerViews})}destroy(){this.handles&&(this.handles.destroy(),this.handles=null)}_layerViewsChanged(e){e.added.forEach((e=>{\"esri.views.3d.layers.SceneLayerView3D\"===e.declaredClass&&this.handles.add(e.on(\"visible-geometry-changed\",(()=>this._contentChanged())),e.uid)})),e.removed.forEach((e=>this.handles.remove(e.uid)))}_contentChanged(){this.events.emit(\"request-update\",n)}}const n={};export{t as ContentGeometryUpdates};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{clamp as t}from\"../../../../core/mathUtils.js\";import{watch as r}from\"../../../../core/reactiveUtils.js\";import{createRenderScreenPointArray3 as o}from\"../../../../core/screenUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{e as n,z as a,c,h as d,b as p,n as l}from\"../../../../chunks/vec3.js\";import{c as h}from\"../../../../chunks/vec3f64.js\";import u from\"../../../../geometry/Point.js\";import{wrap as m}from\"../../../../geometry/support/ray.js\";import{PropertiesPool as f}from\"../PropertiesPool.js\";import{PointOfInterest as y}from\"./PointOfInterest.js\";import{PaddingSide as g}from\"../../webgl-engine/lib/Camera.js\";import{TaskPriority as _}from\"../../../support/Scheduler.js\";const O=Array;let j=class extends y{constructor(e){super(e),this._propertiesPool=new f({location:u,renderLocation:O},this),this._dirty=!0,this.renderLocation=this._propertiesPool.get(\"renderLocation\")}initialize(){this.handles.add([r((()=>this.centerOnSurface.renderLocation),(()=>this.updateRenderLocation())),r((()=>this.state.contentCamera),(()=>this.updateRenderLocation()))]),this.scheduler&&this.handles.add(this.scheduler.registerTask(_.POINT_OF_INTEREST_FREQUENT,this))}destroy(){this._propertiesPool.destroy(),this._propertiesPool=null}get updating(){return this._dirty||this.centerOnSurface.updating}get location(){const e=this._propertiesPool.get(\"location\");return this.renderCoordsHelper.fromRenderCoords(this.renderLocation,e,this.state.spatialReference),e}get running(){return this._dirty}runTask(){const e=this._get(\"renderLocation\"),r=this.centerOnSurface.renderLocation,o=this.renderCoordsHelper,s=this.state.contentCamera;this._dirty=!1,o.worldUpAtPosition(r,P);const i=Math.max(0,(Math.acos(n(P,s.viewForward))-.5*Math.PI)*(s.aboveGround?1:-1));if(Number.isNaN(i)){if(!e||!a(e,r)){const e=this._propertiesPool.get(\"renderLocation\");c(e,r),this._set(\"renderLocation\",e)}return}const p=1-t(i/(.5*Math.PI),0,1),l=p*p*p;this._calculateScreenHorizontalEdgeOnSurface(L);const h=this._propertiesPool.get(\"renderLocation\");d(h,r,L,l),e&&a(e,h)||this._set(\"renderLocation\",h)}_calculateScreenHorizontalEdgeOnSurface(e){const t=this.state.contentCamera,r=t.getRenderCenter(o());if(r[1]=t.aboveGround?t.padding[g.BOTTOM]:t.fullHeight-t.padding[g.TOP],this.estimateSurfaceIntersectionAtRenderPoint(r,e))return e;const s=this.renderCoordsHelper.getAltitude(this.centerOnSurface.renderLocation);if(t.unprojectFromRenderScreen(r,S)){p(S,S,t.eye);const r=l(S,S);if(this.renderCoordsHelper.intersectManifold(m(t.eye,r),s,e))return e}return this.renderCoordsHelper.setAltitude(e,s,t.eye)}updateRenderLocation(){this._dirty=!0}};e([s()],j.prototype,\"_dirty\",void 0),e([s({constructOnly:!0})],j.prototype,\"scheduler\",void 0),e([s({constructOnly:!0})],j.prototype,\"centerOnSurface\",void 0),e([s({constructOnly:!0})],j.prototype,\"estimateSurfaceIntersectionAtRenderPoint\",void 0),e([s({readOnly:!0})],j.prototype,\"updating\",null),e([s({readOnly:!0})],j.prototype,\"location\",null),e([s({readOnly:!0})],j.prototype,\"renderLocation\",void 0),j=e([i(\"esri.views.3d.support.CenterOnSurface\")],j);const P=h(),S=h(),L=h();export{j as Focus};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import r from\"../../../../core/Handles.js\";import{isNone as o}from\"../../../../core/maybe.js\";import{isAbortError as s}from\"../../../../core/promiseUtils.js\";import{watch as i,on as a}from\"../../../../core/reactiveUtils.js\";import{property as n}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c}from\"../../../../chunks/vec3f64.js\";import p from\"../../../../geometry/Point.js\";import{center as u}from\"../../../../geometry/support/aaBoundingRect.js\";let h=class extends t{constructor(e){super(e),this.location=null,this._updateController=null,this._handles=new r}get renderLocation(){if(!this.location)return null;const e=c();return this.view.renderCoordsHelper.toRenderCoords(this.location,e),e}initialize(){this.view.state.isLocal&&(this._handles.add([i((()=>[this.surfaceView?.spatialReference,this.surfaceView?.extent]),(()=>this._update())),a((()=>this.surface?.layers),\"change\",(()=>this._update()))]),this._update())}destroy(){this._handles.destroy()}_update(){if(this._updateController&&(this._updateController.abort(),this._updateController=null),!this.surfaceView||o(this.surfaceView.extent)||!this.surfaceView.spatialReference)return void this._set(\"location\",null);const e=u(this.surfaceView.extent),t=new p({x:e[0],y:e[1],z:0,spatialReference:this.surfaceView.spatialReference});this.surface&&this.surface.layers.length>0?(this._set(\"location\",null),this._updateController=new AbortController,this.surface.queryElevation(t,{noDataValue:0,signal:this._updateController.signal,cache:this.cache}).then((e=>{this._updateController=null,this._set(\"location\",e.geometry)})).catch((e=>{s(e)||e&&\"elevation-query:invalid-layer\"===e.name||console.error(\"StableSurfaceCenter failed to update: \",e)}))):this._set(\"location\",t)}};e([n({constructOnly:!0})],h.prototype,\"view\",void 0),e([n({constructOnly:!0})],h.prototype,\"cache\",void 0),e([n({readOnly:!0,aliasOf:\"view.map.ground\"})],h.prototype,\"surface\",void 0),e([n({readOnly:!0,aliasOf:\"view.basemapTerrain\"})],h.prototype,\"surfaceView\",void 0),e([n({readOnly:!0})],h.prototype,\"location\",void 0),e([n({readOnly:!0})],h.prototype,\"renderLocation\",null),h=e([l(\"esri.views.3d.terrain.StableSurfaceCenter\")],h);export{h as StableSurfaceCenter};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import r from\"../../../../core/Evented.js\";import s from\"../../../../core/Handles.js\";import{destroyMaybe as o}from\"../../../../core/maybe.js\";import{property as n}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c}from\"../../../../chunks/vec3f64.js\";import{empty as a,expand as p,intersects as d}from\"../../../../geometry/support/aaBoundingRect.js\";import{TaskPriority as h}from\"../../../support/Scheduler.js\";let u=class extends t{constructor(){super(...arguments),this.handles=new s,this._tileGeometryUpdateExtent=a(),this._tileGeometryUpdateSpatialReference=null,this.events=new r,this.updating=!1}initialize(){this.handles.add([this.surface.on(\"elevation-change\",(e=>this._tileGeometryChanged(e))),this.scheduler.registerTask(h.SURFACE_GEOMETRY_UPDATES,this)])}destroy(){this.handles=o(this.handles)}get running(){return this.updating}runTask(){this.updating&&(this._centerIntersectsExtent(this._tileGeometryUpdateExtent,this._tileGeometryUpdateSpatialReference)&&this.events.emit(\"request-update\",l),a(this._tileGeometryUpdateExtent),this._set(\"updating\",!1))}_tileGeometryChanged(e){this._tileGeometryUpdateSpatialReference=e.spatialReference,p(this._tileGeometryUpdateExtent,e.tile.extent,this._tileGeometryUpdateExtent),this._set(\"updating\",!0)}_furthestCenterOnSurface(){let e=this.centerOnSurfaces[0];for(let t=1;t<this.centerOnSurfaces.length;t++){const r=this.centerOnSurfaces[t];r.distance>e.distance&&(e=r)}return e}_centerIntersectsExtent(e,t){const r=this.state.camera.eye,s=f,o=this._furthestCenterOnSurface();return this.renderCoordsHelper.fromRenderCoords(r,m,t),this.renderCoordsHelper.fromRenderCoords(o.renderLocation,y,t),m[0]<y[0]?(s[0]=m[0],s[2]=y[0]):(s[0]=y[0],s[2]=m[0]),m[1]<y[1]?(s[1]=m[1],s[3]=y[1]):(s[1]=y[1],s[3]=m[1]),d(s,e)}};e([n({constructOnly:!0})],u.prototype,\"state\",void 0),e([n({constructOnly:!0})],u.prototype,\"centerOnSurfaces\",void 0),e([n({constructOnly:!0})],u.prototype,\"renderCoordsHelper\",void 0),e([n({constructOnly:!0})],u.prototype,\"scheduler\",void 0),e([n({constructOnly:!0})],u.prototype,\"surface\",void 0),e([n({readOnly:!0})],u.prototype,\"updating\",void 0),u=e([i(\"esri.views.3d.support.SurfaceGeometryUpdates\")],u);const l={},m=c(),y=c(),f=a();export{u as SurfaceGeometryUpdates};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import r from\"../../../../core/Handles.js\";import{unwrap as s,isNone as n}from\"../../../../core/maybe.js\";import{watch as i,sync as o,when as a,on as c,initial as u}from\"../../../../core/reactiveUtils.js\";import{property as h}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as d}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{a as f,k as p,c as m}from\"../../../../chunks/vec3.js\";import{c as _}from\"../../../../chunks/vec3f64.js\";import{create as l}from\"../../../../geometry/support/ray.js\";import C from\"../debugFlags.js\";import{PointGraphics as y}from\"../debugUtils.js\";import{PropertiesPool as O}from\"../PropertiesPool.js\";import{fromRenderAtEye as A}from\"../geometryUtils/ray.js\";import{CameraOnSurface as S}from\"./CameraOnSurface.js\";import{CenterOnSurface as w}from\"./CenterOnSurface.js\";import{ContentGeometryUpdates as g}from\"./ContentGeometryUpdates.js\";import{Focus as I}from\"./Focus.js\";import{StableSurfaceCenter as v}from\"./StableSurfaceCenter.js\";import{SurfaceGeometryUpdates as b}from\"./SurfaceGeometryUpdates.js\";import{newIntersector as T}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as R}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{TERRAIN_ID as P}from\"../../webgl-engine/lib/verticalOffsetUtils.js\";import{TaskPriority as j}from\"../../../support/Scheduler.js\";let E=class extends t{constructor(e){super(e),this._handles=new r,this._tmpRay=l(),this._centerRayDirty=!0,this._surfaceAltitudeAtCenter=0,this._surfaceAltitudeAtCenterDirty=!0,this._contentAltitudeAtCenter=0,this._contentAltitudeAtCenterDirty=!0,this._propertiesPool=new O({renderPointOfView:N},this),this.renderPointOfView=_(),this._pois=new Array,this._debugCenters=new Map}initialize(){const{state:e,basemapTerrain:t,renderCoordsHelper:r,map:n}=this.view;this._surfaceIntersector=T(e.viewingMode),e.isGlobal?this._surfaceIntersector.options.backfacesTerrain=!1:this._surfaceIntersector.options.backfacesTerrain=!0,this._surfaceIntersector.options.invisibleTerrain=!1,this._surfaceIntersector.options.store=R.MIN,this._contentIntersector=T(e.viewingMode);const h=()=>this._estimateSurfaceAltitudeAtCenter(),d=this.view.resourceController.scheduler,f=s(this.view.basemapTerrain?.elevationQueryCache),p={state:e,scheduler:d,surface:t,renderCoordsHelper:r};this._set(\"centerOnSurfaceInfrequent\",new w({...p,task:j.POINT_OF_INTEREST_INFREQUENT,estimateSurfaceAltitudeAtCenter:h})),this._set(\"centerOnSurfaceFrequent\",new w({...p,task:j.POINT_OF_INTEREST_FREQUENT,estimateSurfaceAltitudeAtCenter:h})),this._set(\"contentCenterOnSurface\",new w({...p,task:j.POINT_OF_INTEREST_INFREQUENT,estimateSurfaceAltitudeAtCenter:h,cameraName:\"contentCamera\"})),this._set(\"centerOnContent\",new w({...p,task:j.POINT_OF_INTEREST_FREQUENT,estimateSurfaceAltitudeAtCenter:()=>this._estimateContentAltitudeAtCenter()})),this._set(\"cameraOnSurface\",new S({...p,cache:f,task:j.POINT_OF_INTEREST_INFREQUENT,map:n})),this._set(\"contentCameraOnSurface\",new S({...p,cache:f,task:j.POINT_OF_INTEREST_INFREQUENT,map:n,cameraName:\"contentCamera\"})),this._set(\"surfaceGeometryUpdates\",new b({...p,centerOnSurfaces:[this.centerOnSurfaceFrequent,this.centerOnContent,this.centerOnSurfaceInfrequent]})),this._set(\"contentGeometryUpdates\",new g({contentLayerViews:this.view.allLayerViews,renderCoordsHelper:r})),this._set(\"surfaceOrigin\",new v({cache:f,view:this.view})),this._set(\"focus\",new I({state:e,scheduler:d,surface:t,renderCoordsHelper:r,centerOnSurface:this.contentCenterOnSurface,estimateSurfaceIntersectionAtRenderPoint:(e,t)=>this._estimateSurfaceIntersectionAtRenderPoint(e,this.view.state.contentCamera,t)})),this._pois.push(this.centerOnContent,this.centerOnSurfaceFrequent,this.centerOnSurfaceInfrequent,this.contentCenterOnSurface,this.cameraOnSurface,this.contentCameraOnSurface,this.focus);const m=this.view.graphics;this._debugCenters.set(this.centerOnContent,new y(m,\"red\",\"CenterOnContent\")),this._debugCenters.set(this.centerOnSurfaceFrequent,new y(m,\"red\",\"CenterOnSurface\")),this._debugCenters.set(this.centerOnSurfaceInfrequent,new y(m,\"red\",\"CenterOnSurface\")),this._debugCenters.set(this.contentCenterOnSurface,new y(m,\"red\",\"ContentCenterOnSurface\")),this._debugCenters.set(this.cameraOnSurface,new y(m,\"blue\",\"CameraOnSurface\")),this._debugCenters.set(this.contentCameraOnSurface,new y(m,\"blue\",\"ContentCameraOnSurface\")),this._debugCenters.set(this.focus,new y(m,\"green\",\"Focus\")),this._handles.add([i((()=>e.camera),(e=>this._cameraChanged(e)),o),i((()=>t.extent),(()=>this._updateCenterPointsOfInterest())),a((()=>!t.updating),(()=>this._updateCenterPointsOfInterest()),o),c((()=>this.surfaceGeometryUpdates.events),\"request-update\",(()=>this._updateCenterPointsOfInterest())),c((()=>this.contentGeometryUpdates.events),\"request-update\",(()=>this._updateCenterOnContent())),a((()=>C.SHOW_POI),(e=>this._setDebug(e)),u)]),this._cameraChanged(this.view.state.camera);for(const s of this._pois)s.runTask()}destroy(){this._setDebug(!1),this._handles.destroy(),this._propertiesPool.destroy();for(const e of this._pois)e.destroy();this.surfaceOrigin.destroy()}get updating(){return!(!this.surfaceGeometryUpdates?.updating&&!this._pois.some((e=>e.updating)))}get centerRay(){return this._centerRayDirty&&(this._centerRay=this.view.sceneIntersectionHelper.getCenterRayWithSubpixelOffset(this.view.state.camera,this._tmpRay),this._centerRayDirty=!1),this._centerRay}_estimateContentAltitudeAtCenter(){if(!this._contentAltitudeAtCenterDirty)return this._contentAltitudeAtCenter;this._contentAltitudeAtCenterDirty=!1;const e=this.centerRay;return n(e)||(this.view.sceneIntersectionHelper.intersectRay(e,this._contentIntersector,U,D)?this._contentAltitudeAtCenter=this.view.renderCoordsHelper.getAltitude(U):this._contentAltitudeAtCenter=this._estimateSurfaceAltitudeAtCenter()),this._contentAltitudeAtCenter}_estimateSurfaceAltitudeAtCenter(){if(!this.view.basemapTerrain)return 0;if(!this._surfaceAltitudeAtCenterDirty)return this._surfaceAltitudeAtCenter;this._surfaceAltitudeAtCenterDirty=!1;const e=this.centerRay;if(n(e))return this._surfaceAltitudeAtCenter;const t=e.origin,r=f(U,e.origin,e.direction);return this._surfaceIntersector.resetWithRay(e,this.view.state.camera),this.view.basemapTerrain.intersect(this._surfaceIntersector,null,t,r),this._surfaceIntersector.results.min.getIntersectionPoint(U)&&(this._surfaceAltitudeAtCenter=this.view.renderCoordsHelper.getAltitude(U)),this._surfaceAltitudeAtCenter}_estimateSurfaceIntersectionAtRenderPoint(e,t,r){const s=A(t,e,F);if(n(s))return null;const i=s.origin,o=f(U,s.origin,s.direction);return this._surfaceIntersector.resetWithRay(s,t),this.view.basemapTerrain.intersect(this._surfaceIntersector,null,i,o),this._surfaceIntersector.results.min.getIntersectionPoint(r)?r:null}_cameraChanged(e){this._updateCenterPointsOfInterest();const t=e.eye;p(this.renderPointOfView,t)||this._set(\"renderPointOfView\",m(this._propertiesPool.get(\"renderPointOfView\"),t))}_updateCenterPointsOfInterest(){this._centerRayDirty=!0,this._surfaceAltitudeAtCenterDirty=!0,this._contentAltitudeAtCenterDirty=!0;for(const e of this._pois)e.updateRenderLocation()}_updateCenterOnContent(){this._contentAltitudeAtCenterDirty=!0,this.centerOnContent.updateRenderLocation()}_setDebug(e){if(!e)return this._debugCenters.forEach((e=>e.hide())),void this._handles.remove(\"debug\");for(const t of this._pois)this._handles.add(i((()=>t.renderLocation),(e=>this._debugCenters.get(t).show(e,t.renderCoordsHelper.spatialReference)),u),\"debug\")}get test(){return{update:()=>{this.surfaceGeometryUpdates.runTask();for(const e of this._pois)e.runTask()},surfaceGeometryUpdates:this.surfaceGeometryUpdates}}};e([h({readOnly:!0})],E.prototype,\"centerOnContent\",void 0),e([h({readOnly:!0})],E.prototype,\"centerOnSurfaceFrequent\",void 0),e([h({readOnly:!0})],E.prototype,\"centerOnSurfaceInfrequent\",void 0),e([h({readOnly:!0})],E.prototype,\"contentCenterOnSurface\",void 0),e([h({readOnly:!0})],E.prototype,\"cameraOnSurface\",void 0),e([h({readOnly:!0})],E.prototype,\"contentCameraOnSurface\",void 0),e([h({readOnly:!0})],E.prototype,\"focus\",void 0),e([h({readOnly:!0})],E.prototype,\"renderPointOfView\",void 0),e([h({readOnly:!0})],E.prototype,\"surfaceOrigin\",void 0),e([h({readOnly:!0})],E.prototype,\"contentGeometryUpdates\",void 0),e([h({readOnly:!0})],E.prototype,\"surfaceGeometryUpdates\",void 0),e([h({constructOnly:!0})],E.prototype,\"view\",void 0),e([h({readOnly:!0})],E.prototype,\"updating\",null),E=e([d(\"esri.views.3d.support.PointsOfInterest\")],E);const N=Array,U=_(),F=l(),D={exclude:new Set([P])};export{E as PointsOfInterest};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nclass s{constructor(s=0,a=0){this.min=s,this.max=a,this.level=0,this.hasNoDataValues=!1}copyFrom(s){this.min=s.min,this.max=s.max,this.level=s.level,this.hasNoDataValues=s.hasNoDataValues}}export{s as ElevationBounds};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../../core/mathUtils.js\";import{isNone as a,isSome as o}from\"../../../core/maybe.js\";import{bilerp as s}from\"../support/mathUtils.js\";import{ELEVATION_NODATA_VALUE as i}from\"./TerrainConst.js\";class e{constructor(t,a,o){this.type=\"elevation\",this.samplerData=null,this.level=t[0],this.i=t[1],this.j=t[2],this.extent=a;const s=o.noDataValue,i=o.values;let e=1/0,l=-1/0,h=!0,r=!1;for(let n=0;n<i.length;n++){const t=i[n];t!==s?(e=t<e?t:e,l=t>l?t:l,h=!1):r=!0}h&&(e=0,l=0),l=l>-3e38?l:0,this.samplerData={pixelData:o.values,width:o.width,height:o.height,noDataValue:s,safeWidth:.99999999*(o.width-1),dx:(o.width-1)/(a[2]-a[0]),dy:(o.width-1)/(a[3]-a[1]),x0:a[0],y1:a[3]},this.bounds=[e,l],this.hasNoDataValues=r}release(){this.samplerData=null,this.bounds=null}computeMinMaxValue(t,a,o,e){e.min=1/0,e.max=-1/0,e.hasNoDataValues=!1;const l=t-this.level;if(l<=0)return e;const h=2**l;if(!(Math.floor(a/h)===this.i&&Math.floor(o/h)===this.j))return e;let r=1/0,n=-1/0;const u=this.samplerData.width,f=this.samplerData.pixelData,m=.5*i;let c=(u-1)/h,p=(o-this.j*h)*c,d=(a-this.i*h)*c;if(c<1){const t=Math.floor(p),a=Math.floor(d),o=t+a*u,i=f[o],l=f[o+1],h=f[o+u],r=f[o+u+1];if(i+l+h+r<m){const o=p-t,n=d-a,u=s(i,l,h,r,o,n),f=s(i,l,h,r,o+c,n),m=s(i,l,h,r,o,n+c),x=s(i,l,h,r,o+c,n+c);return e.min=Math.min(u,f,m,x),e.max=Math.max(u,f,m,x),e}p=t,d=a,c=1}else p=Math.floor(p),d=Math.floor(d),c=Math.ceil(c);for(let s=p;s<=p+c;s++)for(let t=d;t<=d+c;t++){const a=f[s+t*u];a<m?(r=Math.min(r,a),n=Math.max(n,a)):e.hasNoDataValues=!0}return e.min=r,e.max=n,e}}function l(o,s,e){if(a(e))return null;for(const a of e){if(!a)continue;const e=a.safeWidth;let l=t(a.dy*(a.y1-s),0,e),h=t(a.dx*(o-a.x0),0,e);const r=Math.floor(l),n=Math.floor(h),u=a.width,f=r*u+n,m=a.pixelData,c=m[f],p=m[f+1],d=f+u,x=m[d],M=m[d+1];if(c+x+p+M<.5*i){l-=r,h-=n;const t=c+(p-c)*h;return t+(x+(M-x)*h-t)*l}}return null}function h(t,a,s){const i=l(t,a,s);return o(i)?i:0}export{e as ElevationData,l as sampleElevation,h as sampleElevationOrZero};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import r from\"../../../core/Handles.js\";import{isSome as s,isNone as n}from\"../../../core/maybe.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{projectWithoutEngine as l}from\"../../../geometry/projection.js\";import{fromExtent as a,empty as c,expand as p,allFinite as u,equals as y}from\"../../../geometry/support/aaBoundingRect.js\";import{isTiledLayer as d}from\"../../../layers/support/layerUtils.js\";import{ViewingMode as f}from\"../../ViewingMode.js\";import{WEBMERCATOR_WORLD_EXTENT as m,GEOGRAPHIC_WORLD_EXTENT as h}from\"./TerrainConst.js\";import{getTiledLayerInfo as E,isProjectableRasterLayer as x}from\"./terrainUtils.js\";let w=class extends t{constructor(e){super(e),this._handles=new r}initialize(){this._handles.add([this.layerViews.on(\"change\",(()=>this.notifyChange(\"stencilEnabledExtents\")))])}destroy(){this._handles.destroy(),this._handles=null}get layerViewsExtent(){return this._computeLayerViewsExtent()}get tiledLayersExtent(){return this._computeTiledLayersExtent()}get stencilEnabledExtents(){return this._computeStencilEnabledExtents()}_computeStencilEnabledExtents(){const e=[];return this.layerViews.forEach((t=>{const r=t.layer;if(\"IntegratedMeshLayer\"===r.operationalLayerType&&null!=this.viewSpatialReference){const t=j(r.fullExtent,this.viewSpatialReference);s(t)&&e.push(a(t))}})),e}};function g(e,t){return e===f.Global?new _(t):new L(t)}e([i({readOnly:!0})],w.prototype,\"layerViewsExtent\",null),e([i({readOnly:!0})],w.prototype,\"tiledLayersExtent\",null),e([i({readOnly:!0})],w.prototype,\"stencilEnabledExtents\",null),e([i()],w.prototype,\"viewSpatialReference\",void 0),e([i()],w.prototype,\"tilingScheme\",void 0),e([i()],w.prototype,\"defaultTiledLayersExtent\",void 0),e([i({constructOnly:!0})],w.prototype,\"layers\",void 0),e([i({constructOnly:!0})],w.prototype,\"layerViews\",void 0),w=e([o(\"esri.views.3d.terrain.ExtentHelper\")],w);let _=class extends w{_computeLayerViewsExtent(){return this._globalExtent}_computeTiledLayersExtent(){return this._globalExtent}get _globalExtent(){return this.viewSpatialReference.isWebMercator?m:h}};_=e([o(\"esri.views.3d.terrain.ExtentHelperGlobal\")],_);let L=class extends w{_computeLayerViewsExtent(){const e=c(),t=this.viewSpatialReference;this.layerViews.forEach((r=>{const s=r.layer;if(r.isResolved()&&(\"graphics\"!==s.type||!s.internal)){const s=j(\"fullExtentInLocalViewSpatialReference\"in r&&r.fullExtentInLocalViewSpatialReference||r.layer.fullExtent,t);p(e,s,e)}}));const r=u(e)?e:null,s=this._get(\"layerViewsExtent\");return y(r,s)?s:r}_computeTiledLayersExtent(){const e=this.tilingScheme;if(!e)return null;const t=this.viewSpatialReference,r=c();this.layers.forEach((i=>{if(i.loaded&&d(i)){const o=E(i,t,f.Local);if(n(o))return;const{tileInfo:l,fullExtent:a}=o;s(l)&&s(a)&&(x(i)||e.compatibleWith(l)&&a.spatialReference.equals(e.spatialReference))&&p(r,a,r)}})),p(r,this.defaultTiledLayersExtent,r);const i=u(r)?r:null,o=this._get(\"tiledLayersExtent\");return y(i,o)?o:i}};function j(e,t){return s(e)&&!e.spatialReference.equals(t)?l(e,e.spatialReference,t):e}L=e([o(\"esri.views.3d.terrain.ExtentHelperLocal\")],L);export{w as ExtentHelper,g as create};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nvar A;!function(A){A[A.ELEVATION=0]=\"ELEVATION\",A[A.MAP=1]=\"MAP\"}(A||(A={}));const E=[A.ELEVATION,A.MAP];export{A as LayerClass,E as LayerClasses};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nfunction e(){const e=globalThis.require?.modules;if(e){const o=Object.keys(e);for(const s of o)-1!==s.search(\".glsl\")&&delete e[s]}}export{e as removeLoadedShaderModules};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{Cyclical as r,cyclicalPI as s}from\"../../../core/Cyclical.js\";import i from\"../../../core/Handles.js\";import a from\"../../../core/has.js\";import{clamp as n,deg2rad as o}from\"../../../core/mathUtils.js\";import{isSome as l,isNone as h,unwrap as c}from\"../../../core/maybe.js\";import{watch as d,sync as u}from\"../../../core/reactiveUtils.js\";import{addFrameTask as p}from\"../../../core/scheduling.js\";import{Milliseconds as _}from\"../../../core/time.js\";import{property as m}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as y}from\"../../../core/accessorSupport/decorators/subclass.js\";import{g}from\"../../../chunks/vec2.js\";import{a as f,b as v,x as R,c as T,i as O}from\"../../../chunks/vec3.js\";import{c as w}from\"../../../chunks/vec3f64.js\";import{t as D,b as x,a as S}from\"../../../chunks/vec4.js\";import{c as E,f as P}from\"../../../chunks/vec4f64.js\";import{projectVectorToVector as U}from\"../../../geometry/projection.js\";import{getReferenceEllipsoid as M}from\"../../../geometry/projectionEllipsoid.js\";import{create as C,width as j,copy as I,center as N,intersection as b,height as A,contains as G,intersects as H,offset as L}from\"../../../geometry/support/aaBoundingRect.js\";import{create as k,wrap as V}from\"../../../geometry/support/ray.js\";import{j as B,k as F,t as q}from\"../../../chunks/sphere.js\";import{angleAroundAxis as W}from\"../../../geometry/support/vector.js\";import{y2lat as z}from\"../../../geometry/support/webMercatorUtils.js\";import{viewAngle as Y}from\"../state/utils/viewUtils.js\";import X from\"../support/debugFlags.js\";import{PointGraphics as K}from\"../support/debugUtils.js\";import{OverlayIndex as Z}from\"./interfaces.js\";import{computeOverlayResolution as J}from\"./Overlay.js\";import{OverlayRenderer as Q}from\"./OverlayRenderer.js\";import{RenderRequestType as $,ValidationState as ee}from\"../webgl-engine/lib/basicInterfaces.js\";import{newIntersector as te}from\"../webgl-engine/lib/Intersector.js\";import{fromValues as re}from\"../webgl-engine/lib/LocalOriginFactory.js\";import{SortedRenderGeometryRenderer as se}from\"../webgl-engine/lib/SortedRenderGeometryRenderer.js\";import{removeLoadedShaderModules as ie}from\"../webgl-engine/parts/requireUtils.js\";import{TaskPriority as ae}from\"../../support/Scheduler.js\";const ne=[[-.1,-2,3.9,2],[-.1,-3.9,3.9,.1],[-2,-3.9,2,.1],[-3.9,-3.9,.1,.1],[-3.9,-2,.1,2],[-3.9,-.1,.1,3.9],[-2,-.1,2,3.9],[-.1,-.1,3.9,3.9]];let oe,le=class extends t{constructor(e){super(e),this._handles=new i,this._spatialReference=null,this._renderSR=null,this._overlaySREqualsRenderSR=!0,this._drapeSources=new Set,this._drapeTargets=new Set,this._placementDirty=!1,this._contentUpdated=!1,this._drawTexturesDirty=!1,this._drawTexturesAnimateDirty=!1,this._hasUnusedRenderTargets=!1,this._longitudeCyclical=null,this._latestOriginId=0,this._maxResolution=a(\"esri-mobile\")?2048:4096,this._animationTimeLast=0}get running(){return this._placementDirty&&(this._drapeSources.size>0||this.view.graphics.length>0||X.OVERLAY_DRAW_DEBUG_TEXTURE)&&!!this._spatialReference&&!this.suspended&&this.surface.ready}get _isSpherical(){return this.view.state.isGlobal}get _worldToPCSRatio(){return l(this._spatialReference)&&this._spatialReference.isGeographic&&!this.view.state.isLocal?M(this._spatialReference).metersPerDegree:1}get view(){return this.surface.view}get updating(){return this.running||this.renderer.updating||this._contentUpdated}get hasHighlights(){return this.renderer.hasHighlights}get rendersOccluded(){return this.renderer.rendersOccluded}initialize(){const e=this.view;this.renderer=new Q({view:e,worldToPCSRatio:this._worldToPCSRatio,spatialReference:this._spatialReference}),this._groundIntersector=te(this.view.state.viewingMode),this._groundIntersector.options.backfacesTerrain=!0,this._groundIntersector.options.invisibleTerrain=!0,this._groundIntersector.options.hud=!1,this._handles.add([this.renderer.events.on(\"has-highlights\",(()=>{this.setDrawTexturesDirty(),this.notifyChange(\"hasHighlights\")})),this.renderer.events.on(\"has-water\",(t=>e._stage?.renderView.setRenderParameters({hasOverlayWater:t}))),this.renderer.events.on(\"renders-occluded\",(()=>{this.setDrawTexturesDirty(),this.notifyChange(\"rendersOccluded\")})),this.renderer.events.on(\"content-changed\",(()=>this.setDrawTexturesDirty())),this.renderer.events.on(\"textures-disposed\",(()=>this.updateOverlayResult())),d((()=>[e.pointsOfInterest?.renderPointOfView,e.pointsOfInterest?.centerOnSurfaceFrequent?.location]),(()=>this.setPlacementDirty())),d((()=>e.state?.pixelRatio),(()=>this.setPlacementDirty()),u),this.surface.on(\"elevation-change\",(()=>this.setPlacementDirty())),e.on(\"resize\",(()=>this.setPlacementDirty())),p({preRender:e=>{this._contentUpdated=!1,this.renderer.processSyncDrapeSources(),this.renderer.hasOverlays&&(this._dispatchAnimationUpdate(e),this._drawOverlayTextures(this.renderer.overlays,$.UPDATE)),this._hasUnusedRenderTargets&&this._collectUnusedRenderTargetMemory()}}),e.resourceController.scheduler.registerTask(ae.OVERLAY,this),e._stage.renderView.events.on(\"force-camera-for-screenshot\",(e=>{this._updateOverlays(e,$.BACKGROUND),this.renderer.hasOverlays&&this._drawOverlayTextures(this.renderer.overlays,$.BACKGROUND,e)}))])}destroy(){this.renderer.dispose(),this._handles&&(this._handles.destroy(),this._handles=null),l(oe)&&(oe.hide(),oe=null)}get hasOverlays(){return this.renderer.hasOverlays}setSpatialReference(e){this._spatialReference=e,this.renderer.spatialReference=e,this._longitudeCyclical=null;const t=this.view.renderSpatialReference;l(e)&&l(t)?(this._renderSR=t,this._overlaySREqualsRenderSR=e.equals(this._renderSR),this._isSpherical&&(this._longitudeCyclical=e.isWebMercator?new r(-20037508.342787,20037508.342787):new r(-180,180),this.renderer.longitudeCyclical=this._longitudeCyclical),this.renderer&&(this.renderer.worldToPCSRatio=this._worldToPCSRatio)):this.renderer.disposeOverlays()}get gpuMemoryUsage(){return this.renderer.gpuMemoryUsage}registerDrapeSource(e,t,r){this._drapeSources.add(e),this.renderer.ensureOverlays(this._drapeTargets,this._drapeSources);const s=this.renderer.createDrapeSourceRenderer(e,t,r);return this._updateDrapeSourceExtent(e),this._setContentDirty(),this.notifyChange(\"running\"),s}registerGeometryDrapeSource(e){return this.registerDrapeSource(e,se)}_updateDrapeSourceExtent(e){2===this.renderer.overlays.length&&l(e.setDrapingExtent)&&l(this._spatialReference)&&e.setDrapingExtent(this.renderer.overlays,this._spatialReference)}unregisterDrapeSource(e){this._drapeSources.has(e)&&(this._drapeSources.delete(e),this.renderer.removeDrapeSourceRenderer(e),this.renderer.ensureDrapeSources(this._drapeSources),this._setContentDirty(),this.notifyChange(\"running\"))}registerDrapeTarget(e){this._drapeTargets.add(e),this.renderer.ensureOverlays(this._drapeTargets,this._drapeSources)}updateOverlayResult(){this.view._stage?.renderView.setRenderParameters({overlays:this.renderer.overlays})}unregisterDrapeTarget(e){this._drapeTargets.delete(e),this.renderer.ensureDrapeTargets(this._drapeTargets)}_setContentDirty(){this.setPlacementDirty(),this.setDrawTexturesDirty()}setPlacementDirty(){this._placementDirty=!0}runTask(){this._updateOverlays(this.view.state.camera,$.UPDATE)}_updateOverlays(e,t){if(!this._spatialReference)return;const r=J(e.fullWidth,e.fullHeight,this._maxResolution);this._computeOverlayExtents(e,r,ue);const s=j(ue.inner)/j(ue.outer);this.renderer.ensureOverlays(this._drapeTargets,this._drapeSources);const i=this._updateOverlay(Z.INNER,ue.inner,r,1*ue.pixelRatioAdjustment,ue.mapUnitsPerPixel),a=this._updateOverlay(Z.OUTER,ue.outer,r,s*ue.pixelRatioAdjustment,ue.mapUnitsPerPixel);i!==ye.EXTENT&&a!==ye.EXTENT||(this._drapeSources.forEach((e=>this._updateDrapeSourceExtent(e))),this.surface.updateTileOverlayParams(t)),i===ye.NONE&&a===ye.NONE||this.setDrawTexturesDirty(),this._placementDirty=!1}_updateOverlay(e,t,r,s,i){if(0===this.renderer.overlays.length)return ye.NONE;const a=this.renderer.overlays[e],n=a.mapUnitsPerPixel;if(a.mapUnitsPerPixel=i,a.pixelRatio=s,he(t,a.extent)&&r===a.resolution)return n===i?ye.NONE:ye.RERENDER_ONLY;I(a.extent,t),a.resolution=r;const o=N(a.extent);return a.renderLocalOrigin=re(o[0],o[1],0,\"OV_\"+this._latestOriginId++),ye.EXTENT}setTileParameters(e){const t=e.renderData.overlay;if(this.renderer.overlays.length>0){const r=this.renderer.overlays[Z.INNER],s=this.renderer.overlays[Z.OUTER],i=b(e.extent,this.surface.extent,pe);this._rectInsideRect(r.extent,i)||this._rectanglesOverlap(i,r.extent)||this._rectanglesOverlap(i,s.extent)?(this._setTileOverlayData(i,Z.INNER,t),this._setTileOverlayData(i,Z.OUTER,t)):(this._clearTileOverlayData(Z.INNER,t),this._clearTileOverlayData(Z.OUTER,t))}else this._clearTileOverlayData(Z.INNER,t),this._clearTileOverlayData(Z.OUTER,t)}overlayPixelSizeInMapUnits(e){if(0===this.renderer.overlays.length)return 0;const t=this.renderer.overlays[Z.INNER],r=this.renderer.overlays[Z.OUTER],s=this._pointIsInExtent(e,t.extent)?t:r;return(s.extent[2]-s.extent[0])/s.resolution}_setTileOverlayData(e,t,r){if(0===this.renderer.overlays.length)return;const s=this.renderer.overlays[t].extent,i=j(s),a=A(s);let n=e[0];if(this._longitudeCyclical){n=this._longitudeCyclical.minimalMonotonic(s[0],n);const t=this._longitudeCyclical.minimalMonotonic(s[0],e[2]);n>t&&(n=t-(e[2]-e[0]))}r.setScale(t,j(e)/i,A(e)/a),r.setOffset(t,(n-s[0])/i,(e[1]-s[1])/a)}_clearTileOverlayData(e,t){t.setScale(e,-1,-1),t.setOffset(e,-1,-1)}async reloadShaders(){ie(),await this.renderer.reloadShaders(),this.setDrawTexturesDirty(),this.runTask()}_dispatchAnimationUpdate(e){const t=_(e.time-this._animationTimeLast);(t>=this.surface.view._stage.renderView.animationTimestep||l(this.forcedAnimationTime)||this._drawTexturesDirty||this._drawTexturesAnimateDirty)&&(this.renderer.updateAnimation({dt:t,forcedTime:this.forcedAnimationTime,camera:this.view.state.camera})&&(this._drawTexturesAnimateDirty=!0),this._animationTimeLast=e.time)}setDrawTexturesDirty(){this.renderer.hasOverlays?(this._contentUpdated=!0,this._drawTexturesDirty=!0):this.setPlacementDirty()}_intersectGroundFromView(e,t,r,s){const i=this.view.sceneIntersectionHelper.getCenterRayWithSubpixelOffset(e,me,t,r);if(h(i))return!1;const a=i.origin,n=f(de,i.origin,i.direction);return this._groundIntersector.reset(a,n,e),this._groundIntersector.intersect([],null),this.view.basemapTerrain.intersect(this._groundIntersector,null,a,n),this._groundIntersector.results.min.getIntersectionPoint(s)}_findHorizonBasedPointOfInterest(e,t){let r=.5;const i=.55,a=this.view.renderCoordsHelper.getAltitude(e.eye),o=this.view.pointsOfInterest.centerOnSurfaceFrequent,l=1e-5,h=n(o.estimatedSurfaceAltitude,e.aboveGround?-1/0:a+l,e.aboveGround?a-l:1/0),c=e.aboveGround;if(\"global\"===this.view.viewingMode){const t=de;B(F(q,M(this.view.spatialReference).radius+h),V(e.eye,e.viewForward),t),v(t,t,e.eye);const a=s.normalize(W(e.viewForward,t,e.viewRight))/e.fovY+.5,n=a<=0||a>=1?.5:i;r=c?n*a:a+n*(1-a)}else{const t=.5*Math.PI-Math.acos(-e.viewForward[2]),s=Math.tan(t),a=P(0,s,1,0),o=D(a,a,e.projectionMatrix)[1],l=n(.5+.5*o,0,1);r=1===l||0===l?.5:c?l*i:1-(1-l)*i}return!!this._intersectGroundFromView(e,.5,r,t)&&R(t,e.eye)<o.distance*o.distance}_computeOverlayExtents(e,t,r){const s=this.view.pointsOfInterest.centerOnSurfaceFrequent.renderLocation,i=w();this._findHorizonBasedPointOfInterest(e,i)||T(i,s);const a=Math.max(.1,O(e.eye,i)),n=Y(this.view.renderCoordsHelper,s,e.eye),d=Math.PI/2-Math.abs(n-Math.PI/2);X.OVERLAY_SHOW_CENTER?(h(oe)&&(oe=new K(this.view.graphics,\"red\")),oe.show(i,this._renderSR)):l(oe)&&oe.hide(),this._overlaySREqualsRenderSR||U(i,this._renderSR,i,this._spatialReference);const u=this.surface.extent,p=!this._isSpherical&&l(this._spatialReference)&&this._spatialReference.isGeographic,_=p&&l(this._spatialReference)?1/M(this._spatialReference).metersPerDegree:1,m=e.perRenderPixelRatio*a*_;r.mapUnitsPerPixel=m/this._worldToPCSRatio;let y=t*m/2,f=!1,v=p?90:1/0;this._isSpherical&&l(u)&&l(this._spatialReference)&&(this._spatialReference.isWebMercator?(y/=Math.cos(z(i[1])),v=u[3]):(f=!0,y/=M(this._spatialReference).metersPerDegree,v=90),y>=v&&(y=v,i[1]=0,this._spatialReference.isWebMercator&&(i[0]=0)));let R=1;f&&(R=1/Math.max(.2,Math.cos(Math.abs(o(i[1])))),y*R>180&&(R=180/y),r.mapUnitsPerPixel*=R);const D=Math.log(2)/12;y=Math.exp(Math.round(Math.log(y)/D)*D);const E=y*R,P=32,C=.5*t/(P*E),N=.5*t/(P*y);i[0]=Math.round(i[0]*C)/C,i[1]=Math.round(i[1]*N)/N;const A=r.inner;A[0]=i[0]-E,A[1]=i[1]-y,A[2]=i[0]+E,A[3]=i[1]+y,this._isSpherical&&this._shiftExtentToFitBounds(A,1/0,v);const H=r.outer;if(6*E>j(u))I(H,c(u));else if(d<=.25*Math.PI)H[0]=A[0]-E,H[1]=A[1]-y,H[2]=A[2]+E,H[3]=A[3]+y;else{U(e.eye,this._renderSR,de,this._spatialReference),g(ce,i,de);let t=-Math.atan2(ce[1],ce[0])+.125*Math.PI;t<0&&(t+=2*Math.PI);const r=Math.floor(t/(.25*Math.PI));x(ce,ne[r],2*y),ce[0]*=R,ce[2]*=R,S(H,A,ce)}if(this._isSpherical)H[0]=this._longitudeCyclical.clamp(H[0]),H[2]=this._longitudeCyclical.clamp(H[2]),H[1]=Math.max(H[1],-v),H[3]=Math.min(H[3],v);else{const e=b(A,u,pe),t=b(H,u,_e);G(e,t)&&(H[2]=H[0],H[3]=H[1])}const L=Math.abs(A[2]-A[0])/t;r.mapUnitsPerPixel=Math.max(r.mapUnitsPerPixel,L),r.pixelRatioAdjustment=r.mapUnitsPerPixel/L}_drawOverlayTextures(e,t,r=this.view.state.camera){if(0===e.length||!this._drawTexturesDirty&&!this._drawTexturesAnimateDirty)return;const s=this._drawTexturesDirty;this._drawTexturesDirty=!1,this._drawTexturesAnimateDirty=!1;const i=this._drawOverlay(e[Z.INNER],r),a=this._drawOverlay(e[Z.OUTER],r);i!==ee.CHANGED&&a!==ee.CHANGED||this.surface.updateTileOverlayParams($.UPDATE),this._collectUnusedRenderTargetMemory(),this.updateOverlayResult(),s?(this.surface.requestRender(t),t===$.UPDATE&&this.surface.requestUpdate()):this.surface.requestRender($.BACKGROUND)}_drawOverlay(e,t){return this._longitudeCyclical?e.setupGeometryViewsCyclical(this._longitudeCyclical):e.setupGeometryViewsDirect(),e.draw(this.renderer,t.pixelRatio)}_collectUnusedRenderTargetMemory(){if(this._hasUnusedRenderTargets=!1,this.renderer.hasOverlays){const e=performance.now();this._hasUnusedRenderTargets=this.renderer.collectUnusedRenderTargetMemory(e)}}_rectanglesOverlap(e,t){return!h(e)&&(this._longitudeCyclical?(this._longitudeCyclical.contains(t[0],t[2],e[0])||this._longitudeCyclical.contains(t[0],t[2],e[2])||this._longitudeCyclical.contains(e[0],e[2],t[0]))&&!(e[1]>t[3]||e[3]<t[1]):H(e,t))}_rectInsideRect(e,t){return!h(t)&&(this._longitudeCyclical?this._longitudeCyclical.contains(e[0],e[2],t[0])&&this._longitudeCyclical.contains(e[0],e[2],t[2])&&t[1]>e[1]&&t[3]<e[3]:G(e,t))}_pointIsInExtent(e,t){if(this._longitudeCyclical)return this._longitudeCyclical.contains(t[0],t[2],e.x)&&e.y>=t[1]&&e.y<=t[3];const r=e.x,s=e.y;return r>t[0]&&r<t[2]&&s>t[1]&&s<t[3]}_shiftExtentToFitBounds(e,t,r){let s=0,i=0;e[0]<-t?s=e[0]+t:e[2]>t&&(s=t-e[2]),e[1]<-r?i=e[1]+r:e[3]>r&&(i=r-e[3]),L(e,s,i)}get test(){return{renderer:this.renderer,update:()=>this.runTask()}}};function he(e,t){const r=1e-5,s=X.TESTS_DISABLE_OPTIMIZATIONS?0:r*Math.max(e[2]-e[0],e[3]-e[1],t[2]-t[0],t[3]-t[1]);return Math.abs(t[0]-e[0])<=s&&Math.abs(t[1]-e[1])<=s&&Math.abs(t[2]-e[2])<=s&&Math.abs(t[3]-e[3])<=s}e([m()],le.prototype,\"_spatialReference\",void 0),e([m({readOnly:!0})],le.prototype,\"running\",null),e([m()],le.prototype,\"_placementDirty\",void 0),e([m()],le.prototype,\"_contentUpdated\",void 0),e([m()],le.prototype,\"_isSpherical\",null),e([m()],le.prototype,\"_worldToPCSRatio\",null),e([m()],le.prototype,\"renderer\",void 0),e([m({constructOnly:!0})],le.prototype,\"surface\",void 0),e([m({readOnly:!0,aliasOf:\"surface.suspended\"})],le.prototype,\"suspended\",void 0),e([m({readOnly:!0})],le.prototype,\"updating\",null),e([m({type:Boolean})],le.prototype,\"hasHighlights\",null),e([m({type:Boolean})],le.prototype,\"rendersOccluded\",null),le=e([y(\"esri.views.3d.terrain.OverlayManager\")],le);const ce=E(),de=w(),ue={inner:C(),outer:C(),mapUnitsPerPixel:0,pixelRatioAdjustment:1},pe=C(),_e=C(),me=k();var ye;!function(e){e[e.NONE=0]=\"NONE\",e[e.EXTENT=1]=\"EXTENT\",e[e.RERENDER_ONLY=2]=\"RERENDER_ONLY\"}(ye||(ye={}));export{le as OverlayManager};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/PooledArray.js\";class t{constructor(e,t){this._factoryCallback=e,this._lengthCallback=t,this._pool=new Map}acquire(e){if(!t.test.disabled){const t=this._pool.get(e);if(t&&0!==t.length)return t.pop()}try{return this._factoryCallback(e)}catch(o){const t=window.performance&&window.performance.memory;let i=\"\";throw t&&(i=`\\n  totalJSHeapSize: ${t.totalJSHeapSize}, usedJSHeapSize: ${t.usedJSHeapSize}, jsHeapSizeLimit: ${t.jsHeapSizeLimit}`),console.log(\"Array allocation of size \"+e+\" failed: \"+o+i),o}}release(o){if(t.test.disabled)return;const i=this._lengthCallback(o);let s=this._pool.get(i);s||(s=new e({shrink:!0}),this._pool.set(i,s)),s.push(o)}clear(){this._pool.clear()}get test(){return{size:this._pool.size}}}t.test={disabled:!1};export{t as BufferPool};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{c as t}from\"../../../chunks/vec4f64.js\";import{empty as e}from\"../../../geometry/support/aaBoundingBox.js\";import{BufferPool as s}from\"../../../geometry/support/buffer/BufferPool.js\";import{newLayout as i}from\"../support/buffer/InterleavedLayout.js\";import{GEOMETRY_VERTEX_STRIDE as r}from\"./TerrainConst.js\";import{internalAssert as f}from\"./terrainUtils.js\";import{VertexAttribute as u}from\"../webgl-engine/lib/VertexAttribute.js\";class h{constructor(){this.indices=null,this.vertexAttributes=null,this.boundingBox=e(),this.indexCount=0,this.numVerticesPerSide=0,this.uvOffsetAndScale=t(),this.outerEdges=[null,null,null,null],this.innerEdges=[null,null,null,null]}}class n{constructor(t,e,s,i,r){this._buf=t,this._localOrigin=e,this.offset0=s,this.stride=i,this.count=r}getVertexOffset(t){return f(0<=t&&t<this.count),this.offset0+this.stride*t}getVertex(t,e){const s=this.getVertexOffset(e)*r;t[0]=this._buf[s+0]+this._localOrigin[0],t[1]=this._buf[s+1]+this._localOrigin[1],t[2]=this._buf[s+2]+this._localOrigin[2]}getVertexZ(t){const e=this.getVertexOffset(t)*r;return this._buf[e+2]+this._localOrigin[2]}setVertex(t,e,s,i){const f=this.getVertexOffset(t)*r;this._buf[f+0]=e[0]-this._localOrigin[0],this._buf[f+1]=e[1]-this._localOrigin[1],this._buf[f+2]=e[2]-this._localOrigin[2],this._buf[f+3]=s,this._buf[f+4]=i}getNormal(t,e){const s=this.getVertexOffset(e)*r;t[0]=this._buf[s+5],t[1]=this._buf[s+6],t[2]=this._buf[s+7]}setVertexRawXYZUV(t,e,s,i,f,u){const h=this.getVertexOffset(t)*r;this._buf[h+0]=e,this._buf[h+1]=s,this._buf[h+2]=i,this._buf[h+3]=f,this._buf[h+4]=u}setVertexRawXYZUVN(t,e,s,i,f,u,h,n,o){const l=this.getVertexOffset(t)*r;this._buf[l+0]=e,this._buf[l+1]=s,this._buf[l+2]=i,this._buf[l+3]=f,this._buf[l+4]=u,this._buf[l+5]=h,this._buf[l+6]=n,this._buf[l+7]=o}setVertexRawNormal(t,e,s,i){const f=this.getVertexOffset(t)*r;this._buf[f+5]=e,this._buf[f+6]=s,this._buf[f+7]=i}getVertexRawNormal(t,e){const s=this.getVertexOffset(e)*r;t[0]=this._buf[s+5],t[1]=this._buf[s+6],t[2]=this._buf[s+7]}}const o=i().vec3f(u.POSITION).vec2f(u.UV0).vec3f(u.NORMAL),l=new s((t=>o.createBuffer(t)),(t=>t.count));function c(){l.clear()}function b(t){return l.acquire(t)}function _(t){l.release(t.vertexAttributes),t.vertexAttributes=null,t.indices=null}export{n as EdgeDescriptor,h as PatchGeometry,b as acquireTerrainAttributes,c as clearCaches,_ as releaseGeometry};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{MAX_PATCH_TESSELATION as s}from\"./TerrainConst.js\";class o{constructor(){this.sinLonLUT=new Array(s+1),this.cosLonLUT=new Array(s+1)}update(s,o){const t=o[0],n=o[2];for(let r=0;r<=s;r++){const o=r/s,i=t*(1-o)+n*o;this.sinLonLUT[r]=Math.sin(i),this.cosLonLUT[r]=Math.cos(i)}}}export{o as PatchGeometryLUT};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nclass s{}class e{constructor(){this.elevation=0,this.normal=[0,0,1],this.cornerTiles=[null,null,null,null]}}class l{constructor(){this.edgeNeighbours=[null,null,null,null],this.cornerNeighborData=[new e,new e,new e,new e],this.edgeResolutions=[1,1,1,1],this.modifiedEdgeResolutions=[!1,!1,!1,!1]}}class i{constructor(){this.numVerticesPerSide=0,this.samplerData=null,this.clippingArea=null,this.wireframe=!1,this.samplerDataVersion=0,this.neighborData=new l}}export{e as CornerNeighborData,s as EdgeNeighborData,i as GeometryState,l as NeighborhoodData};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{destroyMaybe as t,isNone as e,isSome as i}from\"../../../core/maybe.js\";import{TextureUpdate as r}from\"./interfaces.js\";class n{constructor(t){this._getFadeDuration=t,this._fadeStart=0,this._delayedTime=0}clear(){this._current=t(this._current),this._next=t(this._next),this._waiting=t(this._waiting),this._delayed=t(this._delayed)}get current(){if(e(this._current))return null;if(!this._isFadingEnabled){const t=this._delayed||this._waiting||this._next||this._current;t!==this._current&&(this._current=null,this.clear(),this._current=t)}let a=n.test.fadeMoment;if(i(this._delayed)&&(a=a||performance.now(),a>=this._delayedTime&&(this._push(this._delayed,s.Immediate),this._delayed=null)),i(this._next)){a=a||performance.now();const e=this._fadeDuration,n=i(this._current)&&this._next.texture===this._current.texture,s=this._next.type!==r.FADING,h=a-this._fadeStart>=e;(n||s||h)&&(t(this._current),this._current=this._next,this._next=this._waiting,this._waiting=null,this._fadeStart=this._alignFadeStart(a))}return this._current}get next(){return this._next}get fadeFactor(){if(e(this._next))return 1;const t=n.test.fadeMoment||performance.now(),i=Math.max(0,t-this._fadeStart),r=this._fadeDuration;return i>r?0:1-i/r}get isFading(){return i(this._next)||i(this._delayed)}push(e,i=s.Immediate){this._delayed=t(this._delayed),this._push(e,i)}_push(i,r){if(this._isFadingEnabled||this.clear(),e(this._current))return void(this._current=i);const a=n.test.fadeMoment||performance.now();return r!==s.Immediate?(this._delayed=i,void(this._delayedTime=a+r)):e(this._next)?(this._next=i,void(this._fadeStart=this._alignFadeStart(a))):void(e(i)||(t(this._waiting),this._waiting=i))}get _fadeDuration(){return e(this._waiting)?this._getFadeDuration():.5*this._getFadeDuration()}_alignFadeStart(t){const e=this._getFadeDuration();return t+e-t%e}get _isFadingEnabled(){return this._getFadeDuration()>0}}var s;n.test={fadeMoment:0},function(t){t[t.Immediate=0]=\"Immediate\",t[t.Delayed=5e3]=\"Delayed\"}(s||(s={}));export{s as ActivationTime,n as TextureFader};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as e,get as t,isNone as s}from\"../../../core/maybe.js\";import{TextureUpdate as i}from\"./interfaces.js\";import{PROGRESSIVE_LOADING_MODULO as l}from\"./TerrainConst.js\";import{getLayerWithExtentRange as a}from\"./terrainUtils.js\";import{fallsWithinLayer as r}from\"./tileUtils.js\";class n{get updating(){return!!this._tileRequested}init(e,t,s,i){this.tile=e,this._layerIdx=t,this._layerClass=s,this._suspended=i,this._tileLayerInfo=e.getLayerInfo(t,s),this._tileRequested=null;const l=this._findAncestorWithData();this._setUpsampleTile(l)}startLoading(){return this._requestNext()}dispose(){this._tileRequested&&(this._tileRequested.unrequestLayerData(this._layerIdx,this._layerClass,this),this._tileRequested=null),this.tile=null,this._tileLayerInfo=null}setSuspension(e){e!==this._suspended&&(this._suspended=e,e?this._tileRequested&&(this._tileRequested.unrequestLayerData(this._layerIdx,this._layerClass,this),this._tileRequested=null):this._tileLayerInfo.data||this.update())}update(){const e=this._findAncestorWithData();return this._setUpsampleTile(e),this._requestNext()}dataArrived(e){this._setUpsampleTile(e),this._tileRequested=null,e===this.tile?this.tile.updateRenderData(this._layerClass,i.FADING):this._requestNext()}dataMissing(){this._tileRequested=null,this._tileLayerInfo.data=null,this._requestNext()}_agentDone(){this.tile.agentDone(this._layerIdx,this._layerClass),this.dispose()}_requestNext(){if(this._suspended)return!0;const t=this._findNextDownload();if(this._tileRequested){if(t===this._tileRequested)return!0;this._tileRequested.unrequestLayerData(this._layerIdx,this._layerClass,this),this._tileRequested=null}return e(t)?t.requestLayerData(this._layerIdx,this._layerClass,this)&&(this._tileRequested=t):this._agentDone(),!!this._tileRequested}_findNextDownload(){const i=this._layerIdx,n=this._layerClass,h=this.tile.surface.layerViewByIndex(i,n),d=a(h),{minLevel:_,maxLevel:o}=h.dataLevelRange,u=this._desiredMinLevelDelta,p=this._progressiveLevelModulo+u,y=this._scaleRangeEnabled?r:()=>!0;let f=this.tile;const I=f.level;let q;const v=this._tileLayerInfo.upsampleInfo,L=e(v)?v.tile.level:-1,m=!!e(v)&&L-I>=u,D=t(d,\"tilemapCache\");for(;f&&y(f,d,!1)&&f.level>=_;){const e=f.level,t=I-e,a=f.layerInfo[n][i];if(a.data&&t>=u){(!m||e>L)&&this._setUpsampleTile(f),a.dataInvalidated&&(q=f);break}if((s(D)||\"unavailable\"!==D.getAvailability(f.lij[0],f.lij[1],f.lij[2]))&&e<=o&&!a.data&&!a.dataMissing&&((s(q)||f.level===_||e%l==0||I-q.level<u)&&(q=f),t>=p))break;f=f.parent}return e(q)&&I-q.level<u&&this._tileLayerInfo.upsampleInfo&&(q=null),q}_findAncestorWithData(){const e=this.tile.vlevel,t=this._desiredMinLevelDelta;let s;for(let i=this.tile;i;i=i.parent)if(i.hasLayerData(this._layerIdx,this._layerClass)){if(e-i.level>=t)return i;s=i}return s}_setUpsampleTile(e){this._tileLayerInfo.setUpsampleInfo(this.tile,e),this.tile.updateRenderData(this._layerClass,i.FADING)}get test(){return{findNextDownload:()=>this._findNextDownload(),tileLayerInfo:this._tileLayerInfo}}}class h extends n{get _desiredMinLevelDelta(){throw d}get _progressiveLevelModulo(){throw d}dispose(){}}const d=new Error(\"Abstract method called on TileAgent\"),_=new h;export{_ as TILE_AGENT_DONE,n as TileAgent};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{getElevationDesiredResolutionLevel as e}from\"./TerrainConst.js\";import{TileAgent as t}from\"./TileAgent.js\";class l extends t{constructor(){super(...arguments),this._scaleRangeEnabled=!1}get _desiredMinLevelDelta(){return e(this.tile.level)-(this.tile.vlevel-this.tile.level)}get _progressiveLevelModulo(){return 0}}export{l as ElevationTileAgent};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{PROGRESSIVE_LOADING_MODULO as e}from\"./TerrainConst.js\";import{TileAgent as r}from\"./TileAgent.js\";class t extends r{constructor(){super(),this._scaleRangeEnabled=!0}get _desiredMinLevelDelta(){return 0}get _progressiveLevelModulo(){return e}}export{t as MapTileAgent};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as t,abortMaybe as s,isSome as e,isNone as i}from\"../../../core/maybe.js\";import a from\"../../../core/ObjectPool.js\";import n from\"../../../core/PooledArray.js\";import{releaseTileData as o}from\"./terrainUtils.js\";import{computeUpsampleInfo as l}from\"./tileUtils.js\";class p{constructor(){this.waitingAgents=new n,this._upsampleInfo=null,this.loadingAgent=null,this.requestPromise=null,this.requestAbort=null,this.pendingUpdates=0}static acquire(t){const s=r.acquire();return s._init(t),s}release(){this.dispose(),h.delete(this),r.release(this)}dispose(){this.loadingAgent=t(this.loadingAgent),this.abortRequest(),this._unsetUpsampleInfo(),this.pendingUpdates=0,this._data=o(this._data)}static prune(){r.prune(0)}_init(t){this.waitingAgents.clear(),this._data=o(this._data),this.dataMissing=!1,this.dataInvalidated=!1,this._unsetUpsampleInfo(),this.abortRequest(),this.loadingAgent=null,this.pendingUpdates=0,this._pool=t,this.elevationBounds=null}invalidateSourceData(){this.dataInvalidated=!0,this.dataMissing=!1,this._unsetUpsampleInfo()}abortRequest(){this.requestAbort=s(this.requestAbort),this.requestPromise=null}get upsampleInfo(){return this._upsampleInfo}_unsetUpsampleInfo(){e(this._upsampleInfo)&&(this._upsampleInfo.tile.unrefMapData(),this._pool.release(this._upsampleInfo),this._upsampleInfo=null)}setUpsampleInfo(t,s){if(t===s||i(s))this._unsetUpsampleInfo();else{if(i(this._upsampleInfo))this._upsampleInfo=this._pool.acquire();else{if(this._upsampleInfo.tile===s)return;this._upsampleInfo.tile.unrefMapData()}s.refMapData(),l(t,s,this._upsampleInfo)}}get data(){return this._data}set data(t){o(this._data),this._data=t}}const r=new a(p,null,(()=>{})),h=new Map;function u(){h.size>0&&(console.log(`${h.size} live TilePerLayerInfo allocations:`),h.forEach((t=>console.log(t,\"\\n\"))))}export{p as TilePerLayerInfo,u as printAllocations};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nclass t{constructor(t){this._texture=t,this.type=\"tile-texture\",this._refCount=1}retain(){++this._refCount}release(){--this._refCount,0===this._refCount&&this._texture.dispose()}get texture(){return this._texture}generateMipmap(){this._texture.generateMipmap()}get descriptor(){return this._texture.descriptor}}export{t as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nvar E;!function(E){E[E.NONE=0]=\"NONE\",E[E.NONE_HIT_MAXLOD=1]=\"NONE_HIT_MAXLOD\",E[E.SPLIT=2]=\"SPLIT\",E[E.VSPLITMERGE=4]=\"VSPLITMERGE\",E[E.MERGE=8]=\"MERGE\",E[E.RENDERDATA=16]=\"RENDERDATA\",E[E.GEOMETRY=32]=\"GEOMETRY\",E[E.TEXTURE_NOFADING=64]=\"TEXTURE_NOFADING\",E[E.TEXTURE_FADING=128]=\"TEXTURE_FADING\"}(E||(E={}));export{E as TileUpdate};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{clamp as e}from\"../../../core/mathUtils.js\";import{isNone as t,isSome as i,abortMaybe as s}from\"../../../core/maybe.js\";import n from\"../../../core/ObjectPool.js\";import{c as r,a}from\"../../../chunks/vec2.js\";import{a as o}from\"../../../chunks/vec2f64.js\";import{b as h,p as l,e as d,g as u,a as c,l as g}from\"../../../chunks/vec3.js\";import{c as f,u as p}from\"../../../chunks/vec3f64.js\";import{E as m}from\"../../../chunks/common.js\";import{getReferenceEllipsoid as _}from\"../../../geometry/projectionEllipsoid.js\";import{create as A,equals as y}from\"../../../geometry/support/aaBoundingRect.js\";import{c as E}from\"../../../chunks/sphere.js\";import{VectorTile as v}from\"../../2d/engine/vectorTiles/VectorTile.js\";import{ImageWithType as T}from\"../support/StreamDataLoader.js\";import{ElevationBounds as L}from\"./ElevationBounds.js\";import{ElevationTileAgent as M}from\"./ElevationTileAgent.js\";import{LODSnapping as I,TextureUpdate as D,NeighborIndex as N}from\"./interfaces.js\";import{LayerClass as b,LayerClasses as S}from\"./LayerClass.js\";import{MapTileAgent as x}from\"./MapTileAgent.js\";import{RasterTile as j}from\"./RasterTile.js\";import{MAX_PATCH_TESSELATION as O,getElevationDesiredResolutionLevel as U}from\"./TerrainConst.js\";import{weakAssert as C,getLayerWithExtentRange as R,isBlendableLayerView as P,oppositeCorner as B,neighborCornerIndices as G,neighborEdgeIndices as V,oppositeEdge as W,internalAssert as w,isNorth as q,isSouth as H,isWest as F,isEast as k,ENABLE_WATERPROOFNESS_TESTS as X,isWestCorner as z,isNorthCorner as J}from\"./terrainUtils.js\";import{TILE_AGENT_DONE as Y}from\"./TileAgent.js\";import{TilePerLayerInfo as $}from\"./TilePerLayerInfo.js\";import Q from\"./TileTexture.js\";import{TileUpdate as K}from\"./TileUpdate.js\";import{fallsWithinLayer as Z}from\"./tileUtils.js\";import{getGpuMemoryUsage as ee}from\"../../webgl/Util.js\";const te=f(),ie=f(),se=f(),ne=.1;class re{constructor(){this.fovX=0,this.fovY=0,this.relativeWidthLimit=0,this.relativeHeightLimit=0,this.maxLod=0,this.angledSplitBias=0,this.aboveGround=!0}}class ae{constructor(){this.lij=[0,0,0],this._children=[null,null,null,null],this._pendingUpdates=0,this._dirty=!0,this._previouslyRendered=!1,this.extent=A(),this._elevationBounds=o(),this.layerInfo=[[],[]],this.extentInRadians=A(),this.centerAtSeaLevel=f(),this._center=[f(),E(),f()],this.up=p(),this._isWithinClippingArea=!0,this._intersectsClippingArea=!0,this._maxTesselation=0,this._usedMemory=null,this._mapTileMemory=0,this._mapDataRefCount=0,this._screenDepth=0,this.renderOrder=0,this._edgeLen=0,this._edgeLen2=0,this._curvatureHeight=0}static prune(){le.prune(0),de.prune(0),$.prune()}get usedMemory(){return t(this._usedMemory)&&this._updateMemoryUsed(),i(this._usedMemory)?this._usedMemory:0+(this.isCached?0:this.mapTileMemory)}get cachedMemory(){return this.isCached?this.mapTileMemory:0}get mapTileMemory(){t(this._usedMemory)&&this._updateMemoryUsed();let e=this._mapTileMemory;for(const{data:t}of this.layerInfo[b.MAP])t instanceof v&&(e+=t.memoryUsage);return e}get isCached(){return!this.shouldLoad&&this._mapDataRefCount<=0}get maxTesselation(){return this._maxTesselation}get isWithinClippingArea(){return this._isWithinClippingArea}get intersectsClippingArea(){return this._intersectsClippingArea}get clippingArea(){return this._clippingArea}get parent(){return this._parent}get children(){return this._children}get surface(){return this._surface}get elevationBounds(){return this._elevationBounds}get level(){return this.lij[0]}get key(){return`${this.lij[0]}/${this.lij[1]}/${this.lij[2]}`}get edgeLen(){return this._edgeLen}get radius(){return this._center[ce.MIDDLE][3]}get screenDepth(){return this._screenDepth}get visible(){return this._dirty&&this.computeVisibility(),this._visible}computeVisibility(){this._dirty=!1;const e=this._intersectsClippingArea&&this._isVisible(this.surface.frustum);return e!==this._visible&&(this._visible=e,this._surface.emit(\"tiles-visibility-changed\"),this._surface.renderer.setNeedsRender(),this.updateAgentSuspension()),this._visible}get loadable(){return this.visible||this._surface.view.state.fixedContentCamera}get rendered(){const e=!!this.renderData;return e!==this._previouslyRendered&&(this._surface.emit(\"tiles-visibility-changed\"),this._previouslyRendered=e,this._surface.renderer.setNeedsRender()),e}get shouldLoad(){if(this._surface.lodSnapping===I.ON){const e=this.level-this._surface.snapLevel;if(0===e)return!0;if(1===e)return!1}return this.isLeaf}init(e,t,i){this.lij[0]=e[0],this.lij[1]=e[1],this.lij[2]=e[2],this.ellipsoid=_(i.tilingScheme.spatialReference),i.tilingScheme.getExtent(e[0],e[1],e[2],this.extent),i.tilingScheme.convertExtentToRadians(this.extent,this.extentInRadians),this._isWithinClippingArea=!0,this._intersectsClippingArea=!0,this._clippingArea=null,this._mapDataRefCount=0,i.upsampleMapCache.pop(this.key),this._edgeLen=0,this._edgeLen2=0,this._center[ce.MIDDLE][3]=0,this.vlevel=e?e[0]:0,t&&t.elevationBounds?r(this._elevationBounds,t.elevationBounds):a(this._elevationBounds,0,0),this._pendingUpdates=0,this.renderData=null,this._screenDepth=0,this._visible=!1,this._previouslyRendered=!1,this._parent=t,this.unsetChildren(),this._surface=i,this.updateVisibility();for(const s of S){const e=i.numLayers(s),t=this.layerInfo[s];for(const i of t)i.release();t.length=e;for(let i=0;i<e;i++)t[i]=$.acquire(this._surface.upsampleInfoPool),s===b.ELEVATION&&this.findElevationBoundsForLayer(i,-1)}this.computeElevationBounds(),this._maxTesselation=Math.min(i.tilingScheme.pixelSize,O)}release(){C(!this.renderData,\"tile.renderData was not unloaded\"),this._surface.upsampleMapCache.pop(this.key);for(const e of S){for(const t of this.layerInfo[e])t.release();this.layerInfo[e].length=0}this._parent=null,this._surface=null,this._usedMemory=null}refMapData(){++this._mapDataRefCount,this.isCached||this._surface.upsampleMapCache.pop(this.key)}unrefMapData(){if(--this._mapDataRefCount,this.isCached){const e=this.cachedMemory;e>0&&(this._surface.upsampleMapCache.put(this.key,this,e),this.setMemoryDirty())}}setMemoryDirty(){this._usedMemory=null}get cpuImageMemorySize(){const e=4,t=this._surface.tilingScheme.pixelSize;return t*t*e}_updateMemoryUsed(){this._usedMemory=0,this._mapTileMemory=0;const e=this.layerInfo[b.MAP];for(let i=0;i<e.length;i++)this._mapTileMemory+=this.getUsedMemoryForLayer(b.MAP,i);const t=this.cpuImageMemorySize;for(const i of this.layerInfo[b.ELEVATION])this._usedMemory+=i.data?t:0;this.renderData&&(this._usedMemory+=this.renderData.estimatedGeometryMemoryUsage,this._mapTileMemory+=ee(this.renderData.textureDescriptor)),this.isCached&&this._surface.upsampleMapCache.updateSize(this.key,this,this.cachedMemory)}getUsedMemoryForLayer(e,t){const i=this.layerInfo[e][t];if(!i||!i.data)return 0;if(e!==b.MAP||this.isCached){if(e===b.ELEVATION)return this.cpuImageMemorySize}else{const e=i.data;if(e instanceof Q)return ee(e.texture);if(e instanceof HTMLImageElement||e instanceof T)return this.cpuImageMemorySize;if(e instanceof v||e instanceof j)return e.memoryUsage}return 0}updateScreenDepth(e){const t=this._center[ce.MIDDLE],i=e,s=t[0],n=t[1],r=t[2],a=i[2]*s+i[6]*n+i[10]*r+i[14];this._screenDepth=a<0?0:a/(i[3]*s+i[7]*n+i[11]*r+i[15])}shouldSplit(e,t,s){if(i(e.frustum)&&(!this._intersectsClippingArea||!this._isVisible(e.frustum)))return K.NONE;const n=this.level;h(te,this._center[ce.MIDDLE],t);let r=l(te),a=ce.MIDDLE;h(ie,this._center[ce.TOP],t);const o=l(ie);o<r&&(r=o,a=ce.TOP),h(ie,this._center[ce.BOTTOM],t);const f=l(ie);if(f<r&&(r=f,a=ce.BOTTOM),this._edgeLen2>r&&n<e.maxLod)return K.SPLIT;const p=Math.sqrt(r),m=e.fovX*p*2,_=this._edgeLen/m,A=()=>{const t=n+Math.ceil(-Math.log2(e.relativeWidthLimit/_));return t!==this.vlevel?(this.vlevel=t,K.VSPLITMERGE):K.NONE_HIT_MAXLOD};if(s===I.ON){if(1===this._surface.snapLevel-n)return n>=e.maxLod?A():K.SPLIT}const y=d(this.up,te),E=this._elevationBounds[1]-this._elevationBounds[0],v=E/this.edgeLen;if(e.aboveGround&&y>0&&v<.001){if(y/p-Math.sin(this._curvatureHeight/(this.edgeLen*Math.SQRT1_2)*Math.PI)-v>0)return K.NONE}if(_<e.relativeWidthLimit)return this.vlevel!==this.level?(this.vlevel=this.level,K.VSPLITMERGE):K.NONE;if(n>=e.maxLod)return A();if(n>6){h(ie,this._center[a],t),u(se,this.up,y),h(se,se,ie);const i=l(se);if(i>this.radius*this.radius){u(se,se,this.radius/Math.sqrt(i)),c(se,se,this._center[a]),h(se,t,se);const s=Math.min(1,(Math.abs(d(se,this.up))+.5*E+this._curvatureHeight)/g(se)),n=ne/e.angledSplitBias,r=e.fovY*p*2;if(s*(this._edgeLen/r)<n*e.relativeHeightLimit)return K.NONE}}return K.SPLIT}setChildren(e,t,i,s){C(!!(e&&t&&i&&s),\"Null child passed\"),this._children[0]=e,this._children[1]=t,this._children[2]=i,this._children[3]=s}unsetChildren(){this._children[0]=null,this._children[1]=null,this._children[2]=null,this._children[3]=null}get isLoaded(){return this.renderData?.hasGeometry??!1}prepareToLoad(e){this.refMapData();for(const t of S)this._createOrUpdateAgents(0,t);e.updateTileGeometryState(this)}load(e){this.prepareToLoad(e),this.loadPrepared(e)}loadPrepared(e){e.loadTile(this)}unload(e){e.unloadTile(this);for(const t of S){const e=this.layerInfo[t];for(const t of e)t.loadingAgent&&t.loadingAgent!==Y&&(he(t.loadingAgent),t.loadingAgent=null),t.pendingUpdates=0}this.resetPendingUpdate(K.GEOMETRY),this.resetPendingUpdate(K.TEXTURE_NOFADING),this.resetPendingUpdate(K.TEXTURE_FADING),this.unrefMapData()}unloadMapData(){const e=this.layerInfo[b.MAP];for(const t of e)t.loadingAgent&&t.loadingAgent!==Y&&(he(t.loadingAgent),t.loadingAgent=null),t.pendingUpdates=0;this.renderData&&this.renderData.releaseTexture(),this.setMemoryDirty()}updateClippingStatus(e){if(y(e,this._clippingArea))return!1;const t=this._intersectsClippingArea,s=this._isWithinClippingArea;i(e)?(this._intersectsClippingArea=this.intersectsExtent(e),this._isWithinClippingArea=this._isWithinExtent(e)):(this._intersectsClippingArea=!0,this._isWithinClippingArea=!0),this._clippingArea=e,this.updateVisibility();const n=s&&this._isWithinClippingArea,r=!(s||t||this._isWithinClippingArea||this._intersectsClippingArea);return!this.renderData||n||r||this.setPendingUpdate(K.GEOMETRY),!0}updateVisibility(){this._dirty=!0,this._surface.setTileTreeDirty()}getLayerInfo(e,t){return this.layerInfo[t][e]}hasLayerData(e,t){const i=this.layerInfo[t][e];return!(!i||!i.data||i.dataInvalidated)}get updating(){if(this.hasPendingUpdates)return!0;for(const e of S){const t=this.layerInfo[e];for(const e of t)if(e.loadingAgent&&e.loadingAgent!==Y&&e.loadingAgent.updating)return!0}return!1}_isSuspended(e){return!!this.hasPendingUpdate(K.SPLIT)||e!==b.ELEVATION&&!this.loadable}get hasPendingUpdates(){return 0!==this._pendingUpdates}hasPendingUpdate(e){return(this._pendingUpdates&e)===e}setPendingUpdate(e){this._pendingUpdates|=e,e===K.SPLIT||e===K.MERGE?this._surface.setTileTreeDirty():this._surface.requestUpdate()}resetPendingUpdate(e){return!!this.hasPendingUpdate(e)&&(this._pendingUpdates&=~e,!0)}requestLayerData(e,t,i){const n=this.layerInfo[t][e];if(n.waitingAgents.has(i))return console.warn(\"agent already requested this piece of map data (tile %s, agent tile %s, layer: %d/%d)\",this.lij.toString(),i.tile.lij.toString(),t,e),!0;if(n.waitingAgents.push(i),n.data&&!n.dataInvalidated)return console.warn(\"agent requested existing data (tile %s, agent tile %s, layer: %d/%d)\",this.lij.toString(),i.tile.lij.toString(),t,e),i.dataArrived(this),!0;if(n.requestPromise)return!0;s(n.requestAbort),n.requestAbort=new AbortController;const r=this._surface.requestTileData(this,e,t,n.requestAbort);if(!r)return n.requestAbort=null,!1;const a=()=>{n.requestPromise===r&&(n.requestPromise=null,n.requestAbort=null)};return n.requestPromise=r,r.then(a,a),!0}get isLeaf(){return null==this._children[0]}hasLij(e){return this.lij[0]===e[0]&&this.lij[1]===e[1]&&this.lij[2]===e[2]}findByLij(e){if(this.hasLij(e))return this;if(this.isLeaf)return null;const t=this._children[0].findByLij(e)||this._children[1].findByLij(e)||this._children[2].findByLij(e)||this._children[3].findByLij(e);return t||null}distanceToSquared(e){return l(h(se,this._center[ce.MIDDLE],e))}containsPoint(e){const t=this.extent;return e[0]>=t[0]&&e[1]>=t[1]&&e[0]<=t[2]&&e[1]<=t[3]}unrequestLayerData(e,t,i){const s=this.layerInfo[t][e],n=s.waitingAgents,r=null!=n.removeUnordered(i);C(r,\"agent has not requested this piece of map data\"),n.length<1&&(s.abortRequest(),this._updateMemoryUsed())}dataArrived(e,t,i){const s=this.layerInfo[t][e];s.data=i,s.dataInvalidated=!1,s.waitingAgents.forAll((e=>e.dataArrived(this))),s.waitingAgents.clear(),this._updateMemoryUsed()}dataMissing(e,t,i){i.notInTilemap||console.error(`Tile ${this.lij.toString()} layer ${t}/${e} error ${i}`);const s=this.layerInfo[t][e];s.dataMissing=!0,s.waitingAgents.forAll((e=>e.dataMissing())),s.waitingAgents.clear(),this._updateMemoryUsed()}updateRenderData(e,t){switch(e){case b.MAP:return this._updateTexture(t);case b.ELEVATION:return this._updateGeometry()}}_updateTexture(e){this.renderData&&(this.resetPendingUpdate(e===D.FADING?K.TEXTURE_NOFADING:K.TEXTURE_FADING),this.setPendingUpdate(e===D.FADING?K.TEXTURE_FADING:K.TEXTURE_NOFADING))}_updateGeometry(){this.setPendingUpdate(K.GEOMETRY);for(const e of this.layerInfo[b.ELEVATION])e.pendingUpdates|=K.GEOMETRY}invalidateLayerData(e,t){this.layerInfo[t][e].invalidateSourceData(),this.restartAgents(t)}computeElevationBounds(){const e=this._elevationBounds;a(e,Number.MAX_VALUE,-Number.MAX_VALUE);const t=this.layerInfo[b.ELEVATION];let s=!0;for(const n of t)i(n.elevationBounds)&&(e[0]=Math.min(e[0],n.elevationBounds.min),e[1]=Math.max(e[1],n.elevationBounds.max),n.elevationBounds.hasNoDataValues||(s=!1));s&&(e[0]=Math.min(e[0],0),e[1]=Math.max(e[1],0)),this.updateRadiusAndCenter(),this._surface.setTileTreeDirty()}_updateCenter(){const e=this._elevationBounds,t=.5*(e[0]+e[1]);u(se,this.up,t),c(this._center[ce.MIDDLE],this.centerAtSeaLevel,se),u(se,this.up,e[0]),c(this._center[ce.TOP],this.centerAtSeaLevel,se),u(se,this.up,e[1]),c(this._center[ce.BOTTOM],this.centerAtSeaLevel,se)}findElevationBoundsForLayer(e,s){const n=this.layerInfo[b.ELEVATION][e];if(i(n.elevationBounds)&&n.elevationBounds.level>=s)return;const r=this._surface.layerViewByIndex(e,b.ELEVATION),a=R(r);if(!Z(this,a,!1))return;const o=ue;let h=!1;if(n.data){const e=n.data;o.min=e.bounds[0],o.max=e.bounds[1],o.hasNoDataValues=e.hasNoDataValues,o.level=this.level,h=!0}else{let t,i,s=0;for(let n=this._parent;n&&(!i||s<U(this.level))&&(s=this.vlevel-n.level,t=i||t,i=n.layerInfo[b.ELEVATION][e].data,!(!i&&t&&s>=U(this.level)));n=n.parent);i=i||t,i&&(i.computeMinMaxValue(this.lij[0],this.lij[1],this.lij[2],o),o.min!==1/0&&(o.level=i.level,h=!0))}h&&(t(n.elevationBounds)&&(n.elevationBounds=new L),n.elevationBounds.copyFrom(o))}modifyLayers(e,t,i){const s=this.layerInfo[i];for(const a of s)a.loadingAgent&&a.loadingAgent!==Y&&(he(a.loadingAgent),a.loadingAgent=null),a.waitingAgents.clear();for(let a=0;a<s.length;++a)void 0===e[a]&&s[a].release();const n=new Array(...s),r=t.length;s.length=r;for(let a=0;a<r;a++){const e=t[a];s[a]=e>-1?n[e]:$.acquire(this._surface.upsampleInfoPool)}this._updateMemoryUsed()}restartAgents(e){this.renderData&&(this._createOrUpdateAgents(0,e),this.updateRenderData(e,D.FADING))}updateAgents(e){if(this.renderData){const t=this.layerInfo[e];for(const e of t)e.loadingAgent===Y&&(e.loadingAgent=null);this._createOrUpdateAgents(0,e)}}updateAgentSuspension(){for(const e of S){const t=this._isSuspended(e);for(const i of this.layerInfo[e])i.loadingAgent&&i.loadingAgent!==Y&&(i.loadingAgent.setSuspension(t),i.loadingAgent===Y&&this.updateRenderData(e,D.FADING))}}removeLayerAgent(e,t){const i=this.layerInfo[t][e];i.loadingAgent&&i.loadingAgent!==Y&&i.loadingAgent.dispose(),i.loadingAgent=null}agentDone(e,i){const s=this.layerInfo[i][e];s.loadingAgent=Y,!s.data&&t(s.upsampleInfo)&&this._createOrUpdateAgents(e+1,i)}_createOrUpdateAgents(e,t){const i=this.layerInfo[t];if(0===i.length)return;const s=(()=>{for(let s=e;s<i.length;++s){const e=this._surface.layerViewByIndex(s,t);if(P(e)&&\"normal\"!==e.layer.blendMode)return!0}return!1})(),n=this._isSuspended(t);for(let r=e;r<i.length;++r){const e=i[r];let a=!1;const o=this._surface.layerViewByIndex(r,t),h=R(o);if(e.loadingAgent?Z(this,h,!1)?(e.loadingAgent!==Y&&e.loadingAgent.setSuspension(n),e.loadingAgent!==Y&&(a=e.loadingAgent.update())):e.dispose():Z(this,h,!1)&&(e.loadingAgent=oe(this,r,t,n),a=e.loadingAgent.startLoading(),a?e.loadingAgent===Y&&this.setPendingUpdate(K.GEOMETRY):(he(e.loadingAgent),e.loadingAgent=Y)),e.loadingAgent===Y&&this.updateRenderData(t,D.FADING),!s&&a&&o.isOpaque)return}}_isWithinExtent(e){const t=this.extent;return t[0]>=e[0]&&e[2]>=t[2]&&t[1]>=e[1]&&e[3]>=t[3]}intersectsExtent(e){const t=this.extent;return t[2]>=e[0]&&e[2]>=t[0]&&t[3]>=e[1]&&e[3]>=t[1]}getElevationBasedVerticesPerSide(t){const i=this.vlevel-this.level,s=Math.max(this.level-t,U(this.level)-i);return e(1+(this.maxTesselation>>s),2,this.maxTesselation+1)}get test(){return{cachedMemory:this.cachedMemory}}_findLIJ(e,t){if(!e)return null;const s=this.surface.rootTiles;if(i(s))for(const i of s)if(ge(i,e)){let s=i,n=e[0]-s.level-1;for(;n>=0&&!s.isLeaf&&!t(s);){const t=e[1]>>n&1,i=e[2]>>n&1;s=s.children[2*t+i],n--}return t(s)?s:null}return null}findNeighborTile(e,t){const i=this.lij,s=this.getNeighborLIJ(i,e);return s?fe(i,s)?t(this)?this:null:this._findLIJ(s,t):null}findCorner(e,t){const i=e===N.NORTH_EAST?1:e===N.NORTH_WEST?0:e===N.SOUTH_WEST?2:3;let s=this;for(;!(s.isLeaf||t&&t(s));)s=s.children[i];return s}findNeighborCornerTileExact(e,t){return this.findNeighborTile(e,(e=>t(e)||e.level===this.level))?.findCorner(B(e),t)}forAllSubtreeOnSide(e,t){const i=e===N.NORTH?[0,1]:e===N.NORTH_EAST?[1]:e===N.EAST?[1,3]:e===N.SOUTH_EAST?[3]:e===N.SOUTH?[2,3]:e===N.SOUTH_WEST?[2]:e===N.WEST?[0,2]:[0],s=e=>{t(e)||e.isLeaf||i.forEach((t=>s(e.children[t])))};s(this)}forallNeighbors(e){G.forEach((t=>this.findNeighborCornerTileExact(t,e))),V.forEach((t=>this.findNeighborTile(t,(t=>t.level===this.level||e(t)))?.forAllSubtreeOnSide(W(t),e)))}getNeighborEdgeStartVertexIndex(e,t){const i=t??this.findNeighborTile(V[e],(e=>e.isLoaded));if(!i||!this.isLoaded||!i.isLoaded)return 0;const s=this.level-i.level;if(0===s)return 0;const n=2**s,r=1==(1&e),a=r?0:1,o=i.lij[a+1]*n,h=this.lij[a+1]-o;return r?n-1-h:h}_updateNeighborsWithChangedEdgeResolution(){for(let e=0;e<4;++e)if(this.renderData.geometryState.neighborData.modifiedEdgeResolutions[e]){const t=V[e],i=this.findNeighborTile(t,(e=>e.isLoaded||e.level===this.level));if(!i)continue;if(!i.isLoaded){w(!i.isLeaf);const s=(e+2)%4,n=W(t);i.forAllSubtreeOnSide(n,(e=>e.isLoaded?(e.updateEdgeAfterResolutionChange(s),!0):(w(!e.isLeaf),!1)))}this.renderData.geometryState.neighborData.modifiedEdgeResolutions[e]=!1}}updateNeighborDataAndGeometryIfNeeded(){this.isLoaded&&this.renderData.updateNeighborDataAndGeometryIfNeeded()}updateNeighborsAfterGeometryChange(e=this.level){this.forEachLoadedNeighbor((e=>this._updateNeighbor(e))),V.forEach((t=>{this.findNeighborTile(t,(t=>t.isLoaded&&t.level<e))?.updateNeighborsWithChangedEdgeResolution()}))}updateNeighborsWithChangedEdgeResolution(){this.isLoaded&&this._updateNeighborsWithChangedEdgeResolution()}updateEdgeAfterResolutionChange(e){this.renderData.updateEdgeAfterResolutionChange(e)}forEachLoadedNeighbor(e){const t=this.level,i=e=>e.level===t||e.isLoaded;V.forEach(((t,s)=>{const n=this.findNeighborTile(t,i);null!=n&&n!==this&&n.forAllSubtreeOnSide(W(t),(t=>!!t.isLoaded&&(e(t),!0)));const r=this.renderData?.geometryState?.neighborData;r&&(r.modifiedEdgeResolutions[s]=!1)})),G.forEach((t=>{const s=this.findNeighborTile(t,i)?.findCorner(B(t),(e=>e.isLoaded));w(!s||_e(this,s,t)),s?.isLoaded&&e(s)}))}_updateNeighbor(e){e?.isLoaded&&e.updateNeighborDataAndGeometryIfNeeded()}getNeighborLIJ(e,t){const i=q(t)?-1:H(t)?1:0,s=F(t)?-1:k(t)?1:0,n=[e[0],e[1]+i,e[2]+s];return n[1]<0?null:this.surface.isGlobal?this.wrapLIJ(n):n[2]<0?null:n}wrapLIJ(e){return!e||e[1]<0||e[1]>=2**e[0]?null:this.surface.wrapEastWest(e)}get westNeighborWestExtent(){return this.extent[0]*(this.isWestEnd?-1:1)}get eastNeighborEastExtent(){return this.extent[2]*(this.isEastEnd?-1:1)}get isEastEnd(){return this.lij[2]===this.surface.lijEastEnd(this.level)-1}get isWestEnd(){return 0===this.lij[2]}get isNorthEnd(){return 0===this.lij[1]}get isSouthEnd(){return this.extent[1]+m>=this.surface.extent[1]}compareLIJs(e){const t=this.lij,i=t[0],s=e[0];if(i===s)return[t,e];const n=i-s;if(n<0){const i=2**-n;return[[s,t[1]*i,t[2]*i],e]}{const s=2**n;return[t,[i,e[1]*s,e[2]*s]]}}checkGeometryWaterproofness(){X&&(w(this.isLoaded),this.renderData.checkGeometryWaterproofness())}shouldHaveNeighbor(e){const t=this.extent,i=this.surface.rootTilesExtent,s=.25*(t[2]-t[0]);if(q(e)&&t[3]+s>=i[3])return!1;if(H(e)&&t[1]-s<=i[1])return!1;const n=this.surface.isGlobal;return!(!n&&F(e)&&t[0]-s<=i[0])&&!(!n&&k(e)&&t[2]+s>=i[2])}}function oe(e,t,i,s){const n=i===b.ELEVATION?de.acquire():le.acquire();return n.init(e,t,i,s),n}function he(e){e.dispose(),e instanceof M?de.release(e):e instanceof x&&le.release(e)}const le=new n(x),de=new n(M),ue=new L;var ce;function ge(e,t){const i=e.level,s=t[0];if(i>s)return!1;const n=s-i,r=Math.floor(t[1]/2**n),a=Math.floor(t[2]/2**n);return r===e.lij[1]&&a===e.lij[2]}function fe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function pe(e,t,i){return Math.abs(e-t)<=i}function me(e,i,s){if(t(e)||t(i))return!1;if(0===e.level&&0===i.level){if(e.isEastEnd&&i.isWestEnd&&s===N.EAST)return!0;if(e.isWestEnd&&i.isEastEnd&&s===N.WEST)return!0}const n=1e-6*(e.extent[2]-e.extent[0]);switch(s){case N.NORTH:return pe(e.extent[3],i.extent[1],n);case N.SOUTH:return pe(e.extent[1],i.extent[3],n);case N.EAST:return pe(e.extent[2],i.extent[0],n)||pe(e.extent[2],-i.extent[0],n);case N.WEST:return pe(e.extent[0],i.extent[2],n)||pe(e.extent[0],-i.extent[2],n)}}function _e(e,i,s){return!t(e)&&!t(i)&&i!==e&&(e.level>=i.level?Ae(e,i,s):Ae(i,e,B(s)))}function Ae(e,t,i){w(e.level>=t.level);const s=z(i),n=J(i),r=e.extent,a=t.extent,o=[s?r[0]:r[2],n?r[3]:r[1]],h=[s?a[2]:a[0],n?a[1]:a[3]],l=1e-5*(r[2]-r[0]),d=pe(o[0],h[0],l)||e.surface.isGlobal&&pe(o[0],-h[0],l),u=pe(o[1],h[1],l);if(d&&u)return!0;if(e.level===t.level)return!1;if(!d&&!u)return!1;return d?ye(a[1],a[3],r[1],r[3],l):ye(a[0],a[2],r[0],r[2],l)}function ye(e,t,i,s,n=m){return e-n<=i&&i<=s&&s<=t+n}!function(e){e[e.TOP=0]=\"TOP\",e[e.MIDDLE=1]=\"MIDDLE\",e[e.BOTTOM=2]=\"BOTTOM\"}(ce||(ce={}));export{ce as CenterPosition,re as SplitLimits,ae as Tile,pe as almostEquals,_e as isCornerNeighbor,me as isEdgeNeighbor};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nclass s{constructor(){this._scales=[-1,-1,-1,-1],this._offsets=[-1,-1,-1,-1]}clear(){this._scales[0]=this._scales[1]=this._scales[2]=this._scales[3]=-1,this._offsets[0]=this._offsets[1]=this._offsets[2]=this._offsets[3]=-1}setScale(s,t,e){this._scales[2*s]=t,this._scales[2*s+1]=e}setOffset(s,t,e){this._offsets[2*s]=t,this._offsets[2*s+1]=e}get scales(){return this._scales}get offsets(){return this._offsets}}export{s as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{equals as e}from\"../../../core/arrayUtils.js\";import{lerp as t}from\"../../../core/mathUtils.js\";import{isSome as r,isNone as i,mapOr as s}from\"../../../core/maybe.js\";import{empty as a}from\"../../../geometry/support/aaBoundingBox.js\";import\"../../../core/has.js\";import\"../../../geometry/Extent.js\";import\"../../../geometry/support/Ellipsoid.js\";import{glLayout as o}from\"../support/buffer/glUtil.js\";import{sampleElevationOrZero as n}from\"./ElevationData.js\";import{GeometryState as l}from\"./GeometryState.js\";import\"./interfaces.js\";import{LayerClass as h}from\"./LayerClass.js\";import{PatchGeometry as d,releaseGeometry as u}from\"./PatchGeometry.js\";import{neighborEdgeIndices as g,internalAssert as m,oppositeEdge as c,eps as p,neighborCornerIndices as f,oppositeCorner as y}from\"./terrainUtils.js\";import{TextureFader as _,ActivationTime as x}from\"./TextureFader.js\";export{ActivationTime}from\"./TextureFader.js\";import\"./Tile.js\";import v from\"./TileOverlayData.js\";import{fallsWithinLayer as b}from\"./tileUtils.js\";import{Default3D as D}from\"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{BufferObject as C}from\"../../webgl/BufferObject.js\";import{VertexArrayObject as S}from\"../../webgl/VertexArrayObject.js\";class T{constructor(){this.geometryInfo=new d,this.intersectionData=null,this.geometryState=null,this._textureRef=new _((()=>this.tile.surface.textureFadeDuration)),this.overlay=new v,this._geometryStateChangedSinceLastUpdate=!0,this._hasGeometry=!1,this._numVerticesPerSideChanged=!1,this._samplerDataChanged=!1,this._edgeResolutionChanged=!1,this._edgeNeighborChanged=!1,this._cornerElevationChanged=!1,this._clippingAreaChanged=!1,this._wireframeChanged=!1}get tile(){return this._tile}init(e){this._tile=e,this.clear();const t=this.geometryInfo;t.indices=null,t.vertexAttributes=null,a(t.boundingBox),t.indexCount=0,t.numVerticesPerSide=0,this.intersectionData=null,this.geometryState=new l,this.localOrigin=null,this.overlay.clear()}clear(){this._releaseGeometry(),this.releaseTexture(),this._textureRef.clear()}updateGeometryIfChanged(e,t){const r=this.updateGeometryStateAndPrepareForGeometryGeneration(t);this._hasGeometry=!0;return this.updateNeighborDataAndGeometryIfNeeded(r,e)}updateNeighborDataAndGeometryIfNeeded(e=!1,t=this.vao.context){const r=this._updateNeighborData(),i=e||this._geometryStateChangedSinceLastUpdate||r;return i&&(this._updateGeometry(t),this._geometryStateChangedSinceLastUpdate=!1),i}_calculateEdgeResolution(e,t){const s=this.tile,a=this.geometryState.numVerticesPerSide-1;if(!s.surface.isGlobal){const t=s.surface.extent;if(r(t)&&(0===e&&s.extent[3]>t[3]||1===e&&s.extent[2]>t[2]||2===e&&s.extent[1]<t[1]||3===e&&s.extent[0]<t[0]))return a}const o=s.level,n=g[e],l=t||s.findNeighborTile(n,(e=>e.isLoaded||e.level===o));if(!l||l.isLeaf&&!l.isLoaded)return m(i(s.surface?.rootTiles)||s.surface.updatingRootTiles||!s.shouldHaveNeighbor(n)),a;if(l.isLoaded){const t=l,r=t.renderData.geometryState,i=o-t.level;if(0===i){const e=r.numVerticesPerSide-1;return Math.max(e,a)}const s=2**i,n=r.neighborData.edgeResolutions[(e+2)%4]/s;return Math.max(1,n)}m(!l.isLeaf);let h=a;return l.forAllSubtreeOnSide(c(n),(e=>e===s||(e.isLoaded?(h=Math.max(h,2**(e.level-o)),!0):(m(!e.isLeaf),!1)))),h}_updateNeighborData(){const e=this.tile,r=t=>t.isLoaded||t.level===e.level,i=e=>e.isLoaded,s=[null,null,null,null],a=[null,null,null,null];(()=>{for(let t=0;t<4;++t){const i=e.findNeighborTile(g[t],r);s[t]=i,a[t]=i?.isLoaded?i:null}})();const o=[null,null,null,null];(()=>{for(let t=0;t<4;++t)o[t]=e.findNeighborTile(f[t],i)})();const l=this.geometryState.neighborData;let h=!1;(()=>{for(let t=0;t<4;++t){const r=l.edgeResolutions[t],i=s[t],a=this._calculateEdgeResolution(t,i);l.edgeResolutions[t]=a,r!==a&&(h=!0,this._edgeResolutionChanged=!0,i&&i!==e&&!i.isLoaded&&i.level===e.level&&(l.modifiedEdgeResolutions[t]=!0))}})();(()=>{const r=(r,i)=>{const s=r.reduce(((e,t)=>Math.min(e,t?.level??1/0)),1/0);for(let l=0;l<4;++l){const s=r[(l+3)%4],a=r[l];if(s&&s.level<e.level&&s===a){const r=s,a=1==(1&l),o=(e.getNeighborEdgeStartVertexIndex(l,r)+(0===i||1===i&&!a||3===i&&a?1:0))/2**(e.level-r.level),h=a?0===i||1===i?r.extent[0]:r.extent[2]:t(r.extent[0],r.extent[2],o),d=a?t(r.extent[1],r.extent[3],o):0===i||3===i?r.extent[1]:r.extent[3];return n(h,d,r.renderData.geometryState.samplerData)}}let a=0,o=0;for(let e=0;e<4;++e){const t=r[e];if(t&&t.level===s){const r=0===e||1===e,i=0===e||3===e,s=t.extent;o+=n(s[r?0:2],s[i?1:3],t.renderData?.geometryState?.samplerData),a++}}return a?o/a:0},i=l.cornerNeighborData,s=(t,s)=>{const a=i[t],o=a.cornerTiles;for(let r=0;r<4;++r){const t=f[r],i=s[r]?.findCorner(y(t),(t=>t?.isLoaded||t===e));o[r]=i}const n=r(o,t);return a.elevation!==n&&(a.elevation=n,!0)};for(let t=0;t<4;++t){const r=o[t],i=a[t],n=[r,a[(t+1)%4],e,i],l=n.map(((e,r)=>n[(r+4-t)%4]));s(t,l)&&(this._cornerElevationChanged=!0,h=!0)}})();return(()=>{const t=(t,r)=>{if(!t?.isLoaded||t.lij[0]>e.lij[0])return null;const i=t.renderData.geometryState;return{neighborSamplerData:i.samplerData,neighborEdgeOverlapResolution:i.neighborData.edgeResolutions[r+2],version:i.samplerDataVersion,neighborVerticesPerSide:i.numVerticesPerSide,neighborTile:t}},r=l.edgeNeighbours;for(let i=0;i<4;++i){const s=a[i];s&&(m(s?.isLoaded),m(s?.lij[0]<=e.lij[0]));const o=r[i],n=o?.version,l=t(s,i),d=l?.version??null,u=null!=o!=(null!=l),g=o&&l&&n!==d,c=o&&l&&o?.neighborTile!==l?.neighborTile,p=u||g||c;this._edgeNeighborChanged||(this._edgeNeighborChanged=p),h||(h=p),!p&&n||(r[i]=l)}})(),h}updateEdgeAfterResolutionChange(e){const t=this._calculateEdgeResolution(e),r=this.geometryState.neighborData.edgeResolutions,i=r[e];m((this.geometryState.neighborData.edgeNeighbours[e]?.neighborTile.level??0)<=this.tile.level),t!==i&&(r[e]=t,this._edgeResolutionChanged=!0,T.deferTileNeighborUpdate?T.neighborTilesToUpdate.add(this.tile):this._updateGeometry(this.vao.context))}_updateGeometry(e){this.intersectionData=null;const t=this.tile,r=t.lij,i=T.updatedGeometryTiles.get(r)||0;T.updatedGeometryTiles.set(r,i+1);const s=this._vao,a=this.geometryInfo.vertexAttributes,o=!s||!a||this._wireframeChanged||this._numVerticesPerSideChanged||this._samplerDataChanged||this._clippingAreaChanged||this._edgeResolutionChanged,n=!o&&this._edgeNeighborChanged,l=!n&&this._cornerElevationChanged;this._numVerticesPerSideChanged=!1,this._samplerDataChanged=!1,this._edgeResolutionChanged=!1,this._edgeNeighborChanged=!1,this._cornerElevationChanged=!1,this._clippingAreaChanged=!1,this._wireframeChanged=!1,o?(this._releaseGeometry(),this._createGeometry(e)):n?t.updateEdgeElevations():l?t.updateCornerElevations():console.warn(\"Update for no reason?\")}releaseGeometry(){return this._releaseGeometry()}get hasGeometry(){return this._hasGeometry}ensureTexture(e,t){return r(this._texture)&&this._texture.descriptor.width!==e&&this.releaseTexture(),i(this._texture)&&(this._texture=t(),this.tile.setMemoryDirty()),this._texture}releaseTexture(){r(this._texture)&&(this._texture.release(),this._texture=null,this.tile.setMemoryDirty())}updateGeometryStateAndPrepareForGeometryGeneration(t){const r=this._getElevationInfo(),i=r.samplerData?this.tile.getElevationBasedVerticesPerSide(r.maxTileLevel):this.tile.getDefaultVerticesPerRowOnLevel(),s=Math.max(i,5);let a=this.tile.clippingArea;this.tile.intersectsClippingArea&&!this.tile.isWithinClippingArea||(a=null);const o=this.geometryState;let n=!1;return o.numVerticesPerSide!==s&&(this._numVerticesPerSideChanged=!0,o.numVerticesPerSide=s,o.samplerDataVersion++,n=!0),r.changed&&(this._samplerDataChanged=!0,o.samplerData=r.samplerData,o.samplerDataVersion++,n=!0),e(o.clippingArea,a)||(this._clippingAreaChanged=!0,o.clippingArea=a,n=!0),o.wireframe!==t&&(this._wireframeChanged=!0,o.wireframe=t,n=!0),this._geometryStateChangedSinceLastUpdate||(this._geometryStateChangedSinceLastUpdate=n),this._hasGeometry=!0,n}_createGeometry(e){this.tile.createGeometry();const t=this.geometryInfo.vertexAttributes,r=this.geometryInfo.indices,i=e.gl;this._vao=new S(e,D,{geometry:o(t.layout)},{geometry:C.createVertex(e,i.STATIC_DRAW,t.buffer)},C.createIndex(e,i.STATIC_DRAW,r)),this._hasGeometry=!0}_releaseGeometry(){return this._hasGeometry=!1,!!this._vao&&(this._vao.dispose(),this._vao=null,u(this.geometryInfo),!0)}get vao(){return this._vao}setTextureReference(e,t=x.Immediate){r(e)&&e.texture!==this._texture&&this.releaseTexture(),this._textureRef.push(e,t)}get textureReference(){return this._textureRef.current}get nextTextureReference(){return this._textureRef.next}get textureFadeFactor(){return this._textureRef.fadeFactor}get textureIsFading(){return this._textureRef.isFading}_getElevationInfo(){const e=this.geometryState.samplerData,t=this.tile.layerInfo[h.ELEVATION],i=t.length;let s=new Array(i),a=0,o=0,n=!1;for(let l=0;l<i;l++){const i=t[l];if(r(i.upsampleInfo)){const t=i.upsampleInfo.tile,r=t.layerInfo[h.ELEVATION][l].data,d=r&&r.samplerData;e&&e[a]===d||(n=!0),s[a++]=d,o=Math.max(o,t.lij[0])}else if(i.data){const t=this.tile.surface.layerViewByIndex(l,h.ELEVATION);if(b(this.tile,t.layer,!1)){const t=i.data;e&&e[a]===t.samplerData||(n=!0),s[a++]=t.samplerData,o=this.tile.level}}}return r(e)&&e.length!==a&&(n=!0),a>0?s.length=a:s=null,{changed:n,samplerData:s,maxTileLevel:o}}get estimatedGeometryMemoryUsage(){const e=s(this.intersectionData,0,(e=>e.estimatedMemoryUsage));return this.geometryInfo.indices.byteLength+this.geometryInfo.vertexAttributes.byteLength+e}get textureDescriptor(){return r(this._texture)?this._texture.descriptor:null}get test(){return{hasTexture:null!=this._texture}}checkGeometryWaterproofness(){}}function G(e,t,i){if(r(i))for(const r of i)if(r){const i=r.x0,s=r.width,a=i+(s-1)/r.dx,o=r.y1,n=o-(s-1)/r.dy;if(e>=i-p&&e<=a+p&&n-p<=t&&t<=o+p)return!0}return!1}T.updatedGeometryTiles=new Map,T.deferTileNeighborUpdate=!1,T.neighborTilesToUpdate=new Set;export{T as PatchRenderData,G as isElevationSampleIn};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{clamp as e}from\"../../../core/mathUtils.js\";import{isSome as t,unwrapOr as n}from\"../../../core/maybe.js\";import{s as o,n as r,a,v as s,f as i,b as c}from\"../../../chunks/vec3.js\";import{c as l,f as u}from\"../../../chunks/vec3f64.js\";import{s as f}from\"../../../chunks/vec4.js\";import{empty as g}from\"../../../geometry/support/aaBoundingBox.js\";import{fromValues as d,containsXYWithMargin as m}from\"../../../geometry/support/aaBoundingRect.js\";import{sampleElevationOrZero as h}from\"./ElevationData.js\";import{PatchType as x}from\"./interfaces.js\";import{acquireTerrainAttributes as p,EdgeDescriptor as b}from\"./PatchGeometry.js\";import{PatchGeometryLUT as M}from\"./PatchGeometryLUT.js\";import\"./PatchRenderData.js\";import{GEOMETRY_VERTEX_STRIDE as S}from\"./TerrainConst.js\";import{internalAssert as y,neighborEdgeIndices as v}from\"./terrainUtils.js\";const D=65536;function O(e,t){const n=e.tile,{extent:s,extentInRadians:l,surface:u}=n,d=e.localOrigin,m=e.geometryState,b=u.isWebMercator,M=u.shadingEnabled,v=m.numVerticesPerSide,D=v-1,O=(v-2)**2,V=b&&(t===x.HAS_SOUTH_POLE||t===x.HAS_BOTH_POLES),A=b&&(t===x.HAS_NORTH_POLE||t===x.HAS_BOTH_POLES),P=6,B=((V?1:0)+(A?1:0))*P*(D+1),w=m.neighborData,I=w.edgeResolutions.reduce(((e,t)=>e+t+1),0),L=p(O+B+I),T=e.geometryInfo;T.numVerticesPerSide=m.numVerticesPerSide,T.vertexAttributes=L,f(T.uvOffsetAndScale,0,0,1,1);const U=L.position.typedBuffer,N=L.uv0.typedBuffer,j=L.normal.typedBuffer,Z=T.boundingBox;g(Z);const C=d[0],H=d[1],W=d[2];ge.update(D,l);let _=0;const X=m.samplerData,q=n.ellipsoid.radius,k=ee(e),G=v-2,z=s[0],F=s[2],J=s[1],Q=s[3];if((()=>{for(let e=1;e<=G;e++){const t=e/D,n=J*(1-t)+Q*t,o=k(t),r=Math.cos(o),a=Math.sin(o);for(let e=1;e<=G;e++){const o=e/D,s=z*(1-o)+F*o,i=ge.sinLonLUT[e],c=ge.cosLonLUT[e],l=q+h(s,n,X),u=c*r*l-C,f=i*r*l-H,g=a*l-W;ue(u,f,g,Z);const d=S*_;U[d+0]=u,U[d+1]=f,U[d+2]=g,N[d+0]=o,N[d+1]=t,++_}}})(),M){(()=>{const t=e=>(c(xe,e,Se),i(pe,xe,ye),i(be,pe,xe),be),n=L.position,s=L.normal;_=0;const l=e=>{n.getVec(e,he),a(ve,ve,t(he))},u=(e,n)=>{{const t=e/D,r=z*(1-t)+F*t,a=ge.sinLonLUT[e],s=ge.cosLonLUT[e],i=n/D,c=J*(1-i)+Q*i,l=k(i),u=Math.cos(l),f=Math.sin(l),g=q+h(r,c,X);o(he,s*u*g-C,a*u*g-H,f*g-W)}a(ve,ve,t(he))},f=(e,t,n)=>{e>1&&t>1&&e<G&&t<G?l(_+n):u(e,t)};for(let i=1;i<=G;i++)for(let t=1;t<=G;t++)n.getVec(_,Se),a(Me,Se,e.localOrigin),r(ye,Me),o(ve,0,0,0),f(t-1,i,-1),f(t+1,i,1),f(t,i-1,-G),f(t,i+1,+G),r(ve,ve),s.setVec(_,ve),++_})()}_=O,E(e,O),Y(e),_=O+I;const $=[];(()=>{const e=(e,t)=>{const n=t*v;ue(-C,-H,e*q-W,Z),$.push({connectedRowOffset:n,connectedOuterEdgeOffset:1===e?0:2,rowOffset:_,latitudeResolution:P});const o=K(-1===e?J:Q,q),r=e*Math.PI/2-o,a=.99*(1===e?1:-1),s=q+0;for(let i=1;i<=P;++i){const e=o+r*(i/P),t=Math.cos(e),n=Math.sin(e);for(let o=0;o<=D;o++){const e=o/D,r=ge.sinLonLUT[o],i=ge.cosLonLUT[o]*t*s-C,c=r*t*s-H,l=n*s-W;ue(i,c,l,Z);const u=S*_;if(U[u+0]=i,U[u+1]=c,U[u+2]=l,N[u+0]=e,N[u+1]=a,M){const e=1/Math.sqrt(i*i+c*c+l*l);j[u+0]=e*i,j[u+1]=e*c,j[u+2]=e*l}++_}}};V&&e(-1,0),A&&e(1,D)})(),R(T,m.numVerticesPerSide,$,[0,v-1],[0,v-1],m.wireframe),e.intersectionData=null;for(let o=0;o<4;++o)y(T.outerEdges[o].count===w.edgeResolutions[o]+1)}function V(n,o){const r=n.tile,a=r.extent,s=n.localOrigin,i=n.geometryState,c=r.surface,l=c.isWebMercatorOnPlateeCarree,u=c.shadingEnabled,m=a[0],x=a[1],b=a[2]-m,M=a[3]-x,y=i.clippingArea,v=t(y)?Math.max(0,(y[0]-a[0])/b):0,D=t(y)?Math.max(0,(y[1]-a[1])/M):0,O=t(y)?Math.min(1,(y[2]-a[0])/b):1,V=t(y)?Math.min(1,(y[3]-a[1])/M):1,A=O-v,P=V-D,B=A>0?1/A:1,w=P>0?1/P:1,L=-v*B,T=-D*w,U=i.numVerticesPerSide,N=U-1,Z=(U-2)**2+i.neighborData.edgeResolutions.reduce(((e,t)=>e+t+1),0),C=p(Z),H=C.position.typedBuffer,W=C.uv0.typedBuffer,_=C.normal.typedBuffer,X=n.geometryInfo,Y=X.boundingBox;g(Y);let q=0;const k=r.ellipsoid.radius,G=i.samplerData,z=t(y)?y:de,F=d(Math.max(a[0],z[0]),Math.max(a[1],z[1]),Math.min(a[2],z[2]),Math.min(a[3],z[3])),J=s[0],K=s[1],Q=s[2],$=j(l,k,o);(()=>{for(let t=1;t<=N-1;t++){const n=t/N,r=T+n*w,a=e(x+n*M,F[1],F[3]),s=e(r,0,1),i=$(a)-K,c=b/N;for(let t=1;t<=N-1;t++){const n=t/N,r=L+n*B,l=e(m+n*b,F[0],F[2]),f=e(r,0,1),g=h(l,a,G),d=l*o-J,x=g-Q;ue(d,i,x,Y);const p=S*q;if(H[p+0]=d,H[p+1]=i,H[p+2]=x,W[p+0]=f,W[p+1]=s,u){const e=h(l+c,a,G),t=h(l-c,a,G),n=h(l,a+c,G),o=.25*(t-e),r=.25*(h(l,a-c,G)-n),s=c,i=Math.sqrt(o*o+r*r+s*s);_[p+0]=o/i,_[p+1]=r/i,_[p+2]=s/i}++q}}})(),X.numVerticesPerSide=i.numVerticesPerSide,X.vertexAttributes=C,f(n.geometryInfo.uvOffsetAndScale,v,D,O-v,V-D),E(n,q),I(n,o),q=Z,R(X,i.numVerticesPerSide,[],[0,U-1],[0,U-1],i.wireframe),n.intersectionData=null}function R(e,t,n,o,r,a){const s=t-1,i=e.vertexAttributes.count,c=2*(Math.min(t-2,o[1])-Math.max(1,o[0]))*(Math.min(t-2,r[1])-Math.max(1,r[0])),l=v.map(((e,n)=>0===n&&r[1]<t-2||1===n&&o[1]<t-2||2===n&&r[0]>1||3===n&&o[0]>1)),u=3*(c+e.outerEdges.reduce(((e,t,n)=>e+(l[n]?0:s-2+t.count-1)),0)+n.reduce(((e,t)=>e+s*(2*(t.latitudeResolution-1)+1)),0))*(a?2:1),f=new(i>D?Uint32Array:Uint16Array)(u);let g=0;const d=a?(e,t,n)=>{f[g++]=e,f[g++]=t,f[g++]=t,f[g++]=n,f[g++]=n,f[g++]=e}:(e,t,n)=>{f[g++]=e,f[g++]=t,f[g++]=n},m=t-2,h=s-2;(()=>{for(let e=Math.max(r[0],1)-1;e<Math.min(r[1],t-2)-1;++e)for(let n=Math.max(o[0],1)-1;n<Math.min(o[1],t-2)-1;++n){const t=e*m+n,o=t+1,r=o+m,a=r-1;d(t,o,r),d(r,a,t)}})();(()=>{for(let t=0;t<4;++t){if(l[t])continue;const n=e.outerEdges[t],o=e.innerEdges[t];let r=0,a=0;const i=n.count,c=o.count;n.count;const u=1===t||2===t?(e,t,n)=>d(e,t,n):(e,t,n)=>d(e,n,t);for(;r<i-1||a<c-1;){const e=o.getVertexOffset(a),t=n.getVertexOffset(r),l=r<i-1,f=a<c-1,g=l?0+s*(r+.5)/(i-1):0,d=f?1+h*(a+.5)/(c-1):0;if(l&&(!f||g<=d)){++r;u(e,t,n.getVertexOffset(r))}else{++a;u(e,t,o.getVertexOffset(a))}}}})();const x=n=>{let o=e.outerEdges[n.connectedOuterEdgeOffset].offset0;for(let e=0;e<n.latitudeResolution;++e){const r=0===e?n.rowOffset:o+t;for(let t=0;t<s;t++)d(o,o+1,r+t),e<n.latitudeResolution-1&&d(o+1,r+t+1,r+t),++o;o=r}};(()=>{n.forEach(x)})(),e.indices=f,e.indexCount=u}function E(e,t){const n=e.localOrigin,o=e.geometryInfo,r=e.geometryState.neighborData.edgeResolutions,a=o.numVerticesPerSide-2,s=o.vertexAttributes.position.typedBuffer;let i=t;for(let c=0;c<4;++c){{const e=0===c||2===c,t=(0===c?a-1:0)*a+(1===c?a-1:0),r=(e?0:1)*a+(e?1:0);o.innerEdges[c]=new b(s,n,t,r,a)}{const e=i,t=r[c]+1;o.outerEdges[c]=new b(s,n,e,1,t),i+=t}}}function A(e){H(e),te(e);const t=e.vao,n=e.geometryInfo.vertexAttributes;t?.vertexBuffers?.geometry?.setSubData(n.position.typedBuffer)}function P(e){Y(e),X(e)}function B(e,t){W(e,t),ne(e,t),X(e)}function w(e,t){I(e,t),X(e)}function I(e,t){W(e,t),k(e,t),ne(e,t)}function L(e,t,n,o,r){const a=Math.cos(n),s=Math.sin(n),i=Math.sin(t),c=Math.cos(t),l=r+o;e[0]=c*a*l,e[1]=i*a*l,e[2]=s*l}function T(e,t,n,o,r,a){const s=r[0===n?1:3];L(e,r[0===t?0:2],s,o,a)}function U(e,t){return(Math.PI/2-2*Math.atan(Math.exp(-e/t)))*t}function N(e,t){return e*t}function j(e,t,n){return e?e=>U(e,t):e=>N(e,n)}function Z(e,t,n,o,r,a,s){const i=0===t?r[0]:r[2],c=0===n?r[1]:r[3],l=o;e[0]=i*a,e[1]=s(c),e[2]=l}function C(o,r){const a=o.geometryState,s=o.tile,i=s.extent,c=n(a.clippingArea,i),l=o.geometryInfo,u=l.boundingBox,f=l.outerEdges,g=a.neighborData.cornerNeighborData,d=l.uvOffsetAndScale[0],m=l.uvOffsetAndScale[1],x=l.uvOffsetAndScale[2],p=l.uvOffsetAndScale[3],b=x>0?1/x:1,M=p>0?1/p:1,S=-d*b,y=-m*M,v=s.surface.isWebMercatorOnPlateeCarree,D=j(v,v?s.ellipsoid.radius:0,r),O=a.samplerData,V=a.neighborData.edgeNeighbours,R=o.localOrigin,E=(n,o,a,l,f)=>{const d=i[0]*(1-l)+i[2]*l,m=i[1]*(1-f)+i[3]*f,x=e(d,c[0],c[2]),p=e(m,c[1],c[3]),v=[p===i[3],x===i[2],p===i[1],x===i[0]],E=!v[3]&&!v[1]||!v[0]&&!v[2],A=E?v[0]&&t(V[0])?V[0]:v[1]&&t(V[1])?V[1]:v[2]&&t(V[2])?V[2]:v[3]&&t(V[3])?V[3]:null:null,P=E?A?A.neighborTile.level===s.level?.5*(h(x,p,O)+h(x,p,A.neighborSamplerData)):h(x,p,A.neighborSamplerData):h(x,p,O):g[a].elevation,B=x*r-R[0],w=D(p)-R[1],I=P-R[2];ue(B,w,I,u);const L=e(S+l*b,0,1),T=e(y+f*M,0,1);n.setVertexRawXYZUV(o,B,w,I,L,T)};for(let e=0;e<4;++e){const t=f[e];E(t,0,0===e?3:1===e?1:2,1===e?1:0,0===e?1:0);const n=2===e?1:3===e?3:0,o=3===e?0:1,r=2===e?0:1;E(t,t.count-1,n,o,r)}}function H(e){_(e,((t,n,o,r)=>T(t,n,o,r,e.tile.extentInRadians,e.tile.ellipsoid.radius)))}function W(e,n){const o=e.tile;t(o.renderData.geometryState.clippingArea)?C(e,n):_(e,((t,r,a,s)=>Z(t,r,a,s,e.tile.extent,n,j(o.surface.isWebMercatorOnPlateeCarree,o.ellipsoid.radius,n))))}function _(e,t){const n=e.geometryInfo,o=n.outerEdges,r=e.geometryState.neighborData.cornerNeighborData,a=n.boundingBox,s=e.localOrigin,i=(e,n,o,i,c)=>{t(me,o,i,r[n].elevation);for(let t=0;t<3;++t)me[t]-=s[t];ue(me[0],me[1],me[2],a),e.setVertexRawXYZUV(c,me[0],me[1],me[2],o,i)};for(let c=0;c<4;++c){const e=o[c];i(e,0===c?3:1===c?1:2,1===c?1:0,0===c?1:0,0);i(e,2===c?1:3===c?3:0,3===c?0:1,2===c?0:1,e.count-1)}}function X(e){const t=e.vao,n=e.geometryInfo.vertexAttributes;t?.vertexBuffers?.geometry?.setSubData(n.position.typedBuffer)}function Y(e){H(e);for(let t=0;t<4;++t)q(e,t);te(e)}function q(e,t){const n=e.geometryState,c=n.neighborData,l=e.tile;l.level;const f=l.extent,g=f[2]-f[0],d=f[3]-f[1],m=l.extentInRadians,x=m[0];m[1];const p=m[2];m[3];const b=l.ellipsoid.radius,M=ee(e),y=e=>{if(!e)return 0;const t=D,n=O?0:1,o=e.lij[n+1]*L,r=l.lij[n+1]-o;return(O?L-1-r:r)*t},v=c.edgeNeighbours[t],D=c.edgeResolutions[t],O=1===t||3===t,V=1===t?1:0,R=0===t?1:0,E=f[0]+V*g,A=f[1]+R*d,P=x*(1-V)+p*V,B=M(R),w=v?.neighborTile,I=l.level-(w?.level??l.level),L=2**I,T=D*L,U=y(w),N=w?.extent,j=(t+2)%4,Z=n.samplerData,C=w?.renderData?.geometryState?.samplerData,H=w&&0===I,W=(e,t,n,o)=>.5*(h(e,t,C)+h(n,o,Z)),_=(e,t)=>h(e,t,C),X=H?W:_;let Y=N?1===j?N[2]:N[0]:E,q=N?0===j?N[3]:N[1]:A;const k=(e,t,n)=>{const o=(U+e)/T;return q=N[1]*(1-o)+N[3]*o,X(Y,q,t,n)},G=(e,t,n)=>{const o=(U+e)/T;return Y=N[0]*(1-o)+N[2]*o,X(Y,q,t,n)},z=w?O?k:G:(e,t,n)=>h(t,n,Z),F=(e,t,n)=>z(e,t,n);let J=V,K=E,Q=P,$=R,te=A,ne=B,oe=Math.sin(Q),re=Math.cos(Q),ae=Math.cos(ne),se=Math.sin(ne);const ie=O?()=>M($):()=>B,ce=O?e=>{$=e,te=f[1]*(1-e)+f[3]*e,ne=ie(),ae=Math.cos(ne),se=Math.sin(ne)}:e=>{J=e,K=f[0]*(1-e)+f[2]*e,Q=x*(1-J)+p*J,oe=Math.sin(Q),re=Math.cos(Q)},le=e.geometryInfo,fe=le.boundingBox,ge=le.vertexAttributes,de=ge.position.typedBuffer,me=ge.uv0.typedBuffer,Se=ge.normal.typedBuffer,De=le.outerEdges[t];let Oe=De.getVertexOffset(1);const Ve=D+1,Re=e.localOrigin,Ee=Re[0],Ae=Re[1],Pe=Re[2],Be=l.surface.shadingEnabled,we=1===t?-1:3===t?1:0,Ie=0===t?-1:2===t?1:0,Le=g/D,Te=we*Le,Ue=Ie*Le,Ne=we*(1/D),je=Ie*(1/D),Ze=e=>{s(xe,e,Me),i(pe,xe,ye),i(be,pe,xe),a(ve,ve,be)};for(let a=1;a<Ve-1;++a){ce(a/D);const e=F(a,K,te),t=b+e,n=re*ae*t,s=oe*ae*t,i=se*t,c=n-Ee,l=s-Ae,f=i-Pe;ue(c,l,f,fe);const g=S*Oe;if(de[g+0]=c,de[g+1]=l,de[g+2]=f,me[g+0]=J,me[g+1]=$,Be){o(ve,0,0,0),o(Me,n,s,i),r(ye,Me);const e=(e,t)=>{const n=h(K+e*Te,te+e*Ue,t),o=b+n,r=J+e*Ne,a=x*(1-r)+p*r,s=Math.sin(a),i=Math.cos(a),c=M($+e*je),l=Math.sin(c),f=Math.cos(c),g=u(i*f*o,s*f*o,l*o);Ze(g)};w&&e(-1,C),w&&!H||e(1,Z),Se[g+0]=ve[0],Se[g+1]=ve[1],Se[g+2]=ve[2]}++Oe}if(Be)for(let o=1;o<Ve-1;++o)De.getVertexRawNormal(ve,o),De.getVertex(Me,o),r(ye,Me),De.getVertex(he,o-1),Ze(he),De.getVertex(he,o+1),Ze(he),r(ve,ve),De.setVertexRawNormal(o,ve[0],ve[1],ve[2])}function k(e,n){const o=e.geometryState.clippingArea,r=e.tile.extent,a=t(o)&&(r[0]<o[0]||r[2]>o[2]||r[1]<o[1]||r[3]>o[3])?J:F;for(let t=0;t<4;++t)a(e,t,n)}function G(e,t,n,o,r,a,s){return s===r?!e||t?(e,t)=>h(e,t,n):null:s===a?e?(e,t)=>h(e,t,o):null:null}function z(e,t,n,o){if(t!==e)return()=>0;const r=t?3:2,a=t?1:0,s=o(r,a),i=o(a,r),c=(null!=s?1:0)+(null!=i?1:0),l=t?n:0,u=t?0:n;return(e,t,n)=>((null!=s?-(s(e+l,t+u)-n):0)+(null!=i?+(i(e-l,t-u)-n):0))/c}function F(e,n,o){const r=e.geometryState.neighborData,a=r.edgeNeighbours,s=e.tile,i=s.level,c=s.surface,l=c.shadingEnabled,u=a[n],f=r.edgeResolutions[n],g=f,d=s.extent,m=e.geometryState,x=g+1,p=u,b=e.localOrigin,M=m.samplerData,S=(e,t)=>h(e,t,M),y=(e,t)=>.5*(h(e,t,p.neighborSamplerData)+h(e,t,M)),v=(e,t)=>h(e,t,p.neighborSamplerData),D=p?.neighborTile.level===i,O=D?y:v,V=t(p)?O:S,R=e.geometryInfo,E=R.outerEdges[n],A=j(c.isWebMercatorOnPlateeCarree,s.ellipsoid.radius,o),P=R.boundingBox,B=1===n||3===n,w=1===n?d[2]:d[0],I=0===n?d[3]:d[1],L=1===n?1:0,T=0===n?1:0,U=(d[2]-d[0])/f,N=p?.neighborSamplerData,Z=t(p),C=(e,t)=>G(Z,D,M,N,e,t,n),H=z(B,!0,U,C),W=z(B,!1,U,C);for(let t=1;t<x-1;++t){const e=t/g,n=B?w:d[0]*(1-e)+d[2]*e,r=B?d[1]*(1-e)+d[3]*e:I,a=B?L:e,s=B?e:T,i=V(n,r),c=n*o-b[0],u=A(r)-b[1],f=i-b[2];if(ue(c,u,f,P),l){const e=H(n,r,i),o=W(n,r,i),l=U;E.setVertexRawXYZUVN(t,c,u,f,a,s,e,o,l)}else E.setVertexRawXYZUV(t,c,u,f,a,s)}if(l){const e=B?0:1,t=B?1:0;for(let n=1;n<x-1;++n){E.getNormal(De,n);const o=E.getVertexZ(n-1)-E.getVertexZ(n+1),r=De[0]+.5*e*o,a=De[1]+.5*t*o,s=2*U,i=1/Math.sqrt(r*r+a*a+s*s);E.setVertexRawNormal(n,i*r,i*a,i*s)}}}function J(o,r,a){const s=o.geometryState.neighborData,i=s.edgeNeighbours,c=o.tile,l=c.level,u=c.surface,f=u.shadingEnabled,g=i[r],d=s.edgeResolutions[r],m=d,x=c.extent,p=o.geometryState,b=n(p.clippingArea,de),M=o.geometryInfo,S=M.uvOffsetAndScale[0],y=M.uvOffsetAndScale[1],v=S+M.uvOffsetAndScale[2],D=y+M.uvOffsetAndScale[3],O=v>S?1/(v-S):1,V=D>y?1/(D-y):1,R=-S*O,E=-y*V,A=m+1,P=[x[3]>b[3],x[2]>b[2],x[1]<b[1],x[0]<b[0]],B=g,w=p.samplerData,I=(e,t)=>h(e,t,w),L=B?.neighborTile.level===l,T=(e,t)=>{const n=h(e,t,B.neighborSamplerData);return L?.5*(n+h(e,t,w)):n},U=I,N=t(B)?T:I,Z=P[r]?U:N,C=M.outerEdges[r],H=M.boundingBox,W=1===r||3===r,_=e(1===r?x[2]:x[0],b[0],b[2]),X=e(0===r?x[3]:x[1],b[1],b[3]),Y=1===r?1:0,q=0===r?1:0,k=o.localOrigin,F=j(u.isWebMercatorOnPlateeCarree,c.ellipsoid.radius,a),J=(x[2]-x[0])/d,K=B?.neighborSamplerData,Q=t(B),$=B?.neighborTile.level===l,ee=(e,t)=>G(Q,$,w,K,e,t,r),te=z(W,!0,J,ee),ne=z(W,!1,J,ee);for(let t=1;t<A-1;++t){const n=t/m,o=W?_:e(x[0]*(1-n)+x[2]*n,b[0],b[2]),r=W?e(x[1]*(1-n)+x[3]*n,b[1],b[3]):X,s=W?Y:e(R+n*O,0,1),i=W?e(E+n*V,0,1):q,c=Z(o,r),l=o*a-k[0],u=F(r)-k[1],g=c-k[2];if(ue(l,u,g,H),f){const e=te(o,r,c),n=ne(o,r,c),a=J;C.setVertexRawXYZUVN(t,l,u,g,s,i,e,n,a)}else C.setVertexRawXYZUV(t,l,u,g,s,i)}if(f){const e=W?0:1,t=W?1:0;for(let n=1;n<A-1;++n){C.getNormal(De,n);const o=C.getVertexZ(n-1)-C.getVertexZ(n+1),r=De[0]+.5*e*o,a=De[1]+.5*t*o,s=2*J,i=1/Math.sqrt(r*r+a*a+s*s);C.setVertexRawNormal(n,i*r,i*a,i*s)}}}function K(e,t){return Math.PI/2-2*Math.atan(Math.exp(-e/t))}function Q(e,t,n,o){return K(e+o*(t-e),n)}function $(e,t,n){return e*(1-n)+t*n}function ee(e){const t=e.tile;if(t.surface.isWebMercator){const e=t.extent,n=t.ellipsoid.radius;return t=>Q(e[1],e[3],n,t)}const n=t.extentInRadians;return e=>$(n[1],n[3],e)}function te(e){e.tile.surface.shadingEnabled&&le(e,((e,t,n,o,r,a,s)=>oe(t,e,n,o,r,a,s)))}function ne(e,t){e.tile.surface.shadingEnabled&&le(e,((n,o,r,a,s,i,c)=>re(se(e,t),n,r,s,i,c)))}function oe(e,t,n,o,r,a,c){ae(e,he,r,a,c),s(xe,he,n),i(pe,xe,o),i(t,pe,xe)}function re(e,t,n,o,r,a){e(he,o,r,a);const s=he[0]-n[0],i=he[1]-n[1],c=he[2]-n[2];t[0]=-s*c,t[1]=-i*c,t[2]=s*s+i*i}function ae(e,t,n,o,r){const a=ee(e),s=e.tile,i=s.extent;y(m(i,n,o,1));const c=(n-i[0])/(i[2]-i[0]),l=(o-i[1])/(i[3]-i[1]),u=s.extentInRadians;L(t,u[0]*(1-c)+u[2]*c,a(l),r,s.ellipsoid.radius)}function se(e,t){return e.tile.surface.isWebMercatorOnPlateeCarree?(n,o,r,a)=>ce(t,e.tile.ellipsoid.radius,n,o,r,a):(e,n,o,r)=>ie(t,e,n,o,r)}function ie(e,t,n,o,r){t[0]=n*e,t[1]=o*e,t[2]=r}function ce(e,t,n,o,r,a){n[0]=o*e,n[1]=(Math.PI/2-2*Math.atan(Math.exp(-r/t)))*t,n[2]=a}function le(e,t){if(!e.tile.surface.shadingEnabled)return;const n=e.geometryState.neighborData.cornerNeighborData,s=e.tile,i=s.extent,c=\"local\"===e.tile.surface.view?.viewingMode;c&&o(ye,0,0,1);{const l=(e,n,o,r)=>{t(be,e.renderData,Me,ye,n,o,r),a(ve,ve,be)},u=1,f=(e,t,n,o,r,a)=>{const s=1===a?r.extent[0]:3===a?r.extent[2]:e,i=0===a?r.extent[1]:2===a?r.extent[3]:t,c=s+fe[n][0]*o,f=i+fe[n][1]*o;y(m(r.extent,c,f,u));const g=h(c,f,r.renderData.geometryState.samplerData);l(r,c,f,g)},g=(e,t,n)=>e.extent[0===t||1===t?2:0]+n,d=(e,t,n)=>e.extent[0===t||3===t?3:1]+n,x=(e,t,n,o)=>{const r=g(n,o,fe[e][0]*t),a=d(n,o,fe[e][1]*t);y(m(n.extent,r,a,u));const s=h(r,a,n.renderData.geometryState.samplerData);l(n,r,a,s)},p=(e,t,n,o,r,a)=>{const s=fe[e][0]*t,i=fe[e][1]*t,c=g(n,o,s),f=d(n,o,i),x=g(r,a,s),p=d(r,a,i);y(m(n.extent,c,f,u)),y(m(r.extent,x,p,u));const b=h(c,f,n.renderData.geometryState.samplerData),M=h(x,p,r.renderData.geometryState.samplerData);l(n,c,f,.5*(b+M))},b=e=>{const t=0===e||1===e?i[2]:i[0],o=0===e||3===e?i[3]:i[1],r=n[e].cornerTiles,a=r.reduce(((e,t)=>Math.min(e,t?.level??1/0)),1/0);for(let n=0;n<4;++n){const e=r[n];Ve[n]=e?.level===a?e:null}for(let n=0;n<4;++n){const e=Ve[(n+3)%4],r=Ve[n];if(null!=e&&e!==s&&e===r){const r=e,a=(n+2)%4,i=r.renderData.geometryState.neighborData.edgeResolutions[a],c=Math.max(i,2**(s.level-r.level)),l=(r.extent[2]-r.extent[0])/c,u=(n+0)%4,g=(n+1)%4;return f(t,o,(n+3)%4,l,r,n),f(t,o,u,l,r,n),f(t,o,g,l,r,n),ve}}{y(Ve.some((e=>e?.isLoaded||e===s)));const e=Ve.reduce(((e,t)=>t?t.extent[2]-t.extent[0]:e),0)/Ve.reduce(((e,t)=>Math.max(e,t?.renderData.geometryState.numVerticesPerSide??1)),1);for(let t=0;t<4;++t){const n=Ve[(t+3)%4],o=Ve[(t+0)%4];if(!n&&!o)continue;const r=0===t?1:1===t?2:2===t?3:0,a=0===t?2:1===t?3:2===t?0:1;if(n&&o)p(t,e,n,r,o,a);else{x(t,e,n??o,n?r:a)}}}return ve};for(let t=0;t<4;++t){const n=e.geometryInfo.outerEdges[t],a=1===t||2===t?0:n.count-1;n.getVertex(Me,a),c||r(ye,Me),o(ve,0,0,0);const s=b(t);r(Oe[t],s)}}{const t=(e,t,n,o,r)=>{e.setVertexRawNormal(r,t,n,o)},n=e.geometryInfo.outerEdges;for(let e=0;e<4;++e){const o=n[e];{const n=Oe[0===e?3:1===e?1:2];t(o,n[0],n[1],n[2],0)}{const n=Oe[2===e?1:3===e?3:0];t(o,n[0],n[1],n[2],o.count-1)}}}}function ue(e,t,n,o){e<o[0]?o[0]=e:e>o[3]&&(o[3]=e),t<o[1]?o[1]=t:t>o[4]&&(o[4]=t),n<o[2]?o[2]=n:n>o[5]&&(o[5]=n)}const fe=[[0,1],[1,0],[0,-1],[-1,0]],ge=new M,de=d(-1/0,-1/0,1/0,1/0),me=l(),he=l(),xe=l(),pe=l(),be=l(),Me=l(),Se=l(),ye=l(),ve=l(),De=l(),Oe=[l(),l(),l(),l()],Ve=[null,null,null,null];export{V as createPlanarGlobePatch,O as createSphericalGlobePatch,B as updateCornerElevationsPlanar,A as updateCornerElevationsSpherical,w as updateEdgesElevationsAndNormalsPlanar,P as updateEdgesElevationsSpherical};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import{f as t,c as r}from\"../../../chunks/vec3f64.js\";import{projectVectorToVector as i}from\"../../../geometry/projection.js\";import s from\"../../../geometry/SpatialReference.js\";import{wrap as a}from\"../../../geometry/support/aaBoundingBox.js\";import{create as o}from\"../../../geometry/support/aaBoundingRect.js\";import{intersectsAABB as n}from\"../../../geometry/support/frustum.js\";import{isPlateCarree as h}from\"../../../geometry/support/spatialReferenceUtils.js\";import{createPlanarGlobePatch as c,updateCornerElevationsPlanar as l,updateEdgesElevationsAndNormalsPlanar as m}from\"./PatchGeometryFactory.js\";import{Tile as p,CenterPosition as d}from\"./Tile.js\";import{intersectAabbInvDirBefore as u}from\"../webgl-engine/materials/internal/MaterialUtil.js\";class f extends p{constructor(e,t,r){super(),this.horizontalScaleFactor=1,this.extentInRenderSR=o(),void 0!==e&&this.init(e,t,r)}init(r,a,o){super.init(r,a,o);const n=o.view.renderSpatialReference,c=o.spatialReference,l=e(n)&&h(n)&&c.isGeographic?this.ellipsoid.radius*Math.PI/180:1;this.horizontalScaleFactor=l;const m=this.surface.isWebMercatorOnPlateeCarree,p=this.extentInRenderSR,d=this.extent;if(m){const e=t(d[0],d[1],0);i(e,s.WebMercator,e,s.PlateCarree);const r=t(d[2],d[3],0);i(r,s.WebMercator,r,s.PlateCarree),p[0]=e[0],p[1]=e[1],p[2]=r[0],p[3]=r[1]}else for(let e=0;e<4;++e)p[e]=d[e]*l;this.centerAtSeaLevel[0]=.5*(p[0]+p[2]),this.centerAtSeaLevel[1]=.5*(p[1]+p[3]),this.centerAtSeaLevel[2]=0,this._edgeLen=Math.max(p[2]-p[0],p[3]-p[1]),this._edgeLen2=this._edgeLen*this._edgeLen,this.updateRadiusAndCenter()}updateRadiusAndCenter(){this._updateCenter();const e=this.extentInRenderSR,t=.5*(e[2]-e[0]),r=.5*(e[3]-e[1]),i=Math.sqrt(t*t+r*r),s=.5*(this.elevationBounds[0]-this.elevationBounds[1]),a=Math.max(i,s);this._center[d.MIDDLE][3]=a}_isVisible(e){return n(e,this._aabb())}_aabb(){const e=this.extentInRenderSR;return a(e[0],e[1],this.elevationBounds[0],e[2],e[3],this.elevationBounds[1])}intersectsRay(e,t,r,i){return g[0]=1/t[0],g[1]=1/t[1],g[2]=1/t[2],u(this._aabb(),e,g,r,i)}createGeometry(){c(this.renderData,this.horizontalScaleFactor),this.setMemoryDirty()}getDefaultVerticesPerRowOnLevel(){return this.level<9?3:2}updateCornerElevations(){l(this.renderData,this.horizontalScaleFactor)}updateEdgeElevations(){m(this.renderData,this.horizontalScaleFactor)}}const g=r();export{f as PlanarPatch};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nvar O;!function(O){O[O.BACK_TO_FRONT=-1]=\"BACK_TO_FRONT\",O[O.NONE=0]=\"NONE\",O[O.FRONT_TO_BACK=1]=\"FRONT_TO_BACK\"}(O||(O={}));export{O as RenderOrder};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{lerp as t}from\"../../../core/mathUtils.js\";import{n as e,s as i,d as s}from\"../../../chunks/vec3.js\";import{c as r,d as o}from\"../../../chunks/vec3f64.js\";import{lonLatToSphericalPCPF as a}from\"../../../geometry/projection.js\";import{getReferenceEllipsoid as n}from\"../../../geometry/projectionEllipsoid.js\";import{intersectsSphere as h,NumPlanes as l,PlaneIndex as d}from\"../../../geometry/support/frustum.js\";import{create as c}from\"../../../geometry/support/plane.js\";import{PatchType as u}from\"./interfaces.js\";import{createSphericalGlobePatch as p,updateCornerElevationsSpherical as m,updateEdgesElevationsSpherical as _}from\"./PatchGeometryFactory.js\";import{Tile as f}from\"./Tile.js\";class D extends f{constructor(t,e,i){super(),this.obb=new Array(8);for(let s=0;s<8;s++)this.obb[s]=r();void 0!==t&&this.init(t,e,i)}init(i,s,r){super.init(i,s,r);const n=this.ellipsoid.radius,h=this.extentInRadians[0],l=this.extentInRadians[1],d=this.extentInRadians[2],c=this.extentInRadians[3],u=i[0],p=t(l,c,.5),m=t(h,d,.5),_=0===u?0:Math.min(Math.abs(l),Math.abs(c));this._edgeLen=(d-h)*Math.cos(_)*n,this._edgeLen2=this._edgeLen*this._edgeLen,this._curvatureHeight=n-Math.sqrt(n*n-this._edgeLen2/4),a(this.centerAtSeaLevel,m,p,this.ellipsoid.radius);const f=o(this.centerAtSeaLevel);e(f,f),this.up=f,this._updateOBB(),this.updateRadiusAndCenter()}updateRadiusAndCenter(){if(0===this.lij[0])i(this._center[E.MIDDLE],0,0,0),i(this._center[E.TOP],0,0,0),i(this._center[E.BOTTOM],0,0,0),this.ellipsoid||(this.ellipsoid=n(this.surface.spatialReference)),this._center[E.MIDDLE][3]=this.ellipsoid.radius+this.elevationBounds[1];else{this._updateCenter();const t=Math.max(s(this._center[E.MIDDLE],this.obb[0]),s(this._center[E.MIDDLE],this.obb[1]));this._center[E.MIDDLE][3]=Math.sqrt(t)}}_isVisible(t){if(!h(t,this._center[E.MIDDLE]))return!1;if(this.lij[0]<10)return!0;const e=this.obb;for(let i=0;i<l.NUM;i++){const s=i===d.NEAR,r=t[i];s&&(O[0]=r[0],O[1]=r[1],O[2]=r[2],O[3]=r[3]-this.surface.view.state.camera.near);const o=s?O:r;let a;for(a=0;a<8;a++){const t=e[a];if(o[0]*t[0]+o[1]*t[1]+o[2]*t[2]+o[3]<0)break}if(8===a)return!1}return!0}computeElevationBounds(){super.computeElevationBounds(),this._updateOBB()}createGeometry(){const t=this._getPatchType(this.lij[1],this.lij[0]);p(this.renderData,t),this.setMemoryDirty()}_updateOBB(){const t=this.extentInRadians,e=this.obb;for(let i=0;i<2;i++){const s=this.elevationBounds[i];let r=4*i;a(e[r++],t[0],t[1],this.ellipsoid.radius+s),a(e[r++],t[0],t[3],this.ellipsoid.radius+s),a(e[r++],t[2],t[3],this.ellipsoid.radius+s),a(e[r++],t[2],t[1],this.ellipsoid.radius+s)}if(this.surface.isWebMercator)switch(this._getPatchType(this.lij[1],this.lij[0])){case u.HAS_NORTH_POLE:i(e[1],0,0,this.ellipsoid.radius),i(e[2],0,0,this.ellipsoid.radius),i(e[5],0,0,this.ellipsoid.radius),i(e[6],0,0,this.ellipsoid.radius);break;case u.HAS_SOUTH_POLE:i(e[0],0,0,-this.ellipsoid.radius),i(e[3],0,0,-this.ellipsoid.radius),i(e[4],0,0,-this.ellipsoid.radius),i(e[7],0,0,-this.ellipsoid.radius)}}_getPatchType(t,e){return t===(1<<e)-1?0===t?u.HAS_BOTH_POLES:u.HAS_SOUTH_POLE:0===t?u.HAS_NORTH_POLE:u.REGULAR}intersectsRay(t,e,i,s){const r=this._center[E.MIDDLE],o=r[3]+i,a=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=r[0]-t[0],h=r[1]-t[1],l=r[2]-t[2],d=(n*e[0]+h*e[1]+l*e[2])/a,c=e[0]*d-n,u=e[1]*d-h,p=e[2]*d-l;return c*c+u*u+p*p<o*o}getDefaultVerticesPerRowOnLevel(){return this.level<L.length?L[this.level]+1:2}updateCornerElevations(){m(this.renderData)}updateEdgeElevations(){_(this.renderData)}}const L=[128,64,32,16,16,8,8,4],O=c();var E;!function(t){t[t.TOP=0]=\"TOP\",t[t.MIDDLE=1]=\"MIDDLE\",t[t.BOTTOM=2]=\"BOTTOM\"}(E||(E={}));export{E as CenterPosition,D as SphericalPatch};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/ObjectPool.js\";import t from\"../../../core/PooledArray.js\";import{c as s}from\"../../../chunks/vec4.js\";import{c as i}from\"../../../chunks/vec4f64.js\";class r{constructor(){this.extent=i(),this.minLevel=0,this.maxLevel=0,this.callback=null}}class u{constructor(){this._queries=new t({initialSize:10}),this._queriesInvPtr=0,this._queryQueue=new t({initialSize:30}),this._queryPool=new e(r)}queryVisibleLevelRange(e,t,i,r){const u=this._queryPool.acquire();s(u.extent,e),u.minLevel=t||-Number.MAX_VALUE,u.maxLevel=null!=i?i:Number.MAX_VALUE,u.callback=r,this._queryQueue.push(u)}hasPendingQueries(){return 0!==this._queryQueue.length}prepareQueries(){for(;this._queries.length<this._queries.data.length&&this._queryQueue.length>0;){const e=this._queryQueue.pop();this._queries.push(e)}this._queriesInvPtr=this._queries.length}processQueries(){for(let e=0;e<this._queries.length;e++){const t=this._queries.data[e];this._queryPool.release(t),t.callback(e>=this._queriesInvPtr),t.callback=null}this._queries.clear()}scaleQueriesForTile(e){const t=e.level;let s=0;for(;s<this._queriesInvPtr;){const i=this._queries.data[s],r=i.extent;t>=i.minLevel&&t<=i.maxLevel&&r[0]<=e.extent[2]&&r[2]>=e.extent[0]&&r[1]<=e.extent[3]&&r[3]>=e.extent[1]?(this._queries.swapElements(s,this._queriesInvPtr-1),this._queriesInvPtr--):s++}}}export{u as ScaleRangeQueries};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{LayerBlendMode as o}from\"../webgl-engine/core/shaderLibrary/output/BlendOptions.js\";import{parameter as r,ShaderTechniqueConfiguration as n}from\"../webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js\";class s extends n{constructor(){super(...arguments),this.blendMode=o.Normal}}e([r({count:o.COUNT})],s.prototype,\"blendMode\",void 0);export{s as BlendModeTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{Z as r}from\"../../../chunks/vec3f64.js\";import{BlendModeTechniqueConfiguration as o}from\"./BlendModeTechniqueConfiguration.js\";import{LayerBlendMode as i}from\"../webgl-engine/core/shaderLibrary/output/BlendOptions.js\";import{TileCompositePassParameters as t}from\"../webgl-engine/core/shaderLibrary/terrain/TileComposite.glsl.js\";import{B as s,a as n,b as l}from\"../../../chunks/BlendLayers.glsl.js\";import{ReloadableShaderModule as a}from\"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as u}from\"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";import{parameter as p}from\"../webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as c}from\"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{Program as m}from\"../webgl-engine/lib/Program.js\";import{BlendFactor as d}from\"../../webgl/enums.js\";import{makePipelineState as h,simpleBlendingParams as g,defaultColorWriteParams as b}from\"../../webgl/renderState.js\";class f extends t{constructor(){super(...arguments),this.opacity=1,this.baseOpacity=1,this.texture=null,this.fboTexture=null,this.blendMode=i.Normal,this.backgroundColor=r}}class j extends u{initializeProgram(e){const r=j.shader.get().build(this.configuration);return new m(e.rctx,r,c)}initializePipeline(){return h({blending:g(d.ONE,d.ONE_MINUS_SRC_ALPHA),colorWrite:b})}}j.shader=new a(l,(()=>import(\"../webgl-engine/core/shaderLibrary/util/BlendLayers.glsl.js\")));class w extends o{constructor(){super(...arguments),this.output=s.Composite,this.baseOpacityMode=n.One,this.premultipliedSource=!1}}e([p({count:s.COUNT})],w.prototype,\"output\",void 0),e([p({count:n.COUNT})],w.prototype,\"baseOpacityMode\",void 0),e([p()],w.prototype,\"premultipliedSource\",void 0);export{f as BlendLayersPassParameters,j as BlendLayersTechnique,w as BlendLayersTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{f as s}from\"../../../chunks/vec3f64.js\";import{f as t}from\"../../../chunks/vec4f64.js\";class e{constructor(e,f,o,r,c,i){this.texture=e,this.type=f,e.retain(),this.offsetAndScale=t(o.offset[0],o.offset[1],o.scale,o.scale),this.opacities=s(r,i,c)}destroy(){this.texture.release()}}export{e as TextureReference};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport\"../../../../geometry.js\";import e from\"../../../../Viewpoint.js\";import t from\"../../ViewState.js\";import i from\"../../../../geometry/Point.js\";const r=.125;class s{constructor(){this._renderParams={context:null,drawPhase:1,state:new t({viewpoint:new e({targetGeometry:new i(0,0),scale:1,rotation:0}),size:[256,256]}),stationary:!0,pixelRatio:1,displayLevel:-1,requiredLevel:-1,globalOpacity:1,renderPass:\"background\",styleLayer:null,styleLayerUID:-1,painter:null,glyphMosaic:null,spriteMosaic:null,profiler:null,renderingOptions:null,requestRender:null,deltaTime:-1,timeline:null,time:0,hasClipping:!1,blendMode:null,dataUploadCounter:0,effects:null,inFadeTransition:!1,requireFBO:!1}}dispose(){this._renderParams=null}render(e,t,i,s,a,l,n,o,p,d){const u=l.adjustLevel(t[0]),c=this._renderParams;c.context=e,c.painter=s,c.glyphMosaic=s.glyphMosaic,c.spriteMosaic=s.spriteMosaic,c.pixelRatio=d,c.displayLevel=u,c.requiredLevel=u;const m=l.getScale(t[0]),[g,y]=l.getShift(t,n*m),h=r*n*m/p,f=i.transforms.dvs;f[0]=h,f[4]=-h,f[6]=-1-g-o[0]*n*2,f[7]=1+y+(1-o[1])*n*2-2,c.state.size[0]=p,c.state.size[1]=p,i.stage||i.attachWithContext(e),i.triangleCount=0,s.drawTile(c,i,a)}}export{s as VectorTileRendererHelper3D};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{RasterColorizerType as r,RasterColorizerStretchType as o}from\"../../2d/engine/imagery/enums.js\";import{BlendModeTechniqueConfiguration as i}from\"./BlendModeTechniqueConfiguration.js\";import{R as t}from\"../../../chunks/RasterColorizer.glsl.js\";import{TileBlendInput as n}from\"../webgl-engine/core/shaderLibrary/terrain/TileBlendInput.js\";import{a as s}from\"../../../chunks/BlendLayers.glsl.js\";import{ReloadableShaderModule as l}from\"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as a}from\"../webgl-engine/core/shaderTechnique/ShaderTechnique.js\";import{parameter as p}from\"../webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as c}from\"../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{Program as m}from\"../webgl-engine/lib/Program.js\";import{BlendFactor as d}from\"../../webgl/enums.js\";import{makePipelineState as u,simpleBlendingParams as g,defaultColorWriteParams as h}from\"../../webgl/renderState.js\";class b extends a{initializeProgram(e){const r=b.shader.get().build(this.configuration);return new m(e.rctx,r,c)}initializePipeline(){return u({blending:g(d.ONE,d.ONE_MINUS_SRC_ALPHA),colorWrite:h})}}b.shader=new l(t,(()=>import(\"../webgl-engine/core/shaderLibrary/raster/RasterColorizer.glsl.js\")));class y extends i{constructor(){super(...arguments),this.colorizerType=r.Stretch,this.stretchType=o.Noop,this.tileBlendInput=n.LayerOnly,this.baseOpacityMode=s.One,this.applyColormap=!0}}e([p({count:r.COUNT})],y.prototype,\"colorizerType\",void 0),e([p({count:o.COUNT})],y.prototype,\"stretchType\",void 0),e([p({count:n.COUNT})],y.prototype,\"tileBlendInput\",void 0),e([p({count:s.COUNT})],y.prototype,\"baseOpacityMode\",void 0),e([p()],y.prototype,\"applyColormap\",void 0);export{b as RasterColorizerTechnique,y as RasterColorizerTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/ObjectPool.js\";import{TargetType as e,DepthStencilTargetType as o}from\"../../../webgl/enums.js\";import{FramebufferObject as s}from\"../../../webgl/FramebufferObject.js\";class r{constructor(t){this._rctx=t,this._pools=new Map}acquire(t){return this._getPool(t).acquire()}clear(){this._pools.forEach((t=>t.destroy())),this._pools.clear()}_getPool(s){let r=this._pools.get(s);if(!r){const l=i.bind(i,this._rctx,{colorTarget:e.TEXTURE,depthStencilTarget:o.DEPTH_RENDER_BUFFER,width:s,height:s},(t=>this._getPool(t.width).release(t)));r=new t(l,null,(()=>{})),this._pools.set(s,r)}return r}}class i extends s{constructor(t,e,o){super(t,e),this.release=()=>o(this)}}export{r as FBOPool,i as PooledFramebufferObject};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as e,releaseMaybe as r,isNone as t,isSome as i}from\"../../../core/maybe.js\";import{Z as o}from\"../../../chunks/vec2f64.js\";import{RasterColorizerStretchType as s}from\"../../2d/engine/imagery/enums.js\";import{VectorTileRendererHelper3D as l}from\"../../2d/engine/vectorTiles/VectorTileRendererHelper3D.js\";import{BlendLayersTechniqueConfiguration as n,BlendLayersTechnique as a}from\"./BlendLayersTechnique.js\";import{LayerClass as h}from\"./LayerClass.js\";import{RasterColorizerTechniqueConfiguration as u,RasterColorizerTechnique as c}from\"./RasterColorizerTechnique.js\";import{FBOPool as _}from\"./support/FBOPool.js\";import{LayerBlendMode as d}from\"../webgl-engine/core/shaderLibrary/output/BlendOptions.js\";import{TileBlendInput as b}from\"../webgl-engine/core/shaderLibrary/terrain/TileBlendInput.js\";import{B as f,a as p}from\"../../../chunks/BlendLayers.glsl.js\";import{BindParameters as T}from\"../webgl-engine/lib/BindParameters.js\";import{Pos2Tex as m}from\"../webgl-engine/lib/DefaultVertexBufferLayouts.js\";import{createQuadVAO as y}from\"../webgl-engine/lib/glUtil3D.js\";import{PrimitiveType as g,ClearBufferBit as B,TextureType as C}from\"../../webgl/enums.js\";import{Texture as x}from\"../../webgl/Texture.js\";import{vertexCount as O}from\"../../webgl/Util.js\";class F{constructor(e,r){this._rctx=e,this._techniqueRepository=r,this._fboPools=[],this._doubleBufferFbo=[],this._vectorTileHelper=new l,this._bindParameters=new T(null,null,null),this._blendLayersTechniqueConfig=new n,this._poolToWrite=0,this._vaoQuad=y(this._rctx,m),this._fboPools.push(new _(this._rctx)),this._fboPools.push(new _(this._rctx))}dispose(){this._fboPools.forEach((e=>{e.clear(),e=null})),this._fboPools=null,this._doubleBufferFbo.forEach((r=>e(r))),this._vaoQuad=e(this._vaoQuad),this._vectorTileHelper=e(this._vectorTileHelper),this._backgroundTechnique=r(this._backgroundTechnique),this._applyOpacityTechnique=r(this._applyOpacityTechnique),this._blendLayersTechnique=r(this._blendLayersTechnique)}_getBlendLayersTechnique(e,r,t,i=!1){return this._blendLayersTechniqueConfig.output=r,this._blendLayersTechniqueConfig.blendMode=e,this._blendLayersTechniqueConfig.baseOpacityMode=t?r===f.Composite?p.OnBaseLayer:p.OnBackground:p.One,this._blendLayersTechniqueConfig.premultipliedSource=i,this._blendLayersTechnique=this._techniqueRepository.releaseAndAcquire(a,this._blendLayersTechniqueConfig,this._blendLayersTechnique),this._blendLayersTechnique}drawBackground(e,r){const t=this._getBlendLayersTechnique(d.Normal,r,!1),i=this._rctx.bindTechnique(t,e,this._bindParameters);this._render(i)}_render(e){this._rctx.bindVAO(this._vaoQuad),e.assertCompatibleVertexAttributeLocations(this._vaoQuad),this._rctx.drawArrays(g.TRIANGLE_STRIP,0,O(this._vaoQuad,\"geometry\"))}drawRasterData(e,r,i=!1){if(t(r.texture))return;const o=r.baseOpacity<1;r.blendMode!==d.Normal||o||i?(r.fboTexture=this._currentFBO.colorTexture,this._switchPool(this._currentFBO.width)):r.fboTexture=null;const s=this._getBlendLayersTechnique(r.blendMode,e,o,i),l=this._rctx.bindTechnique(s,r,this._bindParameters);this._render(l)}drawImageryTileData(e,r,t){const i=e.sourceLayerInfo.data;if(!i.source)return;e.tile.surface.layerViewByIndex(e.layerIndex,h.MAP).ensureSymbolizerParameters(i);const o=t.baseOpacity<1;t.blendMode!==d.Normal||o?(t.fboTexture=this._currentFBO.colorTexture,this._switchPool(this._currentFBO.width)):t.fboTexture=null;const s=this._getRasterColorizerTechnique(i,r,t.blendMode,o),l=this._rctx.bindTechnique(s);if(!i.bind(this._rctx))return;i.opacity=t.opacity;const n=i.getUniforms();n.scale=e.scale,n.offset=e.offset,n.backgroundColor=t.backgroundColor,n.fboTexture=t.fboTexture,n.baseOpacity=t.baseOpacity,s.bindPass(n,null),this._render(l)}_getRasterColorizerTechnique(e,r,i,o){const l=e.symbolizerParameters,n=[\"stretch\",\"lut\",\"hillshade\"].indexOf(l.type);return t(this._rasterColorizerConfig)&&(this._rasterColorizerConfig=new u,this._rctx.gl.getExtension(\"WEBGL_color_buffer_float\"),this._rctx.gl.getExtension(\"OES_texture_float\")),this._rasterColorizerConfig.tileBlendInput=r===f.ColorComposite?b.ColorComposite:r===f.GridComposite?b.GridComposite:b.LayerOnly,this._rasterColorizerConfig.blendMode=i,this._rasterColorizerConfig.baseOpacityMode=o?r===f.Composite?p.OnBaseLayer:p.OnBackground:p.One,this._rasterColorizerConfig.colorizerType=n,this._rasterColorizerConfig.applyColormap=!!l.colormap,this._rasterColorizerConfig.stretchType=e.hasStretchTypeNone()?s.Noop:s.PerBand,this._rasterColorizerTechnique=this._techniqueRepository.releaseAndAcquire(c,this._rasterColorizerConfig,this._rasterColorizerTechnique),this._rasterColorizerTechnique}drawVectorData(e,r,t,s,l,n,a){const u=this._rctx,c=r.sourceLayerInfo.data,_=r.tile.surface.layerViewByIndex(r.layerIndex,h.MAP),b=e.baseOpacity<1||e.opacity<1||e.blendMode!==d.Normal||a!==f.Composite;let p;return this._getBlendLayersTechnique(e.blendMode,a,e.baseOpacity<1,b).bindPipelineState(u),b?(p=this._acquire(l),u.bindFramebuffer(p),u.setClearColor(0,0,0,0),u.clearSafe(B.COLOR_BUFFER_BIT|B.DEPTH_BUFFER_BIT)):n&&u.clearSafe(B.DEPTH_BUFFER_BIT),this._vectorTileHelper.render(u,r.sourceLod,c,_.painter,_.layer.styleRepository,_.schemaHelper,Math.round(1/r.scale),r.offset,s,t),!i(p)||(u.bindFramebuffer(this._currentFBO),e.texture=p.colorTexture,e.offset=o,e.scale=1,this.drawRasterData(a,e,b),p.release(),n)}copyFBOToTexture(e){const r=this._rctx,t=r.bindTexture(e.texture,x.TEXTURE_UNIT_FOR_UPDATES),i=e.descriptor;r.gl.copyTexImage2D(C.TEXTURE_2D,0,i.pixelFormat,0,0,i.width,i.height,0),e.generateMipmap(),r.bindTexture(t,x.TEXTURE_UNIT_FOR_UPDATES)}_initFBO(e,r){this._rctx.bindFramebuffer(e),this._rctx.setViewport(0,0,r,r),this._rctx.setClearColor(0,0,0,0),this._rctx.setClearDepth(1),this._rctx.clearSafe(B.COLOR_BUFFER_BIT|B.DEPTH_BUFFER_BIT)}_acquire(e){return this._fboPools[this._poolToWrite].acquire(e)}bindPool(e,r){this._poolToWrite=e,null==this._doubleBufferFbo[e]&&(this._doubleBufferFbo[e]=this._acquire(r),this._initFBO(this._doubleBufferFbo[e],r))}_switchPool(e){this._releaseCurrentFBO(),this._doubleBufferFbo[this._poolToWrite]=null,this._poolToWrite=0===this._poolToWrite?1:0,this.bindPool(this._poolToWrite,e)}get _currentFBO(){return this._doubleBufferFbo[this._poolToWrite]}_releaseCurrentFBO(){this._doubleBufferFbo[this._poolToWrite].release(),this._doubleBufferFbo[this._poolToWrite]=null}releasePool(){this._rctx.bindFramebuffer(null),this._releaseCurrentFBO()}cleanupFBOPool(e,r){e===this._lastPixelRatio&&r===this._lastNumLayers||(this._fboPools.forEach((e=>e.clear())),this._lastPixelRatio=e,this._lastNumLayers=r)}}export{F as TileCompositor};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{nextHighestPowerOfTwo as e}from\"../../../core/mathUtils.js\";import{disposeMaybe as t,releaseMaybe as r,isNone as s,isSome as o}from\"../../../core/maybe.js\";import{a,c as i}from\"../../../chunks/vec2.js\";import{Z as n}from\"../../../chunks/vec2f64.js\";import{isBaseLayer as u}from\"../../../layers/support/layerUtils.js\";import{ImageWithType as c}from\"../support/StreamDataLoader.js\";import{BlendLayersPassParameters as l}from\"./BlendLayersTechnique.js\";import{TextureUpdate as p}from\"./interfaces.js\";import{LayerClass as d}from\"./LayerClass.js\";import{isBlendableLayerView as h,isGroupLayer as m,isVectorTileLayerView as _,isVectorTileRenderInfo as T,isImageryTileRenderInfo as f,isRasterTileRenderInfo as x,isTextureTileRenderInfo as y}from\"./terrainUtils.js\";import{ActivationTime as g}from\"./TextureFader.js\";import{TextureReference as b}from\"./TextureReference.js\";import{TileCompositor as k}from\"./TileCompositor.js\";import I from\"./TileTexture.js\";import{TileUpdate as P}from\"./TileUpdate.js\";import{LayerBlendMode as D,blendModeFromString as w}from\"../webgl-engine/core/shaderLibrary/output/BlendOptions.js\";import{B as L}from\"../../../chunks/BlendLayers.glsl.js\";import{createColorTexture as A,createEmptyTexture as E}from\"../webgl-engine/lib/glUtil3D.js\";import{TextureSamplingMode as R,TextureType as M,PixelFormat as j,PixelType as O,TextureWrapMode as N}from\"../../webgl/enums.js\";import{Texture as U}from\"../../webgl/Texture.js\";class C{constructor(e,t,r){this._rctx=e,this.tileSize=t,this._techniqueRepository=r,this._passParameters=new l,this._backgroundTexture=null,this._backgroundColor=null,this._backgroundDirty=!1,this._blackTex=null,this._numTexturedLayer=0,this._maxAnisotropy=this._rctx.parameters.maxMaxAnisotropy,this._composition=new k(this._rctx,this._techniqueRepository),this._blackTex=new I(A(this._rctx,[0,0,0,1])),this._ensureBackgroundTexture(this.tileSize)}dispose(){this._composition=t(this._composition),this._backgroundTexture=r(this._backgroundTexture),this._blackTex=r(this._blackTex)}get backgroundIsGrid(){return s(this._backgroundColor)}get backgroundColor(){return this._backgroundColor}updateTileTexture(e,t){if(!e.renderData)return;const r=e.surface,s=r.baseOpacity;this._numTexturedLayer=0;let o=0,a=this.tileSize,i=!1;const n=r.view.state.pixelRatio;let c=!1;const l=e.layerInfo[d.MAP];let p=l.length,T=0;for(;T<l.length;T++){const t=r.layerViewByIndex(T,d.MAP),f=t.fullOpacity;if(G[T]=f,u(t.layer)&&p>=l.length&&(p=T),0===f){l[T].pendingUpdates&=~(P.TEXTURE_NOFADING&P.TEXTURE_FADING);continue}++o;const x=F(e,T);if(x){if(l[T].pendingUpdates&=~(P.TEXTURE_NOFADING&P.TEXTURE_FADING),h(t)){const e=m(t.layer.parent)?\"normal\":t.layer.blendMode;S[T]=e;const r=\"normal\"!==e;r&&(c=r,i=!1)}_(t)?a=Math.max(a,this.tileSize*n):1===s&&1===f&&(t.isOpaque||this._dataToTexture(x)&&x.sourceLayerInfo.data.descriptor.isOpaque)&&(i=!0),++this._numTexturedLayer}}this._composition.cleanupFBOPool(n,l.length),a=B(a);const f=a/this.tileSize,x=T-1;this._ensureBackgroundTexture(this.tileSize),0!==this._numTexturedLayer?1===this._numTexturedLayer&&!c&&this._useLayerTexture(e,x,p,G[x])||this._composeMapLayers(e,t,x,p,G,S,a,f,!i||c):this._useBackgroundTexture(e,o)}_ensureBackgroundTexture(e){s(this._backgroundTexture)&&(this._backgroundTexture=this._buildTexture(e),this._backgroundDirty=!0),this._backgroundDirty&&(this._composition.bindPool(0,e),this._passParameters.offset=n,this._passParameters.scale=1,this._passParameters.opacity=1,this._passParameters.blendMode=D.Normal,o(this.backgroundColor)&&(this._passParameters.backgroundColor=this.backgroundColor),this._composition.drawBackground(this._passParameters,o(this.backgroundColor)?L.ColorOnly:L.GridOnly),this._composition.copyFBOToTexture(this._backgroundTexture),this._composition.releasePool(),this._backgroundDirty=!1)}_useBackgroundTexture(e,t){let r=g.Immediate;(e.surface.view.layerViewManager.updating||t>0)&&(r=g.Delayed),this._backgroundTexture&&s(e.renderData.textureReference)&&(r=g.Immediate),e.renderData.setTextureReference(o(this._backgroundTexture)?new b(this._backgroundTexture,p.FADING,z,e.surface.baseOpacity,1,0):null,r)}_useLayerTexture(e,t,r,s){const o=t<r,a=o?1:e.surface.baseOpacity,i=o?e.surface.baseOpacity:1,n=F(e,t);return!!this._dataToTexture(n)&&(e.renderData.setTextureReference(new b(n.sourceLayerInfo.data,p.FADING,n,a,s,i)),!0)}_composeMapLayers(e,t,r,s,o,a,i,n,u){this._composition.bindPool(0,i);const c=e.surface.baseOpacity;let l=!1,p=R.LINEAR_MIPMAP_LINEAR,d=!1,h=0;for(let _=r;_>=0;_--){const t=F(e,_);if(!t)continue;if(0===o[_])continue;const r=_<s&&c<1&&!l;this._passParameters.baseOpacity=r?c:1,r&&(l=!0);const m=0===h,x=u&&m?this.backgroundIsGrid?L.GridComposite:L.ColorComposite:L.Composite;T(t)?(this._passParameters.opacity=o[_],this._passParameters.blendMode=w[a[_]],d=this._composition.drawVectorData(this._passParameters,t,n,this.tileSize,i,d,x)):f(t)?(this._passParameters.opacity=o[_],this._passParameters.blendMode=w[a[_]],this._composition.drawImageryTileData(t,x,this._passParameters),this._hasNearestInterpolation(t)&&(p=R.NEAREST)):this._dataToTexture(t)&&(this._passParameters.texture=t.sourceLayerInfo.data.texture,this._passParameters.offset=t.offset,this._passParameters.scale=t.scale,this._passParameters.opacity=o[_],this._passParameters.blendMode=w[a[_]],this._composition.drawRasterData(x,this._passParameters)),h++}const m=e.renderData.ensureTexture(i,(()=>this._buildTexture(i,p)));this._composition.copyFBOToTexture(m),this._composition.releasePool(),e.renderData.setTextureReference(new b(m,t,z,l?1:c,1,0))}_hasNearestInterpolation(e){const t=e.sourceLayerInfo.data;return!!t.source&&\"nearest\"===t.interpolation}_dataToTexture(e){return x(e)&&this._rasterDataToTexture(e),y(e)}_rasterDataToTexture(e){const t=e.sourceLayerInfo;t.data=this._buildTexture(t.data),e.tile.setMemoryDirty()}setBackground(e){this._backgroundColor!==e&&(this._backgroundColor=e,this._backgroundDirty=!0)}_buildTexture(e,t=R.LINEAR_MIPMAP_LINEAR){if(s(e))return null;const r={target:M.TEXTURE_2D,pixelFormat:j.RGBA,dataType:O.UNSIGNED_BYTE,wrapMode:N.CLAMP_TO_EDGE,samplingMode:t,maxAnisotropy:this._maxAnisotropy,flipped:!0,hasMipmap:!0},o=this._rctx;let a;if(\"number\"==typeof e)r.width=r.height=e,a=new I(new U(o,r));else if(e instanceof c)r.isOpaque=e.isOpaque,a=new I(new U(o,r,e.image)),e.release();else try{a=new I(new U(o,r,e))}catch(n){a=new I(E(o)),console.warn(\"TileRenderer: failed to execute 'texImage2D', cross-origin image may not be loaded.\")}const i=o.bindTexture(a.texture,U.TEXTURE_UNIT_FOR_UPDATES);return a.generateMipmap(),o.bindTexture(i,U.TEXTURE_UNIT_FOR_UPDATES),a}get test(){return{backgroundTexture:this._backgroundTexture}}}function B(t){const r=e(t),s=r*r,o=t*t;if(s===o)return t;const a=r/2;return s-o<o-a*a?r:a}function F(e,t){q.layerIndex=t;const r=e.layerInfo[d.MAP][t];if(o(r.data))return a(q.offset,0,0),q.tile=e,q.scale=1,q.sourceLod=e.lij,q.sourceLayerInfo=r,q;const s=r.upsampleInfo;if(o(s)){const e=s.tile.layerInfo[d.MAP][t];return q.tile=s.tile,i(q.offset,s.offset),q.scale=s.scale,q.sourceLod=s.tile.lij,q.sourceLayerInfo=e,q}return null}const G=new Array,S=new Array,q={tile:null,sourceLayerInfo:null,sourceLod:null,offset:[0,0],scale:1,layerIndex:0},z={offset:[0,0],scale:1};export{C as TileRenderer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../../../../core/mathUtils.js\";import{c as e,f as i}from\"../../../../../chunks/vec3f64.js\";import{fromValues as n}from\"../../../../../geometry/support/aaBoundingBox.js\";import{computeNormal as r}from\"../../materials/internal/MaterialUtil.js\";const s=200,o=40,a=.8,c=10,h=1e-6;function f(t,e,i){const n=e,r=i;let s=0,o=1/0;for(let a=0;a<3;++a){{const e=t[a];if(n[a]<e){if(r[a]<=h)return!1;const t=(e-n[a])/r[a];s=Math.max(s,t)}else if(r[a]<=-h){const t=(e-n[a])/r[a];o=Math.min(o,t)}if(s>o)return!1}{const e=t[a+3];if(n[a]>e){if(r[a]>=-h)return!1;const t=(e-n[a])/r[a];s=Math.max(s,t)}else if(r[a]>=h){const t=(e-n[a])/r[a];o=Math.min(o,t)}if(s>o)return!1}}return!0}class l{constructor(t,e,i,n,r){this.aabb=t,this.axis=e,this.d=i,this.midStartIndex=n,this.rightStartIndex=r}}class d{constructor(i,n,r,s){this.globalTriangleVertexIndices=i,this.firstTriangleIndex=n,this.positionAttribute=s,this.rayDirection=e(),this.bspNodeTree=new Array,this.vertexPositionBuffer=s.data,this.vertexPositionStride=s.stride;const h=r-n,f=h<=I?new Uint16Array(h):new Uint32Array(h);this.indices=f;for(let t=0;t<h;++t)f[t]=t;{const e=b(i,n,r,s.data,s.stride),d=t(Math.log2(h/o),2,c),u=(t,i,n)=>{const r=y(f,e,t,i),s=i-t;if(s<=o){const e=new l(r,void 0,0,t,i);return this.bspNodeTree.push(e),e}const{axis:c,midValue:h}=N(r),m=x(f,e,t,i,c,h),g=(t,e)=>{if(n>d)return;const i=e-t;return i<o||i>=a*s?void 0:u(t,e,n+1)},b=new l(r,c,h,m.next,m.mid);return this.bspNodeTree.push(b),b.leftNode=g(t,m.next),b.rightNode=g(m.mid,i),b};u(0,h,0),this.triangleVertexIndices=p(f,i,n,r)}}intersectRayTriangleRange(t,e){{if(t>=e)return;const i=this.triangleVertexIndices,n=this.positionAttribute.data,s=this.positionAttribute.stride,o=this.rayOrigin,a=o[0],c=o[1],h=o[2],f=this.rayDirection,l=f[0],d=f[1],m=f[2];for(let g=t,x=3*t;g<e;++g){const t=i[x]*s,e=n[t],o=n[t+1],f=n[t+2],y=i[x+1]*s,N=n[y],b=n[y+1],p=n[y+2],I=i[x+2]*s,T=n[I],M=n[I+1],R=n[I+2];x+=3;const S=N-e,A=b-o,w=p-f,V=T-e,v=M-o,B=R-f,P=d*B-v*m,U=m*V-B*l,j=l*v-V*d,D=S*P+A*U+w*j;if(Math.abs(D)<=Number.EPSILON)continue;const F=a-e,O=c-o,k=h-f,L=F*P+O*U+k*j;if(D>0){if(L<0||L>D)continue}else if(L>0||L<D)continue;const E=O*w-A*k,q=k*S-w*F,z=F*A-S*O,C=l*E+d*q+m*z;if(D>0){if(C<0||L+C>D)continue}else if(C>0||L+C<D)continue;const G=(V*E+v*q+B*z)/D;if(G>=0){const t=this.indices[g]+this.firstTriangleIndex,e=r(S,A,w,V,v,B,u);this.callback(G,e,t,!1)}}}d.numFacesTested+=e-t}intersectRay(t,e){d.numFacesTested=0;const n=i(t.r0[0],t.r0[1],t.r0[2]),r=i(t.r1[0],t.r1[1],t.r1[2]),s=r[0]-n[0],o=r[1]-n[1],a=r[2]-n[2];if(s*s+o*o+a*a<h)return;this.rayOrigin=n;const c=this.rayDirection;c[0]=s,c[1]=o,c[2]=a;const f=this.triangleVertexIndices.length/3;this.callback=e;const l=this.bspNodeTree[0];this.intersectRayBSP(l,0,f)}intersectRayBSP(t,e,i){const n=this.rayOrigin,r=this.rayDirection;if(!f(t.aabb,n,r))return;const s=t.axis,o=t.d;if(n[s]<o||r[s]<0){const i=e,n=t.midStartIndex;if(i<n){const e=t.leftNode;void 0!==e?this.intersectRayBSP(e,i,n):this.intersectRayTriangleRange(i,n)}}if(this.intersectRayTriangleRange(t.midStartIndex,t.rightStartIndex),n[s]>o||r[s]>0){const e=t.rightStartIndex,n=i;if(e<n){const i=t.rightNode;void 0!==i?this.intersectRayBSP(i,e,n):this.intersectRayTriangleRange(e,n)}}}get estimatedMemoryUsage(){return this.triangleVertexIndices.byteLength+this.indices.byteLength}}d.numFacesTested=0;const u=e(),m=[1/0,1/0,1/0],g=[-1/0,-1/0,-1/0];function x(t,e,i,n,r,s){let o=i,a=n;for(;o<a;){const i=t[o];e[6*i+r+3]<=s?++o:(--a,t[o]=t[a],t[a]=i)}let c=o;for(a=n;c<a;){const i=t[a-1];e[6*i+r]>=s?--a:(t[a-1]=t[c],t[c]=i,++c)}return{next:o,mid:c}}function y(t,e,i,r){if(r<=i)return n(NaN,NaN,NaN,NaN,NaN,NaN);{const n=6*t[i];for(let t=0;t<3;++t)m[t]=e[n+0+t],g[t]=e[n+3+t]}for(let n=i+1;n<r;++n){const i=6*t[n];for(let t=0;t<3;++t)m[t]=Math.min(m[t],e[i+0+t]),g[t]=Math.max(g[t],e[i+3+t])}return n(m[0],m[1],m[2],g[0],g[1],g[2])}function N(t){const e=t[3]-t[0],i=t[4]-t[1],n=t[5]-t[2],r=e>i?e>n?0:i>n?1:2:i>n?1:n>e?2:0;return{axis:r,midValue:(t[r]+t[r+3])/2}}function b(t,e,i,n,r){const s=i-e,o=new Float32Array(6*s);for(let a=0;a<s;++a){const i=3*(a+e),s=t[i+0]*r,c=t[i+1]*r,h=t[i+2]*r;for(let t=0;t<3;++t){const e=n[s+t],i=n[c+t],r=n[h+t];o[6*a+t]=Math.min(e,i,r),o[6*a+3+t]=Math.max(e,i,r)}}return o}function p(t,e,i,n){const r=n-i;let s=0;for(let a=i;a<n;++a)for(let t=0;t<3;++t)s=Math.max(e[3*a+t],s);const o=s<=I?new Uint16Array(3*r):new Uint32Array(3*r);for(let a=0;a<r;++a){const n=3*(t[a]+i);for(let t=0;t<3;++t){const i=e[n+t];o[3*a+t]=i}}return o}const I=65535;export{d as ComponentIntersectionData,s as componentMinimalSizeForIntersectionData};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{ViewingMode as e}from\"../../../ViewingMode.js\";import{a as i}from\"../../../../chunks/Terrain.glsl.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{StencilBits as n}from\"../lib/basicInterfaces.js\";import{Default3D as l}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as s}from\"../lib/Program.js\";import{renderWhenBitIsNotSet as o}from\"../lib/StencilUtils.js\";import{BlendFactor as a,CompareFunction as c}from\"../../../webgl/enums.js\";import{makePipelineState as d,simpleBlendingParams as u,backFaceCullingParams as p,defaultDepthWriteParams as m,defaultColorWriteParams as h}from\"../../../webgl/renderState.js\";class g extends t{constructor(){super(...arguments),this.useStencil=!1}initializeConfiguration(i,r){r.spherical=i.viewingMode===e.Global}initializeProgram(e){const i=g.shader.get().build(this.configuration);return new s(e.rctx,i,l)}initializePipeline(){return this._stencilPipelineState=this._createPipeline(!0),this._createPipeline(!1)}_createPipeline(e){const i=this.configuration,r=i.backfaceCullingEnabled&&!i.renderOccluded;return d({blending:i.renderOccluded?u(a.ONE,a.ONE_MINUS_SRC_ALPHA):null,culling:r&&p,depthTest:!i.renderOccluded&&{func:c.LESS},depthWrite:!i.renderOccluded&&m,colorWrite:h,stencilTest:e?o(n.IntegratedMeshMaskExcluded):null})}getPipelineState(e,i){return this.useStencil?this._stencilPipelineState:super.getPipelineState(e,i)}}g.shader=new r(i,(()=>import(\"../core/shaderLibrary/terrain/Terrain.glsl.js\")));export{g as TerrainTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import o from\"../../../../core/has.js\";import{ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutputOptions.js\";import{PBRMode as r}from\"../core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{OverlayMode as i}from\"../core/shaderLibrary/terrain/Overlay.glsl.js\";import{TileBlendInput as s}from\"../core/shaderLibrary/terrain/TileBlendInput.js\";import{parameter as a}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as p}from\"../materials/DefaultTechniqueConfiguration.js\";class n extends p{constructor(){super(...arguments),this.output=t.Color,this.overlayMode=i.Disabled,this.tileBlendInput=s.LayerOnly,this.spherical=!1,this.atmosphere=!1,this.receiveShadows=!1,this.hasSlicePlane=!1,this.backfaceCullingEnabled=!1,this.stencilEnabled=!1,this.textureFadingEnabled=!1,this.renderOccluded=!1,this.hasScreenSpaceReflections=!1,this.hasCloudsReflections=!1,this.tileBorders=!1,this.screenSizePerspective=!1,this.receiveAmbientOcclusion=!1,this.shading=o(\"enable-feature:terrain-shading\")}}e([a({count:t.COUNT})],n.prototype,\"output\",void 0),e([a({count:i.COUNT})],n.prototype,\"overlayMode\",void 0),e([a({count:s.COUNT})],n.prototype,\"tileBlendInput\",void 0),e([a()],n.prototype,\"spherical\",void 0),e([a()],n.prototype,\"atmosphere\",void 0),e([a()],n.prototype,\"receiveShadows\",void 0),e([a()],n.prototype,\"hasSlicePlane\",void 0),e([a()],n.prototype,\"backfaceCullingEnabled\",void 0),e([a()],n.prototype,\"stencilEnabled\",void 0),e([a()],n.prototype,\"textureFadingEnabled\",void 0),e([a()],n.prototype,\"renderOccluded\",void 0),e([a()],n.prototype,\"hasScreenSpaceReflections\",void 0),e([a()],n.prototype,\"hasCloudsReflections\",void 0),e([a()],n.prototype,\"tileBorders\",void 0),e([a()],n.prototype,\"screenSizePerspective\",void 0),e([a()],n.prototype,\"receiveAmbientOcclusion\",void 0),e([a()],n.prototype,\"shading\",void 0),e([a({constValue:!0})],n.prototype,\"isGround\",void 0),e([a({constValue:r.Disabled})],n.prototype,\"pbrMode\",void 0),e([a({constValue:!1})],n.prototype,\"highStepCount\",void 0),e([a({constValue:!1})],n.prototype,\"useCustomDTRExponentForWater\",void 0),e([a({constValue:!1})],n.prototype,\"useFillLights\",void 0);export{n as TerrainTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Color.js\";import i from\"../../../core/Accessor.js\";import{isSome as r,disposeMaybe as s,isNone as n}from\"../../../core/maybe.js\";import a from\"../../../core/ObjectPool.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{I as d}from\"../../../chunks/mat4f64.js\";import{b as h,s as c,e as u}from\"../../../chunks/vec3.js\";import{Z as p,f,c as g}from\"../../../chunks/vec3f64.js\";import{Z as m,c as _}from\"../../../chunks/vec4f64.js\";import{create as T,set as b}from\"../../../geometry/support/aaBoundingBox.js\";import{BufferViewVec3f as R}from\"../../../geometry/support/buffer/BufferView.js\";import{ViewingMode as y}from\"../../ViewingMode.js\";import{TextureUpdate as A}from\"./interfaces.js\";import{LayerClass as O}from\"./LayerClass.js\";import{OverlaySource as v}from\"./Overlay.js\";import{overlayRenderOccludedFlag as x}from\"./OverlayRenderer.js\";import{clearCaches as P}from\"./PatchGeometry.js\";import{PatchRenderData as C}from\"./PatchRenderData.js\";import{RenderOrder as E}from\"./RenderOrder.js\";import{ScaleRangeQueries as D}from\"./ScaleRangeQueries.js\";import\"./terrainUtils.js\";import{TileRenderer as q}from\"./TileRenderer.js\";import{TileUpdate as S}from\"./TileUpdate.js\";import{IteratorPreorder as N,sortTiles as I,compareTiles as w}from\"./tileUtils.js\";import{componentMinimalSizeForIntersectionData as L,ComponentIntersectionData as G}from\"../webgl-engine/collections/Component/ComponentIntersectionData.js\";import{ShaderOutput as j}from\"../webgl-engine/core/shaderLibrary/ShaderOutputOptions.js\";import{OverlayMode as F}from\"../webgl-engine/core/shaderLibrary/terrain/Overlay.glsl.js\";import{T as M}from\"../../../chunks/Terrain.glsl.js\";import{TileBlendInput as U}from\"../webgl-engine/core/shaderLibrary/terrain/TileBlendInput.js\";import{RenderRequestType as k}from\"../webgl-engine/lib/basicInterfaces.js\";import{createEmptyTexture as H}from\"../webgl-engine/lib/glUtil3D.js\";import{newIntersectorResult as B}from\"../webgl-engine/lib/Intersector.js\";import{IntersectorType as V,StoreResults as z}from\"../webgl-engine/lib/IntersectorInterfaces.js\";import{RenderOccludedFlag as Q}from\"../webgl-engine/lib/Material.js\";import{RenderPass as W}from\"../webgl-engine/lib/RenderPass.js\";import{RenderSlot as Y}from\"../webgl-engine/lib/RenderSlot.js\";import{getSettings as X}from\"../webgl-engine/lib/screenSizePerspectiveUtils.js\";import{VertexAttribute as Z}from\"../webgl-engine/lib/VertexAttribute.js\";import{TERRAIN_ID as K,getVerticalOffsetTerrain as J}from\"../webgl-engine/lib/verticalOffsetUtils.js\";import{DrawParameters as $}from\"../webgl-engine/materials/DrawParameters.js\";import{intersectAabbInvDirBefore as ee,intersectTriangles as te}from\"../webgl-engine/materials/internal/MaterialUtil.js\";import{TerrainTechnique as ie}from\"../webgl-engine/shaders/TerrainTechnique.js\";import{TerrainTechniqueConfiguration as re}from\"../webgl-engine/shaders/TerrainTechniqueConfiguration.js\";import{ClearBufferBit as se,PrimitiveType as ne}from\"../../webgl/enums.js\";const ae=7,oe=10,le=T(),de=_();let he=class extends i{constructor(e){super(e),this.type=V.TERRAIN,this.isGround=!0,this.tileSize=256,this._techniqueConfiguration=new re,this._passParameters=new M,this.rctx=null,this._isTransparent=!1,this._scaleRangeQueries=new D,this.renderDataPool=new a(C),this._patchGroups=new Map,this.patchGroupsDirty=!0,this.tileIterator=new N,this.highestVisibleLODTile=null,this.visible=!0,this._opaque=!0,this._velvetOverground=!0,this._castShadows=!0,this.emptyTex=null,this.tileRenderer=null,this.stencilEnabledLayerExtents=[],this.numTilesRendered=0,this.numTilesCulled=0,this.numOriginsRendered=0,this.needsHighlight=!1,this.renderOccludedFlags=Q.Occlude}get isGlobal(){return this.stage.viewingMode===y.Global}get shadingEnabled(){return this._techniqueConfiguration?.shading}initialize(){const e=[Y.OPAQUE_TERRAIN,Y.TRANSPARENT_TERRAIN,Y.OCCLUDED_TERRAIN];this.stage.addRenderPlugin(e,this)}destroy(){this.stage.removeRenderPlugin(this),P()}get canRender(){return this.visible&&!!this._rootTiles&&!this.renderingDisabled}set renderingDisabled(e){this._set(\"renderingDisabled\",!!e),this.setNeedsRender()}set opaque(e){this._opaque!==e&&(this._opaque=e,this.setNeedsRender())}get opaque(){return this._opaque&&!this._techniqueConfiguration.hasSlicePlane}get needsLinearDepth(){return this.overlayRenderer.hasWater}set isTransparent(e){this._isTransparent!==e&&(this._isTransparent=e,this.setNeedsRender())}get isTransparent(){return this._isTransparent}get renderPatchBorders(){return!!this._techniqueConfiguration.tileBorders}set renderPatchBorders(e){this._techniqueConfiguration.tileBorders!==e&&(this._techniqueConfiguration.tileBorders=e,this.setNeedsRender(),this.notifyChange(\"renderPatchBorders\"))}get cullBackFaces(){return this._techniqueConfiguration.backfaceCullingEnabled}set cullBackFaces(e){this._techniqueConfiguration.backfaceCullingEnabled!==e&&(this._techniqueConfiguration.backfaceCullingEnabled=e,this.notifyChange(\"cullBackFaces\"),this.setNeedsRender())}set renderOrder(e){this._set(\"renderOrder\",e),this.setNeedsRender()}set velvetOverground(e){this._velvetOverground!==e&&(this._velvetOverground=e,this.setNeedsRender())}get layerUid(){return K}get slicePlaneEnabled(){return this._techniqueConfiguration.hasSlicePlane}set slicePlaneEnabled(e){this._techniqueConfiguration.hasSlicePlane!==e&&(this._techniqueConfiguration.hasSlicePlane=e,this.setNeedsRender())}set textureFadingEnabled(e){this._techniqueConfiguration.textureFadingEnabled!==e&&(this._techniqueConfiguration.textureFadingEnabled=e,this.setNeedsRender())}setDebugScreenSizePerspective(e){this._techniqueConfiguration.screenSizePerspective!==e&&(this._techniqueConfiguration.screenSizePerspective=e,this.setNeedsRender())}toggleShading(){this._techniqueConfiguration.shading=!this._techniqueConfiguration.shading,this.setNeedsRender()}setRootTiles(e){this._rootTiles=e,this.setNeedsRender()}setNeedsHighlight(e){this.needsHighlight=e,this.setNeedsRender()}setRenderOccludedOverlay(e){this.renderOccludedFlags=e?x:Q.Occlude,this.setNeedsRender()}setStencilEnabledLayerExtents(e){this.stencilEnabledLayerExtents=e,this.setNeedsRender()}setTileSize(e){this.tileSize=e,r(this.tileRenderer)&&(this.tileRenderer.tileSize=e),this.setNeedsRender()}_prepareTileForLoading(e){e.renderData||(e.renderData=this.renderDataPool.acquire(),e.renderData.init(e),e.renderData.localOrigin=this._getLocalOriginOfTile(e))}loadTile(e){this._prepareTileForLoading(e),this.updateTileGeometry(e),this.updateTileTexture(e,S.TEXTURE_FADING)}queryVisibleLevelRange(e,t,i,r){this._scaleRangeQueries.queryVisibleLevelRange(e,t,i,r),this.setNeedsRender()}updateTileTexture(e,t){r(this.tileRenderer)&&(this.tileRenderer.updateTileTexture(e,t===S.TEXTURE_FADING?A.FADING:A.UNFADED),this.setNeedsRender(),e.resetPendingUpdate(t))}updateTileGeometryState(e){this._prepareTileForLoading(e),e.renderData.updateGeometryStateAndPrepareForGeometryGeneration(this.wireframe)}updateTileGeometry(e){for(const t of e.layerInfo[O.ELEVATION])t.pendingUpdates&=~S.GEOMETRY;e.resetPendingUpdate(S.GEOMETRY);e.renderData.updateGeometryIfChanged(this.rctx,this.wireframe)&&this.setNeedsRender()}unloadTile(e){const t=e.renderData;t&&(t.releaseGeometry(),this.renderDataPool.release(t),t.clear(),e.renderData=null,e.setMemoryDirty(),this.setNeedsRender())}_getLocalOriginOfTile(e){const t=oe-ae,i=Math.max(0,Math.floor((e.level-t)/ae)*ae);if(this.isGlobal&&0===i)return p;for(;e.parent&&e.level>i;)e=e.parent;return e.centerAtSeaLevel}setVisibility(e){this.visible=e,this.setNeedsRender()}getStats(){return{numTilesRendered:this.numTilesRendered,numTilesCulled:this.numTilesCulled,numOriginsRendered:this.numOriginsRendered}}set wireframe(e){this._get(\"wireframe\")!==e&&(this._set(\"wireframe\",e),this.allTiles.forAll((e=>{e.isLoaded&&(this.updateTileGeometry(e),e.updateNeighborsAfterGeometryChange())})),this.setNeedsRender())}setNeedsRender(e=k.UPDATE){this.patchGroupsDirty=!0,this._context.requestRender(e)}initializeRenderContext(e){this._context=e,this.rctx=e.renderContext.rctx,this._techniqueRepository=e.shaderTechniqueRepository,this.tileRenderer=new q(this.rctx,this.tileSize,this._techniqueRepository),this.updateTileBackground(),this.emptyTex=H(this.rctx)}uninitializeRenderContext(){this.emptyTex=s(this.emptyTex),this.tileRenderer=s(this.tileRenderer)}intersect(e,t,i,s){if(!this._rootTiles||e.options.selectOpaqueTerrainOnly&&e.options.selectionMode&&!this._opaque)return;const a=pe,o=fe;h(a,s,i),c(o,1/a[0],1/a[1],1/a[2]);const l=e.results.min,p=e.results.max,f=e.results.ground,g=e.options.store===z.MIN,m=!!e.results.ground.target,_=J(e.verticalOffset),T=e.tolerance;let y,A=g&&r(l.dist)?l.dist:1/0;const O=c=>{const m=c.renderData;if(!m?.vao)return;const O=m.geometryInfo;b(le,O.boundingBox);const v=m.localOrigin;r(_)&&(_.localOrigin=v,_.applyToAabb(le));const x=le;if(ge[0]=i[0]-v[0],ge[1]=i[1]-v[1],ge[2]=i[2]-v[2],!ee(x,ge,o,T,A))return;const P=(e,t,i)=>{e.set(this.type,c,t,i,d),A=g&&r(l.dist)?l.dist:1/0},C=(o,d)=>{if(r(d)&&o>=0&&(e.options.backfacesTerrain||u(d,a)<0)&&(e.options.invisibleTerrain||!e.options.selectionMode||null==t||t(i,s,o))){if((null==f.dist||o<f.dist)&&P(f,o,d),e.options.isFiltered)return;e.options.store===z.ALL&&(n(y)?(y=B(e.ray),P(y,o,d),e.results.all.push(y)):o<y.dist&&P(y,o,d)),(null==l.dist||o<l.dist)&&P(l,o,d),e.options.store!==z.MIN&&(null==p.dist||o>p.dist)&&P(p,o,d)}},E=me;h(E,s,v);const D=O.indices,q=O.vertexAttributes,S={data:q.getField(Z.POSITION,R).typedBuffer,size:3,stride:q.stride/4},N=O.indexCount/3;if(n(_)&&N>L){const e=c.renderData;n(e.intersectionData)&&(e.intersectionData=new G(D,0,N,S)),e.intersectionData.intersectRay({r0:ge,r1:E},C)}else te(ge,E,0,N,D,S,null,_,C)},v=this._rootTiles;if(r(v)){(()=>{const t=this.tileIterator;t.reset(v);const s=e.options.invisibleTerrain;for(;!t.done;){const e=t.next();!(e.visible||s&&e.intersectsClippingArea)||!r(_)&&!e.intersectsRay(i,a,T,A)||m&&this._useStencilForTile(e)?t.skipSubtree():O(e)}})()}}prepareTechnique(e){if(e.bindParameters.slot===Y.OCCLUDED_TERRAIN){if(0==(e.renderOccludedMask&x))return null}else{const t=this.opaque?Y.OPAQUE_TERRAIN:Y.TRANSPARENT_TERRAIN;if(e.bindParameters.slot!==t)return null}switch(e.pass){case W.MATERIAL:{this._techniqueConfiguration.hasScreenSpaceReflections=e.bindParameters.ssr.enabled,this._techniqueConfiguration.hasCloudsReflections=r(e.bindParameters.clouds.data),this._techniqueConfiguration.receiveShadows=e.bindParameters.shadowMap.ready,this._techniqueConfiguration.receiveAmbientOcclusion=e.bindParameters.ssaoHelper.ready,this._techniqueConfiguration.overlayMode=this.overlayRenderer.isEmpty()?F.Disabled:this.overlayRenderer.hasWater?F.EnabledWithWater:F.Enabled;const t=e.bindParameters.slot===Y.OCCLUDED_TERRAIN?v.Occluded:v.ColorAndWater;return this._updateTechnique(j.Color,t===v.Occluded)}case W.MATERIAL_DEPTH_SHADOWMAP_ALL:case W.MATERIAL_DEPTH_SHADOWMAP_DEFAULT:return this._castShadows&&1===e.bindParameters.lighting.globalFactor?(this._techniqueConfiguration.receiveShadows=this._techniqueConfiguration.receiveAmbientOcclusion=!1,this._updateTechnique(j.Shadow,!1)):null;case W.MATERIAL_DEPTH:return this.isTransparent&&this.overlayRenderer.isEmpty()?null:(this._techniqueConfiguration.receiveShadows=this._techniqueConfiguration.receiveAmbientOcclusion=!1,this._updateTechnique(j.Depth,!1));case W.MATERIAL_NORMAL:return this._techniqueConfiguration.receiveShadows=this._techniqueConfiguration.receiveAmbientOcclusion=!1,this._updateTechnique(j.Normal,!1);case W.MATERIAL_HIGHLIGHT:return this.needsHighlight?(this._techniqueConfiguration.receiveShadows=this._techniqueConfiguration.receiveAmbientOcclusion=!1,this._updateTechnique(j.Highlight,!1)):null}return null}render(e,t){const i=e.pass,r=1===e.bindParameters.lighting.globalFactor;switch(this._updatePatchGroups(),t.useStencil=!1,i){case W.MATERIAL:{const i=e.bindParameters.slot===Y.OCCLUDED_TERRAIN?v.Occluded:v.ColorAndWater;this._renderMaterialPass(e,t,i);break}case W.MATERIAL_DEPTH_SHADOWMAP_ALL:case W.MATERIAL_DEPTH_SHADOWMAP_DEFAULT:this._castShadows&&r&&this._renderAuxiliaryPass(e,t,v.None);break;case W.MATERIAL_DEPTH:this.isTransparent&&this.overlayRenderer.isEmpty()||this._renderAuxiliaryPass(e,t,v.None);break;case W.MATERIAL_NORMAL:this._renderAuxiliaryPass(e,t,v.None);break;case W.MATERIAL_HIGHLIGHT:this.needsHighlight&&(this._renderAuxiliaryPass(e,t,v.Highlight),e.rctx.clearSafe(se.DEPTH_BUFFER_BIT))}this._scaleRangeQueries.hasPendingQueries()&&this.setNeedsRender()}_renderMaterialPass(e,t,i){const{rctx:r}=e;this._passParameters.overlaySource=i,r.bindTechnique(t,this._passParameters,e.bindParameters),this.numTilesRendered=0,this.numTilesCulled=0,this.numOriginsRendered=0,this._scaleRangeQueries.prepareQueries(),this.opaque?this._renderPatchGroups(e,t,i):e.offscreenRenderingHelper.renderToTargets((()=>this._renderPatchGroups(e,t,i)),e.offscreenRenderingHelper.tmpColor,e.offscreenRenderingHelper.mainDepth,[0,0,0,0]),this._scaleRangeQueries.processQueries()}_renderAuxiliaryPass(e,t,i){const r=e.rctx;this._passParameters.overlaySource=i,r.bindTechnique(t,this._passParameters,e.bindParameters),this._renderPatchGroupsAuxiliary(e,t,i)}updateTileBackground(e=null){if(n(this.tileRenderer))return;const i=this.tileRenderer;let s=null;if(r(e)){const i=t.toUnitRGBA(e);s=f(i[0]||0,i[1]||0,i[2]||0)}i.setBackground(s),this.allTiles.forAll((e=>i.updateTileTexture(e,A.FADING))),this._techniqueConfiguration.tileBlendInput=i.backgroundIsGrid?U.GridComposite:r(i.backgroundColor)?U.ColorComposite:U.LayerOnly,this.setNeedsRender()}_updatePatchGroups(){if(this.patchGroupsDirty){if(this.highestVisibleLODTile=null,this._rebuildPatchGroups(),this.renderOrder!==E.NONE){const e=Array.from(this._patchGroups.values());e.forEach((e=>I(this.renderOrder,e))),e.sort(((e,t)=>w(e[0],t[0],this.renderOrder))),this._patchGroups=new Map(e.map((e=>[e[0].renderData.localOrigin,e])))}this.patchGroupsDirty=!1}}_rebuildPatchGroups(){const e=this._rootTiles;if(!n(e)){e[0]?.surface.checkAllTileWaterproofness(),this._patchGroups.clear();for(const t of e)this._rebuildPatchGroupsForRootTile(t)}}_rebuildPatchGroupsForRootTile(e){const t=this.tileIterator;for(t.resetOne(e);!t.done;){const e=t.next(),i=e.renderData;if(!i||e.visible)if(e.rendered){if(i){const r=this._patchGroups.get(i.localOrigin)||new Array;this._patchGroups.set(i.localOrigin,r),r.push(e),(!this.highestVisibleLODTile||e.vlevel>this.highestVisibleLODTile.vlevel)&&(this.highestVisibleLODTile=e),t.skipSubtree()}}else this.numTilesCulled++;else this.numTilesCulled++,t.skipSubtree()}}_useStencilForTile(e){for(const t of this.stencilEnabledLayerExtents)if(e.intersectsExtent(t))return!0;return!1}_renderPatchGroupsAuxiliary(e,t,i){const r=this.stencilEnabledLayerExtents.length>0;this._patchGroups.forEach((s=>{const n=s[0].renderData.localOrigin;t.program.bindDraw(new $(n),e.bindParameters);for(let a=0;a<s.length;a++)this._renderPatch(e,t,s[a],ne.TRIANGLES,r,i)})),e.rctx.bindVAO(null)}_renderPatchGroups(e,t,i){const s=e.rctx,a=e.bindParameters.camera,o=t.program;if(this._techniqueConfiguration.screenSizePerspective&&this.pointsOfInterest){const e=X(this.stage.viewingMode,this.ellipsoidRadius),t=this.pointsOfInterest.centerOnSurfaceFrequent.distance;e.update({distance:t,fovY:a.fovY})}const l=this.stencilEnabledLayerExtents.length>0,d=i===v.Occluded;d&&(o.bindTexture(\"tex\",this.emptyTex),o.setUniform1f(\"blend\",1),o.setUniform4fv(\"texOffsetAndScale\",m));const h=r(this.tileRenderer)&&r(this.tileRenderer.backgroundColor)?this.tileRenderer.backgroundColor:p;this._techniqueConfiguration.tileBlendInput===U.ColorComposite&&o.setUniform3fv(\"backgroundColor\",h);const c=this.wireframe?ne.LINES:ne.TRIANGLES;this._techniqueConfiguration.textureFadingEnabled&&o.bindTexture(\"texNext\",this.emptyTex),this._patchGroups.forEach((s=>{const a=s[0].renderData.localOrigin;t.program.bindDraw(new $(a),e.bindParameters),this.numOriginsRendered++;for(let h=0;h<s.length;h++){const a=s[h],u=a.renderData.textureReference;if(!n(u)){if(!d){this._scaleRangeQueries.scaleQueriesForTile(a),ue(a.renderData.geometryInfo.uvOffsetAndScale,u.offsetAndScale,de),o.setUniform4fv(\"texOffsetAndScale\",de),o.bindTexture(\"tex\",u.texture.texture);const e=a.renderData.textureFadeFactor,t=e<1?a.renderData.nextTextureReference:null;this._techniqueConfiguration.textureFadingEnabled&&r(t)&&e<1?(ue(a.renderData.geometryInfo.uvOffsetAndScale,t.offsetAndScale,de),o.setUniform1f(\"fadeFactor\",e),o.setUniform4fv(\"nextTexOffsetAndScale\",de),o.setUniform3fv(\"nextTexOpacities\",t.opacities),o.bindTexture(\"texNext\",t.texture.texture)):o.setUniform1f(\"fadeFactor\",1),a.renderData.textureIsFading&&this.setNeedsRender(),o.setUniform3fv(\"textureOpacities\",u.opacities)}this._renderPatch(e,t,a,c,l,i),a.renderOrder=this.numTilesRendered,this.numTilesRendered++}}})),s.bindVAO(null)}_renderPatch(e,t,i,r,s,a){const o=i.renderData,l=o.vao,d=l.indexBuffer;if(n(d))return;const h=t.program;a!==v.None&&this._bindOverlayPatchData(h,o.overlay),s&&(t.useStencil=this._useStencilForTile(i),t.bindPipelineState(e.rctx,e.bindParameters.slot));const c=o.geometryInfo.indexCount;e.rctx.bindVAO(l),h.assertCompatibleVertexAttributeLocations(l),e.rctx.drawElements(r,c,d.indexType,0)}_bindOverlayPatchData(e,t){e.setUniform4fv(\"overlayTexOffset\",t.offsets),e.setUniform4fv(\"overlayTexScale\",t.scales)}_updateTechnique(e,t){return this._techniqueConfiguration.output=e,e===j.Color&&(this._techniqueConfiguration.atmosphere=this.isGlobal&&this._velvetOverground),this._techniqueConfiguration.renderOccluded=t,this._techniqueConfiguration.stencilEnabled=!1,this._shaderTechnique=this._techniqueRepository.releaseAndAcquire(ie,this._techniqueConfiguration,this._shaderTechnique),this._shaderTechnique}get test(){return{tileRenderer:this.tileRenderer}}};e([o({constructOnly:!0})],he.prototype,\"overlayRenderer\",void 0),e([o({constructOnly:!0})],he.prototype,\"stage\",void 0),e([o({readOnly:!0})],he.prototype,\"isGlobal\",null),e([o({constructOnly:!0})],he.prototype,\"allTiles\",void 0),e([o({constructOnly:!0})],he.prototype,\"ellipsoidRadius\",void 0),e([o({value:!1})],he.prototype,\"renderingDisabled\",null),e([o()],he.prototype,\"renderPatchBorders\",null),e([o()],he.prototype,\"cullBackFaces\",null),e([o({value:E.FRONT_TO_BACK})],he.prototype,\"renderOrder\",null),e([o()],he.prototype,\"wireframe\",null),he=e([l(\"esri.views.3d.terrain.TerrainRenderer\")],he);const ce=he;function ue(e,t,i){i[0]=e[0]*t[2]+t[0],i[1]=e[1]*t[3]+t[1],i[2]=e[2]*t[2],i[3]=e[3]*t[3]}const pe=g(),fe=g(),ge=g(),me=g();export{ce as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nclass e{constructor(){this.numNodes=0,this.numLeaves=0,this.numVisible=0,this.numRendered=0,this.numSplit=0,this.numMerged=0,this.numRenderedPerLevel=new Array,this.numLoadedPerLevel=new Array}}export{e as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import i from\"../../../core/Handles.js\";import{destroyMaybe as s,isSome as r}from\"../../../core/maybe.js\";import{watch as o}from\"../../../core/reactiveUtils.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{canProjectToWGS84ComparableLonLat as a}from\"../../../geometry/projection.js\";import{equals as c}from\"../../../geometry/support/aaBoundingRect.js\";import{isMars as h,isMoon as p}from\"../../../geometry/support/spatialReferenceUtils.js\";import{isTiledLayer as d}from\"../../../layers/support/layerUtils.js\";import{ViewingMode as m}from\"../../ViewingMode.js\";import{getTiledLayerInfo as y,isProjectableRasterLayer as u}from\"./terrainUtils.js\";import{TilingScheme as S}from\"./TilingScheme.js\";let g=class extends t{constructor(e){super(e),this._handles=new i}initialize(){this._handles.add(this.layers.on(\"change\",(()=>this._update()))),this._handles.add(o((()=>this.extentHelper.layerViewsExtent),(()=>this._setAdHocTilingScheme()))),this._update(),this.tilingSchemeLocked||this._setAdHocTilingScheme()}destroy(){this._handles=s(this._handles),this._waitTask=null}_update(){if(this._waitTask=null,this.tilingSchemeLocked)return;let e;if(this.layers.some((t=>!(!d(t)||t.isRejected())&&(!(t.isFulfilled()&&!f(t,this.viewSpatialReference,this.viewingMode))&&(e=t,!(\"vector-tile\"===t?.type||u(t)))))),e)if(e.isResolved()){const t=y(e,this.viewSpatialReference,this.viewingMode);if(r(t)){const e=new S(t.tileInfo);this._lockTilingScheme(e)}}else this._updateWhen(e)}_updateWhen(e){const t=e.when().catch((()=>{})).then((()=>{t!==this._waitTask||this.destroyed||this._update()}));this._waitTask=t}_lockTilingScheme(e){if(this.viewingMode===m.Global){const t=e.levels.length-1;e.spatialReference.isWebMercator?e=S.makeWebMercatorAuxiliarySphere(t):a(e.spatialReference)&&(e=S.makeGCSWithTileSize(e.spatialReference,e.pixelSize,t))}this.tilingSchemeLocked=!0,this.tilingScheme=e,this.extentHelper.tilingScheme=this.tilingScheme,this._updateTiledLayerExtent(),this._handles.removeAll(),this._handles.add(o((()=>this.extentHelper.tiledLayersExtent),(()=>this._updateTiledLayerExtent())))}_updateTiledLayerExtent(){this._set(\"extent\",this.extentHelper.tiledLayersExtent)}_setAdHocTilingScheme(){if(this.viewingMode===m.Global){const e=this.extentHelper.viewSpatialReference,t=a(e)||h(e)||p(e);e.isWebMercator?this.tilingScheme=S.WebMercatorAuxiliarySphere:t&&(this.tilingScheme=S.makeGCSWithTileSize(e,256)),this._set(\"extent\",this.extentHelper.layerViewsExtent)}else{const e=this.extentHelper.layerViewsExtent;r(e)&&!c(e,this.extent)&&(this.tilingScheme=S.fromExtent(e,this.extentHelper.viewSpatialReference),this._set(\"extent\",e))}}get test(){return{lockTilingScheme:e=>this._lockTilingScheme(e),done:!this._waitTask}}};function f(e,t,i){return r(y(e,t,i))}e([n()],g.prototype,\"tilingScheme\",void 0),e([n({readOnly:!0})],g.prototype,\"extent\",void 0),e([n({value:!1})],g.prototype,\"tilingSchemeLocked\",void 0),e([n({constructOnly:!0})],g.prototype,\"viewSpatialReference\",void 0),e([n({constructOnly:!0})],g.prototype,\"layers\",void 0),e([n({constructOnly:!0})],g.prototype,\"extentHelper\",void 0),e([n({constructOnly:!0})],g.prototype,\"viewingMode\",void 0),g=e([l(\"esri.views.3d.terrain.TilingSchemeLogic\")],g);export{g as TilingSchemeLogic};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{a as s}from\"../../../chunks/vec2f64.js\";class t{constructor(){this.offset=s(),this.scale=0,this.tile=null}init(s,t,i,e){this.tile=s,this.offset[0]=t,this.offset[1]=i,this.scale=e}dispose(){this.tile=null,this.offset[0]=0,this.offset[1]=0,this.scale=0}}export{t as UpsampleInfo};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Color.js\";import i from\"../../../core/Accessor.js\";import{difference as r}from\"../../../core/arrayUtils.js\";import s from\"../../../core/CollectionFlattener.js\";import a from\"../../../core/Evented.js\";import n from\"../../../core/Handles.js\";import o from\"../../../core/Logger.js\";import{clamp as l}from\"../../../core/mathUtils.js\";import{releaseMaybe as h,destroyMaybe as d,isNone as p,isSome as u}from\"../../../core/maybe.js\";import c from\"../../../core/ObjectPool.js\";import _ from\"../../../core/PooledArray.js\";import{isAbortError as g,isAborted as m,createAbortError as f}from\"../../../core/promiseUtils.js\";import{watch as T,syncAndInitial as y,sync as v,initial as w}from\"../../../core/reactiveUtils.js\";import{aliasOf as L}from\"../../../core/accessorSupport/decorators/aliasOf.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as S}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as E}from\"../../../core/accessorSupport/decorators/subclass.js\";import{m as b}from\"../../../chunks/mat4.js\";import{c as D}from\"../../../chunks/mat4f64.js\";import{c as x}from\"../../../chunks/vec3.js\";import{c as U}from\"../../../chunks/vec3f64.js\";import{c as P}from\"../../../chunks/vec4f64.js\";import{WatchUpdatingTracking as C}from\"../../../core/support/WatchUpdatingTracking.js\";import{projectVectorToVector as R,projectPointToVector as j}from\"../../../geometry/projection.js\";import{getReferenceEllipsoid as M}from\"../../../geometry/projectionEllipsoid.js\";import{create as A,equals as I,intersection as V,intersectsSphere as O}from\"../../../geometry/support/aaBoundingRect.js\";import{create as N,copy as k}from\"../../../geometry/support/frustum.js\";import{isPlateCarree as B}from\"../../../geometry/support/spatialReferenceUtils.js\";import{isRefreshableLayer as q}from\"../../../layers/mixins/RefreshableLayer.js\";import{ElevationQueryTileCache as G}from\"../../../layers/support/ElevationQueryTileCache.js\";import{isBaseLayer as W}from\"../../../layers/support/layerUtils.js\";import{acquireDecoder as F}from\"../../../layers/support/LercDecoder.js\";import{printAllocations as H}from\"../../2d/engine/vectorTiles/VectorTile.js\";import{directionToHeadingTilt as Q,scaleToZoom as X}from\"../support/cameraUtils.js\";import z from\"../support/debugFlags.js\";import{toBoundingRect as Y}from\"../support/extentUtils.js\";import{ClientType as $}from\"../support/index.js\";import{updatingProgress as K}from\"../support/updatingProperties.js\";import{ElevationBounds as J}from\"./ElevationBounds.js\";import{sampleElevation as Z,ElevationData as ee}from\"./ElevationData.js\";import{create as te}from\"./ExtentHelper.js\";import{LODSnapping as ie,TextureUpdate as re}from\"./interfaces.js\";import{LayerClass as se,LayerClasses as ae}from\"./LayerClass.js\";import{OverlayManager as ne}from\"./OverlayManager.js\";import{PlanarPatch as oe}from\"./PlanarPatch.js\";import{RenderOrder as le}from\"./RenderOrder.js\";import{SphericalPatch as he}from\"./SphericalPatch.js\";import{MAX_ROOT_TILES as de,TOO_MANY_ROOT_TILES_AFTER_CHANGE_ERROR as pe,TOO_MANY_ROOT_TILES_FOR_LAYER_ERROR as ue,MAX_MEMORY_LOD_BIAS as ce,ELEVATION_NODATA_VALUE as _e}from\"./TerrainConst.js\";import ge from\"./TerrainRenderer.js\";import me from\"./TerrainSurfacePerformanceInfo.js\";import{weakAssert as fe,internalAssert as Te,isSurfaceLayerView as ye,isMapTileLayerView as ve,isBlendableLayerView as we,isGroupLayer as Le,isElevationLayerView as Se,isVectorTileLayerView as Ee,useFetchTileForLayer as be,isImageryTileLayerView as De,isTileLayerView as xe,releaseTileData as Ue,ENABLE_WATERPROOFNESS_TESTS as Pe}from\"./terrainUtils.js\";import{SplitLimits as Ce,Tile as Re}from\"./Tile.js\";import{printAllocations as je}from\"./TilePerLayerInfo.js\";import{TileUpdate as Me}from\"./TileUpdate.js\";import{IteratorPreorder as Ae,IteratorPostorder as Ie,hasLoadableSiblings as Ve,sortTilesByPOI as Oe,sortTiles as Ne}from\"./tileUtils.js\";import{TilingSchemeLogic as ke}from\"./TilingSchemeLogic.js\";import{UpsampleInfo as Be}from\"./UpsampleInfo.js\";import{isCompositeBlendMode as qe,blendModeFromString as Ge}from\"../webgl-engine/core/shaderLibrary/output/BlendOptions.js\";import{RenderRequestType as We}from\"../webgl-engine/lib/basicInterfaces.js\";import{ImmediateTask as Fe,TaskPriority as He,noBudget as Qe}from\"../../support/Scheduler.js\";const Xe=o.getLogger(\"esri.views.3d.terrain.TerrainSurface\"),ze=.25;let Ye=class extends(a.EventedMixin(i)){constructor(e){super(e),this._elevationBounds=new J,this._iteratorPool=new c(Ae,(e=>e.remove=()=>this._iteratorPool.release(e))),this._postorderIterator=new Ie,this._hasPendingUpdates=!1,this._pendingUpdates=0,this._asyncWorkItems=0,this._allTilesDirty=!0,this._allTilesSorted=!0,this._visible=!1,this._usedMemory=null,this._performanceInfo=new me,this._viewChanged=!1,this._inFrameTask=!1,this._viewChangeUpdateDirty=!1,this._eyePosRenderSR=U(),this._eyePosSurfaceSR=U(),this._splitLimits=new Ce,this._snapLevel=1/0,this._frustum=N(),this._viewProjectionMatrix=D(),this._layerViews=[new Array,new Array],this._layerIndexByUid=[new Map,new Map],this._basemapLayerViewHandles=new Map,this._handles=new n,this._watchUpdatingTracking=new C,this._frameTask=Fe,this._allTiles=new _,this._upsampleInfoPool=new c(Be),this._rootTilesExtent=A(),this._maxNumUpdating=1,this.maxTextureScale=1.2,this.backgroundColor=null,this._updatingRootTiles=!1,this.deferTileNeighborUpdate=!1,this.neighborTilesToUpdate=new Set,this.totalGeometryUpdates=0,this.totalTileUpdates=0,this._layerViewsDirty=!1,this._isGlobal=!e.view?.state?.isLocal}initialize(){this._lercDecoder=F(this.view.resourceController),this._tilePool=this.view.state.isLocal?new c(oe):new c(he);const e=this.view.resourceController.memoryController;this._upsampleMapCache=e.newCache(\"esri.views.3d.terrain.upsample\",(e=>e.unloadMapData())),this._elevationQueryCache=new G(e.newCache(\"elevation-query\")),this._set(\"overlayManager\",new ne({surface:this})),this._handles.add([T((()=>this.overlayManager.hasHighlights),(e=>this._renderer.setNeedsHighlight(e))),T((()=>this.overlayManager.rendersOccluded),(e=>this._renderer.setRenderOccludedOverlay(e)))],\"overlayManager\"),this._renderer=new ge({overlayRenderer:this.overlayManager.renderer,ellipsoidRadius:M(this.view.spatialReference).radius,stage:this.view._stage,allTiles:this._allTiles}),this._handles.add([T((()=>this.baseOpacity),(e=>{this._handleLayerViewChanges(),this._updateBaseOpacity(e)}),y),T((()=>this.hasCompositeBlendMode),(()=>{this._updateBaseOpacity(this.baseOpacity)}),y),T((()=>this.renderingDisabled),(()=>this._updateTransparentTerrain()),v),T((()=>this.backgroundColor),(e=>{this._handleLayerViewChanges(),this._renderer.updateTileBackground(e)}),y),T((()=>this.view.pointsOfInterest),(e=>{this._renderer.pointsOfInterest=e,this._watchUpdatingTracking.removeAll(),e&&this._watchUpdatingTracking.add((()=>e.focus.renderLocation),(()=>()=>this._allTilesSorted=!1))})),T((()=>z.TERRAIN_TILE_TREE_SHOW_TILES),(e=>{e&&!this._treeDebugger?import(\"../layers/support/TerrainTileTree3DDebugger.js\").then((({TerrainTileTree3DDebugger:e})=>{!this._treeDebugger&&z.TERRAIN_TILE_TREE_SHOW_TILES&&(this._treeDebugger=new e({view:this.view}))})):e||(this._treeDebugger=d(this._treeDebugger))}),w)]),this._extentHelper=te(this.viewingMode,{layers:this.view.map.allLayers,layerViews:this.view.allLayerViews,viewSpatialReference:this.view.spatialReference});const t=this.view.defaultsFromMap?new s({getCollections:()=>this.view?.defaultsFromMap?.mapCollections?.map((({layers:e})=>e)),getChildrenFunction:e=>e&&\"layers\"in e?e.layers:null}):this.view.map.allLayers,i=new ke({layers:t,extentHelper:this._extentHelper,viewingMode:this.viewingMode,viewSpatialReference:this.view.spatialReference});this._set(\"tilingSchemeLogic\",i),this._updateTilingScheme(),this._elevationDataRequester=this.view.resourceController.createStreamDataRequester($.ELEVATION),this._mapDataRequester=this.view.resourceController.createStreamDataRequester($.BASEMAP);const r=this.view.resourceController.scheduler;this._frameTask=r.registerTask(He.TERRAIN_SURFACE,this),this._handles.add([T((()=>this._extentHelper.stencilEnabledExtents),(e=>this._renderer.setStencilEnabledLayerExtents(e)),w),T((()=>this.tilingSchemeLogic.tilingScheme),(()=>this._updateTilingScheme()),v),T((()=>this.extent),(()=>this._updateRootTiles()),w),this.view.on(\"resize\",(()=>this._viewChangeUpdate())),T((()=>{const e=this.view,t=e.state;return[this.lodBias,this.lodSnapping,e.resourceController?.memoryController?.memoryFactor,t.camera,t.contentCamera,t.fixedContentCamera]}),(()=>this._viewChangeUpdate()),y),T((()=>this.view.qualitySettings?.tiledSurface?.textureFadeDuration),(e=>this._renderer.textureFadingEnabled=e>0),w),T((()=>this._userClippingExtent),(()=>this._updateClippingExtent()),v)]),this._handles.add(this.view.allLayerViews.on(\"after-changes\",(()=>this._layerViewsDirty=!0))),this._layerViewsDirty=!0,this._handleLayerViewChanges()}destroy(){this._frameTask.remove(),this._handles.destroy(),this._watchUpdatingTracking.destroy(),this._lercDecoder=h(this._lercDecoder),this._removeAllTiles(),this._upsampleMapCache=d(this._upsampleMapCache),this._elevationQueryCache=d(this._elevationQueryCache),this._set(\"tilingSchemeLogic\",d(this.tilingSchemeLogic)),this._extentHelper=d(this._extentHelper),this._basemapLayerViewHandles.forEach(((e,t)=>this._unregisterTiledLayerView(t))),this._elevationDataRequester=null,this._mapDataRequester=null,this._set(\"overlayManager\",d(this.overlayManager)),this._tilePool=d(this._tilePool),Re.prune(),this._treeDebugger&&(this._treeDebugger.destroy(),this._treeDebugger=null),this._renderer=d(this._renderer),this._iteratorPool=d(this._iteratorPool),this._set(\"view\",null),this._upsampleInfoPool=d(this._upsampleInfoPool),H(),je()}get renderer(){return this._renderer}get frustum(){return this._frustum}get snapLevel(){const e=this.view.pointsOfInterest?.contentCameraOnSurface?.scale;if(e){const t=this.view.state.contentCamera;let i=Q(this.view,t.eye,t.viewForward,t.up).tilt;i>90&&(i=180-i);const r=2*(i/90)**2,s=X(this.view,e)-r;Math.abs(this._snapLevel-s)>ze&&(Math.round(s)!==Math.round(this._snapLevel)&&(this._viewChanged=!0),this._snapLevel=s)}return Math.round(this._snapLevel)}get lodSnapping(){return this.view.qualitySettings.tiledSurface.reduceTileLevelDifferences?ie.ON:ie.OFF}get upsampleInfoPool(){return this._upsampleInfoPool}get upsampleMapCache(){return this._upsampleMapCache}get elevationQueryCache(){return this._elevationQueryCache}get mapTileRequester(){return this._mapDataRequester}get _userClippingExtent(){const{spatialReference:e}=this,{clippingArea:t}=this.view;if(p(t)||p(e))return null;const i=A(),r=Y(t,i,e)?i:null,s=this._get(\"extent\");return I(r,s)?s:r}get rootTilesExtent(){return this._rootTilesExtent}get extent(){const e=V(this.groundExtent,this._userClippingExtent,A()),t=this._get(\"extent\");return I(e,t)?t:e}get groundExtent(){return u(this._tilingSchemeExtent)?this._tilingSchemeExtent:this._rootTilesExtent}get _tilingSchemeExtent(){return this.tilingSchemeLogic?.extent}get updating(){return this._hasPendingUpdates||(this._maxNumUpdating=1),!!((this._watchUpdatingTracking.updating||this._hasPendingUpdates||this._viewChanged||this._allTilesDirty||this._asyncWorkItems>0||!this._allTilesSorted||this._layerViewsDirty)&&this.ready&&!this.suspended||this.overlayManager.updating||this._frameTask.updating)}get updatingProgressValue(){return this._maxNumUpdating=Math.max(this._pendingUpdates,this._maxNumUpdating),1-this._pendingUpdates/this._maxNumUpdating}get viewingMode(){return this.view.state.viewingMode}get ready(){return u(this.rootTiles)}set renderOrder(e){this._renderer.renderOrder=e,this._set(\"renderOrder\",e)}get spatialReference(){return this.tilingScheme?.spatialReference??null}set slicePlaneEnabled(e){this._renderer.slicePlaneEnabled=e,this._set(\"slicePlaneEnabled\",e),this._updateTransparentTerrain()}_updateTransparentTerrain(){const e=!this.renderingDisabled&&!this.opaque;this.view?._stage?.renderView.setRenderParameters({transparentTerrain:e})}set velvetOverground(e){e!==this.velvetOverground&&(this._renderer.velvetOverground=e),this._set(\"velvetOverground\",e)}set visible(e){e!==this._visible&&(this._visible=e,this._renderer.setVisibility(e),this.suspended=!e)}get opaque(){return this._renderer.opaque}set suspended(e){this._set(\"suspended\",e),this._viewChangeUpdate()}intersect(e,t,i,r){this._renderer.intersect(e,t,i,r)}getElevation(e,t,i,r){const s=this.getTileWithElevation(e,t,i,r,et);return p(s)?null:Z(et[0],et[1],s.renderData.geometryState.samplerData)}getTileWithElevation(e,t,i,r,s=et){const a=this.rootTiles;if(p(a)||!a.length)return null;if(0===a[0].layerInfo[se.ELEVATION].length)return null;if(s[0]=e,s[1]=t,s[2]=i,!R(s,r,s,this.tilingScheme?.spatialReference))return Xe.error(\"TerrainSurface.getElevation(): could not project given point to tiling scheme coordinate system\"),null;for(let n of a){if(!n.containsPoint(s))continue;for(;n&&!n.rendered&&!n.isLeaf;){let e=0;s[0]>.5*(n.extent[0]+n.extent[2])&&(e+=1),s[1]<.5*(n.extent[1]+n.extent[3])&&(e+=2),n=n.children[e]}const e=n.renderData;return(e?e.geometryState.samplerData:null)?n:null}return null}get elevationBounds(){return this._elevationBounds}getScale(e){if(this.tilingScheme){if(!j(e,et,this.spatialReference))return Xe.error(\"TerrainSurface.getScale(): could not project given point to tiling scheme coordinate system\"),null;const t=this.rootTiles;if(u(t))for(let e of t)if(e?.containsPoint(et)){for(;!e.isLeaf&&!e.rendered;){let t=0;et[0]>e.children[0].extent[2]&&(t+=1),et[1]<e.children[0].extent[1]&&(t+=2),e=e.children[t]}return this._getLodBiasCorrectedScale(e.level)}}return 1e100}getSphereElevationBounds(e,t,i,r,s){if(et[0]=e,et[1]=t,et[2]=i,et[3]=r,!R(et,s,et,this.tilingScheme?.spatialReference))return Xe.error(\"TerrainSurface.getSphereElevationBounds(): could not project given point to tiling scheme coordinate system\"),null;let a=1/0,n=-1/0;const o=e=>{if(e&&O(e.extent,et))if(e.isLeaf||e.rendered)a=Math.min(a,e.elevationBounds[0]),n=Math.max(n,e.elevationBounds[1]);else for(const t of e.children)o(t)},l=this.rootTiles;if(u(l))for(const h of l)o(h);return{min:a,max:n}}getSphereScale(e,t){if(!this.tilingScheme)return null;if(!j(e,et,this.spatialReference))return Xe.error(\"TerrainSurface.getSphereScale(): could not project given point to tiling scheme coordinate system\"),null;et[3]=t;let i=null;const r=e=>{if(e&&O(e.extent,et))if(e.isLeaf||e.rendered){const t=this._getLodBiasCorrectedScale(e.level);i=null==i?t:Math.min(i,t)}else for(const t of e.children)r(t)},s=this.rootTiles;if(u(s))for(const a of s)r(a);return i}queryVisibleScaleRange(e,t,i,r){const s=t?this.tilingScheme.levelAtScale(t):0,a=i?this.tilingScheme.levelAtScale(i):1/0,n=this.lodBias;this._renderer.queryVisibleLevelRange(e,s+n,a+n,r)}_updateBaseOpacity(e){const t=this._renderer.opaque;this._renderer.opaque=e>=1&&!this.hasCompositeBlendMode,this._renderer.isTransparent=this._allSurfaceLayersTransparent();const i=t!==this._renderer.opaque;i&&this._updateTransparentTerrain(),this._updateTileTextures(i?re.UNFADED:re.IMMEDIATE)}_updateTilingScheme(){const e=this.tilingSchemeLogic.tilingScheme;e!==this.tilingScheme&&(fe(!!e,\"tiling scheme cannot be reset to undefined\"),this._isGlobal=!this.view?.state?.isLocal,this.tilingScheme&&this._removeAllTiles(),this._set(\"tilingScheme\",e),this._updateClippingExtent(),e&&(this._updateTiledLayers(),this._renderer.setTileSize(e.pixelSize),this.overlayManager.setSpatialReference(e.spatialReference),this._updateRootTiles()))}_acquireTile(e,t,i,r){const s=this._tilePool.acquire();return it[0]=e,it[1]=t,it[2]=i,s.init(it,r,this),s}get updatingRootTiles(){return this._updatingRootTiles}_updateRootTiles(){const{extent:e,tilingScheme:t}=this;if(!t)return;const i=tt;let s=t.rootTilesInExtent(e,i,5*de);if(u(this.rootTiles)){if(s.length>de)return void Xe.warn(pe);const e=this.rootTiles.map((e=>e.lij)),t=r(e,s,Ke);if(this._updatingRootTiles=!0,t.removed.length>0||t.added.length>0){const e=this.rootTiles.filter((e=>!(t.removed.findIndex((t=>Ke(t,e.lij)))>-1)||(this._purgeTile(e,!0),!1)));t.added.forEach((t=>e.push(this._newRootTile(t)))),this._setRootTiles(e)}}else this._updatingRootTiles=!0,s.length>de&&(Xe.warn(ue),s=t.rootTilesInExtent(e,i,de)),this._setRootTiles(s.map((e=>this._newRootTile(e))));I(i,this._rootTilesExtent)||(this._rootTilesExtent=A(i)),this.visible=!0,this._viewChangeUpdate(),this.overlayManager.setPlacementDirty(),this.notifyChange(\"ready\"),this._allTiles.forEach((e=>{e.isLoaded&&this._prepareToLoadTile(e)})),this._allTiles.forAll((e=>{e.isLoaded&&(this._updateTileGeometry(e),this._updateTileNeighborsAfterGeometryChange(e))})),this._updatingRootTiles=!1,this.checkAllTileWaterproofness()}_newRootTile(e){const t=this._acquireTile(0,e[1],e[2],null);return t.shouldSplit(this._splitLimits,this._eyePosRenderSR,this.lodSnapping)===Me.SPLIT&&t.setPendingUpdate(Me.SPLIT),this._loadTile(t),this.deferTileNeighborUpdate||t.checkGeometryWaterproofness(),t}_setRootTiles(e){if(this._set(\"rootTiles\",e),this._allTiles.clear(),u(e)){const t=this._iteratorPool.acquire();for(t.reset(e);!t.done;)this._allTiles.push(t.next());t.remove()}this._renderer.setRootTiles(this.rootTiles),this._updateTilesVisibility(e)}_runViewChangeUpdateIfDirty(){this._viewChangeUpdateDirty&&(this._viewChangeUpdateDirty=!1,this._viewChangeUpdate())}_viewChangeUpdate(){this.view&&!this.suspended&&this.tilingScheme&&this._visible&&(this._inFrameTask?this._viewChangeUpdateDirty=!0:(this._viewChangeUpdateDirty=!1,this._updateViewDependentParameters(),this._updateTilesVisibility(this.rootTiles)))}_updateClippingStatus(e){e.updateClippingStatus(this.extent)&&e.resetPendingUpdate(Me.GEOMETRY)&&this._updateTileGeometry(e)}_updateTilesVisibility(e){if(p(e))return;const t=Ve(e);let i=t?this._elevationBounds.min:1/0,r=t?this._elevationBounds.max:-1/0;const s=this.extent,a=this._viewProjectionMatrix;this.setTileTreeDirty();const n=this._iteratorPool.acquire();for(n.reset(e);!n.done;){const e=n.next();e.updateClippingStatus(s)&&e.resetPendingUpdate(Me.GEOMETRY)&&this._updateTileGeometry(e),e.setPendingUpdate(Me.RENDERDATA),e.computeVisibility(),e.updateScreenDepth(a),e.renderData&&(i=Math.min(e.elevationBounds[0],i),r=Math.max(e.elevationBounds[1],r))}n.remove(),this._viewChanged=!0,this._allTilesDirty=!0,isFinite(i)&&isFinite(r)&&(this._elevationBounds.min===i&&this._elevationBounds.max===r||(this._elevationBounds.min=i,this._elevationBounds.max=r,this.emit(\"elevation-bounds-change\",null)))}_updateViewDependentParameters(){const e=this.view.state.camera,t=this.view.state.contentCamera,i=Math.tan(.5*t.fovX),r=Math.tan(.5*t.fovY),s=this.tilingScheme.pixelSize,a=2**-this.lodBias*e.pixelRatio;this._splitLimits.aboveGround=e.aboveGround,this._splitLimits.fovX=i,this._splitLimits.fovY=r,this._splitLimits.relativeWidthLimit=s/e.width*this.maxTextureScale*a,this._splitLimits.relativeHeightLimit=s/e.height*this.maxTextureScale*a,this._splitLimits.maxLod=this.tilingScheme.getMaxLod(),this._splitLimits.angledSplitBias=this.view.qualitySettings.tiledSurface.angledSplitBias,this.view.state.fixedContentCamera?(p(this._splitLimits.frustum)&&(this._splitLimits.frustum=N()),k(this._splitLimits.frustum,t.frustum)):this._splitLimits.frustum=null,k(this._frustum,e.frustum),b(this._viewProjectionMatrix,t.projectionMatrix,t.viewMatrix),x(this._eyePosRenderSR,t.eye),R(e.eye,this.view.renderSpatialReference,this._eyePosSurfaceSR,this.spatialReference)}_updateRenderData(e){e.rendered&&!e.shouldLoad&&(Je(e)?(this._loadChildren(e),this.deferTileNeighborUpdate||(this._checkTileNeighborsWaterproofness(e),e.children.forEach((e=>e.checkGeometryWaterproofness())))):Ze(e)&&this._loadParent(e))}_updateTileGeometry(e){e.updateVisibility(),this._renderer.updateTileGeometry(e),this._updateTileNeighborsAfterGeometryChange(e),this._elevationUpdate(e),this._usedMemory=null,this.deferTileNeighborUpdate&&this.neighborTilesToUpdate.delete(e)}_updateTileNeighborsAfterGeometryChange(e,t){if(this.deferTileNeighborUpdate){const t=this.neighborTilesToUpdate;e.forEachLoadedNeighbor((e=>{t.add(e)}))}else e.updateNeighborsAfterGeometryChange(t)}_updateTileTexture(e,t){const i=e.resetPendingUpdate(Me.TEXTURE_FADING)?Me.TEXTURE_FADING:!!e.resetPendingUpdate(Me.TEXTURE_NOFADING)&&Me.TEXTURE_NOFADING;i&&(this._renderer.updateTileTexture(e,i),this._usedMemory=null,t.madeProgress())}_elevationUpdate(e){st.spatialReference=this.spatialReference,st.tile=e,st.extent=e.extent,this.emit(\"elevation-change\",st)}get running(){return this.updating&&this.ready&&!this.suspended}runTask(e){this._handleLayerViewChanges(e),this._frameTask.processQueue(e),this._inFrameTask=!0,this._pendingUpdates=0,this._hasPendingUpdates=!1,this._updateTileStatus(e),this._sortTiles(e);const t=!this.view.state.fixedContentCamera;this._mergeAndSplit(e,t),e.run((()=>this._updateElevation(e))),e.run((()=>this._updateTextures(e))),t||this._mergeAndSplit(e,!0),this._inFrameTask=!1,this._runViewChangeUpdateIfDirty(),e.done?this.requestUpdate():this._usedMemory=this._recalculateUsedMemory(),this.notifyChange(\"updatingProgressValue\")}_updateTileStatus(e){if(!this._viewChanged||!this.rootTiles||e.done)return;this._viewChanged=!1;const t=this._iteratorPool.acquire();for(t.reset(this.rootTiles);!t.done;){const e=t.next(),i=e.shouldSplit(this._splitLimits,this._eyePosRenderSR,this.lodSnapping);if(i!==Me.SPLIT){if(e.resetPendingUpdate(Me.SPLIT)&&e.updateAgentSuspension(),i===Me.VSPLITMERGE&&e.updateAgents(se.ELEVATION),t.skipSubtree(),!e.isLeaf){e.setPendingUpdate(Me.MERGE),e.resetPendingUpdate(Me.SPLIT);const t=this._iteratorPool.acquire();t.resetOne(e);for(let e=t.next();!t.done;e=t.next())this._updateClippingStatus(e),e.updateVisibility(),e.updateScreenDepth(this._viewProjectionMatrix);t.remove()}}else e.resetPendingUpdate(Me.MERGE),e.isLeaf&&(e.setPendingUpdate(Me.SPLIT),t.skipSubtree())}t.remove(),this.requestUpdate(),e.madeProgress()}_sortTiles(e){e.done||this._allTilesSorted||(Oe(this._allTiles,this.view.pointsOfInterest.focus.renderLocation),this._allTilesSorted=!0,this._treeDebugger&&this._treeDebugger.update(),e.madeProgress())}_prepareBatchTileGeometryUpdate(){Te(0===this.neighborTilesToUpdate.size),this.deferTileNeighborUpdate=!0}_batchUpdateUpdatedTileNeighbors(){this.deferTileNeighborUpdate=!1;const e=this.neighborTilesToUpdate;(()=>{const t=()=>{for(const t of e)t.updateNeighborsWithChangedEdgeResolution()};(()=>{for(const t of e)t.updateNeighborDataAndGeometryIfNeeded()})(),t(),e.clear()})()}_mergeAndSplit(e,t){if(this.suspended||e.done||!this._allTilesDirty)return;this._allTilesDirty=!1,this.requestUpdate(),this._prepareBatchTileGeometryUpdate();let i=!1,r=!1;for(;!e.done;){r=!0;let s=!1;const a=!this._allTiles.some((r=>{if(!i&&!r.loadable)return e.done;if(r.resetPendingUpdate(Me.MERGE)){if(!t)return r.setPendingUpdate(Me.MERGE),e.done;this._mergeTile(r),s=!0,e.madeProgress()}else r.resetPendingUpdate(Me.SPLIT)&&(this._splitTile(r),s=!0,e.madeProgress());return!e.done&&r.resetPendingUpdate(Me.RENDERDATA)&&(this._updateRenderData(r),e.madeProgress()),e.done}));if(s&&(this._allTilesSorted=!1,this._allTilesDirty=!0),a){if(!i){i=!0;continue}if(!s)break;this._updateTilesVisibility(this.rootTiles)}else this._allTilesDirty=!0}r||(this._allTilesDirty=!0),this._batchUpdateUpdatedTileNeighbors(),this._sortTiles(e)}_updateElevation(e){return this._prepareBatchTileGeometryUpdate(),this._allTiles.some((t=>(t.resetPendingUpdate(Me.GEOMETRY)&&(this._updateTileGeometry(t),this._updateTileTexture(t,e),e.madeProgress()),e.done))),this._batchUpdateUpdatedTileNeighbors(),e.hasProgressed}_updateTextures(e){return this._allTiles.some((t=>(this._updateTileTexture(t,e),e.done))),e.hasProgressed}_updateClippingExtent(){this.spatialReference&&(this.updateTileOverlayParams(We.UPDATE),this.overlayManager.setPlacementDirty(),this._updateRootTiles())}get lodBias(){const e=this.view.resourceController.memoryController.memoryFactor;return this.view.qualitySettings.tiledSurface.lodBias-(1-e)*ce}_getLodBiasCorrectedScale(e){const t=this.tilingScheme.levels,i=l(e-this.lodBias,0,t.length-1),r=i-Math.floor(i);return t[Math.floor(i)].scale*(1-r)+t[Math.ceil(i)].scale*r}_removeAllTiles(){u(this.rootTiles)&&(this.rootTiles.forEach((e=>this._purgeTile(e,!1))),this._setRootTiles(null),this.notifyChange(\"ready\")),this._allTiles.clear(),this.visible=!1}_purgeDescendantTiles(e){if(e.isLeaf)return!1;let t=!1;for(let i=0;i<4;++i)t=this._purgeTile(e.children[i],!1)||t;return e.unsetChildren(),t}_purgeTile(e,t){const i=this._purgeDescendantTiles(e)||e.rendered;return this._allTiles.removeUnordered(e),this._unloadTile(e),t&&this._updateTileNeighborsAfterGeometryChange(e),this._tilePool.release(e),i}_unloadTile(e){this.deferTileNeighborUpdate&&this.neighborTilesToUpdate.delete(e),e.unload(this._renderer)}_splitTile(e){fe(e.isLeaf,\"tile that is already split should not be split again!\");const t=e.level+1,i=2*e.lij[1],r=2*e.lij[2];e.setChildren(this._createTile(t,i,r,e),this._createTile(t,i,r+1,e),this._createTile(t,i+1,r,e),this._createTile(t,i+1,r+1,e)),e.setPendingUpdate(Me.RENDERDATA),e.updateAgentSuspension(),this._allTiles.pushArray(e.children),this._allTilesDirty=!0,this._emitTileScaleChange(e,t),++this._performanceInfo.numSplit}_emitTileScaleChange(e,t=e.level){at.spatialReference=this.spatialReference,at.extent=e.extent,at.scale=this._getLodBiasCorrectedScale(t),this.emit(\"scale-change\",at)}_createTile(e,t,i,r){fe(!!r,\"_createTile sanity check\");const s=this._acquireTile(e,t,i,r);return s.updateClippingStatus(this.extent),s.updateScreenDepth(this._viewProjectionMatrix),s.shouldSplit(this._splitLimits,this._eyePosRenderSR,this.lodSnapping)===Me.SPLIT&&s.setPendingUpdate(Me.SPLIT),s}_mergeTile(e){fe(!e.hasPendingUpdate(Me.SPLIT),\"_mergeTile sanity check\"),this._purgeDescendantTiles(e)&&(fe(!e.renderData,\"_mergeTile sanity check\"),this._loadTile(e),this._updateTileNeighborsAfterGeometryChange(e),this.deferTileNeighborUpdate||this._checkTileAndNeighborsWaterproofness(e)),this._allTilesDirty=!0,++this._performanceInfo.numMerged,this._emitTileScaleChange(e)}_checkTileAndNeighborsWaterproofness(e){e.checkGeometryWaterproofness(),this._checkTileNeighborsWaterproofness(e)}_checkTileNeighborsWaterproofness(e){Pe&&e.forallNeighbors((e=>!!e.isLoaded&&(e.checkGeometryWaterproofness(),!0)))}_loadChildren(e){this.deferTileNeighborUpdate||this._checkTileAndNeighborsWaterproofness(e),fe(e.rendered,\"parent should be rendered\"),this._unloadTile(e);const t=e.children;t.forEach((e=>this._prepareToLoadTile(e))),t.forEach((e=>this._loadTilePrepared(e))),this._updateTileNeighborsAfterGeometryChange(e,e.level+1),this.deferTileNeighborUpdate||(t.forEach((e=>e.updateNeighborsWithChangedEdgeResolution())),t.forEach((e=>e.checkGeometryWaterproofness())),this._checkTileNeighborsWaterproofness(e))}_loadParent(e){this.deferTileNeighborUpdate||this._checkTileAndNeighborsWaterproofness(e);const t=e.parent;this._unloadChildren(t),this._loadTile(t),this._updateTileNeighborsAfterGeometryChange(t),this.deferTileNeighborUpdate||this._checkTileAndNeighborsWaterproofness(t)}_unloadChildren(e){if(!e.isLeaf)for(let t=0;t<4;++t){const i=e.children[t];this._unloadChildren(i),this._unloadTile(i)}}_postLoadTile(e){e.setPendingUpdate(Me.RENDERDATA),this.requestUpdate(),this._allTilesDirty=!0,this.overlayManager&&this.overlayManager.hasOverlays&&this.overlayManager.setTileParameters(e),this._elevationUpdate(e)}_loadTile(e){e.load(this._renderer),this._postLoadTile(e)}_loadTilePrepared(e){e.loadPrepared(this._renderer),this._postLoadTile(e)}_prepareToLoadTile(e){e.prepareToLoad(this._renderer)}_elevationDataArrived(e,t,i){const r=new ee(e.lij,e.extent,i);e.dataArrived(t,se.ELEVATION,r);const s=[e],a=e.level,n=this._iteratorPool.acquire();for(n.reset(s);!n.done;){const e=n.next();e.findElevationBoundsForLayer(t,a),e.computeElevationBounds()}n.remove(),this._updateTilesVisibility(s)}_handleLayerViewChanges(e=Qe){if(!this._layerViewsDirty)return;this._layerViewsDirty=!1;let t=!1;const i=new Set;let r=-1;for(const s of this.view.allLayerViews.items)if(i.add(s.uid),ye(s))if(this._basemapLayerViewHandles.has(s.uid)){const e=this._layerClassFromLayerView(s),i=this._getLayerIdxByUID(e,s.uid);u(i)&&((i<r||p(r))&&(t=!0),r=i)}else this._registerTiledLayerView(s),s.layer.loaded&&(t=!0);this._basemapLayerViewHandles.forEach(((e,r)=>{i.has(r)||(this._unregisterTiledLayerView(r),t=!0)})),t&&this._updateTiledLayers(),this._renderer.isTransparent=this._allSurfaceLayersTransparent(),this.hasCompositeBlendMode=this._hasCompositeBlendMode(),e.madeProgress()}_allSurfaceLayersTransparent(){let e=0===this.view.map?.ground?.opacity;for(const t of this.view.allLayerViews.items)if(ve(t)&&!W(t.layer)&&0!==t.fullOpacity)return e=!1,e;return e}_hasCompositeBlendMode(){for(const e of this.view.allLayerViews.items)if(we(e)){const t=Le(e.layer.parent)?\"normal\":e.layer.blendMode;if(qe(Ge[t]))return!0}return!1}_layerClassFromLayerView(e){return Se(e)?se.ELEVATION:se.MAP}_registerTiledLayerView(e){const t=[],i=this._layerClassFromLayerView(e);t.push(T((()=>e.suspended),(()=>this._updateTiledLayers()))),t.push(T((()=>e.fullOpacity),(()=>this._updateTileTextures(re.UNFADED)))),t.push(T((()=>\"effectiveScaleRange\"in e.layer?e.layer.effectiveScaleRange:null),(()=>this._restartAllAgents(i)))),we(e)&&t.push(T((()=>e.layer.blendMode),(()=>{this.hasCompositeBlendMode=this._hasCompositeBlendMode(),this._updateTileTextures(re.UNFADED)}))),e.on(\"data-changed\",(()=>{const t=this._getLayerIdxByUID(i,e.uid);u(t)&&this._invalidateLayerData(t,i)})),this._basemapLayerViewHandles.set(e.uid,t)}_unregisterTiledLayerView(e){const t=this._basemapLayerViewHandles.get(e);if(t){for(let e=0;e<t.length;e++)t[e].remove();this._basemapLayerViewHandles.delete(e)}}_updateTiledLayers(){if(!this.tilingScheme||this.view.suspended)return;const e=this.view.allLayerViews,t=[[],[]];let i=null;e.forEach((e=>{if(!e.layer||e.suspended||!ye(e)||!e.fullExtent)return;const r=this._layerClassFromLayerView(e);if(r===se.MAP){const t=e.displayLevelRange.maxLevel;t!==1/0&&(null===i||t>i)&&(i=t)}t[r].push(e)}));for(const r of ae){const e=this._layerViews[r],i=t[r];i.reverse();const s=i.length;let a=e.length!==s;const n=new Array(s),o=new Array(e.length);this._layerIndexByUid[r].clear();for(let t=0;t<s;t++){const s=i[t].uid;this._layerIndexByUid[r].set(s,t);const l=e.indexOf(i[t]);n[t]=l,t!==l&&(a=!0),l>-1&&(o[l]=t)}if(a){const e=this._postorderIterator;for(e.reset(this.rootTiles);!e.done;)e.next().modifyLayers(o,n,r);this._layerViews[r]=i,this._restartAllAgents(r),this._updateTilesVisibility(this.rootTiles)}}this.tilingScheme.ensureMaxLod(i)&&this._viewChangeUpdate()}_restartAllAgents(e){const t=this._postorderIterator;for(t.reset(this.rootTiles);!t.done;){const i=t.next();i.restartAgents(e),e===se.ELEVATION&&i.computeElevationBounds()}}layerViewByIndex(e,t){return this._layerViews[t][e]}numLayers(e){return this._layerViews[e].length}_updateTileTextures(e){this._allTiles.forAll((t=>{t.updateAgents(se.MAP),e===re.IMMEDIATE?this.renderer.updateTileTexture(t,Me.TEXTURE_NOFADING):t.updateRenderData(se.MAP,e)})),this._renderer.isTransparent=this._allSurfaceLayersTransparent()}_invalidateLayerData(e,t){this._allTiles.forAll((i=>i.removeLayerAgent(e,t))),this._allTiles.forAll((i=>i.invalidateLayerData(e,t)))}setTileTreeDirty(){this._allTilesDirty=!0}requestRender(e=We.UPDATE){this.renderer.setNeedsRender(e)}requestUpdate(){1==++this._pendingUpdates&&(this._hasPendingUpdates=!0)}requestTileData(e,t,i,r){const s=this.layerViewByIndex(t,i),a=s.layer;return!a.tilemapCache||Ee(s)?this._requestTileData(e,i,s,r):(++this._asyncWorkItems,a.tilemapCache.fetchAvailability(e.lij[0],e.lij[1],e.lij[2],{...r,timeout:6e3}).then((()=>--this._asyncWorkItems)).catch((t=>{throw--this._asyncWorkItems,g(t)||this._dataMissing(e,i,s,{notInTilemap:!0}),t})).then((()=>this._frameTask.schedule((()=>this._requestTileData(e,i,s,r)),r.signal))))}_requestTileData(e,t,i,r){return t===se.ELEVATION?Se(i)?this._requestElevationTileData(e,i,r):Promise.reject():ve(i)?this._requestMapTileData(e,i,r):Promise.reject()}_requestElevationTileData(e,t,i){++this._asyncWorkItems;const r=r=>{if(m(i))return;const s=this._layerIndexByUid[se.ELEVATION].get(t.uid);null!=s?(this._usedMemory=null,this.requestUpdate(),this._elevationDataArrived(e,s,r)):Xe.warn(\"TerrainSurface: received data from unknown layer %d %s\",se.ELEVATION,e.lij.toString())},s=i=>{g(i)||(this._dataMissing(e,se.ELEVATION,t,i),this.requestUpdate())};if(be(t.layer))return t.layer.fetchTile(e.lij[0],e.lij[1],e.lij[2],{noDataValue:_e,signal:i.signal}).then((e=>{if(!m(i))return this._frameTask.schedule((()=>r(e)),i.signal,s);Xe.warnOnce(\"A call to fetchTile resolved even though the request was aborted. fetchTile should not resolve if options.signal.aborted is true.\")}),s).finally((()=>{--this._asyncWorkItems}));const a=t.getTileUrl(e.lij[0],e.lij[1],e.lij[2]);return this._elevationDataRequester.request(a,\"binary\",i).then((e=>this._lercDecoder.decode(e,{noDataValue:_e},i.signal))).then((e=>{e?r({values:e.pixelData,width:e.width,height:e.height,noDataValue:e.noDataValue,minValue:e.minValue,maxValue:e.maxValue}):s(new Error(\"LERC decoding failed\"))}),s).finally((()=>{--this._asyncWorkItems}))}_requestMapTileData(e,t,i){++this._asyncWorkItems;const r=(r,s)=>{--this._asyncWorkItems,Ue(s),m(i)||(this._dataMissing(e,se.MAP,t,r),this.requestUpdate())},s=e=>t=>r(t,e),a=r=>this._frameTask.schedule((()=>{--this._asyncWorkItems,this.requestUpdate(),m(i)?Ue(r):this._mapTileDataArrived(e,t,r)}),i.signal,s(r)).catch(s(r)),n=(e,t=null)=>this._frameTask.schedule((()=>r(e,t)));if(Ee(t)){const r=t.schemaHelper.getLevelRowColumn(e.lij);return t.fetchTile(r[0],r[1],r[2],i).then(a,n)}if(De(t))return t.fetchTile(e.lij[0],e.lij[1],e.lij[2],i).then(a,n);if(xe(t)&&be(t.layer))return t.layer.fetchTile(e.lij[0],e.lij[1],e.lij[2],i).then((e=>{if(m(i))return Xe.warnOnce(\"A call to fetchTile resolved even though the request was aborted. fetchTile should not resolve if options.signal.aborted is true.\"),void n(f());a(e)}),n);let o=t.getTileUrl(e.lij[0],e.lij[1],e.lij[2]);q(t.layer)&&t.layer.refreshTimestamp&&(o+=`${o.includes(\"?\")?\"&\":\"?\"}_ts=${t.layer.refreshTimestamp}`);const l=t.hasMixedImageFormats?\"image+type\":\"image\";return this._mapDataRequester.request(o,l,i).then(a,n)}_mapTileDataArrived(e,t,i){const r=this._getLayerIdxByUID(se.MAP,t.uid);u(r)?e.dataArrived(r,se.MAP,i):(Ue(i),Xe.warn(\"TerrainSurface: received data from unknown layer\"))}_getLayerIdxByUID(e,t){return this._layerIndexByUid[e].get(t)}_dataMissing(e,t,i,r){const s=this._getLayerIdxByUID(t,i.uid);u(s)?e.dataMissing(s,t,r):Xe.warn(\"TerrainSurface: received data from unknown layer\")}updateTileOverlayParams(e){this.rootTiles&&this.overlayManager&&(this._allTiles.forAll((e=>{e.renderData&&this.overlayManager.setTileParameters(e)})),this._renderer.setNeedsRender(e))}get performanceInfo(){const e=this._performanceInfo;return e.numNodes=this._allTiles.length,e.numLeaves=e.numVisible=e.numRendered=e.numLoadedPerLevel.length=e.numRenderedPerLevel.length=0,this._allTiles.forAll((t=>{t.isLeaf&&e.numLeaves++;const i=t.level;t.renderData&&(e.numLoadedPerLevel[i]=(e.numLoadedPerLevel[i]||0)+1),t.visible&&(e.numVisible++,t.rendered&&(e.numRenderedPerLevel[i]=(e.numRenderedPerLevel[i]||0)+1,e.numRendered++))})),e}getUsedMemory(){return this.tilingScheme?(p(this._usedMemory)&&(this._usedMemory=this._recalculateUsedMemory()),u(this._usedMemory)?this._usedMemory:0):0}_recalculateUsedMemory(){return this.tilingScheme?this._allTiles.reduce(((e,t)=>e+t.usedMemory),0):null}getUsedMemoryForLayerView(e){let t=0;const i=this._layerClassFromLayerView(e),r=this._getLayerIdxByUID(i,e.uid);return u(r)&&this._allTiles.forAll((e=>t+=e.getUsedMemoryForLayer(i,r))),t}getTile(e){if(p(e)||p(this.rootTiles))return null;const t=e.split(\"/\").map((e=>+e));if(0===t[0])return this.rootTiles.find((e=>e.lij[1]===t[1]&&e.lij[2]===t[2]));const i=2**t[0],r=Math.floor(t[1]/i),s=Math.floor(t[2]/i);let a;if(this.rootTiles.some((e=>e.lij[1]===r&&e.lij[2]===s&&(a=e,!0))),a){let e=1<<t[0]-1;for(;a.lij[0]<t[0];){let i=t[1]&e?2:0;if((t[2]&e)>0&&i++,!a.children[i])return null;a=a.children[i],e>>=1}return fe(a.lij[0]===t[0]&&a.lij[1]===t[1]&&a.lij[2]===t[2],\"not the right tile?\"),a}return null}get test(){const e=this;return{renderer:e._renderer,lercDecoder:e._lercDecoder,forceReload:()=>{u(e.rootTiles)&&(e._mergeTile(e.rootTiles[0]),e._viewChangeUpdate())},getTiles:()=>e._allTiles.toArray(),getRenderedTiles(){rt.clear(),e._allTiles.forAll((e=>{e.visible&&e.rendered&&rt.push(e)}));const t=rt.toArray();return Ne(e.renderOrder,t),t},lockTilingScheme(t,i){e._extentHelper.defaultTiledLayersExtent=i,e.tilingSchemeLogic.test.lockTilingScheme(t)}}}checkAllTileWaterproofness(){if(!Pe)return;const e=this.rootTiles;if(p(e))return;const t=e=>e?.renderData?.geometryInfo?.indices?.length>0??!1,i=(e,i)=>{t(e)&&console.error(\"Tile[\",e.lij,\"] has geometry although parent[\",i.lij,\"] has geom\")},r=e=>{if(e.renderData&&!e.renderData.geometryState&&console.error(\"Tile[\",e.lij,\"] has renderData but not geometryState\"),e.renderData&&!e.renderData.geometryInfo&&console.error(\"Tile[\",e.lij,\"] has renderData but not geometryInfo\"),!e.renderData?.geometryInfo||(e.renderData.geometryInfo.indices?.length??0)>0||console.error(\"Tile[\",e.lij,\"] has renderData but no indices - geometryInfo: \",e.renderData.geometryInfo),t(e)){e.checkGeometryWaterproofness();for(const t of e.children)i(t,e)}else if(e.isLeaf)console.error(\"Tile[\",e.lij,\"] has no geometry and no children, from root to leaf\");else for(const t of e.children)r(t)},s=e=>{const t=e.parent?.visible??!0,i=e.visible;e.computeVisibility();const r=e.visible;if(i!==r&&t&&console.error(\" Tile[\",e.lij,\"] has out of date visibility: \",i,\" instead of \",r),!e.isLeaf)for(const a of e.children)s(a)};for(const a of e)r(a),s(a)}get isGlobal(){return this._isGlobal}get shadingEnabled(){return this._renderer.shadingEnabled}get isWebMercator(){return!!this.tilingScheme?.spatialReference.isWebMercator}get isWebMercatorOnPlateeCarree(){return this.isWebMercator&&B(this.view?.renderSpatialReference)}isEastEndWrap(e){return this.isGlobal&&e[2]===this.lijEastEnd(e[0])-1}isWestEndWrap(e){return this.isGlobal&&0===e[2]}lijEastEnd(e){return 2**(e+(this.spatialReference.isGeographic?1:0))}wrapEastWest(e){const t=this.lijEastEnd(e[0]),i=e[2];if(0<=i&&i<t)return e;if(!this.isGlobal)return null;const r=(i+(i<0?t:0))%t;return[e[0],e[1],r]}};e([S()],Ye.prototype,\"_renderer\",void 0),e([S()],Ye.prototype,\"_hasPendingUpdates\",void 0),e([S()],Ye.prototype,\"_asyncWorkItems\",void 0),e([S()],Ye.prototype,\"_allTilesDirty\",void 0),e([S()],Ye.prototype,\"_allTilesSorted\",void 0),e([S()],Ye.prototype,\"_viewChanged\",void 0),e([S({readOnly:!0})],Ye.prototype,\"_watchUpdatingTracking\",void 0),e([S()],Ye.prototype,\"_frameTask\",void 0),e([S({readOnly:!0})],Ye.prototype,\"snapLevel\",null),e([S({readOnly:!0})],Ye.prototype,\"lodSnapping\",null),e([S({constructOnly:!0})],Ye.prototype,\"view\",void 0),e([S()],Ye.prototype,\"_userClippingExtent\",null),e([S()],Ye.prototype,\"_rootTilesExtent\",void 0),e([S({readOnly:!0})],Ye.prototype,\"extent\",null),e([S({readOnly:!0})],Ye.prototype,\"groundExtent\",null),e([S({readOnly:!0})],Ye.prototype,\"_tilingSchemeExtent\",null),e([S({readOnly:!0})],Ye.prototype,\"updating\",null),e([S(K)],Ye.prototype,\"updatingProgress\",void 0),e([S({readOnly:!0})],Ye.prototype,\"updatingProgressValue\",null),e([S()],Ye.prototype,\"_maxNumUpdating\",void 0),e([S({aliasOf:\"view.map.ground.opacity\"})],Ye.prototype,\"baseOpacity\",void 0),e([S()],Ye.prototype,\"hasCompositeBlendMode\",void 0),e([S({readOnly:!0})],Ye.prototype,\"overlayManager\",void 0),e([S({readOnly:!0})],Ye.prototype,\"viewingMode\",null),e([S()],Ye.prototype,\"maxTextureScale\",void 0),e([S({readOnly:!0})],Ye.prototype,\"ready\",null),e([S({value:le.FRONT_TO_BACK})],Ye.prototype,\"renderOrder\",null),e([S({readOnly:!0})],Ye.prototype,\"rootTiles\",void 0),e([S({readOnly:!0})],Ye.prototype,\"spatialReference\",null),e([S({type:t,aliasOf:\"view.map.ground.surfaceColor\"})],Ye.prototype,\"backgroundColor\",void 0),e([S({value:!1})],Ye.prototype,\"slicePlaneEnabled\",null),e([S({readOnly:!0})],Ye.prototype,\"tilingScheme\",void 0),e([S({readOnly:!0,aliasOf:\"tilingSchemeLogic.tilingSchemeLocked\"})],Ye.prototype,\"tilingSchemeLocked\",void 0),e([S({readOnly:!0})],Ye.prototype,\"tilingSchemeLogic\",void 0),e([S({value:!0})],Ye.prototype,\"velvetOverground\",null),e([L(\"_renderer.wireframe\")],Ye.prototype,\"wireframe\",void 0),e([S({value:!1})],Ye.prototype,\"suspended\",null),e([S({readOnly:!0,aliasOf:\"view.qualitySettings.tiledSurface.textureFadeDuration\"})],Ye.prototype,\"textureFadeDuration\",void 0),e([S()],Ye.prototype,\"_layerViewsDirty\",void 0),e([L(\"_renderer.renderPatchBorders\")],Ye.prototype,\"renderPatchBorders\",void 0),e([L(\"_renderer.renderingDisabled\")],Ye.prototype,\"renderingDisabled\",void 0),Ye=e([E(\"esri.views.3d.terrain.TerrainSurface\")],Ye);const $e=Ye;function Ke(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function Je(e){return!e.isLeaf&&(e.children.some((e=>e.shouldLoad))||e.children.some((e=>Je(e))))}function Ze(e){return e.isLeaf&&e.parent&&e.parent.shouldLoad}const et=P(),tt=A(),it=[0,0,0],rt=new _,st={spatialReference:null,tile:null,extent:null,context:\"ground\"},at={spatialReference:null,extent:null,scale:0};export{$e as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{someMap as r}from\"../../../../core/MapUtils.js\";import{isSome as o,unwrapOr as s}from\"../../../../core/maybe.js\";import{NullUID as d}from\"../../../../core/uid.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{GeometryRecord as a}from\"./GeometryRecord.js\";import{ModelDirty as m}from\"./ModelDirtyTypes.js\";import{assert as n}from\"./Util.js\";let y=class extends t{constructor(e){super(e),this._residentGeomRecords=new Map,this._dirtyGeomRecords=new Map,this.dirty=!1}commit(e){this.dirty=!1,this._dirtyGeomRecords.forEach(((t,r)=>this.commitLayer(r,e)))}commitLayer(e,t){const r=this._dirtyGeomRecords.get(e);r&&(r.forEach(((r,s)=>{const d=this._ensureGeomRecord(e,s);r.forEach(((e,r)=>{const i=e[0],c=e[1],y=e[2];let h=!1;if(c&m.Geometry.UPDATE){const e=d.get(r);if(e){const r=e[1];if(y&m.State.TRANSFORMATION){const e=this.model.getObject(s);this.model.updateRenderGeometryTransformation(e,i,r)&&(h=!0)}h||t.updates.push({renderGeometry:r,updateType:y})}else n(!1,\"ModelDirtySet.getAddRemoveListFilteredByLayers: invalid update\")}if(c&m.Geometry.REMOVE||h){const e=d.get(r);e?(t.removes.push(e[1]),d.delete(r),e[0].disposed&&a.pool.release(e[0])):c===m.Geometry.REMOVE&&n(!1,\"ModelDirtySet.getAddRemoveListFilteredByLayers: invalid remove\")}if(c&m.Geometry.ADD||h){const e=this.model.getObject(s);if(o(e)){const o=this.model.getRenderGeometry(e,i),s=[i,o];t.adds.push(o),d.set(r,s)}}})),0===d.size&&this._residentGeomRecords.get(e).delete(s)})),0===this._residentGeomRecords.get(e).size&&this._residentGeomRecords.delete(e),this._dirtyGeomRecords.delete(e))}getResidentRenderGeometries(e,t){const r=this._residentGeomRecords.get(e);r&&r.forEach((e=>e.forEach((e=>t.push(e[1])))))}_objectStateChanged(e,t){for(const r of t.geometryRecords)this._updateOrCreateDirtyRecord(t,r,null,m.Geometry.UPDATE,0,0,m.Geometry.UPDATE,m.Geometry.ADD|m.Geometry.REMOVE,e)}visibilityChanged(e){this._objectStateChanged(m.State.VISIBILITIES,e)}highlightChanged(e){this._objectStateChanged(m.State.HIGHLIGHTS,e)}occlusionChanged(e){this._objectStateChanged(m.State.OCCLUDEES,e)}vertexAttrsUpdated(e){this._updateOrCreateDirtyRecord(e.object,e.record,null,m.Geometry.UPDATE,0,0,m.Geometry.UPDATE,m.Geometry.ADD|m.Geometry.REMOVE,m.State.VERTEXATTRS)}layerAdded(e){e.objects.forAll((t=>this._layerObjectAdded(e,t)))}layerRemoved(e){e.objects.forAll((t=>this._layerObjectRemoved(e,t)))}layerObjectAdded(e){this._layerObjectAdded(e.layer,e.object)}_layerObjectAdded(e,t){const r=e.id;for(const o of t.geometryRecords)this._objectGeometryAdded(t,o,r)}layerObjectRemoved(e){this._layerObjectRemoved(e.layer,e.object)}layerObjectsAdded(e){for(const t of e.objects)this._layerObjectAdded(e.layer,t)}layerObjectsRemoved(e){for(const t of e.objects)this._layerObjectRemoved(e.layer,t)}_layerObjectRemoved(e,t){const r=e.id;for(const o of t.geometryRecords)this._objectGeometryRemoved(t,o,r)}shaderTransformationChanged(e){const t=this._residentGeomRecords.get(e.id);t&&t.forEach(((e,t)=>{const r=this.model.getObject(t);r&&r.hasVolativeTransformation()&&e.forEach((e=>{e[1].shaderTransformationChanged()}))}))}objectTransformation(e){const t=this._getParentLayerId(e),r=e.id;this._ensureGeomRecord(t,r).forEach((r=>{this._updateOrCreateDirtyRecord(e,r[0],t,m.Geometry.UPDATE,0,0,m.Geometry.UPDATE,m.Geometry.ADD|m.Geometry.REMOVE,m.State.TRANSFORMATION)}))}objectGeometryAdded(e){this._objectGeometryAdded(e.object,e.record)}_objectGeometryAdded(e,t,r=null){this._updateOrCreateDirtyRecord(e,t,r,m.Geometry.ADD,m.Geometry.REMOVE,0,0,0)}objectGeometryRemoved(e){this._objectGeometryRemoved(e.object,e.record)}_objectGeometryRemoved(e,t,r=null){this._updateOrCreateDirtyRecord(e,t,r,m.Geometry.REMOVE,m.Geometry.ADD,m.Geometry.UPDATE,0,0)}_updateOrCreateDirtyRecord(e,t,r,o,d,i,c,m,y){r=s(r,this._getParentLayerId(e));const h=e.id,l=t.id,R=this._ensureDirtyRecord(r,h),G=R.get(l);if(G){const e=G[1];e&d?(R.delete(l),G[0].disposed&&a.pool.release(G[0])):e&i?(G[1]=o,G[2]=y):e&c?G[2]|=y:e&m||n(!1,\"ModelDirtySet.objectGeometryAdded: inconsistent state\")}else R.set(l,[t,o,y]);this.dirty=this._hasDirtyGeometryRecords}_ensureGeomRecord(e,t){let r=this._residentGeomRecords.get(e);r||(r=new Map,this._residentGeomRecords.set(e,r));let o=r.get(t);return o||(o=new Map,r.set(t,o)),o}get _hasDirtyGeometryRecords(){return r(this._dirtyGeomRecords,(e=>r(e,(e=>e&&e.size>0))))}_ensureDirtyRecord(e,t){let r=this._dirtyGeomRecords.get(e);r||(r=new Map,this._dirtyGeomRecords.set(e,r));let o=r.get(t);return o||(o=new Map,r.set(t,o)),o}_getParentLayerId(e){return o(e.parentLayer)?e.parentLayer.id:d}formatDebugInfo(){const e=[\"ADD\",\"UPD\",void 0,\"REM\"];let t=\"\";return this._dirtyGeomRecords.forEach(((r,o)=>{r.forEach(((r,s)=>{t.length>0&&(t+=\"\\n\"),t+=o+\".\"+s;const d=[];r.forEach((e=>{const t=e[1];d[t]||(d[t]=[]),d[t].push(e[0].geometry.id)}));for(let o=0;o<d.length;o++)if(d[o]){t+=\" \"+e[o-1]+\": \";for(let e=0;e<d[o].length;e++)t+=d[o][e]+\", \"}}))})),t}get test(){const e=this;return{get residentLayerCount(){return e._residentGeomRecords.size},get residentObjectCount(){return Array.from(e._residentGeomRecords.values()).reduce(((e,t)=>e+t.size),0)}}}};e([i({constructOnly:!0})],y.prototype,\"model\",void 0),e([i()],y.prototype,\"dirty\",void 0),y=e([c(\"esri.views.3d.webgl-engine.lib.ModelDirtySet\")],y);const h=y;export{h as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import{isSome as o,isNone as r}from\"../../../../core/maybe.js\";import{property as n}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{ContentObjectType as s}from\"../lib/ContentObjectType.js\";import{GridLocalOriginFactory as a}from\"../lib/GridLocalOriginFactory.js\";import c from\"../lib/ModelDirtySet.js\";import{RenderGeometry as d}from\"../lib/RenderGeometry.js\";import{assert as m}from\"../lib/Util.js\";import{isWebGLLayer as l}from\"../lib/WebGLLayer.js\";let h=class extends e{constructor(){super(...arguments),this.dirtySet=new c({model:this}),this._content=new Map,this._originFactory=new a(null,75e4)}getObject(t){return this._content.get(t)}add(t){const e=t.id;m(!this._content.has(e),\"Model/Stage already contains object to be added\"),this._content.set(e,t),l(t)&&this.dirtySet.layerAdded(t)}remove(t){m(this._content.has(t.id),\"Model/Stage doesn't contain object to be removed\"),this._content.delete(t.id),t.unload(),l(t)&&this.dirtySet.layerRemoved(t)}addMany(t){for(const e of t)o(e)&&(m(!this._content.has(e.id),\"Model/Stage already contains object to be added\"),this._content.set(e.id,e))}removeMany(t){for(const e of t)m(this._content.has(e.id),\"Model/Stage doesn't contain object to be removed\"),this._content.delete(e.id),e.unload()}has(t){return this._content.has(t.id)}forEachOfType(t,e){this._content.forEach((o=>{o.type===t&&e(o)}))}getRenderGeometry(t,e){const{geometry:o,material:r,id:n,shaderTransformation:i,origin:s,instanceParameters:a}=e,c=new d(o,r,{id:n,boundingInfo:o.boundingInfo,calculateShaderTransformation:i,castShadow:t.castShadow});return c.updateTransformation((o=>t.getCombinedStaticTransformation(e,o))),c.origin=s||this._originFactory.getOrigin(c.boundingSphere),c.instanceParameters=a,c}updateRenderGeometryTransformation(t,e,o){if(r(t))return!1;o.updateTransformation((o=>t.getCombinedStaticTransformation(e,o)));const n=this._originFactory.getOrigin(o.boundingSphere);return o.origin!==n}getStats(){const t={},e=Array.from(this._content.values());for(let o=0;o<s.COUNT;++o)t[o]=e.filter((t=>t.type===o)).length;return{contentTypes:t,dirtySet:this.dirtySet.formatDebugInfo()}}get test(){return{content:Array.from(this._content.values())}}};t([n({constructOnly:!0})],h.prototype,\"dirtySet\",void 0),h=t([i(\"esri.views.3d.webgl-engine.parts.Model\")],h);export{h as Model};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nclass t{constructor(t){this._totalCount=t,this._indexRanges=[0,t]}allVisible(){return this.componentCount()===this._totalCount}allInvisible(){return 0===this._indexRanges.length}componentCount(){const t=this._indexRanges;let n=0;for(let e=0;e<t.length;e+=2)n+=t[e+1];return n}reset(t){\"all\"===t||t.length===this._totalCount?this._indexRanges=[0,this._totalCount]:this._indexRanges=n(t)}forEachComponent(t){const n=this._indexRanges;for(let e=0;e<n.length;e+=2){const s=n[e],o=s+n[e+1];for(let n=s;n<o;n++)if(!t(n))return!1}return!0}forEachComponentRange(t){const n=this._indexRanges;for(let e=0;e<n.length;e+=2){const s=n[e];if(!t(s,s+n[e+1]))return!1}return!0}computeOffsetRanges(t){const n=new Array(this._indexRanges.length),e=this._indexRanges;for(let s=0;s<e.length;s+=2){const o=e[s],r=o+e[s+1],i=t[o],l=t[r];n[s]=i,n[s+1]=l-i}return n}}function n(t){const n=new Array;if(0===t.length)return n;let e=t[0],s=1;for(let o=1;o<t.length;o++){const r=t[o];e+s===r?s+=1:(n.push(e),n.push(s),e=r,s=1)}return n.push(e),n.push(s),n}export{t as ComponentRangeRunLengthEncoded};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isNone as t,isSome as e}from\"../../../../../core/maybe.js\";import{slice as h}from\"../../../../../core/typedArrayUtil.js\";import{ComponentRangeRunLengthEncoded as i}from\"./IndexRange/ComponentRangeRunLengthEncoded.js\";import{AutoDisposable as s}from\"../../lib/AutoDisposable.js\";class a extends s{constructor(t,e){super(),this.pickability=null,this.highlightCounts=null,this.verticalOffsets=null,this.cachedGeometryRanges=null,this.cachedHighlightRanges=null,this.cachedDefaultRanges=null,this.offsets=h(e);const s=this.count;this.visibility=new i(s),this.materialDataBuffer=t.getBuffer(s),this.materialDataIndices=new Uint16Array(s);for(let h=0;h<s;h++)this.materialDataIndices[h]=this.materialDataBuffer.acquireIndex()}dispose(){super.dispose();for(let t=0;t<this.count;t++)this.materialDataBuffer.releaseIndex(this.materialDataIndices[t])}get count(){return this.offsets.length-1}get geometryRanges(){return t(this.cachedGeometryRanges)&&(this.cachedGeometryRanges=this.visibility.computeOffsetRanges(this.offsets)),this.cachedGeometryRanges}get highlightRanges(){return t(this.highlightCounts)?null:(this._updateCachedHighlightRanges(),this.cachedHighlightRanges)}get defaultShadowMapRanges(){return t(this.highlightCounts)?this.geometryRanges:(this._updateCachedHighlightRanges(),this.cachedDefaultRanges)}highlightsDirty(){this.cachedHighlightRanges=null,this.cachedDefaultRanges=null}visibilityDirty(){this.cachedGeometryRanges=null,this.highlightsDirty()}_updateCachedHighlightRanges(){if((t(this.cachedHighlightRanges)||t(this.cachedDefaultRanges))&&e(this.highlightCounts)){const{highlightRanges:t,defaultRanges:e}=n(this.highlightCounts,this.visibility,this.offsets);this.cachedHighlightRanges=t,this.cachedDefaultRanges=e}}}function n(t,e,h){const i=[],s=[];let a=h.length,n=h.length;return e.forEachComponent((e=>(t[e]>0?(a!==e-1&&(i.length&&i.push(h[a+1]-i[i.length-1]),i.push(h[e])),a=e):(n!==e-1&&(s.length&&s.push(h[n+1]-s[s.length-1]),s.push(h[e])),n=e),!0))),i.length&&i.push(h[a+1]-i[i.length-1]),s.length&&s.push(h[n+1]-s[s.length-1]),{highlightRanges:i,defaultRanges:s}}export{a as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nfunction t(t,n,e,l){if(e>=n)return t;null==t&&(t=i());const s=t.isVisibleBit;let a=t.data;const c=r(a),o=e/c|0,f=e-c*o,h=(n-1)/c|0,B=a,E=l===s;if(!(e<B.length*c)&&E){const t=1.5,n=o+1,i=Math.ceil(B.length*t),e=h+1;let r=Math.max(n,i);r=Math.min(r,e),a=new Uint32Array(r),a.set(B)}return o<a.length&&(a[o]=u(a[o],f,E)),t.data=a,t}function n(t,n){if(null==t)return!0;const{isVisibleBit:i,data:u}=t,l=r(u);return n<u.length*l?e(i,u,n,l):!t.isVisibleBit}function i(t=!0){return{isVisibleBit:!t,data:new Uint32Array(0)}}function e(t,n,i,e){const r=i/e|0,u=i-r*e;return l(n[r],u)===t}function r(t){const n=8;return t.BYTES_PER_ELEMENT*n}function u(t,n,i){return t&~(1<<n)|(i?1:0)<<n}function l(t,n){return 0!=(t&1<<n)}export{i as defaultVisibilities,n as getVisibility,t as updateVisibilityWithCount};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as o}from\"../../../../../core/maybe.js\";import{t as s}from\"../../../../../chunks/vec3.js\";import{c as e}from\"../../../../../chunks/vec3f64.js\";import{create as n}from\"../../../../../geometry/support/aaBoundingBox.js\";import{BufferViewVec3f as i}from\"../../../../../geometry/support/buffer/BufferView.js\";import{componentMinimalSizeForIntersectionData as r,ComponentIntersectionData as p}from\"./ComponentIntersectionData.js\";import{getVisibility as m}from\"../../lib/ComponentUtils.js\";import{generateDefaultIndexArray as a}from\"../../lib/geometryDataUtils.js\";import{computeInvDir as c,intersectAabbInvDir as h,intersectTriangles as f}from\"../../materials/internal/MaterialUtil.js\";class _{constructor(o,s){this._indices=t(o.indices)?o.indices:a(o.positions.length/3),this._positions=new i(o.positions),this._components=s,this._componentIntersectionData=new Array(s.count)}getComponentAabb(o,s){if(t(this._perComponentAabbs)){for(let t=0;t<6;t++)s[t]=this._perComponentAabbs[6*o+t];return s}return this._computePerComponentAabbs(),this.getComponentAabb(o,s)}getComponentPositions(t,o){o.indices=this._indices,o.data=this._positions.typedBuffer,o.stride=this._positions.typedBufferStride,o.startIndex=this._components.offsets[t],o.endIndex=this._components.offsets[t+1]}intersect(e,n,i,a,_,u,l){const C={data:this._positions.typedBuffer,stride:this._positions.typedBufferStride,size:3},A=this._indices,y=this._components.offsets,g=c(e,n,b),j=e[2],B=n[2];this._components.visibility.forEachComponent((c=>{if(!m(this._components.pickability,c))return!0;const b=this.getComponentAabb(c,d);if(t(u)){const o=u[c];t(_)?_.componentOffset=o:(e[2]=j-o,n[2]=B-o)}if(t(_)&&_.applyToAabb(b),!h(b,e,g,i))return!0;const x=y[c]/3,I=y[c+1]/3,M=(t,o,e)=>{l(c,t,s(o,o,a),e)},D=I-x;return o(_)&&D>r?(null==this._componentIntersectionData[c]&&(this._componentIntersectionData[c]=new p(this._indices,x,I,C)),this._componentIntersectionData[c].intersectRay({r0:e,r1:n},M)):f(e,n,x,I,A,C,void 0,_,M),!0}))}_computePerComponentAabbs(){const t=this._components.count;this._perComponentAabbs=new Float32Array(6*t);const o=this._indices,s=this._positions.typedBuffer,e=this._positions.typedBufferStride,n=this._components.offsets;let i=0;for(let r=0;r<t;r++){const t=n[r],p=n[r+1];let m=1/0,a=1/0,c=1/0,h=-1/0,f=-1/0,_=-1/0;for(let n=t;n<p;n++){const t=o[n]*e,i=s[t],r=s[t+1],p=s[t+2];m=Math.min(m,i),a=Math.min(a,r),c=Math.min(c,p),h=Math.max(h,i),f=Math.max(f,r),_=Math.max(_,p)}this._perComponentAabbs[i++]=m,this._perComponentAabbs[i++]=a,this._perComponentAabbs[i++]=c,this._perComponentAabbs[i++]=h,this._perComponentAabbs[i++]=f,this._perComponentAabbs[i++]=_}}get positions(){return this._positions}get indices(){return this._indices}}const b=e(),d=n();export{_ as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nclass s{constructor(s,t,e){this.material=s,this.geometry=t,this.meta=e}dispose(){this.material.dispose(),this.geometry.dispose()}}export{s as Renderable};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../../../chunks/tslib.es6.js\";import{autoDispose as t,AutoDisposable as i}from\"../../lib/AutoDisposable.js\";class o extends i{constructor(s,t,i,o){super(),this.primitiveType=t,this.parameters=i,this.indexed=o,this.vao=s}}s([t()],o.prototype,\"vao\",void 0);export{o as RenderGeometry};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nfunction r(r,n){return{near:r,far:n}}function n(n){return n?a(n,1/0,-1/0):r(1/0,-1/0)}function a(r,n,a){return r.near=n,r.far=a,r}function t(r,n,a=r){return a.near=Math.min(r.near,n.near),a.far=Math.max(r.far,n.far),a}function e(r,n){return r.near<=n&&n<=r.far}const f={near:0,far:0};export{f as ZERO,r as create,n as empty,a as set,t as union,e as within};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/maybe.js\";import n from\"../../../../../core/PooledArray.js\";import{g as o,d as e}from\"../../../../../chunks/mat3.js\";import{c as r}from\"../../../../../chunks/mat3f64.js\";import{c as a}from\"../../../../../chunks/quat.js\";import{a as s}from\"../../../../../chunks/quatf64.js\";import{e as f,v as c,q as l,a as u,s as i,h,c as m,t as p}from\"../../../../../chunks/vec3.js\";import{c as b}from\"../../../../../chunks/vec3f64.js\";import{signedDistance as d}from\"../../../../../geometry/support/plane.js\";import{projectedRadius as j,intersectPlane as g}from\"../../../support/orientedBoundingBox.js\";import{empty as k,within as w,union as z}from\"../../lib/depthRange.js\";function S(n,o){const e=k(),{eye:r,frustum:a,viewForward:s}=n;o.forAll((n=>{const o=t(n.offsetObb)?n.offsetObb:n.obb,l=f(c(E,o.center,r),s),u=j(o,s);if(w(e,l-u)&&w(e,l+u))return;const i=R(o,a);if(-1===i)return;if(0===i)return v.far=l+u,v.near=l-u,void z(e,v);const h=q.pushNew();h.near=l-u,h.far=l+u,h.mask=i,h.object=n}));for(let l=0;l<q.length;l++){const n=q.data[l];if(w(e,n.near)&&w(e,n.far))continue;v.far=n.far,v.near=1/0;const o=M(t(n.object.offsetObb)?n.object.offsetObb:n.object.obb,r,A,(t=>{let o=x;for(let e=0;e<P&&t.length>0;e++){if(0==(n.mask&1<<e))continue;B(a[e],t,o);const r=t;t=o,o=r}for(let n=0;n<t.length;n+=3){i(y,t.data[n+0],t.data[n+1],t.data[n+2]);const o=f(c(y,y,r),s);v.near=Math.min(v.near,o)}}));0===o&&(v.near=0),z(e,v)}return q.length=0,e}const q=new n({allocator:t=>t||{near:1/0,far:-1/0,mask:0,object:null},deallocator:t=>(t.object=null,t)}),v=k(),y=b(),O=b(),A=new n({deallocator:null}),x=new n({deallocator:null});function B(t,n,o){o.length=0;const e=n.length-3;F(y,n,e);const r=d(t,y);r<=0&&(o.push(y[0]),o.push(y[1]),o.push(y[2]));let a=0,s=r;for(;a<e;a+=3){F(O,n,a);const e=d(t,O);if(s*e<0){h(y,O,y,e/(e-s)),I(o,y)}e<=0&&I(o,O),s=e,m(y,O)}if(s*r<0){F(O,n,e);h(y,O,y,r/(r-s)),I(o,y)}}function F(t,n,o){return i(t,n.data[o+0],n.data[o+1],n.data[o+2])}function I(t,n){t.push(n[0]),t.push(n[1]),t.push(n[2])}function M(t,n,r,s){a(D,t.quaternion),c(E,n,t.center),l(E,E,D);const f=8*((E[0]<-t.halfSize[0]?-1:E[0]>t.halfSize[0]?1:0)+3*(E[1]<-t.halfSize[1]?-1:E[1]>t.halfSize[1]?1:0)+9*(E[2]<-t.halfSize[2]?-1:E[2]>t.halfSize[2]?1:0)+13),h=N[f];if(0===h)return h;o(C,t.quaternion),e(C,C,t.halfSize);const m=(n,o)=>{const e=N[f+o+1];return i(n,((1&e)<<1)-1,(2&e)-1,((4&e)>>1)-1),p(n,n,C),u(n,t.center,n)};return r.length=0,I(r,m(G,0)),I(r,m(H,1)),I(r,m(E,2)),I(r,m(J,3)),s(r),1===h?h:(r.length=0,I(r,G),I(r,J),I(r,m(E,4)),I(r,m(K,5)),s(r),2===h||(r.length=0,I(r,G),I(r,K),I(r,m(E,6)),I(r,H),s(r)),h)}const N=(()=>{const t=new Int8Array(216);let n=0;const o=o=>{for(let e=0;e<o.length;e++)t[n+e]=o[e];n+=8};return o([3,0,6,2,3,1,5,4]),o([2,0,2,3,1,5,4,0]),o([3,1,0,2,3,7,5,4]),o([2,0,1,3,2,6,4,0]),o([1,0,1,3,2,0,0,0]),o([2,1,5,7,3,2,0,0]),o([3,2,0,1,3,7,6,4]),o([2,2,0,1,3,7,6,0]),o([3,3,0,1,5,7,6,2]),o([2,0,1,5,4,6,2,0]),o([1,0,1,5,4,0,0,0]),o([2,1,3,7,5,4,0,0]),o([1,0,2,6,4,0,0,0]),o([0,0,0,0,0,0,0,0]),o([1,1,3,7,5,0,0,0]),o([2,2,3,7,6,4,0,0]),o([1,2,3,7,6,0,0,0]),o([2,3,1,5,7,6,2,0]),o([3,4,0,1,5,7,6,2]),o([2,5,7,6,4,0,1,0]),o([3,5,0,1,3,7,6,4]),o([2,4,5,7,6,2,0,0]),o([1,4,5,7,6,0,0,0]),o([2,5,1,3,7,6,4,0]),o([3,6,0,2,3,7,5,4]),o([2,6,2,3,7,5,4,0]),o([3,7,6,2,3,1,5,4]),t})(),P=4;function R(t,n){let o=0;for(let e=0;e<P;e++){const r=g(t,n[e]);if(r>0)return-1;0===r&&(o|=1<<e)}return o}const C=r(),D=s(),E=b(),G=b(),H=b(),J=b(),K=b();export{S as computeDepthRange};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{computeDepthRange as t}from\"./DepthRange.js\";class e{constructor(t){this._objects=t}submit(t,e){this._objects.preSubmit(e),this._objects.visibleObjects.forAll((s=>s.renderable.material.submit(t,e,s)))}queryShadowCasterDepthRange(e){return this._objects.visibleObjects.length?t(e,this._objects.visibleObjects):null}}export{e as RenderSubmitSystem};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{ViewingMode as e}from\"../../../../../ViewingMode.js\";import{IntegratedMeshMode as r}from\"./ComponentTechniqueConfiguration.js\";import{ComponentDataType as t}from\"./shader/ComponentData.glsl.js\";import{C as o}from\"../../../../../../chunks/ComponentShader.glsl.js\";import{ShaderOutput as i}from\"../../../core/shaderLibrary/ShaderOutputOptions.js\";import{doublePrecisionRequiresObfuscation as n}from\"../../../core/shaderLibrary/util/DoublePrecision.glsl.js\";import{ReloadableShaderModule as s}from\"../../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as a}from\"../../../core/shaderTechnique/ShaderTechnique.js\";import{TransparencyPassType as l,StencilBits as c}from\"../../../lib/basicInterfaces.js\";import{blendingDefault as m,oitBlending as p,oitDepthTest as u,OITPolygonOffset as d}from\"../../../lib/OrderIndependentTransparency.js\";import{Program as h}from\"../../../lib/Program.js\";import{stencilWriteMaskOn as f,replaceBitWhenDepthTestPasses as g,stencilBaseAllZerosParams as b}from\"../../../lib/StencilUtils.js\";import{makePipelineState as j,cullingParams as P,defaultDepthWriteParams as T,defaultColorWriteParams as C}from\"../../../../../webgl/renderState.js\";class x extends a{bindDraw(e,r){const o=this.program;o.bindDraw(e,r),o.rebindTextures(),e.componentParameters.type===t.Varying&&e.componentParameters.texture.bind(o,\"componentColorTex\",\"componentColorTexInvDim\")}initializeConfiguration(r,t){t.spherical=r.viewingMode===e.Global,t.doublePrecisionRequiresObfuscation=n(r.rctx)}initializeProgram(e){const r=x.shader.get(),t=r.build(this.configuration);return new h(e.rctx,t,r.attributeLocations)}_setPipelineState(e){const t=this.configuration,o=t.integratedMeshMode!==r.None,n=e===l.NONE,s=e===l.FrontFace;return j({blending:t.output!==i.Color&&t.output!==i.Alpha||!t.blendingEnabled?null:n?m:p(e),culling:P(t.cullFace),depthTest:{func:u(e)},depthWrite:n||s?T:null,colorWrite:C,stencilWrite:o||t.hasOccludees?f:null,stencilTest:o?g(c.IntegratedMeshMaskExcluded):t.hasOccludees?b:null,polygonOffset:n||s?t.hasPolygonOffset?{factor:2,units:2}:null:d})}initializePipeline(){return this._setPipelineState(this.configuration.transparencyPassType)}}x.shader=new s(o,(()=>import(\"./shader/ComponentShader.glsl.js\")));export{x as ComponentTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{NoParameters as t}from\"../shaderModules/interfaces.js\";class e extends t{constructor(){super(...arguments),this._dirty=!0}_setDirty(){this._dirty=!0}_setClean(){if(this._dirty=!1,null!=this._parameterBlocks)for(const t of this._parameterBlocks)this[t]._setClean()}get dirty(){return this._dirty||this._checkParameterBlocksDirty()}_checkParameterBlocksDirty(){if(null==this._parameterBlocks)return!1;for(const t of this._parameterBlocks)if(this[t].dirty)return!0;return!1}}class r{constructor(){this._dirty=!0}_setDirty(){this._dirty=!0}_setClean(){this._dirty=!1}get dirty(){return this._dirty}}function s(t={}){return(e,r)=>{const s=e._parameterCount??0;if(e._parameterCount=s+1,t.vectorOps){const i=t.vectorOps;Object.defineProperty(e,r,{get(){return this[s]},set(t){const e=this[s];if(null==e)this[s]=t;else{if(i.equals(e,t))return;i.copy(e,t)}this._setDirty()}})}else Object.defineProperty(e,r,{get(){return this[s]},set(e){this[s]!==e&&(t.dispose&&this[s]&&this[s].dispose(),this[s]=e,this._setDirty())}})}}function i(){return(t,e)=>{const r=t._parameterCount??0;t._parameterCount=r+1,t._parameterBlocks=t._parameterBlocks||[],t._parameterBlocks.push(r),Object.defineProperty(t,e,{get(){return this[r]},set(t){this[r]!==t&&(this[r]=t,this._setDirty())}})}}export{e as MaterialBase,r as MaterialParameterBlock,s as parameter,i as parameterBlock};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{c as s,v as t,s as h,a as e,g as i}from\"../../../../../chunks/vec3.js\";import{c as o}from\"../../../../../chunks/vec3f32.js\";import{c as r}from\"../../../../../chunks/vec3f64.js\";class c{constructor(s){this._low=o(),this._high=o(),s&&this.set(s)}get low(){return this._low}get high(){return this._high}set(h){const e=this._low,i=this._high;s(e,h),t(i,h,e)}setElements(s,t,e){h(n,s,t,e),this.set(n)}get(s){return e(s,this._low,this._high)}getLowScaled(s){return i(s,this._low,1)}}const n=r();export{c as TwoVectorPosition};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../../chunks/tslib.es6.js\";import{releaseMaybe as t,isSome as r,isNone as s}from\"../../../../../../core/maybe.js\";import{e as o,t as a}from\"../../../../../../chunks/mat3.js\";import{a as i}from\"../../../../../../chunks/mat3f32.js\";import{F as n}from\"../../../../../../chunks/vec3.js\";import{f as l}from\"../../../../../../chunks/vec3f32.js\";import{v as h}from\"../../../../../../chunks/vec4.js\";import{f as u}from\"../../../../../../chunks/vec4f32.js\";import{ColorMixModeEnum as p}from\"../../../../layers/support/symbolColorUtils.js\";import{OverlayIndex as c,RenderTargetType as d}from\"../../../../terrain/interfaces.js\";import{ComponentTechnique as m}from\"./ComponentTechnique.js\";import{ComponentTechniqueConfiguration as g,IntegratedMeshMode as T}from\"./ComponentTechniqueConfiguration.js\";import{ComponentDataType as y}from\"./shader/ComponentData.glsl.js\";import{g as x,a as v}from\"../../../../../../chunks/ComponentShader.glsl.js\";import{VertexDiscardMode as f}from\"./shader/VertexDiscardByOpacity.glsl.js\";import{parameter as M,parameterBlock as b,MaterialBase as O,MaterialParameterBlock as C}from\"../../../core/material/MaterialBase.js\";import{RenderPassIdentifier as w,MaterialSubPass as S}from\"../../../core/renderPasses/AllRenderPasses.js\";import{ShaderOutput as P}from\"../../../core/shaderLibrary/ShaderOutputOptions.js\";import{NormalAttributeType as N}from\"../../../core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{NormalsDoubleSidedMode as A}from\"../../../core/shaderLibrary/shading/Normals.glsl.js\";import{PBRMode as D}from\"../../../core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{defaultMaskAlphaCutoff as q}from\"../../../core/shaderLibrary/util/AlphaCutoff.js\";import{EllipsoidMode as R}from\"../../../core/shaderLibrary/util/EllipsoidMode.js\";import{TwoVectorPosition as j}from\"../../../core/util/TwoVectorPosition.js\";import{AlphaDiscardMode as E,TransparencyPassType as I,CullFaceOptions as F}from\"../../../lib/basicInterfaces.js\";class _ extends O{constructor(e,t){super(),this.toMapSpace=t,this.baseColor=u(1,1,1,1),this.usePBR=!1,this.hasParametersFromSource=!1,this.mrrFactors=l(1,1,.5),this.emissiveFactor=l(0,0,0),this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.emissionTexture=null,this.occlusionTexture=null,this.normalTexture=null,this.objectOpacity=1,this.commonMaterialParameters=new B,this.componentParameters=new L,this.textureAlphaCutoff=q,this.alphaDiscardMode=E.Opaque,this.isIntegratedMesh=!1,this.polygonOffsetEnabled=!1,this.ellipsoidMode=R.Earth,this.hasOccludees=!1,this._techniqueConfiguration=new g;const r=new j(e.position),s=i(e.rotationScale);o(s,s),this.transformNormalGlobalFromModel=a(s,s),this.transformWorldFromModelTL=r.low,this.transformWorldFromModelTH=r.high,this.transformWorldFromModelRS=e.rotationScale}dispose(){this._technique=t(this._technique),this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.emissionTexture=null,this.occlusionTexture=null,this.normalTexture=null}get texture(){return r(this.baseColorTexture)?this.baseColorTexture.glTexture:null}get textureMetallicRoughness(){return r(this.metallicRoughnessTexture)?this.metallicRoughnessTexture.glTexture:null}get textureEmissive(){return r(this.emissionTexture)?this.emissionTexture.glTexture:null}get textureOcclusion(){return r(this.occlusionTexture)?this.occlusionTexture.glTexture:null}get textureNormal(){return r(this.normalTexture)?this.normalTexture.glTexture:null}prepareTechnique(e,t,o,a){const i=this._techniqueConfiguration;i.hasVertexColors=a.colors,i.hasNormals=a.normals,i.textureCoordinateType=a.textureCoordinates,i.hasMetalnessAndRoughnessTexture=r(this.metallicRoughnessTexture),i.hasEmissionTexture=r(this.emissionTexture),i.hasOcclusionTexture=r(this.occlusionTexture),i.hasNormalTexture=r(this.normalTexture),i.transparencyPassType=t.identifier===w.Material&&null!=o.transparencyPassType?o.transparencyPassType:I.NONE,i.hasMultipassTerrain=t.identifier===w.Material&&null!=o.multipassTerrain&&o.multipassTerrain.enabled,i.cullAboveGround=t.identifier===w.Material&&null!=o.multipassTerrain&&o.multipassTerrain.cullAboveGround,i.ellipsoidMode=this.ellipsoidMode,i.componentData=this.componentParameters.type,i.cullFace=this.commonMaterialParameters.cullFace,i.doubleSidedMode=this.commonMaterialParameters.doubleSided?A.View:A.None,i.hasBaseColorTexture=r(this.baseColorTexture);const n=this._computeWhichMaterialPass();i.blendingEnabled=n===V.Transparent||n===V.OpaqueAndTransparent,i.alphaDiscardMode=this.alphaDiscardMode,i.integratedMeshMode=this.isIntegratedMesh?X(o)?x(o)?T.ColorOverlayWithWater:T.ColorOverlay:T.NoOverlay:T.None,i.isGround=this.isIntegratedMesh,i.hasPolygonOffset=this.polygonOffsetEnabled;const l=this.hasParametersFromSource&&s(this.baseColorTexture);return i.pbrMode=i.integratedMeshMode===T.ColorOverlayWithWater?D.WaterOnIntegratedMesh:this.usePBR?l?D.Schematic:D.Normal:D.Disabled,i.normalType=i.integratedMeshMode===T.None?i.hasNormals?N.CompressedAttribute:N.ScreenDerivative:N.Ground,i.hasSlicePlane=r(o.slicePlane)&&this.commonMaterialParameters.hasSlicePlane,t.identifier===w.ShadowMap?(i.output=P.Shadow,i.vertexDiscardMode=f.None):t.identifier===w.Highlight?(i.output=P.Highlight,i.vertexDiscardMode=f.None):(this._computeWhichMaterialPass()===V.OpaqueAndTransparent?i.vertexDiscardMode=t.transparent?f.Opaque:f.Transparent:i.vertexDiscardMode=f.None,i.output=H(t.subPass),t.subPass===S.Alpha&&(i.hasOccludees=o.hasOccludees),t.subPass===S.Color?(i.receiveAmbientOcclusion=o.ssaoHelper.ready,i.hasOccludees=o.hasOccludees,i.receiveShadows=o.shadowMap.ready,i.hasScreenSpaceReflections=o.ssr.enabled,i.hasCloudsReflections=r(o.clouds.data)):(i.receiveAmbientOcclusion=!1,i.receiveShadows=!1),i.snowCover=this.hasSnowCover(o)),this._technique=e.releaseAndAcquire(m,i,this._technique),this._setClean(),this._technique}hasSnowCover(e){return r(e.weather)&&e.weatherVisible&&\"snowy\"===e.weather.type&&\"enabled\"===e.weather.snowCover}submit(e,t,s){if(0===this.objectOpacity)return;const o=s.renderable.geometry,a=s.components,i=s.renderable.meta.cameraDepthSquared,n=a.geometryRanges,l=a.highlightRanges,h=a.defaultShadowMapRanges;switch(this._computeWhichMaterialPass()){case V.Opaque:e.materialOpaque.submitDraw(this,o,n,i);break;case V.Transparent:e.materialTransparent.submitDraw(this,o,n,i);break;case V.OpaqueAndTransparent:e.materialOpaque.submitDraw(this,o,n,i),e.materialTransparent.submitDraw(this,o,n,i);break;case V.IntegratedMesh:e.materialIntegratedMesh.submitDraw(this,o,n,i),U(t)&&e.highlightIntegratedMesh.submitDraw(this,o,n,i)}const u=this.componentParameters.castShadows!==W.None;u&&e.shadowMap.submitDraw(this,o,n,i),r(l)&&(e.highlight.submitDraw(this,o,l,i),u&&e.highlightShadowMap.submitDraw(this,o,l,i)),u&&r(h)&&e.defaultShadowMap.submitDraw(this,o,h,i)}get attributeLocations(){return v}_computeWhichMaterialPass(){return this.isIntegratedMesh?V.IntegratedMesh:this.objectOpacity<1?V.Transparent:this.componentParameters.opaqueOverride===W.All?V.Opaque:this.baseColor[3]<1||this.alphaDiscardMode===E.Blend||this.alphaDiscardMode===E.MaskBlend?V.Transparent:this.componentParameters.transparent===W.None?V.Opaque:this.componentParameters.transparent===W.All?V.Transparent:V.OpaqueAndTransparent}}var k,V,W;e([M({vectorOps:h})],_.prototype,\"baseColor\",void 0),e([M()],_.prototype,\"usePBR\",void 0),e([M()],_.prototype,\"hasParametersFromSource\",void 0),e([M({vectorOps:n})],_.prototype,\"mrrFactors\",void 0),e([M({vectorOps:n})],_.prototype,\"emissiveFactor\",void 0),e([M({dispose:!0})],_.prototype,\"baseColorTexture\",void 0),e([M({dispose:!0})],_.prototype,\"metallicRoughnessTexture\",void 0),e([M({dispose:!0})],_.prototype,\"emissionTexture\",void 0),e([M({dispose:!0})],_.prototype,\"occlusionTexture\",void 0),e([M({dispose:!0})],_.prototype,\"normalTexture\",void 0),e([M()],_.prototype,\"objectOpacity\",void 0),e([b()],_.prototype,\"commonMaterialParameters\",void 0),e([b()],_.prototype,\"componentParameters\",void 0),e([M()],_.prototype,\"textureAlphaCutoff\",void 0),e([M()],_.prototype,\"alphaDiscardMode\",void 0),e([M()],_.prototype,\"isIntegratedMesh\",void 0),e([M()],_.prototype,\"polygonOffsetEnabled\",void 0),e([M()],_.prototype,\"ellipsoidMode\",void 0),e([M()],_.prototype,\"hasOccludees\",void 0),function(e){e[e.VERTEX=0]=\"VERTEX\",e[e.GROUND=1]=\"GROUND\",e[e.SCREEN_DERIVATIVE=2]=\"SCREEN_DERIVATIVE\"}(k||(k={})),function(e){e[e.Opaque=0]=\"Opaque\",e[e.Transparent=1]=\"Transparent\",e[e.OpaqueAndTransparent=2]=\"OpaqueAndTransparent\",e[e.IntegratedMesh=3]=\"IntegratedMesh\"}(V||(V={}));class B extends C{constructor(){super(...arguments),this.doubleSided=!1,this.cullFace=F.Back,this.hasSlicePlane=!0}}e([M()],B.prototype,\"doubleSided\",void 0),e([M()],B.prototype,\"cullFace\",void 0),e([M()],B.prototype,\"hasSlicePlane\",void 0);class L extends C{constructor(){super(...arguments),this.externalColor=u(1,1,1,1),this.externalColorMixMode=p.Multiply,this.castShadows=W.All}get transparent(){return this.externalColor[3]<1?W.All:W.None}get opaqueOverride(){return this.externalColorMixMode===p.Replace&&1===this.externalColor[3]?W.All:W.None}get visible(){return this.externalColor[3]>0?W.All:W.None}get type(){return y.Uniform}}e([M({vectorOps:h})],L.prototype,\"externalColor\",void 0),e([M()],L.prototype,\"externalColorMixMode\",void 0),e([M()],L.prototype,\"castShadows\",void 0),function(e){e[e.All=0]=\"All\",e[e.Some=1]=\"Some\",e[e.None=2]=\"None\"}(W||(W={}));class G extends C{constructor(){super(...arguments),this.texture=null,this.transparent=W.None,this.opaqueOverride=W.None,this.castShadows=W.None}get type(){return y.Varying}}function H(e){switch(e){case S.Color:return P.Color;case S.Alpha:return P.Alpha;case S.Depth:return P.Depth;case S.Normal:return P.Normal}}function U(e){return 0!==e.overlays.length&&r(e.overlays[c.INNER].getValidTexture(d.Highlight))}function X(e){return 0!==e.overlays.length&&r(e.overlays[c.INNER].getColorTextureNoRasterImage())}e([M()],G.prototype,\"texture\",void 0),e([M()],G.prototype,\"transparent\",void 0),e([M()],G.prototype,\"opaqueOverride\",void 0),e([M()],G.prototype,\"castShadows\",void 0);export{B as CommonMaterialParameters,_ as ComponentMaterial,W as ComponentParameterSummary,L as ComponentParametersUniform,G as ComponentParametersVarying,k as ShadingNormalSource};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nclass e{constructor(e){this.maxCount=e,this._nextIndex=0,this.recycledIndices=[]}get activeCount(){return this._nextIndex-this.recycledIndices.length}get availableCount(){return this.recycledIndices.length+this.maxCount-this._nextIndex}acquire(){return this.recycledIndices.length>0?this.recycledIndices.pop():this.availableCount?this._nextIndex++:void 0}release(e){this.recycledIndices.push(e)}}export{e as SimpleIndexManager};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{BufferViewVec4u8 as t}from\"../../../../../geometry/support/buffer/BufferView.js\";import{TextureType as e,PixelFormat as i,PixelType as s,TextureSamplingMode as r,TextureWrapMode as h}from\"../../../../webgl/enums.js\";import{Texture as d}from\"../../../../webgl/Texture.js\";class a{constructor(a,u=1){this.rctx=a,this.fieldCount=u,this.textureWidth=4096,this.dirty=!0,this.texture=new d(this.rctx,{target:e.TEXTURE_2D,pixelFormat:i.RGBA,dataType:s.UNSIGNED_BYTE,samplingMode:r.NEAREST,wrapMode:h.CLAMP_TO_EDGE,width:this.textureWidth,height:1,flipped:!1}),this.data=new t(new ArrayBuffer(4*this.textureWidth))}dispose(){this.texture.dispose(),this.texture=void 0,this.data=void 0}setData(t,e,i,s,r,h){const d=t*this.fieldCount+e;this.dirty=!0,this.data.set(d,0,i),this.data.set(d,1,s),this.data.set(d,2,r),this.data.set(d,3,h)}setDataElement(t,e,i,s){const r=t*this.fieldCount+e;this.dirty=!0,this.data.set(r,i,s)}resizeToFit(e){const i=e*this.fieldCount;if(i>=this.data.count){const e=Math.ceil((i+1)/this.textureWidth)*this.textureWidth,s=new t(new ArrayBuffer(4*e));s.typedBuffer.set(this.data.typedBuffer),this.data=s}}updateTexture(){if(!this.dirty)return;const t=this.texture.descriptor.width,e=this.texture.descriptor.height;this.data.count>t*e&&this.texture.resize(t,this.data.count/t),this.texture.setData(this.data.typedBuffer),this.dirty=!1}bind(t,e,i){t.bindTexture(e,this.texture),t.setUniform2f(i,1/this.texture.descriptor.width,1/this.texture.descriptor.height)}}export{a as TextureBackedBuffer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{SimpleIndexManager as e}from\"./SimpleIndexManager.js\";import{TextureBackedBuffer as t}from\"./TextureBackedBuffer.js\";const r=65536;class i{constructor(i,a=1){this.textureBuffer=new t(i,a),this.indexManager=new e(r)}dispose(){this.textureBuffer.dispose(),this.textureBuffer=void 0}get availableCount(){return this.indexManager.availableCount}get activeCount(){return this.indexManager.activeCount}acquireIndex(){const e=this.indexManager.acquire();return this.textureBuffer.resizeToFit(e),e}releaseIndex(e){this.indexManager.release(e)}}export{r as MAX_INDEX_COUNT,i as ManagedTextureBackedBuffer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{MAX_INDEX_COUNT as t,ManagedTextureBackedBuffer as e}from\"./ManagedTextureBackedBuffer.js\";class r{constructor(t,e=1){this.rctx=t,this.fieldCount=e,this.buffers=[]}garbageCollect(){this.buffers=this.buffers.filter((t=>0!==t.activeCount||(t.dispose(),!1)))}destroy(){this.buffers.forEach((t=>t.dispose())),this.buffers=[]}getBuffer(r){for(const t of this.buffers)if(t.availableCount>=r)return t;if(r>t)return null;const s=new e(this.rctx,this.fieldCount);return this.buffers.push(s),s}updateTextures(){for(const t of this.buffers)t.textureBuffer.updateTexture()}}export{r as BufferManager};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../core/Logger.js\";import{isNone as t,isSome as o,unwrap as n,applySome as r}from\"../../../../../core/maybe.js\";import i from\"../../../../../core/PooledArray.js\";import{e as s,t as a}from\"../../../../../chunks/mat3.js\";import{c}from\"../../../../../chunks/mat3f32.js\";import{d as m,v as l,t as f}from\"../../../../../chunks/vec3.js\";import{a as p,c as h}from\"../../../../../chunks/vec3f64.js\";import{c as u}from\"../../../../../chunks/vec4f32.js\";import{a as b}from\"../../../../../chunks/vec32.js\";import{c as g}from\"../../../../../chunks/vec33.js\";import{ViewingMode as d}from\"../../../../ViewingMode.js\";import{computeOffsetObb as y}from\"../../../layers/i3s/I3SUtil.js\";import{ColorMixModeEnum as C,encodeSymbolColor as j}from\"../../../layers/support/symbolColorUtils.js\";import{clone as v,radius as _}from\"../../../support/orientedBoundingBox.js\";import{glLayout as w}from\"../../../support/buffer/glUtil.js\";import{newLayout as M}from\"../../../support/buffer/InterleavedLayout.js\";import x from\"./ComponentData.js\";import{State as O,ComponentObject as D}from\"./ComponentObject.js\";import S from\"./IntersectionGeometry.js\";import{Renderable as A}from\"./Renderable.js\";import{RenderGeometry as I}from\"./RenderGeometry.js\";import{RenderSubmitSystem as E}from\"./RenderSubmitSystem.js\";import{createVertexBufferLayout as P}from\"./SourceGeometry.js\";import{ComponentParametersVarying as R,ComponentParametersUniform as k,ComponentParameterSummary as U,ComponentMaterial as B}from\"./Material/ComponentMaterial.js\";import{encodeElevationOffset as T}from\"./Material/shader/ComponentData.glsl.js\";import{getVisibility as V,updateVisibilityWithCount as G}from\"../../lib/ComponentUtils.js\";import{assert as L}from\"../../lib/Util.js\";import{VertexAttribute as N}from\"../../lib/VertexAttribute.js\";import{getVerticalOffsetI3S as H}from\"../../lib/verticalOffsetUtils.js\";import{EdgeInputBufferLayout as W}from\"../../lib/edgeRendering/bufferLayouts.js\";import{extractComponentsEdgeLocationsLayout as q}from\"../../lib/edgeRendering/EdgeProcessingWorker.js\";import{BufferManager as z}from\"../../lib/TextureBackedBuffer/BufferManager.js\";import{BufferObject as X}from\"../../../../webgl/BufferObject.js\";import{Usage as Y,PrimitiveType as F}from\"../../../../webgl/enums.js\";import{VertexArrayObject as J}from\"../../../../webgl/VertexArrayObject.js\";const K=e.getLogger(\"esri.views.3d.webgl-engine.collections.Component.ComponentObjectCollection\");class Q{constructor(e,t){this._renderManager=e,this._viewingMode=t,this._objects=[new i,new i],this._renderSubmit=new E(this),this._renderManager.register(this._renderSubmit),this._componentBufferManager=new z(e.rctx,2)}dispose(){L(0===this._objects[O.Hidden].length&&0===this._objects[O.Visible].length,\"ObjectCollection should be empty upon disposal\"),this._componentBufferManager.destroy()}createObject(e){const t=new D;return t.toMapSpace=e.toMapSpace,t.transform=e.transform,t.obb=v(e.obb),t.components=new x(this._componentBufferManager,e.geometry.componentOffsets),t.renderable=this._createRenderable(e,t.components),t.intersectionGeometry=new S(e.geometry.positionData,t.components),this._objects[t.visible].push(t),t}destroyObject(e){const t=e;this._objects[t.visible].removeUnordered(t),t.dispose(),this._notifyDirty()}setObjectVisibility(e,t){const o=e;t!==o.visible&&(this._objects[o.visible].removeUnordered(o),this._objects[t].push(o),o.visible=t,this._notifyDirty())}preSubmit(e){const t=e.camera.eye;this.visibleObjects.forAll((e=>e.renderable.meta.cameraDepthSquared=m(t,e.obb.center)))}getMaterial(e){return e.renderable.material}updateMaterial(e,t){const o=e.renderable.material;t(o),o.dirty&&this._notifyDirty()}setAllComponentVisibilities(e,t){const o=e;o.components.visibility.reset(t),o.components.visibilityDirty(),this._notifyDirty()}forEachVisibleComponent(e,t){return e.components.visibility.forEachComponent(t)}getComponentCount(e){const t=e,o=t.components.visibility.componentCount();return{visible:o,invisible:t.components.count-o}}setComponentData(e,n){const r=e,i=r.renderable.material,s=r.components,a=s.materialDataBuffer,c=s.materialDataIndices,m={castShadows:!0,pickable:!0,externalColor:u(),externalColorMixMode:C.Multiply,elevationOffset:0},l=a.textureBuffer,f=new Uint8Array(4),p=new Uint32Array(f.buffer);let h=0,b=0,g=0,d=s.verticalOffsets,_=1/0,w=-1/0,M=!1,x=!1,O=0;for(let u=0;u<s.count;u++)n(u,m),h+=+(m.externalColor[3]<1),b+=+(m.externalColorMixMode===C.Replace&&1===m.externalColor[3]),g+=+m.castShadows,j(m.externalColor,m.externalColorMixMode,f),f[2]=254&f[2]|+m.castShadows,l.setData(c[u],0,f[0],f[1],f[2],f[3]),M||(M=u>0&&O!==p[0]),O=p[0],x||(x=0!==m.elevationOffset),x&&t(d)&&(d=new Array(u).fill(0)),o(d)&&(d[u]=m.elevationOffset),_=Math.min(_,m.elevationOffset),w=Math.max(w,m.elevationOffset),T(m.elevationOffset,f),l.setData(c[u],1,f[0],f[1],f[2],f[3]),m.pickable!==V(s.pickability,u)&&(s.pickability=G(s.pickability,s.count,u,m.pickable));s.verticalOffsets=x?d:null,r.offsetObb=x?y(r.obb,_,w,this._viewingMode,o(r.offsetObb)?r.offsetObb:v(r.obb)):null,M||x?(i.componentParameters=new R,i.componentParameters.castShadows=$(g,s.count),i.componentParameters.transparent=$(h,s.count),i.componentParameters.opaqueOverride=$(b,s.count),i.componentParameters.texture=l,l.updateTexture()):(i.componentParameters=new k,i.componentParameters.castShadows=m.castShadows?U.All:U.None,i.componentParameters.externalColor=m.externalColor,i.componentParameters.externalColorMixMode=m.externalColorMixMode),this._notifyDirty()}getComponentAabb(e,o,r,i=!1){e.intersectionGeometry.getComponentAabb(o,r);const s=e,a=s.components.verticalOffsets;if(i||t(a))return r;const c=a[o];if(this._viewingMode===d.Local||0===c)return r[2]+=c,r[5]+=c,r;const m=n(H(c));return m.localOrigin=s.transform.position,m.applyToAabb(r)}getComponentObb(e){return e.obb}getObjectTransform(e){return e.transform}getComponentPositions(e,t,o){return e.intersectionGeometry.getComponentPositions(t,o)}intersect(e,t,n,r,i,c){const m=e;o(i)&&(i.localOrigin=m.transform.position);const p=s(ee,m.transform.rotationScale);l(te,t,m.transform.position),l(oe,n,m.transform.position),f(te,te,p),f(oe,oe,p);const h=a(ee,p);return m.intersectionGeometry.intersect(te,oe,r,h,i,m.components.verticalOffsets,c)}addEdges(e,t,o,n){const r=e,{indices:i,positions:s}=r.intersectionGeometry,a=r.components.offsets;return t.addComponentObject(e,r.transform,{center:r.obb.center,radius:_(r.obb)},s,i,a,o,n)}async extractEdgeInformation(e,t,o){const n=e,r=n.components.visibility;if(r.allInvisible())return{buffer:q.createBuffer(0),origin:[0,0,0]};const{indices:i,positions:s}=n.intersectionGeometry,a=n.components.offsets,c=W.createBuffer(s.count);g(c.position,s),b(c.position,c.position,n.transform.rotationScale),this._setComponentIndices(c.componentIndex,i,a);const m=c.count,l=this._computeVisibilityIndices(i,r,a,m);return{origin:p(n.transform.position),buffer:await t.extractComponentsEdgeLocations({indices:l,indicesLength:l.length,skipDeduplicate:!0,data:c,writerSettings:{reducedPrecision:!1,variants:0}},o)}}_setComponentIndices(e,t,o){let n=0;for(let r=0;r<o.length-1;r++){const i=o[r],s=o[r+1];for(let o=i;o<s;o++){const r=t?t[o]:o;e.set(r,n)}n++}}_computeVisibilityIndices(e,t,o,n){if(e&&t.allVisible())return e;let r=0;t.forEachComponentRange(((e,t)=>(r+=o[t]-o[e],!0)));const i=2===e?.BYTES_PER_ELEMENT||n<=65536?new Uint16Array(r):new Uint32Array(r);let s=0;return t.forEachComponentRange(((t,n)=>{const r=o[t],a=o[n];for(let o=r;o<a;o++)i[s++]=e?e[o]:o;return!0})),i}addComponentHighlight(e,o){const n=e.components;t(n.highlightCounts)&&(n.highlightCounts=new Uint32Array(n.count+1));0===n.highlightCounts[o]++&&(n.highlightsDirty(),this._notifyDirty()),n.highlightCounts[n.count]++}removeComponentHighlight(e,o){const n=e.components;if(t(n.highlightCounts))return void K.warn(\"Removing non-existing highlight.\");const r=n.highlightCounts[o],i=n.highlightCounts[n.count];if(0!==r){if(r>1)return n.highlightCounts[o]=r-1,void(n.highlightCounts[n.count]=i-1);n.highlightCounts[o]=0,n.highlightsDirty(),this._notifyDirty(),1===i?n.highlightCounts=null:n.highlightCounts[n.count]=i-1}else K.warn(\"Removing non-existing highlight.\")}clearHighlights(e){const t=e.components;o(t.highlightCounts)&&(t.highlightCounts=null,t.highlightsDirty(),this._notifyDirty())}getObjectGPUMemoryUsage(e){return e.renderable.meta.gpuMemoryEstimate}get visibleObjects(){return this._objects[O.Visible]}_createRenderable(e,t){const i=this._renderManager.rctx,s=e.geometry,a=s.vertices.layoutParameters,c=X.createVertex(i,Y.STATIC_DRAW,s.vertices.data),m=r(s.indices,(e=>X.createIndex(i,Y.STATIC_DRAW,e))),l=w(P(a)),f=new Uint16Array(s.vertices.count);for(let n=0;n<t.count;n++){const e=t.offsets[n],r=t.offsets[n+1],i=t.materialDataIndices[n];if(o(s.indices))for(let t=e;t<r;t++){f[s.indices[t]]=i}else for(let t=e;t<r;t++)f[t]=i}const p=X.createVertex(i,Y.STATIC_DRAW,f.buffer),h=new B(e.transform,e.toMapSpace),u=new J(i,h.attributeLocations,{data:l,componentIndices:Z},{data:c,componentIndices:p},n(m)),b=new I(u,F.TRIANGLES,a,o(m)),g={cameraDepthSquared:.5,gpuMemoryEstimate:c.byteSize+p.byteSize+(o(m)?m.byteSize:0)};return new A(h,b,g)}_notifyDirty(){this._renderManager.notifyDirty()}}const Z=w(M().u16(N.COMPONENTINDEX));function $(e,t){return e===t?U.All:0===e?U.None:U.Some}const ee=c(),te=h(),oe=h();export{Q as ComponentObjectCollection};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as i}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as e}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as o}from\"../lib/Program.js\";import{a as t}from\"../../../../chunks/Compositing.glsl.js\";import{CompositingFunction as n,AlphaMode as s}from\"./CompositingTechniqueConfiguration.js\";import{BlendFactor as a}from\"../../../webgl/enums.js\";import{makePipelineState as l,simpleBlendingParams as m,defaultColorWriteParams as c,separateBlendingParams as u}from\"../../../webgl/renderState.js\";class g extends i{initializeProgram(r){const i=g.shader.get().build(this.configuration);return new o(r.rctx,i,e)}initializePipeline(){if(this.configuration.function===n.TransparentToHUDVisibility)return l({colorWrite:{r:!1,g:!0,b:!1,a:!1}});switch(this.configuration.alphaMode){case s.None:return l({colorWrite:c});case s.Alpha:return l({blending:u(a.SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA),colorWrite:c});default:return l({blending:m(a.ONE,a.ONE_MINUS_SRC_ALPHA),colorWrite:c})}}}g.shader=new r(t,(()=>import(\"./Compositing.glsl.js\")));export{g as CompositingTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as s,isNone as t}from\"../../../../core/maybe.js\";import{OverlayIndex as i}from\"../../terrain/interfaces.js\";import{createQuadVAO as r}from\"./glUtil3D.js\";import{C as e}from\"../../../../chunks/Compositing.glsl.js\";import{CompositingTechnique as a}from\"../shaders/CompositingTechnique.js\";import{CompositingTechniqueConfiguration as o,AlphaMode as n,CompositingFunction as h}from\"../shaders/CompositingTechniqueConfiguration.js\";import{PrimitiveType as c}from\"../../../webgl/enums.js\";import{vertexCount as p}from\"../../../webgl/Util.js\";class _{constructor(s,t){this._rctx=s,this._techniqueRepository=t,this._configuration=new o,this._passParameters=new e}dispose(){this._vao=s(this._vao)}compositeTransparent(s,t,i,r,e=1){this._configuration.alphaMode=n.Alpha,this._configuration.function=h.Transparency,this._configuration.hasOpacityFactor=1!==e,this._passParameters.colorTexture=t,this._passParameters.alphaTexture=i,this._passParameters.frontFaceTexture=r;const o=this._rctx,_=this._techniqueRepository.acquire(a,this._configuration);o.bindTechnique(_,this._passParameters,s);const m=this._ensureVAO();o.bindVAO(m),o.drawArrays(c.TRIANGLE_STRIP,0,p(m,\"geometry\")),_.release()}composite(s,t,r=n.None,e=1,o=h.Standard,_=i.INNER){const m=this._rctx;this._configuration.alphaMode=r,this._configuration.function=o,this._configuration.hasOpacityFactor=1!==e,this._passParameters.overlayIndex=_,this._passParameters.texture=t,this._passParameters.opacity=e;const u=this._techniqueRepository.acquire(a,this._configuration);m.bindTechnique(u,this._passParameters,s);const f=this._ensureVAO();m.bindVAO(f),m.drawArrays(c.TRIANGLE_STRIP,0,p(f,\"geometry\")),u.release()}_ensureVAO(){return t(this._vao)&&(this._vao=r(this._rctx)),this._vao}}export{_ as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{unpackFloatRGBA as e}from\"../../../../core/floatRGBA.js\";import{isSome as t,isNone as r}from\"../../../../core/maybe.js\";import i from\"../../../../core/PooledArray.js\";import{m as n,c as s}from\"../../../../chunks/mat4.js\";import{c as a}from\"../../../../chunks/mat4f64.js\";import{m as o}from\"../../../../chunks/vec3.js\";import{l as h}from\"../../../../chunks/vec4.js\";import{c as f}from\"../../../../chunks/vec4f64.js\";import{intersectsSphere as c,create as l,copy as u}from\"../../../../geometry/support/frustum.js\";import{c as d}from\"../../../../chunks/sphere.js\";import{maxScale as g}from\"../../support/mathUtils.js\";import{empty as m,union as p,set as _}from\"./depthRange.js\";import b from\"./Octree.js\";import{assert as w}from\"./Util.js\";const R=1e4,B=100,v=500,j=500,C=.1;function A(t,r,i){return e(r,t)*(i[1]-i[0])+i[0]}function M(e,t,r){if(t.size<R)return K.compute(e,t);const i=m();return r.forAll((t=>{t.isVisible&&p(i,O(e,t))})),i}function O(e,r){if(!r.isVisible)return;const i=m(),n=r.getSpatialQueryAccelerator();return t(n)?T(i,e,n):D(i,e,r.objects),i}function T(e,t,r){const i=t.eye,n=t.viewForward,s=t.frustum,a=e=>e.isVisible,o=r.objectCount;if(o<v)_(W,t.near,Math.min(e.near,t.far)),r.forEachInDepthRange(i,n,b.DepthOrder.FRONT_TO_BACK,W,((r,i)=>{S(e,t,r),W.far=e.near,i.setRange(W)}),s,a),_(W,Math.max(e.far,t.near),t.far),r.forEachInDepthRange(i,n,b.DepthOrder.BACK_TO_FRONT,W,((r,i)=>{S(e,t,r),W.near=e.far,i.setRange(W)}),s,a);else{const i=Math.max(Math.min(o,j),Math.ceil(o*C)),h=r.findClosest(n,b.DepthOrder.FRONT_TO_BACK,s,a,i),f=r.findClosest(n,b.DepthOrder.BACK_TO_FRONT,s,a,i);h&&f&&(F(e,t,h.boundingVolumeWorldSpace.bounds),F(e,t,f.boundingVolumeWorldSpace.bounds))}}function D(e,t,r){k.clear(),r.forAll((e=>{e.isVisible&&0!==e.geometryRecords.length&&k.add(e)})),k.empty||(k.sort(t),_(W,t.near,Math.min(e.near,t.far)),k.forEachInDepthRange(W,b.DepthOrder.FRONT_TO_BACK,((r,i)=>{i<e.near&&S(e,t,r)})),_(W,Math.max(e.far,t.near),t.far),k.forEachInDepthRange(W,b.DepthOrder.BACK_TO_FRONT,((t,r,i)=>{e.far=Math.max(e.far,i)})))}function S(e,t,r){if(!r.isVisible)return;if(!c(t.frustum,r.boundingVolumeWorldSpace.bounds))return;const i=r.transformation,s=E;r.geometryRecords.forEach((r=>{n(s,i,r.getShaderTransformation());const a=g(s);y(e,t,r.geometry.boundingInfo,s,a)}))}function y(e,t,i,n,s){if(r(i))return;const a=t.eye,h=t.viewForward;o(V,i.center,n);const f=h[0]*(V[0]-a[0])+h[1]*(V[1]-a[1])+h[2]*(V[2]-a[2]);if(V[3]=i.radius*s,!(f-V[3]>e.near&&f+V[3]<e.far)&&c(t.frustum,V))if(i.radius>B&&i.getChildren()){const r=i.getChildren();for(let i=0;i<8;++i)r[i]&&y(e,t,r[i],n,s)}else U.unionDepthRangeWithAABB(e,t.viewProjectionMatrix,n,i.bbMin,i.bbMax)}function F(e,t,r){const i=t.eye,n=t.viewForward,s=(r[0]-i[0])*n[0]+(r[1]-i[1])*n[1]+(r[2]-i[2])*n[2];e.near=Math.min(e.near,s-r[3]),e.far=Math.max(e.far,s+r[3])}class I{constructor(){this._items=new i({allocator:e=>e||{obj:null,distance:0,near:0,far:0},deallocator:e=>(e.obj=null,e.distance=0,e.near=0,e.far=0,e)})}get length(){return this._items.length}get empty(){return 0===this._items.length}clear(){this._items.clear()}add(e){this._items.pushNew().obj=e}sort(e){const t=e.eye,r=e.viewForward;this._items.forAll((e=>{const i=e.obj.boundingVolumeWorldSpace.bounds,n=(i[0]-t[0])*r[0]+(i[1]-t[1])*r[1]+(i[2]-t[2])*r[2];e.distance=n,e.near=n-i[3],e.far=n+i[3]})),this._items.sort(((e,t)=>e.distance-t.distance))}forEachInDepthRange(e,t,r){if(t===b.DepthOrder.FRONT_TO_BACK)for(let i=0;i<this._items.length;++i){const t=this._items.data[i];t.far<e.near||t.near>e.far||r(t.obj,t.near,t.far)}else for(let i=this._items.length-1;i>=0;--i){const t=this._items.data[i];t.far<e.near||t.near>e.far||r(t.obj,t.near,t.far)}}}class P{constructor(){this.view=a(),this.viewProj=a(),this.frustum=l(),this.geometries=[],this.near=[],this.far=[],this.nearCandidates=[],this.farCandidates=[],this.range={near:0,far:0},this.looseRange={near:0,far:0}}compute(e,t){this._reset(),s(this.view,e.viewMatrix),n(this.viewProj,e.projectionMatrix,this.view),u(this.frustum,e.frustum);const r=this.view,i=r[2],a=r[6],o=r[10],h=r[14],f=this.range;let c=0;if(t.forEach((e=>{if(!e.instanceParameters.visible)return;if(!e.castShadow)return;let t;e.hasShaderTransformation?(e.computeBoundingSphere(e.getShaderTransformation(),V,1),t=V):t=e.boundingSphere;const r=i*t[0]+a*t[1]+o*t[2]+h,n=r-t[3],s=r+t[3];this.geometries[c]=e,this.near[c]=-s,this.far[c]=-n,++c})),0===this.geometries.length)return f;for(let n=0;n<this.geometries.length;++n)this.near[n]>f.far&&(f.far=this.near[n]),this.near[n]>2&&this.far[n]<f.near&&(f.near=this.far[n]);const l=this.looseRange;l.near=Math.max(.5*f.near,2),l.far=2*f.far;let d=0,g=0;for(let n=0;n<this.geometries.length;++n)this.near[n]<f.near&&(this.near[n]>=l.near?f.near=this.near[n]:this.nearCandidates[d++]=n),this.far[n]>f.far&&(this.far[n]<=l.far?f.far=this.far[n]:this.farCandidates[g++]=n);if(0===this.nearCandidates.length&&0===this.farCandidates.length)return f;this.nearCandidates.sort(((e,t)=>this.near[e]<this.near[t]?-1:this.near[e]>this.near[t]?1:0)),this.farCandidates.sort(((e,t)=>this.far[e]<this.far[t]?1:this.far[e]>this.far[t]?-1:0));for(let n=0;n<this.nearCandidates.length;++n){const e=this.nearCandidates[n];if(this.near[e]<f.near){const t=this.geometries[e],r=t.boundingInfo;this._includeNearBoundingInfoRec(r,t.getShaderTransformation())}}for(let n=0;n<this.farCandidates.length;++n){const e=this.farCandidates[n];if(this.far[e]>f.far){const t=this.geometries[e],r=t.boundingInfo;this._includeFarBoundingInfoRec(r,t.getShaderTransformation())}}return f}_reset(){this.geometries.length=0,this.near.length=0,this.far.length=0,this.nearCandidates.length=0,this.farCandidates.length=0,this.range.near=Number.MAX_VALUE,this.range.far=-Number.MAX_VALUE}_includeNearBoundingInfoRec(e,t){if(r(e))return;const i=e.getCenter();o(V,i,t);const n=g(t),s=V[0],a=V[1],h=V[2],f=e.getBSRadius()*n,c=this.frustum;if(c[0][0]*s+c[0][1]*a+c[0][2]*h+c[0][3]>f||c[1][0]*s+c[1][1]*a+c[1][2]*h+c[1][3]>f||c[2][0]*s+c[2][1]*a+c[2][2]*h+c[2][3]>f||c[3][0]*s+c[3][1]*a+c[3][2]*h+c[3][3]>f)return;const l=this.view[2]*s+this.view[6]*a+this.view[10]*h+this.view[14],u=l+f;if(!(-(l-f)<2||-u>=this.range.near))if(-u>this.looseRange.near)this.range.near=-u;else{if(f>B){const r=e.getChildren();if(void 0!==r){for(let e=0;e<8;++e)void 0!==r[e]&&this._includeNearBoundingInfoRec(r[e],t);return}}U.unionDepthRangeWithAABB(this.range,this.viewProj,t,e.getBBMin(),e.getBBMax())}}_includeFarBoundingInfoRec(e,t){if(r(e))return;let i=e.getBSRadius();const n=e.getCenter();o(V,n,t);const s=g(t),a=V[0],h=V[1],f=V[2];i*=s;const c=this.frustum;if(c[0][0]*a+c[0][1]*h+c[0][2]*f+c[0][3]>i||c[1][0]*a+c[1][1]*h+c[1][2]*f+c[1][3]>i||c[2][0]*a+c[2][1]*h+c[2][2]*f+c[2][3]>i||c[3][0]*a+c[3][1]*h+c[3][2]*f+c[3][3]>i)return;const l=this.view[2]*a+this.view[6]*h+this.view[10]*f+this.view[14]-i;if(!(-l<=this.range.far))if(-l<this.looseRange.far)this.range.far=-l;else{if(i>B){const r=e.getChildren();if(void 0!==r){for(let e=0;e<8;++e)void 0!==r[e]&&this._includeFarBoundingInfoRec(r[e],t);return}}U.unionDepthRangeWithAABB(this.range,this.viewProj,t,e.getBBMin(),e.getBBMax())}}}class x{constructor(){this.modelViewProj=a(),this.clipPosition=[f(),f(),f(),f(),f(),f(),f(),f()]}unionDepthRangeWithAABB(e,t,r,i,s){const a=this.modelViewProj;n(a,t,r);let o=!1;for(let n=0;n<8;++n){const e=this.clipPosition[n],t=0===n||3===n||4===n||7===n?i[0]:s[0],r=0===n||1===n||4===n||5===n?i[1]:s[1],o=n<4?i[2]:s[2];e[0]=a[0]*t+a[4]*r+a[8]*o+a[12],e[1]=a[1]*t+a[5]*r+a[9]*o+a[13],e[2]=a[2]*t+a[6]*r+a[10]*o+a[14],e[3]=a[3]*t+a[7]*r+a[11]*o+a[15]}for(let n=0;n<12;++n){const t=this.clipPosition[N[n][0]],r=this.clipPosition[N[n][1]],i=this.clipPosition[N[n][2]],s=this._clipTriangle(t,r,i);let a=!0;for(let e=0;e<s.length;++e){if(s[e][3]>=2){a=!1;break}}if(!a){o=!0;for(let t=0;t<s.length;++t){const r=s[t][3];r<e.near&&(e.near=r),r>e.far&&(e.far=r)}}}return o}_inside(e,t){return 0===t?e[0]>=-e[3]:1===t?e[1]>=-e[3]:2===t?e[0]<=e[3]:3===t?e[1]<=e[3]:void w(!1)}_intersect(e,t,r){let i=0;return 0===r?i=(-e[3]-e[0])/(t[0]-e[0]+t[3]-e[3]):1===r?i=(-e[3]-e[1])/(t[1]-e[1]+t[3]-e[3]):2===r?i=(e[3]-e[0])/(t[0]-e[0]-t[3]+e[3]):3===r&&(i=(e[3]-e[1])/(t[1]-e[1]-t[3]+e[3])),h(f(),e,t,i)}_clipTriangle(e,t,r){let i=[e,t,r];for(let n=0;n<4;++n){const e=i;i=[];for(let t=0;t<e.length;++t){const r=e[t],s=e[(t+1)%e.length];this._inside(s,n)?(this._inside(r,n)||i.push(this._intersect(r,s,n)),i.push(s)):this._inside(r,n)&&i.push(this._intersect(r,s,n))}}return i}}const N=[[0,1,3],[2,3,1],[1,5,2],[6,2,5],[5,4,6],[7,6,4],[4,0,7],[3,7,0],[3,2,7],[6,7,2],[4,5,0],[1,0,5]],V=d(),E=a(),W=m(),k=new I,K=new P,U=new x;export{P as DepthRangeFromRenderGeometries,O as depthRangeFromLayer,M as depthRangeFromScene,A as textureToDepth};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{BooleanPassUniform as e}from\"../core/shaderModules/BooleanPassUniform.js\";import{Float4Uniform as r}from\"../core/shaderModules/Float4Uniform.js\";import{NoParameters as o,glsl as t}from\"../core/shaderModules/interfaces.js\";import{ShaderBuilder as a}from\"../core/shaderModules/ShaderBuilder.js\";import{Texture2DUniform as n}from\"../core/shaderModules/Texture2DUniform.js\";import{VertexAttribute as s}from\"../lib/VertexAttribute.js\";class d extends o{constructor(){super(...arguments),this.maskEnabled=!1,this.overlayEnabled=!1}}function i(){const o=new a;return o.attributes.add(s.POSITION,\"vec2\"),o.vertex.uniforms.add(new r(\"drawPosition\")),o.varyings.add(\"vUV\",\"vec2\"),o.vertex.code.add(t`void main(void) {\nvUV = position;\ngl_Position = vec4(drawPosition.xy + vec2(position - 0.5) * drawPosition.zw, 0.0, 1.0);\n}`),o.fragment.uniforms.add(new n(\"textureInput\")),o.fragment.uniforms.add(new n(\"textureMask\")),o.fragment.uniforms.add(new n(\"textureOverlay\")),o.fragment.uniforms.add(new e(\"maskEnabled\",(e=>e.maskEnabled))),o.fragment.uniforms.add(new e(\"overlayEnabled\",(e=>e.overlayEnabled))),o.fragment.code.add(t`const float barrelFactor = 1.1;\nvec2 barrel(vec2 uv) {\nvec2 uvn = uv * 2.0 - 1.0;\nif (uvn.x == 0.0 && uvn.y == 0.0) {\nreturn vec2(0.5, 0.5);\n}\nfloat theta = atan(uvn.y, uvn.x);\nfloat r = pow(length(uvn), barrelFactor);\nreturn r * vec2(cos(theta), sin(theta)) * 0.5 + 0.5;\n}\nvoid main() {\nfloat mask = maskEnabled ? texture2D(textureMask, vUV).a : 1.0;\nvec4 inputColor = texture2D(textureInput, barrel(vUV)) * mask;\nvec4 overlayColor = overlayEnabled ? texture2D(textureOverlay, vUV) : vec4(0);\ngl_FragColor = overlayColor + (1.0 - overlayColor.a) * inputColor;\n}`),o}export{d as MagnifierPassParameters,i as build};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import s from\"../../../../core/Accessor.js\";import r from\"../../../../core/Evented.js\";import t from\"../../../../core/Handles.js\";import{clamp as i}from\"../../../../core/mathUtils.js\";import{isNone as a,isSome as o,applySome as n}from\"../../../../core/maybe.js\";import{createTask as m}from\"../../../../core/promiseUtils.js\";import{watch as u}from\"../../../../core/reactiveUtils.js\";import{createScreenPointArray as l,createRenderScreenPointArray as p,screenPointObjectToArray as h}from\"../../../../core/screenUtils.js\";import{isSVG as c}from\"../../../../core/urlUtils.js\";import{property as _}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as d}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{requestImage as g}from\"../../../../support/requestImageUtils.js\";import{Pos2 as f}from\"./DefaultVertexBufferLayouts.js\";import{createQuadVAO as T}from\"./glUtil3D.js\";import{Program as v}from\"./Program.js\";import{VertexAttribute as y}from\"./VertexAttribute.js\";import{MagnifierPassParameters as k,build as R}from\"../shaders/Magnifier.glsl.js\";import{loadMagnifierResources as L}from\"../../../magnifier/resources.js\";import{PrimitiveType as S,BlendFactor as x,TextureType as E,PixelFormat as b,PixelType as j,TextureWrapMode as A,TextureSamplingMode as P}from\"../../../webgl/enums.js\";import{makePipelineState as w,simpleBlendingParams as M,defaultColorWriteParams as U}from\"../../../webgl/renderState.js\";import{Texture as I}from\"../../../webgl/Texture.js\";let N=class extends s{constructor(){super(...arguments),this._handles=new t,this._magnifier=null,this._imageSources=null,this._imageLoadTask=null,this._resources=null,this._passParameters=new k,this.events=new r,this.attributeLocations=new Map([[y.POSITION,0]]),this.tmpScreenPoint=l(),this.tmpRenderPoint=p()}get updating(){return a(this._imageSources)&&o(this._imageLoadTask)&&!this._imageLoadTask.task.finished}get magnifier(){return this._magnifier}set magnifier(e){if(e===this._magnifier)return;this._handles.removeAll(),this._magnifier=e;const s=()=>{this._updateResourceLoading(),this.events.emit(\"request-render\")};o(this._magnifier)&&this._handles.add(u((()=>n(this._magnifier,(e=>e.version))),s)),s()}get enabled(){return o(this._validMagnifier)}get _validMagnifier(){return o(this._magnifier)&&this._magnifier.visible&&o(this._magnifier.position)&&this._magnifier.size>0?this._magnifier:null}get factor(){return o(this._magnifier)&&this._magnifier.factor||1}dispose(){this._magnifier=null,this._handles.destroy(),o(this._imageLoadTask)&&(this._imageLoadTask.task.abort(),this._imageLoadTask=null),this._disposeResources()}render(e,s){const r=this._validMagnifier;if(a(r))return;const t=s.camera.pixelRatio,o=Math.ceil(t*r.size);if(this._updateResources(e,o),a(this._resources))return;this._passParameters.maskEnabled=r.maskEnabled,this._passParameters.overlayEnabled=r.overlayEnabled;const n=this._resources.program;e.useProgram(n),n.bindPass(this._passParameters,s);const m=this._resources.textures,u=Math.ceil(1/this.factor*o);m.input.resize(u,u);const l=s.camera.fullWidth,p=s.camera.fullHeight;h(r.position,this.tmpScreenPoint);const c=s.camera.screenToRender(this.tmpScreenPoint,this.tmpRenderPoint),_=.5*u,d=.5*u;c[0]=i(c[0],_,l-_-1),c[1]=i(c[1],d,p-d-1);const g=Math.floor(c[0]-_),f=Math.floor(c[1]-d);n.bindTexture(\"textureInput\",m.input),e.gl.copyTexImage2D(m.input.descriptor.target,0,m.input.descriptor.pixelFormat,g,f,u,u,0);const T=r.offset.x*t,v=r.offset.y*t,y=(c[0]+T)/l*2-1,k=(c[1]-v)/p*2-1,R=o/l*2,L=o/p*2;e.bindVAO(this._resources.vao),n.bindTexture(\"textureOverlay\",m.overlay),n.bindTexture(\"textureMask\",m.mask),n.setUniform4f(\"drawPosition\",y,k,R,L),e.setPipelineState(this._resources.pipelineState),e.drawArrays(S.TRIANGLE_STRIP,0,4)}_updateResourceLoading(){const e=this._validMagnifier;if(a(e))return;const s=e.maskUrl,r=e.overlayUrl;!o(this._imageLoadTask)||this._imageLoadTask.maskUrl===s&&this._imageLoadTask.overlayUrl===r||(this._imageLoadTask.task.abort(),this._imageLoadTask=null,this._imageSources=null),o(this._imageSources)||o(this._imageLoadTask)||(this._imageLoadTask={maskUrl:s,overlayUrl:r,task:m((async e=>{const t=a(s)||a(r)?L(e):null,i=o(s)?g(s,{signal:e}):t.then((e=>e.mask)),n=o(r)?g(r,{signal:e}):t.then((e=>e.overlay));this._imageSources={mask:await i,overlay:await n},this._disposeResources(),this.events.emit(\"request-render\")}))},this._imageLoadTask.task.promise.then((()=>this.notifyChange(\"updating\")),(()=>this.notifyChange(\"updating\"))))}_updateResources(e,s){if(!this.enabled)return void this._disposeResources();if(o(this._resources)){if(this._resources.textures.size!==s){const r=this._createTextureResources(e,s);if(a(r))return void this._disposeResources();this._disposeTextureResources(this._resources.textures),this._resources.textures=r}return}const r=this._createTextureResources(e,s);a(r)||(this._resources={textures:r,program:this._createProgram(e),vao:T(e,f,this.attributeLocations,0,1),pipelineState:w({blending:M(x.ONE,x.ONE_MINUS_SRC_ALPHA),depthTest:null,depthWrite:null,colorWrite:U})})}_disposeResources(){a(this._resources)||(this._disposeTextureResources(this._resources.textures),this._resources.program.dispose(),this._resources.vao.dispose(),this._resources=null)}_disposeTextureResources(e){e.mask.dispose(),e.overlay.dispose(),e.input.dispose()}_createTextureResources(e,s){if(a(this._imageSources))return null;this._imageSources.overlay.width=s,this._imageSources.overlay.height=s,this._imageSources.mask.width=s,this._imageSources.mask.height=s;const r=new I(e,{target:E.TEXTURE_2D,pixelFormat:b.RGBA,internalFormat:b.RGBA,dataType:j.UNSIGNED_BYTE,wrapMode:A.CLAMP_TO_EDGE,samplingMode:P.LINEAR,flipped:!0,preMultiplyAlpha:!c(this._imageSources.overlay.src)||!e.driverTest.svgAlwaysPremultipliesAlpha},this._imageSources.overlay),t=new I(e,{target:E.TEXTURE_2D,pixelFormat:b.ALPHA,internalFormat:b.ALPHA,dataType:j.UNSIGNED_BYTE,wrapMode:A.CLAMP_TO_EDGE,samplingMode:P.LINEAR,flipped:!0},this._imageSources.mask);return{input:new I(e,{target:E.TEXTURE_2D,pixelFormat:b.RGBA,internalFormat:b.RGBA,dataType:j.UNSIGNED_BYTE,wrapMode:A.CLAMP_TO_EDGE,samplingMode:P.LINEAR,flipped:!1}),mask:t,overlay:r,size:s}}_createProgram(e){return new v(e,R(),this.attributeLocations)}};e([_()],N.prototype,\"_imageSources\",void 0),e([_()],N.prototype,\"_imageLoadTask\",void 0),e([_({readOnly:!0})],N.prototype,\"updating\",null),N=e([d(\"esri/views/3d/webgl-engine/lib/MagnifierHelper\")],N);export{N as MagnifierHelper};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{Milliseconds as o}from\"../../../core/time.js\";const e=.5,r=o(1e3/30);export{e as MAXIMUM_ANIMATION_LOAD,r as MINIMUM_IDLE_ANIMATION_MS};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{unwrap as e}from\"../../../../../core/maybe.js\";import t from\"../../../../../core/PooledArray.js\";import{TransparencyPassType as r}from\"../../lib/basicInterfaces.js\";import{DataType as i}from\"../../../../webgl/enums.js\";var s;!function(e){e[e.FrontToBack=0]=\"FrontToBack\",e[e.BackToFront=1]=\"BackToFront\"}(s||(s={}));class o{constructor(e,r,i=s.FrontToBack){this._rctx=e,this._techniqueRepository=r,this._sorting=i,this._draws=new t({initialSize:32,allocator:e=>e||{material:null,geometry:null,geometryRanges:null,bindDrawParams:null,depthSquaredHint:0,indexType:0}}),this._previouslyBoundDraw=new Map}submitDraw(t,r,i,s){const o=this._draws.pushNew();o.geometry=r,o.geometryRanges=i,o.material=t,o.depthSquaredHint=s,o.indexType=r.indexed?e(r.vao.indexBuffer).indexType:0}dispatch(e,t){const i=this._rctx;this._previouslyBoundDraw.clear();let s=null;const o=this._draws.map((r=>r.material.prepareTechnique(this._techniqueRepository,e,t,r.geometry.parameters))),n=this._draws.length;for(let c=0;c<n;c++){const n=o[c];n===s&&n.configuration.transparencyPassType===r.NONE||(i.bindTechnique(n,e,t),s=n);const d=this._draws.data[c],l=d.geometry;i.bindVAO(l.vao),this._previouslyBoundDraw.get(n)!==d.material&&(n.bindDraw(d.material,t),this._previouslyBoundDraw.set(n,d.material));const p=d.geometryRanges,m=p.length;if(0!==d.indexType){const e=a.get(d.indexType);for(let t=0;t<m;t+=2){const r=p[t],s=p[t+1];i.drawElements(l.primitiveType,s,d.indexType,r*e)}}else for(let e=0;e<m;e+=2){const t=p[e],r=p[e+1];i.drawArrays(l.primitiveType,t,r)}}}prepareSubmit(){this._draws.clear()}finishSubmit(){const e=this._sorting===s.FrontToBack?1:-1;this._draws.sort(((t,r)=>{const i=e*(t.depthSquaredHint-r.depthSquaredHint);return 0!==i?i:t.geometry.vao.size-r.geometry.vao.size}))}get count(){return this._draws.length}}const a=new Map;a.set(i.UNSIGNED_BYTE,1),a.set(i.UNSIGNED_SHORT,2),a.set(i.UNSIGNED_INT,4);export{o as RenderPass,s as RenderPassSorting};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as s}from\"../../../../../core/maybe.js\";import{f as a,t as e,e as t}from\"../../../../../chunks/mat3.js\";import{c as r}from\"../../../../../chunks/mat3f64.js\";import{c as i}from\"../../../../../chunks/mat4.js\";import{s as h,c as m}from\"../../../../../chunks/vec3.js\";import{c as n}from\"../../../../../chunks/vec3f64.js\";import{MaterialPassParameters as P,ShadowMapPassParameters as o,HighlightPassParameters as _,MaterialSubPass as p,RenderPassIdentifier as l}from\"./AllRenderPasses.js\";import{RenderPass as A,RenderPassSorting as d}from\"./RenderPass.js\";import{TwoVectorPosition as c}from\"../util/TwoVectorPosition.js\";import{union as T}from\"../../lib/depthRange.js\";import{RenderPass as u}from\"../../lib/RenderPass.js\";import{RenderSlot as R}from\"../../lib/RenderSlot.js\";class M{constructor(s,a){this.rctx=s,this.shaderTechniqueRepository=a,this.canRender=!0,this._materialPassParameters=new P,this._shadowPassParameters=new o,this._highlightPassParameters=new _,this._systems=new Set,this._passes={materialOpaque:new A(s,a),materialTransparent:new A(s,a,d.BackToFront),materialIntegratedMesh:new A(s,a),shadowMap:new A(s,a),highlight:new A(s,a),highlightIntegratedMesh:new A(s,a),highlightShadowMap:new A(s,a),defaultShadowMap:new A(s,a)}}register(s){this._systems.add(s)}prepareRender(s){if(0!==this._systems.size){for(const s of Object.values(this._passes))s.prepareSubmit();this._systems.forEach((a=>a.submit(this._passes,s.bindParameters)));for(const s of Object.values(this._passes))s.finishSubmit();this.shaderTechniqueRepository.frameUpdate()}}render(s){if(0!==this._systems.size)switch(this._configure(s),s.bindParameters.slot){case R.OPAQUE_MATERIAL:switch(s.pass){case u.MATERIAL:return this._materialPassParameters.subPass=p.Color,this._passes.materialOpaque.dispatch(this._materialPassParameters,s.bindParameters);case u.MATERIAL_DEPTH:return this._materialPassParameters.subPass=p.Depth,this._passes.materialOpaque.dispatch(this._materialPassParameters,s.bindParameters);case u.MATERIAL_NORMAL:return this._materialPassParameters.subPass=p.Normal,this._passes.materialOpaque.dispatch(this._materialPassParameters,s.bindParameters);case u.MATERIAL_HIGHLIGHT:return this._passes.highlight.dispatch(this._highlightPassParameters,s.bindParameters);case u.MATERIAL_DEPTH_SHADOWMAP_ALL:return this._passes.shadowMap.dispatch(this._shadowPassParameters,s.bindParameters);case u.MATERIAL_DEPTH_SHADOWMAP_HIGHLIGHT:return this._passes.highlightShadowMap.dispatch(this._shadowPassParameters,s.bindParameters);case u.MATERIAL_DEPTH_SHADOWMAP_DEFAULT:return this._passes.defaultShadowMap.dispatch(this._shadowPassParameters,s.bindParameters)}return;case R.TRANSPARENT_MATERIAL:switch(s.pass){case u.MATERIAL:return this._materialPassParameters.subPass=p.Color,this._passes.materialTransparent.dispatch(this._materialPassParameters,s.bindParameters);case u.MATERIAL_ALPHA:return this._materialPassParameters.subPass=p.Alpha,this._passes.materialTransparent.dispatch(this._materialPassParameters,s.bindParameters);case u.MATERIAL_DEPTH:return this._materialPassParameters.subPass=p.Depth,this._passes.materialTransparent.dispatch(this._materialPassParameters,s.bindParameters);case u.MATERIAL_NORMAL:return this._materialPassParameters.subPass=p.Normal,this._passes.materialTransparent.dispatch(this._materialPassParameters,s.bindParameters)}return;case R.INTEGRATED_MESH:switch(s.pass){case u.MATERIAL:return this._materialPassParameters.subPass=p.Color,this._passes.materialIntegratedMesh.dispatch(this._materialPassParameters,s.bindParameters);case u.MATERIAL_DEPTH:return this._materialPassParameters.subPass=p.Depth,this._passes.materialIntegratedMesh.dispatch(this._materialPassParameters,s.bindParameters);case u.MATERIAL_NORMAL:return this._materialPassParameters.subPass=p.Normal,this._passes.materialIntegratedMesh.dispatch(this._materialPassParameters,s.bindParameters);case u.MATERIAL_HIGHLIGHT:return this._passes.highlightIntegratedMesh.dispatch(this._highlightPassParameters,s.bindParameters)}return}}notifyDirty(){this._context.requestRender()}slots(){return[R.OPAQUE_MATERIAL,R.TRANSPARENT_MATERIAL,R.INTEGRATED_MESH]}initializeRenderContext(s){this._context=s}uninitializeRenderContext(){}queryDepthRange(a){const e={near:1/0,far:-1/0};return this._systems.forEach((t=>{const r=t.queryShadowCasterDepthRange(a);s(r)&&T(e,r,e)})),e}_configure(s){const a=s.pass===u.MATERIAL_DEPTH_SHADOWMAP_ALL||s.pass===u.MATERIAL_DEPTH_SHADOWMAP_HIGHLIGHT||s.pass===u.MATERIAL_DEPTH_SHADOWMAP_DEFAULT?this._shadowPassParameters:s.pass===u.MATERIAL_HIGHLIGHT?this._highlightPassParameters:this._materialPassParameters;this._updateParameters(s,a)}_updateParameters(s,r){const n=s.bindParameters.camera,P=n.viewInverseTransposeMatrix;h(E,P[3],P[7],P[11]),g.set(E),m(r.transformWorldFromViewTH,g.high),m(r.transformWorldFromViewTL,g.low),m(r.slicePlaneLocalOrigin,E),a(r.transformViewFromCameraRelativeRS,n.viewMatrix),i(r.transformProjFromView,n.projectionMatrix),r.identifier===l.Material&&(this._materialPassParameters.transparent=s.bindParameters.slot===R.TRANSPARENT_MATERIAL,this._materialPassParameters.integratedMesh=s.bindParameters.slot===R.INTEGRATED_MESH,e(I,r.transformViewFromCameraRelativeRS),t(r.transformNormalViewFromGlobal,I))}get needsHighlight(){return this._passes.highlight.count>0||this._passes.highlightIntegratedMesh.count>0}get needsTransparentPass(){return this._passes.materialTransparent.count>0}}const E=n(),I=r(),g=new c;export{M as RenderPassManager};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as i}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as t}from\"../lib/Program.js\";import{H as o}from\"../../../../chunks/HighlightApply.glsl.js\";import{BlendFactor as l}from\"../../../webgl/enums.js\";import{makePipelineState as s,separateBlendingParams as m,defaultColorWriteParams as n}from\"../../../webgl/renderState.js\";class a extends r{initializeProgram(e){const r=a.shader.get().build();return new t(e.rctx,r,i)}initializePipeline(){return s({blending:m(l.SRC_ALPHA,l.ONE,l.ONE_MINUS_SRC_ALPHA,l.ONE_MINUS_SRC_ALPHA),colorWrite:n})}}a.shader=new e(o,(()=>import(\"./HighlightApply.glsl.js\")));export{a as HighlightApplyTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as e}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as i}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as t}from\"../lib/Program.js\";import{a as o}from\"../../../../chunks/HighlightBlur.glsl.js\";import{makePipelineState as l,defaultColorWriteParams as s}from\"../../../webgl/renderState.js\";class a extends e{initializeProgram(r){const e=a.shader.get().build();return new t(r.rctx,e,i)}initializePipeline(){return l({colorWrite:s})}}a.shader=new r(o,(()=>import(\"./HighlightBlur.glsl.js\")));export{a as HighlightBlurTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as i}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as o}from\"../lib/Program.js\";import{a as t}from\"../../../../chunks/HighlightDownsample.glsl.js\";import{makePipelineState as s,defaultColorWriteParams as l}from\"../../../webgl/renderState.js\";class a extends r{initializeProgram(e){const r=a.shader.get().build();return new o(e.rctx,r,i)}initializePipeline(){return s({colorWrite:l})}}a.shader=new e(t,(()=>import(\"./HighlightDownsample.glsl.js\")));export{a as HighlightDownsampleTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{f as s}from\"../../../../chunks/vec4f32.js\";import{f as o}from\"../../../../chunks/vec4f64.js\";import{NoParameters as t}from\"../core/shaderModules/interfaces.js\";class c extends t{constructor(){super(...arguments),this.color=s(1,0,1,1),this.haloColor=s(1,0,1,1),this.haloOpacity=1,this.haloOpacityOccluded=.25,this.fillOpacity=.2,this.fillOpacityOccluded=.05,this.shadowColor=o(1,0,1,1),this.shadowOpacity=.15,this.occludedShadowOpacity=.075}}export{c as HighlightPassParameters};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{releaseMaybe as e,disposeMaybe as t,isSome as i}from\"../../../../core/maybe.js\";import{a as r}from\"../../../../chunks/vec2.js\";import{c as s}from\"../../../../chunks/vec4.js\";import{c as a}from\"../../../../chunks/vec4f64.js\";import{ShaderTechniqueConfiguration as o}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as h}from\"./DefaultVertexAttributeLocations.js\";import{Pos2Tex as l}from\"./DefaultVertexBufferLayouts.js\";import{createQuadVAO as p}from\"./glUtil3D.js\";import{HighlightApplyTechnique as u}from\"../shaders/HighlightApplyTechnique.js\";import{H as m}from\"../../../../chunks/HighlightBlur.glsl.js\";import{HighlightBlurTechnique as c}from\"../shaders/HighlightBlurTechnique.js\";import{H as n}from\"../../../../chunks/HighlightDownsample.glsl.js\";import{HighlightDownsampleTechnique as g}from\"../shaders/HighlightDownsampleTechnique.js\";import{HighlightPassParameters as d}from\"../shaders/HighlightPassParameters.js\";import{BufferObject as b}from\"../../../webgl/BufferObject.js\";import{TargetType as _,DepthStencilTargetType as w,TextureType as T,PixelFormat as v,PixelType as f,TextureSamplingMode as M,TextureWrapMode as q,ClearBufferBit as x,Usage as F,PrimitiveType as R}from\"../../../webgl/enums.js\";import{FramebufferObject as P}from\"../../../webgl/FramebufferObject.js\";import{vertexCount as y}from\"../../../webgl/Util.js\";import{VertexArrayObject as A}from\"../../../webgl/VertexArrayObject.js\";const D=32;class O{constructor(e,t){this._techniqueRep=e,this._rctx=t,this.viewportToRestore=a(),this._passParameters=new d,this._downsampleDrawParameters=new n,this._blurDrawParameters=new m,this._grid={coverageMipmap:null,vao:null,verticalCellCount:0,horizontalCellCount:0,cellPixelSize:0,mipmapLevels:0,viewportWidth:0,viewportHeight:0}}_assertResources(){if(this.quadVAO)return;this.quadVAO=p(this._rctx);const e={colorTarget:_.TEXTURE,depthStencilTarget:w.NONE,width:0,height:0},t={target:T.TEXTURE_2D,pixelFormat:v.RGBA,dataType:f.UNSIGNED_BYTE,samplingMode:M.LINEAR,wrapMode:q.CLAMP_TO_EDGE,width:0,height:0};this.blur0Fbo=new P(this._rctx,e,t),this.blur1Fbo=new P(this._rctx,e,t);const i=new o;this._blurTechnique=this._techniqueRep.acquire(c,i),this._downsampleTechnique=this._techniqueRep.acquire(g,i),this._applyTechnique=this._techniqueRep.acquire(u,i)}dispose(){if(this._blurTechnique=e(this._blurTechnique),this._downsampleTechnique=e(this._downsampleTechnique),this._applyTechnique=e(this._applyTechnique),this._grid.coverageMipmap)for(let e=1;e<this._grid.coverageMipmap.length;e++)this._grid.coverageMipmap[e].dispose();this._grid.vao&&this._grid.vao.dispose(!0),this.quadVAO&&(this.quadVAO.dispose(!0),this.quadVAO=null),this.blur0Fbo=t(this.blur0Fbo),this.blur1Fbo=t(this.blur1Fbo)}setDefaultOptions(e){this._passParameters={...new d,...e}}render(e,t,i){this._passParameters.highlightColorTexture=t.colorTexture,this._assertResources();const a=e.camera;s(this.viewportToRestore,a.fullViewport);const o=a.fullWidth,h=a.fullHeight,l=a.pixelRatio,p=Math.ceil(o/l),u=Math.ceil(h/l);this.blur0Fbo.resize(p,u),this.blur1Fbo.resize(p,u);const m=this._rctx;m.bindVAO(this.quadVAO);let c=null;this._gridUpdateResources(t,D),this._gridComputeMipmap(e),this._passParameters.coverageTexture=this._grid.coverageMipmap[this._grid.mipmapLevels].colorTexture,c=this._grid.vao;const n=m.bindTechnique(this._blurTechnique,this._passParameters,e);m.bindVAO(c),m.bindFramebuffer(this.blur0Fbo),m.setViewport(0,0,p,u),m.setClearColor(0,0,0,0),m.clear(x.COLOR_BUFFER_BIT),this._blurDrawParameters.blurInputTexture=t.colorTexture,r(this._blurDrawParameters.blurSize,1/p,0),n.bindDraw(this._blurDrawParameters,e),m.drawArrays(this._blurTechnique.primitiveType,0,y(c,\"geometry\")),m.bindFramebuffer(this.blur1Fbo),m.clear(x.COLOR_BUFFER_BIT),this._blurDrawParameters.blurInputTexture=this.blur0Fbo.colorTexture,r(this._blurDrawParameters.blurSize,0,1/u),n.bindDraw(this._blurDrawParameters,e),m.drawArrays(this._blurTechnique.primitiveType,0,y(c,\"geometry\")),m.bindFramebuffer(i),m.setViewport(this.viewportToRestore[0],this.viewportToRestore[1],this.viewportToRestore[2],this.viewportToRestore[3]),this._passParameters.blurColorTexture=this.blur1Fbo.colorTexture,m.bindTechnique(this._applyTechnique,this._passParameters,e),m.drawArrays(this._applyTechnique.primitiveType,0,y(c,\"geometry\")),m.bindVAO(null)}_gridUpdateResources(e,t){const i=this._rctx,r=this._grid;let s=!1;if(null===r.coverageMipmap&&(r.coverageMipmap=[e],s=!0),r.viewportWidth===e.width&&r.viewportHeight===e.height||(s=!0,r.viewportWidth=e.width,r.viewportHeight=e.height),r.coverageMipmap[0]=e,r.cellPixelSize!==t&&(r.cellPixelSize=t,s=!0),s){for(let e=1;e<r.coverageMipmap.length;e++)r.coverageMipmap[e].dispose();r.mipmapLevels=Math.ceil(Math.log(r.cellPixelSize)*Math.LOG2E),r.coverageMipmap.length=r.mipmapLevels+1;for(let e=0;e<r.mipmapLevels;e++){const t=r.coverageMipmap[e],s={target:T.TEXTURE_2D,pixelFormat:v.RGB,dataType:f.UNSIGNED_SHORT_5_6_5,samplingMode:M.LINEAR,wrapMode:q.CLAMP_TO_EDGE,width:Math.ceil(t.width/2),height:Math.ceil(t.height/2)},a={colorTarget:_.TEXTURE,depthStencilTarget:w.NONE,width:Math.ceil(t.width/2),height:Math.ceil(t.height/2)};r.coverageMipmap[e+1]=new P(i,a,s)}}const a=Math.ceil(e.height/r.cellPixelSize),o=Math.ceil(e.width/r.cellPixelSize);if(!r.vao||r.verticalCellCount!==a||r.horizontalCellCount!==o){r.verticalCellCount=a,r.horizontalCellCount=o;const e=a+1,t=o+1,s=1/a,p=1/o,u=6,m=4,c=new Float32Array(u*m*e*t);let n=0;for(let i=0;i<e;i++)for(let e=0;e<t;e++)c[n+0]=(e-.5)*p*2-1,c[n+1]=(i-.5)*s*2-1,c[n+2]=e*p,c[n+3]=i*s,c[n+4]=(e+.5)*p*2-1,c[n+5]=(i-.5)*s*2-1,c[n+6]=e*p,c[n+7]=i*s,c[n+8]=(e-.5)*p*2-1,c[n+9]=(i+.5)*s*2-1,c[n+10]=e*p,c[n+11]=i*s,c[n+12]=(e-.5)*p*2-1,c[n+13]=(i+.5)*s*2-1,c[n+14]=e*p,c[n+15]=i*s,c[n+16]=(e+.5)*p*2-1,c[n+17]=(i-.5)*s*2-1,c[n+18]=e*p,c[n+19]=i*s,c[n+20]=(e+.5)*p*2-1,c[n+21]=(i+.5)*s*2-1,c[n+22]=e*p,c[n+23]=i*s,n+=u*m;r.vao&&r.vao.dispose(!0),r.vao=new A(i,h,{geometry:l},{geometry:b.createVertex(i,F.STATIC_DRAW,c)})}}_gridComputeMipmap(e){const t=this._rctx,i=this._grid,s=t.bindTechnique(this._downsampleTechnique,this._passParameters,e);t.bindVAO(this.quadVAO);for(let a=0;a<i.mipmapLevels;a++){t.bindFramebuffer(i.coverageMipmap[a+1]);const o=i.coverageMipmap[a+1].width,h=i.coverageMipmap[a+1].height;this._downsampleDrawParameters.inputTexture=i.coverageMipmap[a].colorTexture,r(this._downsampleDrawParameters.invFramebufferDim,1/o,1/h),s.bindDraw(this._downsampleDrawParameters,e),t.setViewport(0,0,o,h),t.drawArrays(R.TRIANGLE_STRIP,0,y(this.quadVAO,\"geometry\"))}}get gpuMemoryUsage(){let e=(i(this.blur0Fbo)?this.blur0Fbo.gpuMemoryUsage:0)+(i(this.blur1Fbo)?this.blur1Fbo.gpuMemoryUsage:0);if(this._grid.coverageMipmap)for(const t of this._grid.coverageMipmap)e+=t.gpuMemoryUsage;return e}get test(){return{coverage:this._grid.coverageMipmap,blur:[this.blur0Fbo,this.blur1Fbo]}}}export{O as Highlight};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{generateUID as t}from\"../../../../core/uid.js\";import{PixelType as r,PixelFormat as i,TextureType as s,TextureSamplingMode as h,TextureWrapMode as o,RenderbufferFormat as d,TargetType as a,DepthStencilTargetType as u}from\"../../../webgl/enums.js\";import{FramebufferObject as p}from\"../../../webgl/FramebufferObject.js\";import{Renderbuffer as c}from\"../../../webgl/Renderbuffer.js\";import{Texture as T}from\"../../../webgl/Texture.js\";import{getGpuMemoryUsage as f}from\"../../../webgl/Util.js\";const l={dataType:r.UNSIGNED_BYTE,internalFormat:i.RGBA},g={};class n{constructor(e){this.rctx=e,this._activeTargets=new Set,this._depthTextures=new Map,this._depthBuffers=new Map,this._colorTextures=new Map,this._framebuffers=new Map,this.depthTextureSupported=e.capabilities.depthTexture}dispose(){this._depthBuffers.forEach((e=>e.dispose())),this._depthBuffers.clear(),this._depthTextures.forEach((e=>e.dispose())),this._depthTextures.clear(),this._colorTextures.forEach((e=>e.dispose())),this._colorTextures.clear(),this._framebuffers.forEach((e=>e.dispose())),this._framebuffers.clear(),this._activeTargets.clear()}disposeTargetResource(e){const t=e.id;this._activeTargets.has(t)&&(this._activeTargets.delete(t),this._disposeWithFramebuffers(this._depthTextures,t),this._disposeWithFramebuffers(this._depthBuffers,t),this._disposeWithFramebuffers(this._colorTextures,t))}_disposeWithFramebuffers(e,t){const r=e.get(t);r&&(this._framebuffers.forEach(((e,t)=>{e.colorAttachment!==r&&e.depthStencilAttachment!==r||(e.detachAll(),e.dispose(),this._framebuffers.delete(t))})),r.dispose(),e.delete(t))}getDepthTexture(e,t){if(!this.depthTextureSupported)return null;let d=this._depthTextures.get(e.id);return!d||d.descriptor.width===t.width&&d.descriptor.height===t.height||(d.dispose(),d=null),d||(d=new T(this.rctx,{target:s.TEXTURE_2D,pixelFormat:i.DEPTH_STENCIL,dataType:r.UNSIGNED_INT_24_8,samplingMode:h.NEAREST,wrapMode:o.CLAMP_TO_EDGE,width:t.width,height:t.height}),this._depthTextures.set(e.id,d),this._activeTargets.add(e.id)),d}getAllocatedDepthTexture(e){return this._depthTextures.get(e.id)}getDepthBuffer(e,t){if(this.depthTextureSupported)return null;let r=this._depthBuffers.get(e.id);return r?r.descriptor.width===t.width&&r.descriptor.height===t.height||r.resize(t.width,t.height):(r=new c(this.rctx,{internalFormat:d.DEPTH_STENCIL,...t}),this._depthBuffers.set(e.id,r),this._activeTargets.add(e.id)),r}getColorTexture(e,t){let r=this._colorTextures.get(e.id);return r&&(r.descriptor.width===t.width&&r.descriptor.height===t.height||(r.dispose(),r=null)),r||(r=new T(this.rctx,{target:s.TEXTURE_2D,pixelFormat:i.RGBA,internalFormat:e.internalFormat,dataType:e.dataType,samplingMode:null!=e.samplingMode?e.samplingMode:h.LINEAR,wrapMode:o.CLAMP_TO_EDGE,width:t.width,height:t.height}),this._colorTextures.set(e.id,r),this._activeTargets.add(e.id)),r}getAllocatedColorTexture(e){return this._colorTextures.get(e.id)}registerDepthTarget(e={}){return{id:t(),...g,...e}}registerColorTarget(e={}){return{id:t(),...l,...e}}getFramebuffer(t,r,i){const s=this._getKey(r,i);let h=this._framebuffers.get(s);const o=this.getColorTexture(r,t);if(this.depthTextureSupported){const r=i?this.getDepthTexture(i,t):void 0;if(!h)return h=e(i)?new p(this.rctx,{colorTarget:a.TEXTURE,depthStencilTarget:u.DEPTH_STENCIL_TEXTURE},o,r):new p(this.rctx,{colorTarget:a.TEXTURE,depthStencilTarget:u.NONE},o),this._framebuffers.set(s,h),h;return(h.width!==t.width||h.height!==t.height||h.colorTexture!==o||h.depthStencilTexture!==r)&&(h.detachAll(),h.resize(t.width,t.height),h.attachColorTexture(o),h.attachDepthStencilTexture(r)),h}const d=i?this.getDepthBuffer(i,t):void 0;if(!h)return h=new p(this.rctx,{colorTarget:a.TEXTURE,depthStencilTarget:i?u.DEPTH_STENCIL_RENDER_BUFFER:u.NONE},o,d),this._framebuffers.set(s,h),h;return(h.width!==t.width||h.height!==t.height||h.colorTexture!==o)&&(h.detachAll(),h.resize(t.width,t.height),h.attachColorTexture(o),h.attachDepthStencilBuffer(d)),h}_getKey(e,t){return`${e.id}_${t?t.id:\"X\"}_${e.name}${t?\"_\"+t.name:\"\"}`}get gpuMemoryUsage(){let e=0;const t=new Set,r=r=>{t.has(r)||(t.add(r),e+=f(r))};return this._depthTextures.forEach(r),this._colorTextures.forEach(r),this._depthBuffers.forEach(r),e}}export{n as RenderTargetHelper};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{TransparencyPassType as t}from\"./basicInterfaces.js\";import{RenderTargetHelper as r}from\"./RenderTargetHelper.js\";import{AlphaMode as i,CompositingFunction as o}from\"../shaders/CompositingTechniqueConfiguration.js\";import{ContextType as s}from\"../../../webgl/context-util.js\";import{PixelType as a,SizedPixelFormat as h,PixelFormat as n,TextureSamplingMode as l,ClearBufferBit as g}from\"../../../webgl/enums.js\";class T{constructor(e,t){this._rctx=e,this._compositingHelper=t,this._mainColorTarget=0,this._dimensions={width:4,height:4},this._needLastFrameColorTexture=!1,this._background={type:\"color\",color:[0,0,0,1]};const i=e.type===s.WEBGL2;this._renderTargetHelper=new r(e);const o=this._renderTargetHelper;this.mainColorTargets=[o.registerColorTarget({name:\"mainColorTarget0\"}),o.registerColorTarget({name:\"mainColorTarget1\"})],this.frontFaceTarget=o.registerColorTarget({name:\"frontFaceTarget\"});const g=e=>o.registerColorTarget({name:e,dataType:a.FLOAT,internalFormat:i?h.RGBA32F:n.RGBA,samplingMode:l.NEAREST});this.colorFloatTarget=g(\"colorFloatTarget\"),this.alphaFloatTarget=g(\"alphaFloatTarget\"),this.mainDepth=o.registerDepthTarget({name:\"mainDepth\"}),this.linearDepth=o.registerColorTarget({name:\"linearDepth\",samplingMode:l.NEAREST}),this.terrainLinearDepth=o.registerColorTarget({name:\"terrainLinearDepth\"}),this.geometryLinearDepth=o.registerColorTarget({name:\"geometryLinearDepth\"}),this.normal=o.registerColorTarget({name:\"normal\"}),this.highlight=o.registerColorTarget({name:\"highlight\",internalFormat:i?h.RGBA4:n.RGBA,dataType:a.UNSIGNED_SHORT_4_4_4_4}),this.hudVisibility=o.registerColorTarget({name:\"hudVisibility\",internalFormat:i?h.RGBA4:n.RGBA,dataType:a.UNSIGNED_SHORT_4_4_4_4}),this.tmpColor=o.registerColorTarget({name:\"tmpColor\"}),this.tmpDepth=o.registerDepthTarget({name:\"tmpDepth\"}),this.hudColor=o.registerColorTarget({name:\"hudColor\"})}dispose(){this._renderTargetHelper.dispose()}get width(){return this._dimensions.width}get height(){return this._dimensions.height}set background(e){this._background=e}get background(){return this._background}get currentColorTarget(){return this.mainColorTargets[this._mainColorTarget]}get previousColorTarget(){return this.mainColorTargets[1-this._mainColorTarget]}get framebuffer(){return this.getFramebuffer(this.currentColorTarget,this.mainDepth)}getFramebuffer(e,t){return this._renderTargetHelper.getFramebuffer(this._dimensions,e,t)}get colorTexture(){return this._renderTargetHelper.getAllocatedColorTexture(this.currentColorTarget)}get depthTexture(){return this._renderTargetHelper.getAllocatedDepthTexture(this.mainDepth)}get linearDepthTexture(){return this._renderTargetHelper.getAllocatedColorTexture(this.linearDepth)}get terrainLinearDepthTexture(){return this._renderTargetHelper.getAllocatedColorTexture(this.terrainLinearDepth)}get geometryLinearDepthTexture(){return this._renderTargetHelper.getAllocatedColorTexture(this.geometryLinearDepth)}get lastFrameColorTexture(){return this._renderTargetHelper.getAllocatedColorTexture(this.previousColorTarget)}get normalTexture(){return this._renderTargetHelper.getAllocatedColorTexture(this.normal)}get highlightTexture(){return this._renderTargetHelper.getAllocatedColorTexture(this.highlight)}get hudVisibilityTexture(){return this._getColorTexture(this.hudVisibility)}get tmpColorTexture(){return this._getColorTexture(this.tmpColor)}get hudColorTexture(){return this._getColorTexture(this.hudColor)}get mainColorTexture(){return this._getColorTexture(this.currentColorTarget)}advanceCurrentRenderTarget(){this._mainColorTarget=0===this._mainColorTarget&&this._needLastFrameColorTexture?1:0}initializeFrame(e){const t=this._rctx;this._dimensions.width=e.fullWidth,this._dimensions.height=e.fullHeight,this.bindTarget(this.currentColorTarget,this.mainDepth),t.setClearStencil(0);const r=this._background.color;t.setClearColor(r[0]*r[3],r[1]*r[3],r[2]*r[3],r[3]),t.clearSafe(g.COLOR_BUFFER_BIT|g.DEPTH_BUFFER_BIT|g.STENCIL_BUFFER_BIT)}composite(t){e(this.colorTexture)&&this._compositingHelper.composite(t,this.colorTexture,i.None)}renderTmpAndCompositeToMain(e,t,r,i=!1){this.renderToTargets(e,this.tmpColor,i?this.tmpDepth:this.mainDepth,m),this._compositingHelper.composite(t,this._getColorTexture(this.tmpColor),r)}renderHUDVisibility(e,t=!1){this.renderToTargets(e,this.hudVisibility,t?this.tmpDepth:this.mainDepth,p)}compositeTransparentTerrainOntoHUDVisibility(e){this.renderToTargets((()=>this._compositingHelper.composite(e,this._getColorTexture(this.tmpColor),i.None,1,o.TransparentToHUDVisibility)),this.hudVisibility,this.tmpDepth)}renderOITPass(e,r,i){let o,s;switch(r){case t.Color:o=this.colorFloatTarget,s=[0,0,0,0];break;case t.Alpha:o=this.alphaFloatTarget,s=[1,1,1,1];break;case t.FrontFace:o=this.frontFaceTarget,s=[0,0,0,0]}i?this.renderToTargets(e,o,this.tmpDepth,s,!0,!0):this.renderToTargets(e,o,this.mainDepth,s,!1)}compositeTransparentTerrainOntoMain(e){this.bindFramebuffer(),this._compositingHelper.composite(e,this._getColorTexture(this.tmpColor),i.PremultipliedAlpha)}compositeOccludedOntoMain(e,t){this.bindFramebuffer(),this._compositingHelper.composite(e,this._getColorTexture(this.tmpColor),i.PremultipliedAlpha,t)}compositeTransparentOntoOpaque(e,t){t?(this.bindTarget(this.hudColor,this.tmpDepth),this._rctx.setClearColor(0,0,0,1e-13),this._rctx.clearSafe(g.COLOR_BUFFER_BIT)):this.bindFramebuffer(),this._compositingHelper.compositeTransparent(e,this._getColorTexture(this.colorFloatTarget),this._getColorTexture(this.alphaFloatTarget),this._getColorTexture(this.frontFaceTarget))}bindFramebuffer(){this._rctx.bindFramebuffer(this.framebuffer)}renderDepthDetached(e){this.bindTarget(this.currentColorTarget),e(),this.bindTarget(this.currentColorTarget,this.mainDepth)}disposeTarget(e){this._renderTargetHelper.disposeTargetResource(e)}set needLastFrameColorTexture(e){!e&&this._needLastFrameColorTexture&&(this._mainColorTarget=0,this.disposeTarget(this.mainColorTargets[1])),this._needLastFrameColorTexture=e}get needLastFrameColorTexture(){return this._needLastFrameColorTexture}renderToTargets(e,t,r,i,o=!1,s=!1){const a=this._rctx,h=this.bindTarget(t,r);let n=0;if(i){const e=1e-13,t=Math.max(e,i[3]);a.setClearColor(i[0],i[1],i[2],t),n|=g.COLOR_BUFFER_BIT}return o&&(n|=g.DEPTH_BUFFER_BIT),!1===s?s=0:(!0===s&&(s=255),n|=g.STENCIL_BUFFER_BIT),n&&a.clearSafe(n,s),e(),a.gl.flush(),this.bindTarget(this.currentColorTarget,this.mainDepth),h}bindTarget(e,t){const r=this._renderTargetHelper.getFramebuffer(this._dimensions,e,t);return this._rctx.bindFramebuffer(r),r}_getColorTexture(e){return this._renderTargetHelper.getColorTexture(e,this._dimensions)}get gpuMemoryUsage(){let e=0;return this._renderTargetHelper&&(e+=this._renderTargetHelper.gpuMemoryUsage),e}}const m=[0,0,0,0],p=[0,1,0,1];export{T as OffscreenRendering};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/PooledArray.js\";import{isPromiseLike as t,createAbortError as r}from\"../../../../core/promiseUtils.js\";import{union as n}from\"./depthRange.js\";import{RenderSlot as s}from\"./RenderSlot.js\";class i{constructor(t){this.context=t,this._renderPlugins=new e,this.slots=[];for(let e=0;e<s.MAX_SLOTS;++e)this.slots[e]=[]}add(e,n,s){const i=()=>{if(s?.aborted)throw n.uninitializeRenderContext(),r();this._renderPlugins.push(n);for(const t of e)this.slots[t].push(n);this.context.requestRender()},o=n.initializeRenderContext(this.context,s);if(t(o))return o.then(i);i()}remove(e){if(null!=this._renderPlugins.removeUnordered(e)){for(let t=0;t<this.slots.length;++t)this.slots[t]=this.slots[t].filter((t=>t!==e));e.uninitializeRenderContext(),this.context.requestRender()}}prepareRender(){this._renderPlugins.forAll((e=>{e.prepareRender&&e.prepareRender(this.context.renderContext)}))}updateAnimation(e){let t=!1;return this._renderPlugins.forAll((r=>{r.updateAnimation&&(t=r.updateAnimation(e)||t)})),t}render(){const e=this.slots[this.context.renderContext.bindParameters.slot],t=new Array;e.filter((e=>{if(!e.canRender)return!1;if(o(e)){const r=e.prepareTechnique(this.context.renderContext);return!!r&&(t.push(r),!0)}return t.push(null),!0})).forEach(((e,r)=>e.render(this.context.renderContext,t[r])))}queryDepthRange(e){const t=d;return t.near=1/0,t.far=-1/0,this._renderPlugins.forAll((r=>{if(r.queryDepthRange){const s=r.queryDepthRange(e);s&&n(t,s,t)}})),t}get needsTransparentPass(){return this._renderPlugins.some((e=>e.needsTransparentPass))}get needsHighlight(){return this._renderPlugins.some((e=>e.needsHighlight))}get needsLinearDepth(){return this._renderPlugins.some((e=>e.needsLinearDepth))}get needsLaserlineWithContrastControl(){const e=this.slots[s.LASERLINES_CONTRAST_CONTROL];return!!e&&e.length>0}get renderOccludedFlags(){return this._renderPlugins.reduce(((e,t)=>e|t.renderOccludedFlags),0)}}function o(e){return\"prepareTechnique\"in e}const d={near:0,far:0};export{i as RenderPluginManager};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as t}from\"../lib/DefaultVertexAttributeLocations.js\";import{blendingDefault as i}from\"../lib/OrderIndependentTransparency.js\";import{Program as o}from\"../lib/Program.js\";import{S as s}from\"../../../../chunks/ShadowCastVisualize.glsl.js\";import{PrimitiveType as n}from\"../../../webgl/enums.js\";import{makePipelineState as a,defaultColorWriteParams as l}from\"../../../webgl/renderState.js\";class m extends r{constructor(e,r){super(e,r,(()=>this.destroy()))}initializeProgram(e){const r=m.shader.get().build(this.configuration);return new o(e.rctx,r,t)}initializePipeline(){return a({blending:i,colorWrite:l,depthTest:null,depthWrite:null})}get primitiveType(){return n.TRIANGLE_STRIP}}m.shader=new e(s,(()=>import(\"./ShadowCastVisualize.glsl.js\")));export{m as ShadowCastVisualizeTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{disposeMaybe as s}from\"../../../../core/maybe.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{g as a,c as o}from\"../../../../chunks/vec4.js\";import{f as n}from\"../../../../chunks/vec4f64.js\";import{createQuadVAO as h}from\"./glUtil3D.js\";import{ShadowCastVisualizeTechnique as u}from\"../shaders/ShadowCastVisualizeTechnique.js\";import{ShadowCastVisualizeTechniqueConfiguration as _,ShadowCastVisualization as l}from\"../shaders/ShadowCastVisualizeTechniqueConfiguration.js\";import{vertexCount as d}from\"../../../webgl/Util.js\";const c=n(.01,0,.25,1),p=4e4,m=5e4,b=1/512;let q=class extends t{constructor(e,t,s,i){super({}),this._techniqueRepository=e,this._rctx=t,this._shadowAccumulator=s,this._requestRender=i,this._passParameters={shadowCastMap:this._shadowCastTexture,sampleScale:0,color:c,threshold:.5,bandSize:.1,opacityFromElevation:1,__tagStrict:\"NoParameters\"},this._techniqueConfig=new _,this._enabled=!1,this._vao=h(t),this._techniqueConfig.visualization=l.Gradient}normalizeCtorArgs(){return{}}dispose(){this._stop(),this._vao=s(this._vao),this._techniqueRepository.release(this._technique),this._technique=null,this._shadowAccumulator=null}get visualizeShadowCastTechnique(){return this._technique=this._techniqueRepository.releaseAndAcquire(u,this._techniqueConfig,this._technique),this._technique}render(e){if(!this._isRenderingVisualization)return;this._passParameters.sampleScale=1/this._computedSamples;const t=this.visualizeShadowCastTechnique;this._rctx.bindVAO(this._vao),this._rctx.bindTechnique(t,this._passParameters,e),this._rctx.drawArrays(t.primitiveType,0,d(this._vao,\"geometry\"))}setOptions(e){void 0!==e.enabled&&this._setEnabled(e.enabled),void 0!==e.color&&this._setColor(e.color),void 0!==e.threshold&&(this._threshold=e.threshold),void 0!==e.visualization&&(this._visualization=e.visualization),void 0!==e.bandSize&&(this._bandSize=e.bandSize),void 0!==e.bandsEnabled&&(this._bandsEnabled=e.bandsEnabled)}get opacityFromElevation(){return this._passParameters.opacityFromElevation}set opacityFromElevation(e){this._passParameters.opacityFromElevation!==e&&(this._passParameters.opacityFromElevation=e,this.notifyChange(\"opacityFromElevation\"))}get _isRenderingVisualization(){return this._enabled&&this._computedSamples>0&&this.opacityFromElevation>b}get _computedSamples(){return this._shadowAccumulator.computedSamples}get _shadowCastTexture(){return this._shadowAccumulator.shadowCastTexture}get _threshold(){return this._passParameters.threshold}set _threshold(e){this._threshold!==e&&(this._passParameters.threshold=e,this._requestRenderIfRunning())}get _visualization(){return this._techniqueConfig.visualization}set _visualization(e){e!==this._visualization&&(this._techniqueConfig.visualization=e,this._techniqueRepository.release(this._technique),this._technique=null,this._requestRenderIfRunning())}get _bandSize(){return this._passParameters.bandSize}set _bandSize(e){e!==this._bandSize&&(this._passParameters.bandSize=e,this._requestRenderIfRunning())}get _bandsEnabled(){return this._techniqueConfig.bandsEnabled}set _bandsEnabled(e){e!==this._bandsEnabled&&(this._techniqueConfig.bandsEnabled=e,this._techniqueRepository.release(this._technique),this._technique=null,this._requestRenderIfRunning())}_setColor(e){const t=this._passParameters.color;a(e,t)||(o(this._passParameters.color,e),this._requestRenderIfRunning())}_setEnabled(e){e!==this._enabled&&(e?this._start():this._stop())}_requestRenderIfRunning(){this._enabled&&this._requestRender()}_start(){this._enabled=!0,this._requestRender()}_stop(){this._enabled=!1,this._requestRender()}};e([i()],q.prototype,\"opacityFromElevation\",null),q=e([r(\"esri.views.3d.webgl-engine.lib.ShadowCastRenderer\")],q);export{q as ShadowCastRenderer,m as shadowCastDisableElevationMax,p as shadowCastDisableElevationMin,b as shadowCastDisabledElevationThreshold};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as t}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as i}from\"../lib/Program.js\";import{a as o}from\"../../../../chunks/ShadowCastAccumulate.glsl.js\";import{BlendFactor as s,PrimitiveType as l}from\"../../../webgl/enums.js\";import{makePipelineState as a,separateBlendingParams as n,defaultColorWriteParams as m}from\"../../../webgl/renderState.js\";class u extends r{constructor(e,r){super(e,r,(()=>this.destroy()))}initializeProgram(e){const r=u.shader.get().build();return new i(e.rctx,r,t)}initializePipeline(){return a({blending:n(s.ONE,s.ONE,s.ONE,s.ONE),colorWrite:m,depthTest:null,depthWrite:null})}get primitiveType(){return l.TRIANGLE_STRIP}}u.shader=new e(o,(()=>import(\"./ShadowCastAccumulate.glsl.js\")));export{u as ShadowCastAccumulateTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{equals as i}from\"../../../../core/arrayUtils.js\";import r from\"../../../../core/Handles.js\";import{smoothstep as s}from\"../../../../core/mathUtils.js\";import{isNone as o,disposeMaybe as a,releaseMaybe as n}from\"../../../../core/maybe.js\";import{watch as h,syncAndInitial as c}from\"../../../../core/reactiveUtils.js\";import{property as _}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as u}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{z as l,c as m}from\"../../../../chunks/vec3.js\";import{c as p}from\"../../../../chunks/vec3f64.js\";import{ShaderTechniqueConfiguration as d}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{BindParameters as g}from\"./BindParameters.js\";import{Camera as f}from\"./Camera.js\";import{ZERO as w}from\"./depthRange.js\";import{createQuadVAO as v}from\"./glUtil3D.js\";import{ShadowCastRenderer as b,shadowCastDisabledElevationThreshold as A,shadowCastDisableElevationMax as y,shadowCastDisableElevationMin as R}from\"./ShadowCastRenderer.js\";import{ShadowMap as T}from\"./ShadowMap.js\";import{S,s as D}from\"../../../../chunks/ShadowCastAccumulate.glsl.js\";import{ShadowCastAccumulateTechnique as j}from\"../shaders/ShadowCastAccumulateTechnique.js\";import{TaskPriority as C}from\"../../../support/Scheduler.js\";import{TargetType as F,DepthStencilTargetType as E,TextureType as P,PixelFormat as q,PixelType as x,TextureSamplingMode as M,TextureWrapMode as U,ClearBufferBit as O}from\"../../../webgl/enums.js\";import{FramebufferObject as L}from\"../../../webgl/FramebufferObject.js\";import{vertexCount as B}from\"../../../webgl/Util.js\";var I;let N=I=class extends t{constructor(e,t,i,s,a,n){super({}),this._rctx=e,this._stage=i,this._prepareForShadowMapPass=s,this._renderToShadowMap=a,this._requestRender=n,this._progress=0,this._sampleCount=0,this._passParameters=new S,this._enabled=!1,this._cachedLightDirections=[],this._depthRange=w,this._previewing=!1,this._handles=new r,this._cameraForcedForScreenshot=!1,this._bindParameters=new g(new T(e,i.viewingMode),null,null),this._bindParameters.shadowMap.enabled=!0,this._bindParameters.camera=new f,this._vao=v(e);const _={colorTarget:F.TEXTURE,depthStencilTarget:E.NONE,width:0,height:0},u={target:P.TEXTURE_2D,pixelFormat:q.RGBA,dataType:x.UNSIGNED_BYTE,samplingMode:M.LINEAR,wrapMode:U.CLAMP_TO_EDGE,width:0,height:0};this._fbo=new L(e,_,u),this._accumulationRenderer=new b(t,e,this,n);const l=this._stage.resourceController.scheduler;this._handles.add(l.registerTask(C.SHADOW_ACCUMULATOR,this)),this._handles.add(h((()=>i.renderView),(e=>{this._handles.remove(I.renderViewHandleKey),o(e)||this._handles.add(e.events.on(\"force-camera-for-screenshot\",(()=>this._cameraForcedForScreenshot=!0)),I.renderViewHandleKey)}),c))}normalizeCtorArgs(){return{}}get computedSamples(){return this._progress}get shadowCastTexture(){return this._fbo.colorTexture}get isAccumulating(){return this._isPreviewing||this._isRefining}get accumulationTechnique(){if(o(this._accumulationTechnique)){const e={rctx:this._rctx,viewingMode:this._stage.viewingMode};this._accumulationTechnique=new j(e,new d)}return this._accumulationTechnique}get _isRefining(){return this._isActive&&!this._isDoneAccumulating&&!this._previewing}get _isPreviewing(){return this._isActive&&this._previewing}get _isActive(){return this._enabled&&this._sampleCount>0}get canAccumulate(){return null!==this._passParameters.linearDepthTexture&&this._depthRange!==w&&this._opacityFromElevation>A}get _isDoneAccumulating(){return this._progress>=this._sampleCount}get _lightDirections(){return this._cachedLightDirections}set _lightDirections(e){const t=this._cachedLightDirections;if(i(t,e,l))return;const r=e.length;t.length=r,this._sampleCount=Math.min(D,r);for(let i=0;i<r;++i){const r=e[i],s=t[i]||p();m(s,r),t[i]=s}this._invalidate()}get _opacityFromElevation(){return this._accumulationRenderer.opacityFromElevation}set _opacityFromElevation(e){this._accumulationRenderer.opacityFromElevation=e}get running(){return this._isRefining&&this.canAccumulate&&this._progress>0}runTask(e){for(this._prepareForShadowMapPass(this._bindParameters);!e.done&&!this._isDoneAccumulating;)this._accumulateShadow(),e.madeProgress();this._requestRender()}renderAccumulation(e,t,i,r){if(this._passParameters.linearDepthTexture=e,this._depthRange=t,this._updateCamera(i),this._bindParameters.contentCamera=r,this.notifyChange(\"canAccumulate\"),!this.isAccumulating||!this.canAccumulate)return;(this._previewing||0===this._progress||this._cameraForcedForScreenshot)&&this._clear();const s=this._cameraForcedForScreenshot?this._sampleCount:Math.min(I.previewSamples,this._sampleCount-this._progress);for(let o=0;o<s;++o)this._accumulateShadow();this._cameraForcedForScreenshot=!1}render(e){this._accumulationRenderer.render(e)}dispose(){this._stop(),this._handles.destroy(),this._accumulationRenderer=a(this._accumulationRenderer),this._bindParameters.shadowMap.dispose(),this._fbo=a(this._fbo),this._vao=a(this._vao),this._accumulationTechnique=n(this._accumulationTechnique),this._cachedLightDirections.length=0,this._sampleCount=0}setOptions(e){void 0!==e.enabled&&(this.enabled=e.enabled),void 0!==e.previewing&&(this.previewing=e.previewing),void 0!==e.lightDirections&&(this.lightDirections=e.lightDirections),this._accumulationRenderer.setOptions(e)}set previewing(e){this._previewing!==e&&(this._previewing=e,this._requestRenderIfEnabled())}set lightDirections(e){this._lightDirections=e}readAccumulatedShadow(e,t){if(!this._isActive||this._progress<1||e<0||e>this._fbo.width||t<0||t>this._fbo.height)return 0;const i=k;return this._fbo.readPixels(e,t,1,1,q.RGBA,x.UNSIGNED_BYTE,i),i[0]/this._progress}_start(){this._progress=0,this._enabled=!0}_stop(){this._enabled=!1}_invalidate(){this._progress=0,this._requestRenderIfEnabled()}_clear(){this._rctx.bindFramebuffer(this._fbo),this._rctx.setClearColor(0,0,0,0),this._rctx.clearSafe(O.COLOR_BUFFER_BIT),this._progress=0}_accumulateShadow(){const e=this._lightDirections[this._progress];this._renderToShadowMap(this._bindParameters,e,this._depthRange),this._passParameters.origin=this._bindParameters.camera.center,this._rctx.bindFramebuffer(this._fbo);const t=this.accumulationTechnique;this._rctx.bindTechnique(t,this._passParameters,this._bindParameters),this._rctx.bindVAO(this._vao),this._rctx.drawArrays(t.primitiveType,0,B(this._vao,\"geometry\")),this._progress++}_updateCamera(e){e.equals(this._bindParameters.camera)||(this._bindParameters.camera.copyFrom(e),this._fbo.resize(e.fullWidth,e.fullHeight),this._opacityFromElevation=1-s(R,y,e.relativeElevation))}set enabled(e){e!==this._enabled&&(e?this._start():this._stop())}_requestRenderIfEnabled(){this._enabled&&this._requestRender()}get test(){const e=this;return{lightDirections:this._lightDirections,get isDone(){return e._isDoneAccumulating},get isActive(){return e._isActive}}}};N.previewSamples=6,N.renderViewHandleKey=\"renderView\",e([_()],N.prototype,\"_progress\",void 0),e([_()],N.prototype,\"_sampleCount\",void 0),e([_()],N.prototype,\"_enabled\",void 0),e([_()],N.prototype,\"_depthRange\",void 0),e([_()],N.prototype,\"_previewing\",void 0),e([_()],N.prototype,\"_accumulationRenderer\",void 0),e([_()],N.prototype,\"_isRefining\",null),e([_()],N.prototype,\"_isActive\",null),e([_()],N.prototype,\"canAccumulate\",null),e([_()],N.prototype,\"_isDoneAccumulating\",null),e([_()],N.prototype,\"_opacityFromElevation\",null),e([_()],N.prototype,\"running\",null),N=I=e([u(\"esri.views.3d.webgl-engine.lib.ShadowAccumulator\")],N);const k=new Uint8Array(4);export{N as ShadowAccumulator};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{f as e}from\"../../../../chunks/vec4f64.js\";import{NoParameters as r}from\"../core/shaderModules/interfaces.js\";import{ReloadableShaderModule as t}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as i}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as o}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as s}from\"../lib/Program.js\";import{S as a}from\"../../../../chunks/ShadowHighlight.glsl.js\";import{BlendFactor as l,PrimitiveType as h}from\"../../../webgl/enums.js\";import{makePipelineState as n,separateBlendingParams as d,defaultColorWriteParams as c}from\"../../../webgl/renderState.js\";class m extends r{constructor(){super(...arguments),this.shadowColor=e(1,0,1,1),this.shadowOpacity=.2,this.occludedShadowOpacity=.1,this.opacityElevation=1,this.dayNightTerminator=1}}class u extends i{constructor(e){super(e,null,(()=>this.destroy()))}initializeProgram(e){const r=u.shader.get().build();return new s(e.rctx,r,o)}initializePipeline(){return n({blending:d(l.SRC_ALPHA,l.ONE,l.ONE_MINUS_SRC_ALPHA,l.ONE_MINUS_SRC_ALPHA),colorWrite:c,depthTest:null,depthWrite:null})}get primitiveType(){return h.TRIANGLE_STRIP}}u.shader=new t(a,(()=>import(\"./ShadowHighlight.glsl.js\")));export{m as ShadowHighlightPassParameters,u as ShadowHighlightTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{smoothstep as t,clamp as s}from\"../../../../core/mathUtils.js\";import{isNone as e,disposeMaybe as i,releaseMaybe as a}from\"../../../../core/maybe.js\";import{n as r,s as h,e as o}from\"../../../../chunks/vec3.js\";import{c}from\"../../../../chunks/vec3f64.js\";import{ViewingMode as n}from\"../../../ViewingMode.js\";import{ReadShadowMapBindParameters as m}from\"../core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{createQuadVAO as p}from\"./glUtil3D.js\";import{ShadowHighlightPassParameters as _,ShadowHighlightTechnique as d}from\"../shaders/ShadowHighlightTechnique.js\";import{vertexCount as u}from\"../../../webgl/Util.js\";const l=.001953125,g=4e4,w=5e4;class v{constructor(t,s){this._rctx=t,this._viewingMode=s,this._maxOpacity=1,this._passParameters=new _,this._drawParameters=new m,this._vao=p(this._rctx)}get technique(){return e(this._technique)&&(this._technique=new d({rctx:this._rctx,viewingMode:this._viewingMode})),this._technique}render(t,s){if(!t.shadowMap.enabled||!t.linearDepthTexture||!this.isVisible)return;const e=this.technique;this._drawParameters.origin=t.camera.center,this._rctx.bindFramebuffer(s),this._rctx.bindTechnique(e,this._passParameters,t).bindDraw(this._drawParameters,t),this._rctx.bindVAO(this._vao),this._rctx.drawArrays(e.primitiveType,0,u(this._vao,\"geometry\"))}get gpuMemoryUsage(){return this._vao?.size??0}setDefaultOptions(t){this._passParameters={...this._passParameters,...t},this._updateMaxOpacity()}updateParameters(e,i){this._passParameters.opacityElevation=1-t(g,w,e.relativeElevation);const a=this._viewingMode===n.Global?r(y,e.center):h(y,0,0,1),c=o(a,i);this._passParameters.dayNightTerminator=t(0,1,s(30*c,0,1))}dispose(){this._vao=i(this._vao),this._technique=a(this._technique)}get isVisible(){const{opacityElevation:t,dayNightTerminator:s}=this._passParameters;return this._maxOpacity*t*s>=l}_updateMaxOpacity(){const t=Math.max(this._passParameters.shadowOpacity,this._passParameters.occludedShadowOpacity);this._maxOpacity=t*this._passParameters.shadowColor[3]}}const y=c();export{v as ShadowHighlight};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{c as e,d as s,a}from\"../../../../chunks/boundedPlane.js\";const t=e();class n{constructor(){this._plane=e()}get isEnabled(){return!s(this.plane,t)}get plane(){return this._plane}set plane(e){a(e||t,this._plane)}}export{n as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as i}from\"./DefaultVertexAttributeLocations.js\";import{Program as o}from\"./Program.js\";import{S as t}from\"../../../../chunks/SMAA.glsl.js\";import{makePipelineState as s,defaultColorWriteParams as a}from\"../../../webgl/renderState.js\";class n extends r{initializeProgram(e){const r=n.shader.get().build(this.configuration);return new o(e.rctx,r,i)}initializePipeline(){return s({colorWrite:a})}}n.shader=new e(t,(()=>import(\"../shaders/SMAA.glsl.js\")));export{n as SMAATechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{abortMaybe as r,isSome as i,disposeMaybe as s}from\"../../../../core/maybe.js\";import{throwIfAborted as o,isAborted as h}from\"../../../../core/promiseUtils.js\";import{property as n}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{requestImage as l}from\"../../../../support/requestImageUtils.js\";import{createScreenSizeTriangleVAO as d}from\"./glUtil3D.js\";import{SMAATechnique as u}from\"./SMAATechnique.js\";import{SMAATechniqueConfiguration as c,SMAAOutput as _}from\"./SMAATechniqueConfiguration.js\";import{TextureSamplingMode as T,PixelFormat as p,TargetType as b,DepthStencilTargetType as g,TextureType as m,PixelType as E,TextureWrapMode as x,ClearBufferBit as f,PrimitiveType as w}from\"../../../webgl/enums.js\";import{FramebufferObject as A}from\"../../../webgl/FramebufferObject.js\";import{Texture as C}from\"../../../webgl/Texture.js\";let R=class extends t{constructor(e,t){super({}),this.rctx=e,this._techniqueRep=t,this._isEnabled=!1}normalizeCtorArgs(){return{}}dispose(){this._abortController=r(this._abortController),this.disable()}_loadResources(e){if(i(this._abortController))return!1;if(i(this._searchTexture))return!0;this._abortController=new AbortController;const t=this._abortController.signal;return import(\"./SmaaRenderPassData.js\").then((e=>this._loadTextures(e,t))).then((()=>e())).finally((()=>this._abortController=null)),!1}_loadTextures(e,t){return o(t),Promise.all([this._loadTextureFromBase64(e.areaTexture,T.LINEAR,p.RGB),this._loadTextureFromBase64(e.searchTexure,T.NEAREST,p.LUMINANCE)]).then((([e,r])=>{h(t)?(e.dispose(),r.dispose(),o(t)):(this._areaTexture=e,this._searchTexture=r)}))}get updating(){return i(this._abortController)}enable(e){if(this._isEnabled)return!0;if(!this._edgeDetectTechnique||!this._blendWeightsTechnique||!this._blurTechnique){const e=new c,t=(e,t)=>this._techniqueRep.releaseAndAcquire(u,e,t);e.output=_.EdgeDetector,this._edgeDetectTechnique=t(e,this._edgeDetectTechnique),e.output=_.BlendWeight,this._blendWeightsTechnique=t(e,this._blendWeightsTechnique),e.output=_.Blur,this._blurTechnique=t(e,this._blurTechnique)}return!!this._loadResources(e)&&(this._vao=d(this.rctx),this._edges=new A(this.rctx,{colorTarget:b.TEXTURE,depthStencilTarget:g.NONE},{target:m.TEXTURE_2D,pixelFormat:p.RGB,dataType:E.UNSIGNED_BYTE,samplingMode:T.LINEAR,wrapMode:x.CLAMP_TO_EDGE,width:4,height:4}),this._blend=new A(this.rctx,{colorTarget:b.TEXTURE,depthStencilTarget:g.NONE},{target:m.TEXTURE_2D,pixelFormat:p.RGBA,dataType:E.UNSIGNED_BYTE,samplingMode:T.LINEAR,wrapMode:x.CLAMP_TO_EDGE,width:4,height:4}),this._isEnabled=!0,!0)}disable(){this._isEnabled&&(this._vao=s(this._vao),this._areaTexture=s(this._areaTexture),this._searchTexture=s(this._searchTexture),this._blend=s(this._blend),this._edges=s(this._edges),this._isEnabled=!1)}render(e){if(!this._isEnabled)return;const t=this.rctx,r=t.getBoundFramebufferObject(),i={x:0,y:0,width:e.descriptor.width,height:e.descriptor.height};t.bindVAO(this._vao),t.setViewport(i.x,i.y,i.width,i.height),this._edges.resize(i.width,i.height),t.bindFramebuffer(this._edges),t.setClearColor(0,0,0,1),t.clear(f.COLOR_BUFFER_BIT);const s=t.bindTechnique(this._edgeDetectTechnique);s.bindTexture(\"tColor\",e),s.setUniform4f(\"resolution\",1/i.width,1/i.height,i.width,i.height),t.drawArrays(w.TRIANGLES,0,3),this._blend.resize(i.width,i.height),t.bindFramebuffer(this._blend),t.setClearColor(0,0,1,1),t.clear(f.COLOR_BUFFER_BIT);const o=t.bindTechnique(this._blendWeightsTechnique);o.setUniform4f(\"resolution\",1/i.width,1/i.height,i.width,i.height),o.bindTexture(\"tSearch\",this._searchTexture),o.bindTexture(\"tArea\",this._areaTexture),o.bindTexture(\"tEdges\",this._edges.colorTexture),t.drawArrays(w.TRIANGLES,0,3),t.bindFramebuffer(r),t.setClearColor(0,1,0,1),t.clear(f.COLOR_BUFFER_BIT);const h=t.bindTechnique(this._blurTechnique);h.setUniform4f(\"resolution\",1/i.width,1/i.height,i.width,i.height),h.bindTexture(\"tColor\",e),h.bindTexture(\"tBlendWeights\",this._blend.colorTexture),t.drawArrays(w.TRIANGLES,0,3)}_loadTextureFromBase64(e,t,r){return l(e).then((e=>new C(this.rctx,{pixelFormat:r,dataType:E.UNSIGNED_BYTE,wrapMode:x.CLAMP_TO_EDGE,width:e.width,height:e.height,samplingMode:t},e)))}};e([n()],R.prototype,\"_abortController\",void 0),e([n({readOnly:!0})],R.prototype,\"updating\",null),R=e([a(\"esri.views.3d.webgl-engine.lib.SmaaRenderPass\")],R);export{R as SmaaRenderPass};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nfunction n(n,o){const t=o,c=-n[0],f=-n[1],i=-n[2],s=t[3],u=t[7],e=t[11],p=t[15];t[0]+=s*c,t[1]+=s*f,t[2]+=s*i,t[4]+=u*c,t[5]+=u*f,t[6]+=u*i,t[8]+=e*c,t[9]+=e*f,t[10]+=e*i,t[12]+=p*c,t[13]+=p*f,t[14]+=p*i}function o(n,o){const t=o,c=n[0],f=n[1],i=n[2];t[12]+=c*t[0]+f*t[4]+i*t[8],t[13]+=c*t[1]+f*t[5]+i*t[9],t[14]+=c*t[2]+f*t[6]+i*t[10],t[14]+=c*t[3]+f*t[7]+i*t[11]}export{n as applyToModelMatrix,o as applyToViewMatrix};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{c as i}from\"../../../../chunks/mat4.js\";import{c as t}from\"../../../../chunks/mat4f64.js\";import{applyToViewMatrix as r}from\"./localOriginHelper.js\";class e{constructor(i){this.factory=i,this.originData=new Map}acquire(i){return this.register(this.factory.getOrigin(i))}register(i){const r=this.originData.get(i.id);return r?(r.refCount++,r.origin):(this.originData.set(i.id,{refCount:1,viewMatrix:t(),origin:i}),i)}release(i){const t=this.originData.get(i.id);t&&(t.refCount--,0===t.refCount&&this.originData.delete(i.id))}updateViewMatrices(t){this.originData.forEach((e=>{i(e.viewMatrix,t),r(e.origin.vec3,e.viewMatrix)}))}getViewMatrix(i){return this.originData.get(i.id).viewMatrix}}export{e as LocalOriginManager};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{c as r}from\"../../../../../chunks/mat3f64.js\";import{c as s}from\"../../../../../chunks/vec3f64.js\";import{VertexPositionPassParameters as o,VertexPositionDrawParameters as t}from\"../../core/shaderLibrary/attributes/VertexPosition.glsl.js\";class a extends o{constructor(s,o,t){super(),this.distanceFalloffFactor=s,this.minimumEdgeLength=o,this.transparency=t,this.transformNormalViewFromGlobal=r()}}class e extends t{constructor(){super(...arguments),this.transformNormalViewFromGlobal=r(),this.slicePlaneLocalOrigin=s(),this.transformNormalGlobalFromModel=r()}}export{e as EdgeDrawParameters,a as EdgePassParameters};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../../core/shaderTechnique/ShaderTechnique.js\";import{Program as i}from\"../Program.js\";import{EdgeShaderAttributeLocations as o}from\"./bufferLayouts.js\";import{E as t}from\"../../../../../chunks/EdgeShader.glsl.js\";import{BlendOperation as s,BlendFactor as n,CompareFunction as d}from\"../../../../webgl/enums.js\";import{makePipelineState as a,separateBlendingParams as l,defaultColorWriteParams as m,defaultDepthWriteParams as h}from\"../../../../webgl/renderState.js\";class c extends r{initializeProgram(e){const r=c.shader.get().build(this.configuration);return new i(e.rctx,r,o)}initializePipeline(e){return e.blendMinMax?a({blending:l(n.ONE,n.ONE,n.ZERO,n.ONE,s.ADD,e.blendMinMax.MAX),depthTest:{func:d.LEQUAL},colorWrite:m}):a({depthTest:{func:d.LEQUAL},depthWrite:h,colorWrite:m})}}c.shader=new e(t,(()=>import(\"../../shaders/sources/edgeRenderer/EdgeShader.glsl.js\")));export{c as EdgeShaderTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{parameter as o}from\"../../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as i}from\"../../materials/DefaultTechniqueConfiguration.js\";import{EdgeUtilMode as t}from\"../../shaders/sources/edgeRenderer/EdgeUtil.glsl.js\";class s extends i{constructor(){super(...arguments),this.mode=t.SOLID,this.hasSlicePlane=!1,this.silhouette=!1,this.legacy=!1,this.antialiasing=!1,this.doublePrecisionRequiresObfuscation=!1,this.hasMultipassTerrain=!1,this.cullAboveGround=!1,this.spherical=!1}}e([o({count:t.COUNT})],s.prototype,\"mode\",void 0),e([o()],s.prototype,\"hasSlicePlane\",void 0),e([o()],s.prototype,\"silhouette\",void 0),e([o()],s.prototype,\"legacy\",void 0),e([o()],s.prototype,\"antialiasing\",void 0),e([o()],s.prototype,\"doublePrecisionRequiresObfuscation\",void 0),e([o()],s.prototype,\"hasMultipassTerrain\",void 0),e([o()],s.prototype,\"cullAboveGround\",void 0),e([o()],s.prototype,\"spherical\",void 0);export{s as EdgeShaderTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{releaseMaybe as e,isNone as r}from\"../../../../../core/maybe.js\";import t from\"../../../../../core/PooledArray.js\";import{t as s,e as i}from\"../../../../../chunks/mat3.js\";import{c as n}from\"../../../../../chunks/mat3f32.js\";import{c as o,s as a}from\"../../../../../chunks/vec3.js\";import h from\"../../../support/debugFlags.js\";import{doublePrecisionRequiresObfuscation as l}from\"../../core/shaderLibrary/util/DoublePrecision.glsl.js\";import{TwoVectorPosition as d}from\"../../core/util/TwoVectorPosition.js\";import{EdgeDrawParameters as c}from\"./EdgeShaderParameters.js\";import{EdgeShaderTechnique as u}from\"./EdgeShaderTechnique.js\";import{EdgeShaderTechniqueConfiguration as m}from\"./EdgeShaderTechniqueConfiguration.js\";import{Transparency as f}from\"./interfaces.js\";import{EdgeUtilMode as g}from\"../../shaders/sources/edgeRenderer/EdgeUtil.glsl.js\";import{PrimitiveType as b}from\"../../../../webgl/enums.js\";const T=8,_=128,R={type:\"uber\",hasSlicePlane:!1,strokesTexture:null,legacy:!0,spherical:!0};class p{constructor(){this._value=0}get value(){return this._value}increment(){this._value++}decrement(){this._value--}}const A={solid:g.SOLID,sketch:g.SKETCH,uber:g.MIXED};class P{constructor(e,r,s){this.rctx=e,this.shaderTechniqueRepository=r,this._configuration=new m,this.refCount=new p,this.renderables=new Set,this.sortedRenderables={[f.TRANSPARENT]:{[f.TRANSPARENT]:new t,[f.OPAQUE]:new t},[f.OPAQUE]:{[f.TRANSPARENT]:new t,[f.OPAQUE]:new t}},this._renderablesDirty=!1,this._drawParameters=new c,this._settings={...R,...s},this.key=P.getKey(this._settings.type,this._settings.hasSlicePlane,this._settings.legacy);const i=this._settings.strokesTexture.variants;this.writerSettings={variants:i,reducedPrecision:h.TESTS_DISABLE_OPTIMIZATIONS},this._configuration.legacy=this._settings.legacy,this._configuration.mode=A[this._settings.type],this._configuration.silhouette=!1,this._configuration.antialiasing=!!this.rctx.capabilities.blendMinMax,this._configuration.hasSlicePlane=this._settings.hasSlicePlane,this._configuration.doublePrecisionRequiresObfuscation=l(e),this._configuration.spherical=s.spherical}dispose(){this._technique=e(this._technique)}addRenderable(e){this.renderables.add(e),this._renderablesDirty=!0}removeRenderable(e){this.renderables.delete(e),this._renderablesDirty=!0}setRenderablesDirty(){this._renderablesDirty=!0}forEachRenderable(e,r){this._renderablesDirty&&this._sortRenderables(),this.sortedRenderables[r][f.TRANSPARENT].forAll(e),this.sortedRenderables[r][f.OPAQUE].forAll(e)}updateTechnique(e,r){return this._configuration.hasMultipassTerrain=!!e.multipassTerrain.enabled,this._configuration.cullAboveGround=!!e.multipassTerrain.cullAboveGround,this._configuration.silhouette=r,this._technique=this.shaderTechniqueRepository.releaseAndAcquire(u,this._configuration,this._technique),this._technique}bindRegularEdges(e,r){return this.rctx.bindTechnique(this.updateTechnique(r,!1),e,r)}bindSilhouetteEdges(e,r){return this.rctx.bindTechnique(this.updateTechnique(r,!0),e,r)}renderRegularEdges(e,r,t,s,i){this._render(e,r,r.regular.vao,t,s,i)}renderSilhouetteEdges(e,r,t,s,i){this._render(e,r,r.silhouette.vao,t,s,i)}_render(e,r,t,s,i,n){this._bindDraw(e,r,s,n),this.rctx.bindVAO(t),this.rctx.capabilities.instancing.drawArraysInstanced(b.TRIANGLE_FAN,0,4,i)}_bindDraw(e,r,t,n){if(r.components.buffer.textureBuffer.bind(e,E,S),\"origin\"in r.transform)e.setUniformMatrix4fv(\"localView\",n),e.setUniformMatrix4fv(\"model\",r.transform.modelMatrix),o(this._drawParameters.slicePlaneLocalOrigin,r.transform.origin.vec3);else{const e=new d(r.transform.position),n=s(N,i(N,r.transform.rotationScale));this._drawParameters.transformWorldFromModelTL=e.low,this._drawParameters.transformWorldFromModelTH=e.high,this._drawParameters.transformWorldFromModelRS=r.transform.rotationScale,this._drawParameters.transformNormalGlobalFromModel=n;const o=t.camera.viewInverseTransposeMatrix;a(this._drawParameters.slicePlaneLocalOrigin,o[3],o[7],o[11])}e.bindDraw(this._drawParameters,t),\"uber\"!==this._settings.type&&\"sketch\"!==this._settings.type||this._setSketchUniforms(e)}_setSketchUniforms(e){const t=this._settings.strokesTexture,s=t.texture;r(s)||(e.bindTexture(\"strokesTexture\",s),e.setUniform2f(\"strokesTextureScale\",1/s.descriptor.width,1/s.descriptor.height),e.setUniform1f(\"strokesLog2Resolution\",Math.log2(t.resolution)),e.setUniform1f(\"strokesNormalizationScale\",t.normalizationScale),e.setUniform1f(\"strokesAmplitude\",t.amplitude),e.setUniform1f(\"strokeVariants\",t.variants))}_sortRenderables(){this._renderablesDirty=!1,this.sortedRenderables[f.TRANSPARENT][f.TRANSPARENT].clear(),this.sortedRenderables[f.TRANSPARENT][f.OPAQUE].clear(),this.sortedRenderables[f.OPAQUE][f.TRANSPARENT].clear(),this.sortedRenderables[f.OPAQUE][f.OPAQUE].clear(),this.renderables.forEach((e=>{e.objectTransparency!==f.INVISIBLE&&e.edgeTransparency!==f.INVISIBLE&&this.sortedRenderables[e.objectTransparency][e.edgeTransparency].push(e)}));const e=(e,r)=>\"origin\"in e.transform&&\"origin\"in r.transform?e.transform.origin.id<r.transform.origin.id?-1:e.transform.origin.id>r.transform.origin.id?1:0:0;this.sortedRenderables[f.TRANSPARENT][f.TRANSPARENT].sort(e),this.sortedRenderables[f.TRANSPARENT][f.OPAQUE].sort(e),this.sortedRenderables[f.OPAQUE][f.TRANSPARENT].sort(e),this.sortedRenderables[f.OPAQUE][f.OPAQUE].sort(e)}static getKey(e,r,t){return`edges-t:${e}:${r}:${t}`}}const E=\"componentDataTex\",S=\"componentDataTexInvDim\",N=n();export{_ as EXTENSION_LENGTH_OFFSET,P as EdgeRenderer,T as LINE_WIDTH_FRACTION_FACTOR,S as componentDataInvDimName,E as componentDataTexName};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{packFloatRGBA as t}from\"../../../../../core/floatRGBA.js\";import{clamp as e}from\"../../../../../core/mathUtils.js\";import{disposeMaybe as r}from\"../../../../../core/maybe.js\";import{PixelFormat as s,PixelType as o,TextureSamplingMode as n,TextureWrapMode as i}from\"../../../../webgl/enums.js\";import{Texture as l}from\"../../../../webgl/Texture.js\";function a(e){const r=4,a=E.resolution,c=a/2,h=new Uint8Array(r*a*a),m=r*a*c,d=E.amplitude,S=2*d,g=r*a,R=Math.log2(a)+1,A=E.strokes.length;let w=(R-1)*A*g;for(const{distance:s,pressure:o}of E.strokes){let e=s,n=o,i=w;for(let s=0;s<R;s++){0!==s&&(e=u(e,p.DISTANCE),n=u(n,p.PRESSURE));for(let s=0;s<E.resolution;s++){const o=.5+(e?e[s%e.length]/S:0),l=n?n[s%n.length]:1;t(o,h,i),t(l,h,i+m),i+=r}i-=g*(A+1)}w+=g}const M=new l(e,{pixelFormat:s.RGBA,dataType:o.UNSIGNED_BYTE,hasMipmap:!1,samplingMode:n.LINEAR,width:a,height:a,wrapMode:i.REPEAT},h);return new f(a,S,d,A,M)}function c(){const t=4,r=E.resolution,s=Math.log2(r)+1,o=E.strokes.length,n=E.amplitude,i=1,l=Math.ceil(2*n+i/2),a=6,c=(()=>{let t=0,e=r;for(;e>=1;)t+=e,e/=2;return t})()+a*(s+1),h=o*l,m=new Uint8ClampedArray(t*c*h),f=t*c;m.fill(255);let d=a*t;for(const{distance:S,pressure:g}of E.strokes){let r=S,o=g,c=d;for(let h=0;h<s;h++){0!==h&&(r=u(r,p.DISTANCE),o=u(o,p.PRESSURE));for(let s=0;s<r.length;s++){const a=r?r[s]:0,u=o?e(o[s],0,1):1;let p=c;for(let t=-n;t<l-n;t++){const r=Math.abs(t-a+.5)-i/2*u,s=255-255*e(1-r,0,1);m[p+0]=s,m[p+1]=s,m[p+2]=s,m[p+3]=255,p+=f}c+=t}c+=a*t}d+=l*f}return new ImageData(m,c,h)}function u(t,e){if(!t)return null;const r=t.length/2,s=h*r,o=new Array(r);let n=0;const i=e===p.PRESSURE;for(let l=0;l<t.length;l+=2){const e=(t[l]+t[l+1])/2;o[n++]=i?Math.min(s,1-(1-e)*m):Math.min(s,e*m)}return o}var p;!function(t){t[t.DISTANCE=0]=\"DISTANCE\",t[t.PRESSURE=1]=\"PRESSURE\"}(p||(p={}));const h=.1,m=.5;class f{constructor(t,e,r,s,o){this.resolution=t,this.normalizationScale=e,this.amplitude=r,this.variants=s,this.texture=o}dispose(){this.texture=r(this.texture)}}const E={amplitude:8,resolution:256,strokes:[{distance:[-1.59027,-1.59426,-1.59674,-1.59766,-1.59702,-1.59479,-1.59095,-1.5855,-1.57843,-1.56973,-1.55942,-1.5475,-1.53398,-1.5189,-1.50226,-1.4841,-1.46446,-1.44337,-1.42088,-1.39703,-1.37188,-1.34547,-1.31786,-1.28912,-1.2593,-1.22847,-1.19668,-1.16402,-1.13053,-1.09629,-1.06137,-1.02582,-.98972,-.95313,-.91611,-.87872,-.84102,-.80306,-.76488,-.72654,-.68807,-.64952,-.61092,-.57232,-.53375,-.49527,-.45692,-.41874,-.38078,-.34309,-.3057,-.26867,-.23204,-.19585,-.16015,-.12497,-.09036,-.05634,-.02296,.00977,.04183,.07321,.10389,.13386,.16313,.19169,.21956,.24672,.27321,.299,.32413,.34858,.37237,.3955,.41798,.43981,.461,.48154,.50145,.52073,.53939,.55744,.57488,.5917,.6079,.62347,.63837,.65259,.66609,.67885,.69083,.70201,.71235,.72183,.73042,.73812,.7449,.75076,.7557,.75973,.76284,.76507,.76642,.76692,.76659,.76545,.76352,.76083,.7574,.75324,.74837,.74279,.73652,.72959,.72199,.71377,.70493,.69553,.68558,.67515,.66426,.65298,.64135,.62944,.6173,.60499,.59257,.58008,.56759,.55513,.54275,.5305,.51842,.50654,.4949,.48353,.47246,.4617,.45128,.44121,.43149,.42213,.41313,.40448,.39617,.38818,.3805,.37309,.36594,.35902,.35229,.34572,.33927,.33292,.32663,.32035,.31407,.30774,.30135,.29486,.28824,.28148,.27454,.26739,.26002,.25241,.24454,.23639,.22796,.21922,.21016,.20076,.19098,.18082,.17023,.1592,.14768,.13566,.1231,.10996,.09624,.08188,.06688,.05121,.03485,.01778,0,-.0185,-.03771,-.05763,-.07824,-.09952,-.12144,-.14396,-.16706,-.19069,-.21481,-.23938,-.26436,-.28971,-.31539,-.34136,-.36759,-.39404,-.42067,-.44746,-.47437,-.50136,-.52839,-.55544,-.58248,-.60948,-.63642,-.66329,-.6901,-.71684,-.74352,-.77015,-.79675,-.82332,-.84988,-.87644,-.90301,-.92958,-.95615,-.98272,-1.00926,-1.03575,-1.06217,-1.08847,-1.11463,-1.1406,-1.16633,-1.19178,-1.2169,-1.24164,-1.26595,-1.28979,-1.31312,-1.3359,-1.35809,-1.37963,-1.4005,-1.42064,-1.44,-1.45853,-1.47616,-1.49285,-1.50853,-1.52313,-1.53659,-1.54886,-1.55986,-1.56955,-1.57788,-1.5848],pressure:[-.01365,-.00206,.01025,.02327,.03696,.05129,.06619,.08163,.09755,.11393,.1307,.14784,.16531,.18308,.20111,.21938,.23786,.25651,.2753,.29419,.31315,.33215,.35115,.37015,.38913,.40806,.42694,.44576,.46449,.48313,.50167,.5201,.53839,.55653,.57448,.59222,.60971,.62692,.6438,.66033,.67648,.69221,.70753,.72242,.73688,.75093,.76456,.77779,.79063,.80309,.81517,.82686,.83817,.84911,.85967,.86987,.87972,.88924,.89845,.90734,.91594,.92425,.93229,.94005,.94754,.95475,.96166,.96826,.97451,.9804,.98588,.99092,.99549,.99957,.99685,.99381,.99131,.98936,.98796,.98711,.98681,.98706,.98787,.98923,.99113,.99357,.99654,1,.99607,.99171,.98695,.98181,.97634,.97057,.96452,.95824,.95175,.94506,.93818,.93113,.92389,.91647,.90887,.90109,.89314,.88501,.87672,.86831,.85978,.85119,.84256,.83393,.82533,.8168,.80836,.80002,.79181,.78374,.77582,.7681,.76059,.75331,.74629,.73955,.73311,.72697,.72116,.71568,.71054,.70572,.70121,.697,.69304,.68931,.68576,.68236,.67905,.67582,.67262,.66941,.66619,.66291,.65957,.65613,.65259,.64892,.6451,.6411,.6369,.63248,.62783,.62295,.61783,.61247,.60688,.60104,.59498,.58868,.58216,.57542,.56845,.56125,.5538,.5461,.53813,.52986,.52129,.51239,.50316,.49359,.4837,.47349,.46299,.45223,.44124,.43005,.41869,.40719,.39557,.38386,.37207,.36023,.34836,.33648,.32464,.31287,.30119,.28963,.27822,.26698,.25594,.2451,.23448,.22409,.21391,.20394,.19415,.18452,.17503,.16565,.15636,.14713,.13794,.1288,.11968,.11058,.10151,.09247,.08346,.07447,.06552,.05659,.0477,.03885,.03007,.02137,.01278,.00433,-.00393,-.012,-.01983,-.02738,-.03463,-.04155,-.0481,-.05429,-.0601,-.06553,-.07057,-.07524,-.07954,-.08347,-.08703,-.09022,-.09303,-.09544,-.09744,-.09898,-.10004,-.10059,-.1006,-.10005,-.09892,-.0972,-.09487,-.09192,-.08833,-.08409,-.07918,-.07357,-.06724,-.06019,-.0524,-.04386,-.03455,-.02448]},{distance:[-3.46259,-3.47131,-3.47668,-3.47863,-3.47712,-3.4721,-3.46352,-3.45138,-3.43566,-3.41635,-3.39347,-3.36704,-3.33709,-3.30368,-3.26684,-3.22667,-3.18322,-3.1366,-3.08689,-3.0342,-2.97865,-2.92036,-2.85946,-2.79607,-2.73034,-2.66241,-2.59242,-2.52052,-2.44686,-2.37159,-2.29485,-2.2168,-2.13757,-2.05731,-1.97616,-1.89426,-1.81174,-1.72875,-1.64543,-1.56191,-1.47833,-1.39483,-1.3115,-1.22847,-1.14581,-1.06361,-.98193,-.90083,-.82036,-.74054,-.66141,-.583,-.50532,-.4284,-.35228,-.277,-.20261,-.12916,-.05672,.01463,.08485,.15384,.22153,.28784,.35269,.41602,.47776,.53787,.59629,.653,.70799,.76123,.81274,.86253,.9106,.95698,1.0017,1.04477,1.0862,1.126,1.16415,1.20065,1.23546,1.26857,1.29994,1.32953,1.35731,1.38321,1.40719,1.42921,1.44922,1.46719,1.48309,1.49691,1.50862,1.51825,1.52581,1.53133,1.53486,1.53644,1.53616,1.53409,1.53031,1.52493,1.51803,1.50972,1.50009,1.48924,1.47725,1.46421,1.45019,1.43527,1.4195,1.40295,1.38568,1.36778,1.34929,1.3303,1.31087,1.29108,1.27099,1.25066,1.23018,1.2096,1.18898,1.16838,1.14785,1.12745,1.10721,1.08719,1.06741,1.04791,1.02871,1.00986,.99136,.97324,.95551,.93819,.92127,.90476,.88866,.87296,.85767,.84277,.82823,.81406,.80022,.7867,.77346,.76049,.74774,.73519,.72278,.71049,.69827,.68606,.67381,.66145,.64893,.63618,.62313,.60973,.5959,.5816,.56675,.5513,.53516,.51826,.50053,.4819,.46231,.44169,.42002,.39725,.37336,.34834,.32219,.2949,.2665,.23698,.20638,.17469,.14193,.10809,.07316,.03714,0,-.03827,-.07772,-.11836,-.16022,-.20332,-.24768,-.29332,-.34024,-.38844,-.43788,-.48854,-.54036,-.59329,-.64724,-.70211,-.75782,-.81425,-.87128,-.92881,-.98674,-1.04498,-1.10346,-1.1621,-1.22086,-1.27969,-1.33854,-1.3974,-1.45625,-1.51511,-1.57396,-1.63283,-1.69173,-1.75067,-1.80968,-1.86875,-1.9279,-1.98712,-2.04639,-2.10568,-2.16495,-2.22416,-2.28322,-2.34208,-2.40063,-2.4588,-2.51647,-2.57354,-2.62989,-2.68543,-2.74002,-2.79357,-2.84597,-2.89711,-2.94689,-2.99521,-3.04195,-3.087,-3.13023,-3.17152,-3.21075,-3.24779,-3.28252,-3.3148,-3.34451,-3.37154,-3.39577,-3.41709,-3.43539,-3.45059],pressure:[.87183,.87151,.87129,.87118,.87117,.87128,.87149,.87182,.87225,.8728,.87347,.87424,.87513,.87613,.87723,.87845,.87978,.88122,.88276,.88441,.88616,.88801,.88996,.892,.89414,.89637,.89868,.90108,.90356,.90611,.90874,.91144,.91421,.91704,.91993,.92287,.92587,.92892,.93201,.93514,.93831,.94151,.94474,.94799,.95126,.95456,.95786,.96118,.9645,.96783,.97116,.97448,.9778,.98111,.98441,.9877,.99096,.99421,.99742,.99938,.99622,.9931,.99001,.98697,.98397,.98101,.97811,.97526,.97246,.96972,.96703,.96441,.96185,.95935,.95691,.95455,.95225,.95002,.94786,.94577,.94376,.94182,.93995,.93817,.93646,.93483,.93328,.93181,.93042,.92911,.92788,.92673,.92566,.92467,.92376,.92293,.92217,.92149,.92088,.92034,.91987,.91947,.91913,.91886,.91864,.91849,.91838,.91833,.91834,.91839,.91849,.91863,.91883,.91907,.91935,.91968,.92005,.92046,.92092,.92142,.92195,.92253,.92314,.9238,.92449,.92521,.92598,.92677,.9276,.92847,.92936,.93029,.93125,.93224,.93325,.9343,.93537,.93646,.93758,.93872,.93988,.94106,.94225,.94346,.94469,.94593,.94718,.94844,.94971,.95098,.95226,.95354,.95482,.9561,.95738,.95867,.95995,.96122,.9625,.96377,.96504,.9663,.96757,.96883,.97009,.97135,.97261,.97387,.97513,.9764,.97767,.97895,.98023,.98153,.98284,.98416,.98549,.98684,.98821,.9896,.99101,.99244,.99389,.99537,.99688,.99842,1,.99839,.99675,.99508,.99336,.99161,.98982,.98799,.98613,.98422,.98228,.98029,.97827,.97622,.97414,.97202,.96987,.9677,.96551,.9633,.96107,.95882,.95656,.9543,.95202,.94975,.94747,.94519,.94292,.94065,.93838,.93613,.93388,.93164,.92941,.9272,.92499,.9228,.92062,.91846,.91631,.91418,.91207,.90998,.90792,.90588,.90387,.90189,.89995,.89804,.89617,.89434,.89256,.89083,.88914,.88752,.88595,.88443,.88299,.88161,.8803,.87907,.87791,.87683,.87584,.87494,.87412,.8734,.87278,.87225]},{distance:[.39335,.43437,.47737,.52234,.56923,.61801,.66864,.72109,.7753,.83123,.88882,.94801,1.00875,1.07097,1.13461,1.1996,1.26586,1.33333,1.40193,1.47158,1.54221,1.61373,1.68607,1.75913,1.83284,1.90711,1.98186,2.05699,2.13243,2.20809,2.28387,2.35971,2.4355,2.51117,2.58663,2.66179,2.73658,2.81092,2.88473,2.95792,3.03043,3.10217,3.17308,3.24309,3.31211,3.3801,3.44697,3.51267,3.57712,3.64028,3.70208,3.76247,3.8214,3.87881,3.93467,3.98892,4.04152,4.09244,4.14164,4.18908,4.23474,4.27859,4.32061,4.36077,4.39905,4.43544,4.46992,4.50249,4.53314,4.56185,4.58864,4.61349,4.63642,4.65745,4.67657,4.69381,4.7092,4.72274,4.73447,4.74441,4.75259,4.75903,4.76376,4.76682,4.76822,4.768,4.76618,4.76279,4.75786,4.75142,4.74348,4.73409,4.72326,4.71102,4.69739,4.68241,4.6661,4.64849,4.6296,4.60948,4.58816,4.56567,4.54204,4.51732,4.49154,4.46473,4.43694,4.4082,4.37854,4.348,4.31662,4.28443,4.25145,4.21773,4.1833,4.14819,4.11243,4.07606,4.03912,4.00162,3.96361,3.92512,3.88618,3.84683,3.80708,3.76697,3.72653,3.68579,3.64478,3.60351,3.56202,3.52033,3.47845,3.43642,3.39425,3.35196,3.30957,3.2671,3.22455,3.18196,3.13933,3.09668,3.05402,3.01136,2.96873,2.92613,2.88357,2.84108,2.79865,2.75631,2.71407,2.67195,2.62994,2.58807,2.54634,2.50477,2.46338,2.42216,2.38114,2.34032,2.29971,2.25933,2.21916,2.17923,2.13954,2.10008,2.06087,2.02189,1.98316,1.94468,1.90644,1.86845,1.83069,1.79316,1.75586,1.71877,1.68189,1.6452,1.60868,1.57232,1.53611,1.50004,1.46407,1.4282,1.39241,1.35668,1.321,1.28535,1.24972,1.2141,1.17849,1.14286,1.10723,1.07158,1.03593,1.00028,.96464,.92902,.89344,.85793,.8225,.78719,.75203,.71705,.68231,.64784,.61369,.57991,.54656,.51368,.48134,.44959,.41849,.3881,.35848,.32967,.30174,.27474,.24872,.22373,.19982,.17702,.15539,.13497,.11579,.09791,.08137,.06621,.05248,.04022,.02948,.02029,.01271,.00677,.00252,0,-76e-5,27e-5,.00314,.00788,.01451,.02307,.03357,.04604,.0605,.07697,.09546,.11599,.13858,.16322,.18992,.21869,.24952,.28241,.31735,.35434],pressure:[.95248,.95236,.95228,.95223,.95222,.95224,.95231,.95241,.95256,.95274,.95296,.95322,.95352,.95385,.95423,.95465,.9551,.9556,.95613,.9567,.95731,.95796,.95864,.95936,.96012,.96091,.96173,.96259,.96348,.9644,.96535,.96633,.96734,.96838,.96944,.97053,.97164,.97277,.97393,.9751,.97629,.9775,.97873,.97997,.98122,.98249,.98376,.98505,.98634,.98763,.98893,.99023,.99154,.99284,.99414,.99544,.99673,.99802,.9993,.99942,.99816,.99691,.99568,.99445,.99324,.99205,.99087,.98972,.98858,.98746,.98636,.98528,.98423,.9832,.98219,.98121,.98025,.97931,.9784,.97752,.97666,.97582,.97501,.97423,.97347,.97274,.97203,.97135,.9707,.97007,.96948,.9689,.96836,.96784,.96735,.96689,.96646,.96605,.96567,.96533,.965,.96471,.96445,.96421,.964,.96382,.96367,.96355,.96346,.96339,.96335,.96334,.96336,.9634,.96348,.96358,.9637,.96385,.96403,.96423,.96446,.96471,.96499,.96529,.96561,.96595,.96631,.96669,.96709,.96751,.96795,.9684,.96887,.96935,.96984,.97035,.97087,.9714,.97194,.97249,.97304,.97361,.97418,.97476,.97534,.97592,.97651,.97711,.9777,.9783,.9789,.9795,.9801,.9807,.9813,.9819,.9825,.98309,.98369,.98428,.98486,.98545,.98603,.98661,.98718,.98775,.98832,.98888,.98944,.99,.99056,.99112,.99167,.99223,.99279,.99335,.99392,.99449,.99507,.99565,.99624,.99684,.99745,.99807,.9987,.99934,1,.99933,.99866,.99797,.99727,.99656,.99583,.9951,.99435,.99359,.99283,.99205,.99126,.99046,.98966,.98885,.98803,.9872,.98637,.98554,.9847,.98387,.98303,.98219,.98134,.9805,.97967,.97883,.978,.97717,.97634,.97552,.97471,.97389,.97309,.97229,.9715,.97071,.96993,.96915,.96838,.96762,.96687,.96612,.96539,.96466,.96395,.96324,.96255,.96187,.9612,.96055,.95991,.95929,.95869,.95811,.95754,.957,.95648,.95599,.95552,.95508,.95467,.95428,.95393,.9536,.95331,.95305,.95283,.95264]},{distance:[2.85606,2.86149,2.86432,2.8645,2.862,2.85686,2.84912,2.83886,2.82618,2.81117,2.79393,2.77456,2.75314,2.72975,2.70447,2.67734,2.64844,2.61784,2.58564,2.55196,2.5169,2.48057,2.44305,2.40438,2.36462,2.32383,2.28208,2.23943,2.19591,2.15153,2.10628,2.06016,2.01321,1.96548,1.91702,1.86793,1.8183,1.76829,1.71803,1.66767,1.61737,1.56726,1.51746,1.46803,1.41902,1.37044,1.32228,1.27452,1.22716,1.18023,1.13376,1.08781,1.04244,.99769,.95357,.91003,.86701,.82447,.78238,.74069,.69938,.65836,.61758,.57699,.53656,.49627,.45611,.41611,.37632,.33683,.29776,.25924,.22141,.18441,.14839,.11346,.07972,.04727,.01619,-.01348,-.0417,-.0684,-.09351,-.11698,-.13875,-.1588,-.17713,-.19381,-.20889,-.22242,-.23444,-.24501,-.25421,-.26216,-.26897,-.27473,-.27951,-.28336,-.28631,-.28836,-.28948,-.28963,-.28873,-.28673,-.28355,-.27916,-.27354,-.26673,-.25878,-.2498,-.23992,-.22929,-.21802,-.20623,-.19398,-.18134,-.16836,-.1551,-.14163,-.12809,-.11461,-.1013,-.08826,-.07557,-.06335,-.0517,-.04077,-.03065,-.02143,-.01321,-.00606,0,.00496,.00888,.01181,.01385,.01511,.0157,.01574,.01533,.01458,.01358,.0124,.01112,.00979,.00851,.00738,.0065,.006,.00596,.00646,.00754,.00924,.01161,.01471,.01858,.02323,.02865,.03481,.04169,.0493,.05765,.06677,.07671,.08754,.09934,.11222,.12628,.14159,.15823,.17624,.19561,.21632,.23828,.26142,.28563,.31083,.33696,.36397,.39185,.42057,.4501,.48036,.51125,.54264,.5744,.60646,.63871,.67105,.70337,.73556,.76751,.79918,.83048,.86139,.8919,.92202,.95184,.98144,1.01094,1.04045,1.0701,1.10002,1.13029,1.16103,1.1923,1.22416,1.25664,1.28979,1.32364,1.35824,1.39363,1.42985,1.4669,1.50475,1.54332,1.58252,1.62227,1.6625,1.70312,1.744,1.78501,1.82598,1.8668,1.90734,1.94754,1.98732,2.02666,2.06555,2.10402,2.1421,2.17985,2.2173,2.25448,2.29139,2.328,2.36424,2.4,2.43515,2.46955,2.50309,2.53565,2.56717,2.59761,2.62692,2.65505,2.68191,2.7074,2.73138,2.75375,2.7744,2.79324,2.81017,2.82504,2.83772,2.8481],pressure:[.22758,.23641,.24578,.25568,.26609,.27699,.28835,.30016,.31237,.32495,.33789,.35113,.36466,.37843,.39241,.40658,.4209,.43535,.44989,.4645,.47916,.49385,.50853,.5232,.53784,.55243,.56696,.58141,.59578,.61004,.62419,.63821,.65209,.6658,.67934,.69268,.70582,.71873,.73139,.7438,.75594,.76779,.77935,.79061,.80156,.81221,.82254,.83258,.84231,.85176,.86091,.86978,.87837,.88669,.89473,.9025,.91,.91725,.92425,.931,.93752,.9438,.94985,.95566,.96124,.96658,.97168,.97652,.98109,.98539,.98939,.99309,.99646,.99949,.99783,.99552,.99361,.99209,.99098,.99029,.99003,.99019,.99079,.99181,.99324,.9951,.99735,1,.99698,.99361,.98992,.98592,.98163,.97709,.97231,.96731,.96212,.95676,.95122,.94554,.93973,.93378,.92773,.92157,.91532,.90899,.90258,.89612,.88961,.88308,.87653,.87,.8635,.85705,.85068,.8444,.83823,.83219,.82628,.82052,.81493,.80952,.8043,.79929,.7945,.78994,.78561,.78151,.77765,.77402,.77062,.76742,.76443,.76161,.75896,.75645,.75406,.75175,.74951,.7473,.74511,.74289,.74064,.73833,.73592,.73341,.73078,.728,.72507,.72197,.71869,.71522,.71156,.70769,.70363,.69936,.69489,.69021,.68533,.68023,.67492,.66939,.66363,.65765,.65145,.64501,.63833,.63143,.62428,.61691,.60931,.60148,.59344,.58521,.57679,.5682,.55948,.55063,.54167,.53264,.52354,.51439,.50522,.49603,.48686,.47773,.46865,.45964,.45072,.44192,.43324,.42469,.41629,.40804,.39994,.392,.3842,.37655,.36903,.36164,.35437,.3472,.34012,.33312,.3262,.31933,.31251,.30574,.299,.2923,.28563,.27899,.27239,.26583,.25933,.25288,.24652,.24025,.2341,.22808,.22221,.21653,.21104,.20576,.20072,.19592,.19138,.18712,.18313,.17943,.17602,.17292,.17013,.16766,.16551,.16369,.16222,.1611,.16036,.16001,.16007,.16055,.16148,.16286,.16471,.16705,.16988,.17321,.17706,.18144,.18636,.19182,.19785,.20443,.21158,.2193]},{distance:[-2.31317,-2.3191,-2.32189,-2.32154,-2.31811,-2.31174,-2.30254,-2.29062,-2.27609,-2.25904,-2.23954,-2.21767,-2.19355,-2.16732,-2.13907,-2.10885,-2.07672,-2.04268,-2.00677,-1.96911,-1.92985,-1.88914,-1.84713,-1.80397,-1.75979,-1.71467,-1.66864,-1.62171,-1.57395,-1.52546,-1.47625,-1.42628,-1.3755,-1.32384,-1.27131,-1.218,-1.16408,-1.10972,-1.05508,-1.00031,-.94551,-.89077,-.83615,-.7817,-.72757,-.6739,-.62076,-.56821,-.51625,-.46484,-.41397,-.36366,-.314,-.26506,-.21689,-.16957,-.12316,-.07766,-.03301,.01085,.05399,.09643,.13827,.17967,.22079,.26176,.30265,.34342,.38397,.42414,.46381,.50285,.54115,.57863,.61524,.65093,.6856,.71914,.75153,.78275,.81283,.84182,.86972,.89651,.92208,.94634,.96919,.99052,1.01025,1.02835,1.04484,1.05976,1.07309,1.08479,1.09492,1.1036,1.11096,1.11714,1.12224,1.12627,1.12916,1.13083,1.13125,1.13036,1.12816,1.12466,1.11992,1.11397,1.10677,1.09827,1.08849,1.07746,1.06527,1.05203,1.03786,1.02283,1.00695,.99025,.97279,.9546,.93573,.9163,.8965,.8765,.85647,.83652,.81687,.79775,.77939,.76199,.74568,.73049,.71635,.70316,.69082,.67925,.66834,.65804,.64831,.63911,.63032,.62184,.61363,.60564,.59788,.59036,.58308,.57597,.5689,.56177,.55447,.5469,.53896,.53062,.5219,.51283,.5034,.49355,.48335,.47287,.46223,.45154,.44085,.43012,.41923,.40805,.39648,.38441,.37176,.35849,.34458,.32999,.31461,.29833,.28109,.26288,.2437,.22361,.20265,.18082,.15807,.13434,.1096,.0838,.0569,.02894,0,-.0298,-.0604,-.09173,-.12364,-.15594,-.18843,-.22092,-.25331,-.28559,-.31781,-.35006,-.38244,-.41502,-.44785,-.48098,-.5144,-.54811,-.58218,-.61666,-.65153,-.68677,-.72232,-.75807,-.79397,-.83002,-.86628,-.90281,-.93968,-.97693,-1.01465,-1.05282,-1.09139,-1.13031,-1.16956,-1.20917,-1.24905,-1.28907,-1.32908,-1.36891,-1.40844,-1.44765,-1.48658,-1.52527,-1.56376,-1.60206,-1.64016,-1.67801,-1.71552,-1.75264,-1.78936,-1.8257,-1.86161,-1.89702,-1.93182,-1.96584,-1.99894,-2.03102,-2.06203,-2.0919,-2.12056,-2.14794,-2.17397,-2.19852,-2.22138,-2.24235,-2.26129,-2.27805,-2.29243,-2.30422],pressure:[.9681,.97424,.98046,.98674,.99309,.9995,.99404,.98754,.981,.97444,.96785,.96124,.95462,.94801,.94139,.93479,.92822,.92167,.91515,.90868,.90225,.89589,.88959,.88336,.87722,.87115,.86519,.85932,.85356,.84792,.84239,.83699,.83173,.8266,.82162,.81679,.81211,.80759,.80324,.79906,.79505,.79121,.78756,.78409,.78081,.77771,.77481,.77211,.76959,.76728,.76516,.76324,.76153,.76001,.75869,.75757,.75665,.75593,.7554,.75507,.75493,.75498,.75523,.75565,.75627,.75706,.75803,.75917,.76049,.76197,.76361,.76541,.76737,.76947,.77172,.77409,.7766,.77923,.78198,.78484,.7878,.79086,.79401,.79724,.80055,.80394,.8074,.81092,.8145,.81813,.82182,.82556,.82934,.83317,.83703,.84093,.84487,.84884,.85284,.85687,.86094,.86503,.86915,.87329,.87746,.88166,.88587,.89011,.89436,.89863,.90291,.9072,.91149,.91579,.92009,.92438,.92867,.93295,.9372,.94144,.94566,.94985,.954,.95812,.96219,.96623,.97021,.97415,.97802,.98184,.9856,.9893,.99293,.9965,1,.99657,.9932,.98991,.98668,.98352,.98042,.97738,.9744,.97148,.9686,.96577,.96298,.96023,.95751,.95482,.95214,.94949,.94684,.9442,.94156,.93892,.93627,.93361,.93094,.92825,.92555,.92284,.9201,.91735,.91458,.91179,.90899,.90616,.90332,.90047,.8976,.89472,.89183,.88893,.88603,.88314,.88024,.87735,.87448,.87162,.86878,.86597,.86319,.86044,.85774,.85508,.85247,.84993,.84744,.84503,.84269,.84042,.83825,.83616,.83417,.83227,.83048,.8288,.82724,.82578,.82445,.82324,.82215,.82119,.82037,.81967,.81911,.81868,.81839,.81824,.81823,.81835,.81862,.81903,.81957,.82026,.82109,.82206,.82317,.82443,.82583,.82737,.82906,.83089,.83287,.83499,.83726,.83968,.84223,.84494,.84778,.85077,.8539,.85717,.86058,.86412,.86781,.87163,.87559,.87968,.88391,.88826,.89275,.89737,.90211,.90698,.91198,.91709,.92233,.92768,.93315,.93873,.94441,.95019,.95607,.96205]},{distance:[4.72925,4.81721,4.9037,4.98859,5.07177,5.15311,5.23249,5.3098,5.38491,5.45772,5.52811,5.59598,5.66122,5.72375,5.78346,5.84028,5.8941,5.94486,5.99248,6.03689,6.07803,6.11584,6.15028,6.18128,6.20882,6.23285,6.25336,6.27031,6.28369,6.29348,6.29969,6.3023,6.30133,6.29678,6.28867,6.27703,6.26187,6.24324,6.22116,6.19567,6.16683,6.13468,6.09928,6.06068,6.01896,5.97417,5.92639,5.87569,5.82217,5.76589,5.70696,5.64545,5.58147,5.5151,5.44644,5.37559,5.30265,5.2277,5.15085,5.0722,4.99184,4.90987,4.82639,4.74151,4.65533,4.56794,4.47945,4.38996,4.29959,4.20843,4.11658,4.02416,3.93125,3.83796,3.74437,3.65057,3.55666,3.46272,3.36884,3.27509,3.18155,3.08831,2.99545,2.90303,2.81114,2.71984,2.62922,2.53933,2.45026,2.36207,2.27484,2.18862,2.10349,2.01951,1.93675,1.85528,1.77515,1.69644,1.61919,1.54348,1.46935,1.39685,1.32605,1.25698,1.18967,1.12417,1.06049,.99863,.93862,.88044,.82408,.76953,.71676,.66574,.61644,.56882,.52282,.47841,.43553,.39413,.35414,.31551,.27817,.24206,.20712,.17328,.14048,.10866,.07776,.04772,.01848,-.00999,-.03776,-.06487,-.09134,-.11721,-.14251,-.16725,-.19144,-.21509,-.2382,-.26076,-.28275,-.30416,-.32496,-.34511,-.36459,-.38334,-.40134,-.41852,-.43485,-.45026,-.46471,-.47815,-.49052,-.50179,-.51189,-.52081,-.52849,-.5349,-.54003,-.54383,-.54627,-.54734,-.54702,-.54528,-.54211,-.53752,-.53149,-.52403,-.51515,-.50487,-.4932,-.48015,-.46575,-.45001,-.43297,-.41463,-.39503,-.37419,-.35213,-.32887,-.30443,-.27885,-.25214,-.22432,-.19541,-.16544,-.13442,-.10235,-.06926,-.03514,0,.03616,.07336,.11159,.15088,.19125,.23272,.27531,.31906,.36401,.41019,.45764,.5064,.55651,.60802,.66096,.71538,.77129,.82874,.88776,.94836,1.01056,1.07438,1.13982,1.20687,1.27554,1.34581,1.41766,1.49107,1.56599,1.64239,1.72025,1.79951,1.88013,1.96209,2.04532,2.12979,2.21546,2.30226,2.39017,2.47911,2.56905,2.65991,2.75164,2.84416,2.93742,3.03133,3.12582,3.2208,3.31619,3.41191,3.50785,3.60393,3.70006,3.79612,3.89202,3.98765,4.08291,4.17767,4.27182,4.36525,4.45783,4.54944,4.63995],pressure:[.30942,.30838,.30765,.30724,.30715,.30738,.30795,.30884,.31007,.31164,.31354,.31578,.31837,.32129,.32455,.32815,.33209,.33636,.34097,.34591,.35117,.35675,.36265,.36887,.37539,.38221,.38933,.39674,.40442,.41238,.4206,.42907,.43779,.44675,.45593,.46533,.47493,.48473,.49471,.50486,.51517,.52563,.53623,.54694,.55777,.5687,.57971,.59079,.60194,.61313,.62435,.6356,.64686,.65811,.66935,.68056,.69174,.70286,.71391,.72489,.73579,.74659,.75728,.76785,.7783,.7886,.79876,.80877,.81861,.82827,.83776,.84706,.85617,.86507,.87378,.88227,.89056,.89863,.90649,.91412,.92153,.92872,.93568,.94241,.94892,.95519,.96122,.96702,.97258,.97791,.98299,.98783,.99242,.99677,.99911,.99525,.99164,.98827,.98515,.98228,.97966,.97728,.97514,.97324,.97159,.97017,.96898,.96801,.96727,.96674,.96641,.96629,.96635,.96661,.96703,.96762,.96838,.96928,.97032,.97149,.97279,.9742,.97572,.97734,.97905,.98085,.98273,.98468,.98669,.98877,.99091,.99311,.99535,.99765,1,.9976,.99516,.99267,.99014,.98755,.98491,.98222,.97947,.97666,.97378,.97083,.96781,.96471,.96153,.95826,.9549,.95144,.94787,.9442,.94042,.93651,.93249,.92834,.92407,.91966,.91512,.91045,.90564,.90069,.8956,.89037,.885,.87949,.87384,.86806,.86214,.85608,.84988,.84356,.83711,.83053,.82383,.81702,.81009,.80306,.79594,.78872,.78141,.77403,.76657,.75905,.75148,.74385,.73619,.72849,.72076,.71302,.70526,.69749,.68972,.68195,.67419,.66644,.65871,.65099,.64329,.63561,.62795,.62032,.61271,.60512,.59755,.59001,.58248,.57497,.56749,.56002,.55256,.54512,.5377,.5303,.52291,.51554,.50819,.50087,.49358,.48632,.4791,.47192,.4648,.45773,.45072,.44378,.43692,.43015,.42346,.41687,.41039,.40403,.39779,.39168,.38571,.37989,.37423,.36873,.36342,.35828,.35335,.34862,.34409,.3398,.33573,.3319,.32831,.32498,.32192,.31912,.3166,.31436,.31242,.31077]}]};export{f as StrokesTexture,a as generateStrokesTexture,c as rasterizeStrokes,E as strokesDefinition};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{binaryIndexOf as t}from\"../../../../../core/arrayUtils.js\";import{isNone as r,isSome as e}from\"../../../../../core/maybe.js\";import{Transparency as n}from\"./interfaces.js\";function o(t){let n=null;for(const e of t){const t=e.type;if(u(e))if(r(n))n=t;else if(n!==t)return\"uber\"}return e(n)?n:\"uber\"}function i(t){let r=n.INVISIBLE;for(const{material:e}of t)if(f(e)){if(e.color[3]*e.opacity<1)return n.TRANSPARENT;r=n.OPAQUE}return r}function c(t){let r=n.INVISIBLE;for(const{material:e}of t)if(f(e)){switch(e.objectTransparency){case n.TRANSPARENT:case n.INVISIBLE:return n.TRANSPARENT;case n.OPAQUE:if(e.opacity<1)return n.TRANSPARENT}r=n.OPAQUE}return r}function f(t){return t.size*t.color[3]*t.opacity>0}function u(t){return t.size*t.color[3]>0}function s(t,r,e,n){return e*(n/t)*2*Math.tan(.5*r)}function l(r,e){const n=t(r,e,!0);return-1===n?e<r[0]?0:r.length:n}function a(t,r,e){return t.length-l(t,r*e.minimumEdgeLength)}function m(t,r,e,n){for(let o=0;o<t.length;o++){const i=t[o].index,c=r[o],f=r[o+1];if(n)for(let t=c;t<f;t++){const r=n[t];e.set(r,i)}else for(let t=c;t<f;t++)e.set(t,i)}}export{a as computeEdgeCount,i as determineEdgeTransparency,c as determineObjectTransparency,o as determineRendererType,s as estimateLengthAtDistance,m as fillComponenBufferIndices};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Accessor.js\";import{equals as r}from\"../../../../../core/arrayUtils.js\";import s from\"../../../../../core/Logger.js\";import{clamp as o}from\"../../../../../core/mathUtils.js\";import{disposeMaybe as n,destroyMaybe as i,isNone as a,isSome as c}from\"../../../../../core/maybe.js\";import{createAbortError as d}from\"../../../../../core/promiseUtils.js\";import{property as l}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as m}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{f as g,t as u,e as h}from\"../../../../../chunks/mat3.js\";import{c as p}from\"../../../../../chunks/mat3f64.js\";import{I as f,c as b}from\"../../../../../chunks/mat4f64.js\";import{s as y,c as j,v as O,e as v}from\"../../../../../chunks/vec3.js\";import{c as w}from\"../../../../../chunks/vec3f64.js\";import{WatchUpdatingTracking as E}from\"../../../../../core/support/WatchUpdatingTracking.js\";import{g as R,d as x}from\"../../../../../chunks/sphere.js\";import{c as T}from\"../../../../../chunks/vec33.js\";import{ViewingMode as _}from\"../../../../ViewingMode.js\";import{encodeElevationOffset as M}from\"../../collections/Component/Material/shader/ComponentData.glsl.js\";import{TwoVectorPosition as C}from\"../../core/util/TwoVectorPosition.js\";import{GridLocalOriginFactory as D}from\"../GridLocalOriginFactory.js\";import{applyToModelMatrix as P}from\"../localOriginHelper.js\";import{LocalOriginManager as S}from\"../LocalOriginManager.js\";import{Object3D as A}from\"../Object3D.js\";import{VertexAttribute as k}from\"../VertexAttribute.js\";import{VertexLayout as B,EdgeShaderAttributeLocations as I,glVertexLayout as U,EdgeInputBufferLayout as L}from\"./bufferLayouts.js\";import{RegularEdgeBufferWriter as V,SilhouetteEdgeBufferWriter as N}from\"./edgeBufferWriters.js\";import{EdgeType as H}from\"./edgePreprocessing.js\";import{EdgeRenderer as z,LINE_WIDTH_FRACTION_FACTOR as W,EXTENSION_LENGTH_OFFSET as q}from\"./EdgeRenderer.js\";import{EdgePassParameters as G}from\"./EdgeShaderParameters.js\";import K from\"./EdgeWorkerHandle.js\";import{Transparency as F}from\"./interfaces.js\";import{generateStrokesTexture as Q}from\"./strokes.js\";import{determineRendererType as J,determineEdgeTransparency as X,determineObjectTransparency as Y,fillComponenBufferIndices as Z,computeEdgeCount as $}from\"./util.js\";import{BufferManager as ee}from\"../TextureBackedBuffer/BufferManager.js\";import{BufferObject as te}from\"../../../../webgl/BufferObject.js\";import{Usage as re}from\"../../../../webgl/enums.js\";import{VertexArrayObject as se}from\"../../../../webgl/VertexArrayObject.js\";const oe=s.getLogger(\"esri.views.3d.webgl-engine.lib.edgeRendering.EdgeView\");let ne=class extends t{constructor(e){super(e),this.updatingHandles=new E,this.perObjectData=new Map,this.perObjectDataEvictionCache=new Set,this.renderers=new Map,this.numberOfRenderedEdges={[F.TRANSPARENT]:0,[F.OPAQUE]:0},this.gpuMemoryUsage=0,this.workerAbort=new AbortController,this.tmpModelPosition=w(),this.localOrigins=new S(new D(e.renderSR))}initialize(){this.worker=new K(this.schedule),this.componentColorManager=new ee(this.rctx,3);const e=B.createBuffer(4);for(let t=0;t<4;t++)e.sideness.set(t,0,0===t||3===t?0:1),e.sideness.set(t,1,0===t||1===t?0:1);this.verticesBufferObject=te.createVertex(this.rctx,re.STATIC_DRAW,e.buffer)}destroy(){this.destroyed||(this.perObjectData.forEach((e=>this._discardObjectEntry(e))),this.perObjectData.clear(),this.strokesTexture=n(this.strokesTexture),this.componentColorManager=i(this.componentColorManager),this.workerAbort.abort(),this.worker.destroy(),this.verticesBufferObject=n(this.verticesBufferObject),this.renderers.clear(),this.updatingHandles.destroy())}get updating(){return this.updatingHandles.updating}get usedMemory(){return this.gpuMemoryUsage}get numberOfRenderedPrimitives(){return this.numberOfRenderedEdges[F.TRANSPARENT]+this.numberOfRenderedEdges[F.OPAQUE]}shouldRender(){return this.renderers.size>0}async addComponentObject(e,t,r,s,o,n,i,a){if(this.hasObject(e))return this.getObjectMemoryUsage(e);let c;const d=new ce(new Promise((e=>c=e)),r.center,r.radius);this.perObjectData.set(e,d);const l=await this.updatingHandles.addPromise(this._addComponentGeometry(t,d,s,o,n,i,a));return this.setNeedsRender(),c(),l}async addOrUpdateObject3D(e,t,r,s){if(this.destroyed)return void oe.warn(\"Attempt to add an object to a destroyed instance\");const o=this.perObjectData.get(e);let n;o?.renderables.length>0&&this.perObjectDataEvictionCache.add(o);const i=e.boundingVolumeWorldSpace.bounds,a=new ce(new Promise((e=>n=e)),R(i),x(i));this.perObjectData.set(e,a);const c=new Array;if(r.mergeGeometries&&e.geometries.length>1&&ae(e))c.push(this._addObjectMergedGeometries(e,a,t,r,s));else for(let d=0;d<e.geometries.length;d++){const o=e.geometryRecords[d];if(!o.material.supportsEdges)continue;const n=e.geometries[d];c.push(this._addGeometry(e,a,n,o,t[0],r,s))}await this.updatingHandles.addPromise(Promise.all(c)),this.perObjectDataEvictionCache.delete(a),this._discardObjectEntry(o),this.setNeedsRender(),n()}_discardObjectEntry(e){e&&(e.renderables.length&&(e.renderables.forEach((e=>this._removeRenderable(e))),this.setNeedsRender()),e.loaded=null)}hasObject(e){return this.perObjectData.has(e)}async updateAllComponentOpacities(e,t){const r=t instanceof Array?e=>t[e]:()=>t;(await this.updatingHandles.addPromise(this._getObjectEntry(e))).renderables.forEach((e=>{const t=e.components.meta.length;for(let s=0;s<t;s++){const t=r(s),o=e.components.meta[s],n=o.index;o.material.opacity=t,e.components.buffer.textureBuffer.setDataElement(n,1,3,255*t)}this._updateTransparency(e)})),this.setNeedsRender()}async getObjectMemoryUsage(e){return(await this._getObjectEntry(e)).renderables.reduce(((e,t)=>e+t.statistics.gpuMemoryUsage),0)}async updateAllComponentMaterials(e,t,r,s){const o=e instanceof A,n=!!r.hasSlicePlane,i=J(t),a=z.getKey(i,n,o);(await this.updatingHandles.addPromise(this._getObjectEntry(e))).renderables.forEach((e=>{if(a!==e.rendererKey){const t=this.renderers.get(e.rendererKey),r=this._acquireRenderer(i,n,o);t.removeRenderable(e),t.refCount.decrement(),e.rendererKey=a,r.addRenderable(e)}for(let r=0;r<t.length;r++)e.components.meta[r].material=t[r];s&&this._updateComponentBuffer(e.components),this._updateTransparency(e)})),this.setNeedsRender()}async updateAllVerticalOffsets(e,t){(await this.updatingHandles.addPromise(this._getObjectEntry(e))).renderables.forEach((e=>{const r=e.components.meta;for(let s=0;s<r.length;s++)e.components.meta[s].verticalOffset=t?.[s]??0;this._updateComponentBuffer(e.components)})),this.setNeedsRender()}async updateObjectVisibility(e,t){(await this.updatingHandles.addPromise(this._getObjectEntry(e))).renderables.forEach((e=>e.visible=t)),this.setNeedsRender()}removeObject(e){const t=this.perObjectData.get(e);t&&(this.perObjectData.delete(e),this._discardObjectEntry(t))}async _getObjectEntry(e){const t=this.perObjectData.get(e);if(!t)throw\"no object\";if(await t.loaded,null==t.loaded)throw d();return t}removeAll(){this.perObjectData.forEach(((e,t)=>this.removeObject(t)))}render(e,t){if(this.numberOfRenderedEdges[t]=0,a(this.componentColorManager))return;this.localOrigins.updateViewMatrices(e.camera.viewMatrix);const r=e.camera.viewInverseTransposeMatrix,s=w(),o=new C;let n=0,i=0;if(this.renderers.forEach((r=>{0===r.refCount.value?(this.renderers.delete(r.key),r.dispose()):r.forEachRenderable((t=>{t.visible&&(n+=t.statistics.averageEdgeLength,i++,t.regular&&r.updateTechnique(e,!1),t.silhouette&&r.updateTechnique(e,!0))}),t)})),this.componentColorManager.garbageCollect(),this.componentColorManager.updateTextures(),0===i)return;const c=40*n/i,d=e.camera.perScreenPixelRatio,l=new G(c,d,t);y(s,r[3],r[7],r[11]),o.set(s),j(l.transformWorldFromViewTH,o.high),j(l.transformWorldFromViewTL,o.low),g(l.transformViewFromCameraRelativeRS,e.camera.viewMatrix),u(de,l.transformViewFromCameraRelativeRS),h(l.transformNormalViewFromGlobal,de),l.transformProjFromView=e.camera.projectionMatrix,this._updateObjectCameraDistances(e),this.renderers.forEach((t=>{this._renderRegularEdges(t,e,l),this._renderSilhouetteEdges(t,e,l)}))}_updateTransparency(e){const t=X(e.components.meta),r=Y(e.components.meta);t===e.edgeTransparency&&r===e.objectTransparency||(e.edgeTransparency=t,e.objectTransparency=r,this.renderers.get(e.rendererKey).setRenderablesDirty())}_computeModelTransformWithLocalOrigin(e,t,r){if(e.getCombinedStaticTransformation(t,r),c(t.origin))this.localOrigins.register(t.origin);else{const e=y(this.tmpModelPosition,r[12],r[13],r[14]);t.origin=this.localOrigins.acquire(e)}return P(t.origin.vec3,r),t.origin}_updateComponentBuffer(e){const{meta:t,buffer:r}=e,s=new Uint8Array(4);for(let n=0;n<t.length;n++){const e=t[n].material,i=t[n].index,a=o(Math.round(e.size*W),0,255),c=o(e.extensionLength,-q,255-q)+q,d=\"solid\"===e.type?H.SOLID:H.SKETCH,l=255*e.opacity,m=e.color,g=255*m[0],u=255*m[1],h=255*m[2],p=255*m[3];r.textureBuffer.setData(i,0,g,u,h,p),r.textureBuffer.setData(i,1,a,c,d,l),M(t[n].verticalOffset,s),r.textureBuffer.setData(i,2,s[0],s[1],s[2],s[3])}}_createComponentBuffers(e){if(a(this.componentColorManager))return null;const t=new Array,r=this.componentColorManager.getBuffer(e.length);for(let o=0;o<e.length;o++){const s=e[o],n=r.acquireIndex();t.push({index:n,verticalOffset:0,material:s})}const s={meta:t,buffer:r};return this._updateComponentBuffer(s),s}_extractEdges(e,t,r,s,o,n=o.length){return this.worker.process({data:t,indices:o,indicesLength:n,writerSettings:e,skipDeduplicate:r},this.workerAbort.signal,s)}_createEdgeResources(e){const t={};if(a(this.verticesBufferObject))return t;if(e.regular.lodInfo.lengths.length>0){const r=new se(this.rctx,I,{vertices:U,instances:V.glLayout},{vertices:this.verticesBufferObject,instances:te.createVertex(this.rctx,re.STATIC_DRAW,e.regular.instancesData.buffer)});t.regular={vao:r,lod:e.regular.lodInfo}}if(e.silhouette.lodInfo.lengths.length>0){const r=new se(this.rctx,I,{vertices:U,instances:N.glLayout},{vertices:this.verticesBufferObject,instances:te.createVertex(this.rctx,re.STATIC_DRAW,e.silhouette.instancesData.buffer)});t.silhouette={vao:r,lod:e.silhouette.lodInfo}}return t}async _addGeometry(e,t,r,s,o,n,i){const a=r.vertexAttributes.get(k.POSITION),c=r.indices.get(k.POSITION),d=b(),l={position:a,indices:c,modelTransform:d,origin:this._computeModelTransformWithLocalOrigin(e,s,d)};return this._addPositionData(t,l,r.edgeIndicesLength,o,n,i)}async _addPositionData(e,t,r,s,o,n=!1){if(null==e.loaded)return;const i=this._createComponentBuffers([s]);if(a(i)||r<=0)return;const c=this._acquireRenderer(s.type,!!o.hasSlicePlane,!0),{modelTransform:d,origin:l}=t,m=t.indices,g=t.position,u=g.data.length/g.size,h=L.createBuffer(u);for(let a=0;a<u;a++)h.position.set(a,0,g.data[a*g.size+0]),h.position.set(a,1,g.data[a*g.size+1]),h.position.set(a,2,g.data[a*g.size+2]);Z(i.meta,[0,h.componentIndex.count],h.componentIndex);const p=await this.updatingHandles.addPromise(this._extractEdges(c.writerSettings,h,!1,n,m,r));if(null==e.loaded)return;const{regular:f,silhouette:b}=this._createEdgeResources(p),y=(f?f.vao.size:0)+(b?b.vao.size:0),j={regular:f,silhouette:b,transform:{modelMatrix:d,origin:l},statistics:{gpuMemoryUsage:y,externalMemoryUsage:!1,averageEdgeLength:p.averageEdgeLength},components:i,visible:!0,edgeTransparency:X(i.meta),objectTransparency:Y(i.meta),distanceToCamera:0,rendererKey:c.key};e.renderables.push(j),c.addRenderable(j),this.gpuMemoryUsage+=y}async _addComponentGeometry(e,t,r,s,o,n,i){if(null==t.loaded)return 0;const c=this._createComponentBuffers(n);if(a(c))return 0;const d=J(n),l=this._acquireRenderer(d,i.hasSlicePlane||!1,!1),m=L.createBuffer(r.count);T(m.position,r),Z(c.meta,o,m.componentIndex,s);const g=!0,u=l.writerSettings,h=await this.updatingHandles.addPromise(this._extractEdges(u,m,g,!1,s));if(null==t.loaded)return 0;const{regular:p,silhouette:f}=this._createEdgeResources(h),b=(p?p.vao.size:0)+(f?f.vao.size:0),y={regular:p,silhouette:f,transform:e,statistics:{gpuMemoryUsage:b,externalMemoryUsage:!0,averageEdgeLength:h.averageEdgeLength},components:c,visible:!0,edgeTransparency:X(c.meta),objectTransparency:Y(c.meta),distanceToCamera:0,rendererKey:l.key};return t.renderables.push(y),l.addRenderable(y),b}async _addObjectMergedGeometries(e,t,r,s,o){const n=new Map;let i=0,a=null,c=0;for(let b=0;b<e.geometries.length;b++){const t=e.geometries[b],r=e.geometryRecords[b];if(!r.material.supportsEdges)continue;!a&&r.origin&&(a=r);const s=t.vertexAttributes.get(k.POSITION);c+=s.data.length/s.size,i+=t.edgeIndicesLength}const d=c>=65536?Uint32Array:Uint16Array,l=i?new d(i):null,m=[];let g=0;for(let b=0;b<e.geometries.length;b++){const t=e.geometries[b];if(!e.geometryRecords[b].material.supportsEdges)continue;const r=t.vertexAttributes.get(k.POSITION),s=t.indices.get(k.POSITION);let o=n.get(r.data);if(null==o){o=m.length/3;for(let e=0;e<r.data.length;e+=r.size)m.push(r.data[e+0]),m.push(r.data[e+1]),m.push(r.data[e+2]);n.set(r.data,o)}if(s)for(let e=0;e<t.edgeIndicesLength;e++)l[g++]=o+s[e]}const u=a||e.geometryRecords[0],h=b(),p=this._computeModelTransformWithLocalOrigin(e,u,h);for(let b=0;b<e.geometryRecords.length;b++)e.geometryRecords[b].origin=p;const f={position:{data:m,size:3},indices:l,modelTransform:h,origin:p};await this.updatingHandles.addPromise(this._addPositionData(t,f,l.length,r[0],s,o))}_acquireRenderer(e,t,r){const s=z.getKey(e,t,r);let o=this.renderers.get(s);return a(this.strokesTexture)&&(this.strokesTexture=Q(this.rctx)),o||(o=new z(this.rctx,this.techniqueRepository,{type:e,hasSlicePlane:t,strokesTexture:this.strokesTexture,legacy:r,spherical:this.viewingMode===_.Global}),this.renderers.set(s,o)),o.refCount.increment(),o}_removeRenderable(e){ie(e);const t=this.renderers.get(e.rendererKey);if(t){t.removeRenderable(e),t.refCount.decrement(),\"origin\"in e.transform&&this.localOrigins.release(e.transform.origin),this.gpuMemoryUsage-=e.statistics.externalMemoryUsage?0:e.statistics.gpuMemoryUsage;for(const t of e.components.meta)e.components.buffer.releaseIndex(t.index)}}_updateObjectCameraDistances(e){const t=e.camera.eye,r=e.camera.viewForward,s=w(),o=e=>{const{center:o,radius:n}=e;O(s,o,t);const i=v(s,r),a=i<-n?1/0:i<n?0:i-n;e.renderables.forEach((e=>e.distanceToCamera=a))};this.perObjectData.forEach(o),this.perObjectDataEvictionCache.forEach(o)}_renderRegularEdges(e,t,r){const s=e.bindRegularEdges(r,t),o=r.transparency;e.forEachRenderable((n=>{if(!n.visible||!n.regular)return;const i=$(n.regular.lod.lengths,n.distanceToCamera,r),a=\"origin\"in n.transform?this.localOrigins.getViewMatrix(n.transform.origin):f;e.renderRegularEdges(s,n,t,i,a),this.numberOfRenderedEdges[o]+=i}),o)}_renderSilhouetteEdges(e,t,r){const s=e.bindSilhouetteEdges(r,t),o=r.transparency;e.forEachRenderable((n=>{if(!n.visible||!n.silhouette)return;const i=$(n.silhouette.lod.lengths,n.distanceToCamera,r),a=\"origin\"in n.transform?this.localOrigins.getViewMatrix(n.transform.origin):f;e.renderSilhouetteEdges(s,n,t,i,a),this.numberOfRenderedEdges[o]+=i}),o)}};function ie(e){e.regular&&(e.regular.vao.vertexBuffers.instances.dispose(),e.regular.vao.dispose(!1),e.regular.vao=null),e.silhouette&&(e.silhouette.vao.vertexBuffers.instances.dispose(),e.silhouette.vao.dispose(!1),e.silhouette.vao=null)}function ae(e){let t=null,s=null;for(let o=0;o<e.geometries.length;o++){const n=e.geometryRecords[o];if(n.material.supportsEdges){if(t){if(!r(t,n.transformation))return!1}else t=n.transformation;if(!s&&c(n.origin))s=n;else if(c(s?.origin)&&c(n.origin)&&s.origin.id!==n.origin.id)return!1}}return!0}e([l({constructOnly:!0})],ne.prototype,\"rctx\",void 0),e([l({constructOnly:!0})],ne.prototype,\"renderSR\",void 0),e([l({constructOnly:!0})],ne.prototype,\"viewingMode\",void 0),e([l({constructOnly:!0})],ne.prototype,\"techniqueRepository\",void 0),e([l({constructOnly:!0})],ne.prototype,\"setNeedsRender\",void 0),e([l({constructOnly:!0})],ne.prototype,\"schedule\",void 0),e([l({readOnly:!0})],ne.prototype,\"updatingHandles\",void 0),e([l({readOnly:!0})],ne.prototype,\"updating\",null),ne=e([m(\"esri.views.3d.webgl-engine.lib.edgeRendering.EdgeView\")],ne);class ce{constructor(e,t,r){this.center=t,this.radius=r,this.renderables=new Array,this.loaded=e,this.loaded.then((()=>{null!=this.loaded&&(this.loaded=!0)}))}}const de=p();export{ne as EdgeView};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../core/maybe.js\";function e(e){const u=e.capabilities.disjointTimerQuery;return t(u)?null:u.timestampBits()>0?new i(u):r?null:new s(u)}class i{constructor(t){this.timer=t,this.start=t.createQuery(),t.createTimestamp(this.start)}stop(t,e=50){this.end=this.timer.createQuery(),this.timer.createTimestamp(this.end),this._checkQueryResult(t,e)}_checkQueryResult(t,e){if(!this.timer.resultAvailable(this.end))return void setTimeout((()=>this._checkQueryResult(t,e)),e);if(this.timer.disjoint())return void t(null);const i=this.timer.getResult(this.start),s=this.timer.getResult(this.end);t((s-i)/1e6)}}class s{constructor(t){this.timer=t,this.query=t.createQuery(),r=!0,this.timer.beginTimeElapsed(this.query)}stop(t,e=50){this.timer.endTimeElapsed(),r=!1,this._checkQueryResult(t,e)}_checkQueryResult(t,e){const i=this.timer.resultAvailable(this.query),s=this.timer.disjoint();if(!i||s)s?t(null):setTimeout((()=>this._checkQueryResult(t,e)),e);else{const e=this.timer.getResult(this.query);t(e/1e6)}}}let r=!1;export{e as startMeasurement};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import r from\"../../../../core/PerformanceSampler.js\";import{Milliseconds as t}from\"../../../../core/time.js\";import{once as s}from\"../../../../core/accessorSupport/utils.js\";import{startMeasurement as a}from\"../../../webgl/Measurement.js\";var i;!function(e){e[e.Prepare=0]=\"Prepare\",e[e.Shadowmap=1]=\"Shadowmap\",e[e.Lineardepth=2]=\"Lineardepth\",e[e.Normals=3]=\"Normals\",e[e.SSAO=4]=\"SSAO\",e[e.Opaque=5]=\"Opaque\",e[e.OpaqueEdges=6]=\"OpaqueEdges\",e[e.Transparent=7]=\"Transparent\",e[e.TransparentEdges=8]=\"TransparentEdges\",e[e.Hudvisibility=9]=\"Hudvisibility\",e[e.TransparentTerrain=10]=\"TransparentTerrain\",e[e.Atmosphere=11]=\"Atmosphere\",e[e.Laserline=12]=\"Laserline\",e[e.Occluded=13]=\"Occluded\",e[e.Antialiasing=14]=\"Antialiasing\",e[e.Highlights=15]=\"Highlights\",e[e.HudOccluded=16]=\"HudOccluded\",e[e.HudNotoccluded=17]=\"HudNotoccluded\"}(i||(i={}));const n=[\"prepare\",\"shadowmap\",\"lineardepth\",\"normals\",\"ssao\",\"opaque\",\"opaque edges\",\"transparent\",\"transparent edges\",\"hudvisibility\",\"transparent terrain\",\"atmosphere\",\"laserline\",\"occluded\",\"antialiasing\",\"highlights\",\"hudOccluded\",\"hudNotoccluded\"];class o extends r{constructor(){super(\"total\"),this.total=0,this.frameCount=0}}class m{constructor(){this._startTime=t(0),this._lastSample=t(0),this._enableGPUTimer=0,this.totalTime=new o,this.gpuTime=new r(\"gpu\",9),this.renderPassTimings=n.map((e=>new r(e)))}get elapsedTime(){return t(performance.now()-this._startTime)}enableGPUTimer(){return++this._enableGPUTimer,{remove:s((()=>--this._enableGPUTimer))}}prerender(e){this._startTime=this._lastSample=t(performance.now()),this._enableGPUTimer&&(this._gpuTimer=a(e))}advance(e){const r=t(performance.now());this.renderPassTimings[e].record(r-this._lastSample),this._lastSample=r}postrender(){e(this._gpuTimer)&&(this._gpuTimer.stop((r=>e(r)&&this.gpuTime.record(r)),16),this._gpuTimer=null);const r=performance.now()-this._startTime;this.totalTime.record(r),this.totalTime.total+=r,this.totalTime.frameCount++}}export{o as RenderTime,m as RendererPerformanceInfo,i as Statistics,n as performanceStatsCategories};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{update as t}from\"../../../../core/arrayUtils.js\";import s from\"../../../../core/Handles.js\";import{someMap as i}from\"../../../../core/MapUtils.js\";import{destroyMaybe as n,disposeMaybe as a,isSome as h,isNone as d,applySome as o,unwrap as _}from\"../../../../core/maybe.js\";import{watch as l,syncAndInitial as c,initial as p,sync as m}from\"../../../../core/reactiveUtils.js\";import{Milliseconds as g}from\"../../../../core/time.js\";import{property as u}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as f}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{v as T,a as R,m as A}from\"../../../../chunks/mat4.js\";import{I as E,c as P}from\"../../../../chunks/mat4f64.js\";import{c as b}from\"../../../../chunks/boundedPlane.js\";import{MAXIMUM_ANIMATION_LOAD as S,MINIMUM_IDLE_ANIMATION_MS as w}from\"../../support/animationUtils.js\";import H from\"../../support/debugFlags.js\";import{RenderPassManager as M}from\"../core/renderPasses/RenderPassManager.js\";import{HUDTransparentRenderStyle as x}from\"../core/shaderLibrary/hud/HUDUniforms.js\";import{AntiAliasingMode as C,TransparencyPassType as I,Decorations as O,RenderRequestType as D,StencilBits as L}from\"./basicInterfaces.js\";import{BoundingInfo as y}from\"./BoundingInfo.js\";import{ZERO as v,union as N}from\"./depthRange.js\";import{depthRangeFromScene as U}from\"./depthRangeUtils.js\";import{createEmptyDepthTexture as j}from\"./glUtil3D.js\";import{Highlight as q}from\"./Highlight.js\";import{RenderOccludedFlag as V}from\"./Material.js\";import{OffscreenRendering as F}from\"./OffscreenRendering.js\";import{RenderContext as G}from\"./RenderContext.js\";import{splitRenderGeometryChangeSetByMaterial as B}from\"./rendererUtils.js\";import{RenderPass as W}from\"./RenderPass.js\";import{RenderPluginManager as k}from\"./RenderPluginManager.js\";import{RenderSlot as Q}from\"./RenderSlot.js\";import{ShadowAccumulator as z}from\"./ShadowAccumulator.js\";import{ShadowHighlight as X}from\"./ShadowHighlight.js\";import{ShadowMap as Y,SnapshotSlot as K}from\"./ShadowMap.js\";import J from\"./SliceHelper.js\";import{SmaaRenderPass as Z}from\"./SmaaRenderPass.js\";import{SSAOHelper as $}from\"./SSAOHelper.js\";import{EdgeView as ee}from\"./edgeRendering/EdgeView.js\";import{Transparency as re}from\"./edgeRendering/interfaces.js\";import{MergedRenderer as te}from\"../materials/renderers/MergedRenderer.js\";import{AlphaMode as se}from\"../shaders/CompositingTechniqueConfiguration.js\";import{RendererPerformanceInfo as ie,Statistics as ne}from\"../statistics/RendererPerformanceInfo.js\";import{ClearBufferBit as ae,PixelFormat as he,PixelType as de}from\"../../../webgl/enums.js\";const oe=.9;let _e=class extends r{constructor(e,r,t,i,n,a,h,d,o){super({}),this._materialRepository=e,this._shaderTechniqueRepository=t,this._rctx=i,this._compositingHelper=n,this._magnifierHelper=a,this._requestRender=h,this._stage=o,this._materialRenderers=new Map,this._needsTransparentPass=!1,this._hasHUDElements=!1,this._hasHighlights=!1,this._hasWater=!1,this._hasOverlayWater=!1,this._content=new Map,this._isRendering=!1,this._fallbackDepthStencilTexture=null,this.performanceInfo=new ie,this._antialiasing=C.SMAA,this._oitEnabled=!1,this._multipassTerrain=!0,this._transparentTerrain=!1,this._hasAnimations=!1,this._animationTimestep=g(0),this._handles=new s,this._renderHiddenTransparentEdges=()=>{},this._oitUsed=!1,this._smaaPass=new Z(this._rctx,t),this._oitEnabled=this._hasOITSupport,this._requestRender(),this._offscreenRendering=new F(this._rctx,this._compositingHelper),this._sliceHelper=new J,this._shadowMap=new Y(this._rctx,o.viewingMode,2),this._ssaoHelper=new $(t,this._rctx,(()=>this._requestRender())),this._highlight=new q(t,this._rctx),this._shadowHighlight=new X(this._rctx,o.viewingMode),this._shadowAccumulator=new z(this._rctx,t,o,(e=>{const r=this.shadowsEnabled;this._shadowMap.enabled=!0,this._ensureCameraBindParameters(e.camera,e.contentCamera),this._renderPlugins.prepareRender(),this._shadowMap.enabled=r}),((e,r,t)=>{e.shadowMap.start(e.camera,r,t),this._renderShadowCascades(W.MATERIAL_DEPTH_SHADOWMAP_ALL,e.shadowMap),e.camera.setGLViewport(this._rctx),this._ensureCameraBindParameters(e.camera,e.contentCamera)}),(()=>this._requestRender())),this._renderContext=new G(this._rctx,this._offscreenRendering,this._shadowMap,this._ssaoHelper,this._sliceHelper),this._renderPlugins=new k({renderContext:this._renderContext,shaderTechniqueRepository:t,textureRep:r,materialRep:this._materialRepository,requestRender:this._requestRender,schedule:d}),this.renderPassManager=new M(this._rctx,this._shaderTechniqueRepository),this._renderPlugins.add(this.renderPassManager.slots(),this.renderPassManager),this._handles.add([l((()=>this._stage.state.camera),(()=>this._requestRender()),c),l((()=>H.EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES),(e=>{this._renderHiddenTransparentEdges=e?()=>this._renderEdges(re.TRANSPARENT):()=>{},this._requestRender()}),p)])}get _bindParameters(){return this._renderContext.bindParameters}get hasWater(){return this._hasWater||this._hasOverlayWater}get hasWaterReflection(){return this.hasWater&&this._waterReflectionEnabled}normalizeCtorArgs(){return{}}dispose(){this._handles.destroy(),this._smaaPass.dispose(),this._materialRenderers.forEach((e=>e.dispose())),this._materialRenderers.clear(),this._edgeView=n(this._edgeView),this._offscreenRendering.dispose(),this._fallbackDepthStencilTexture=a(this._fallbackDepthStencilTexture),this._shadowMap.enabled=!1,this._shadowMap.dispose(),this._ssaoHelper.enabled=!1,this._ssaoHelper.dispose(),this._highlight.dispose(),this._shadowHighlight.dispose(),this._shadowAccumulator.dispose(),y.prune(),this._content.clear()}disposeOffscreenBuffers(){this._offscreenRendering.dispose(),this._shadowMap.dispose(),this._smaaPass.disable(),this._ssaoHelper.disposeOffscreenBuffers()}get updating(){return this._antialiasing===C.SMAA&&this._smaaPass.updating||h(this._edgeView)&&this._edgeView.updating||this._shadowAccumulator.running||!this.isCameraFinal}ensureEdgeView(){return d(this._edgeView)&&(this._edgeView=new ee({rctx:this._rctx,renderSR:this._stage.renderSR,viewingMode:this._stage.viewingMode,techniqueRepository:this._shaderTechniqueRepository,setNeedsRender:()=>this._requestRender(),schedule:e=>this._stage.resourceController.schedule(e)}),this._handles.add(l((()=>o(this._edgeView,(e=>e.updating))),(()=>this._requestRender()),m)),this._requestRender()),this._edgeView}get edgeView(){return this._edgeView}get isCameraFinal(){return T(this._bindParameters.ssr.reprojectionMatrix,E)}set _reprojectionMatrix(e){t(this._bindParameters.ssr.reprojectionMatrix,e)&&this.notifyChange(\"isCameraFinal\")}get shadowsEnabled(){return!!this._shadowMap?.enabled}setRenderParameters(e){const{_shadowMap:r,_ssaoHelper:t,_bindParameters:s}=this;if(void 0!==e.screenSpaceReflectionsEnabled&&s.ssr.enabled!==e.screenSpaceReflectionsEnabled&&(s.ssr.enabled=e.screenSpaceReflectionsEnabled,this._requestRender()),void 0!==e.shadowMap&&r.enabled!==e.shadowMap&&(r.enabled=e.shadowMap,this._requestRender()),void 0!==e.shadowMapMaxCascades&&r.maxCascades!==e.shadowMapMaxCascades&&(r.maxCascades=e.shadowMapMaxCascades,this._requestRender()),h(e.environment)){h(e.environment.weather)&&(this._bindParameters.weather=e.environment.weather,this._bindParameters.weatherVisible=e.weatherVisible,this._renderContext.bindParameters.weather=e.environment.weather,this._renderContext.bindParameters.weatherVisible=e.weatherVisible),void 0!==e.environment.lighting.ambientOcclusionEnabled&&t.enabled!==e.environment.lighting.ambientOcclusionEnabled&&(t.enabled=e.environment.lighting.ambientOcclusionEnabled,this._requestRender()),void 0!==e.environment.lighting.waterReflectionEnabled&&this._waterReflectionEnabled!==e.environment.lighting.waterReflectionEnabled&&(this._waterReflectionEnabled=e.environment.lighting.waterReflectionEnabled,this._requestRender());const r=\"sun\"===e.environment.lighting.type;s.enableFillLights!==r&&(s.enableFillLights=r,this._requestRender())}e.background&&this._offscreenRendering.background!==e.background&&(this._offscreenRendering.background=e.background,this._requestRender());const i=e.antialiasingEnabled?C.SMAA:C.NONE;void 0!==e.antialiasingEnabled&&this._antialiasing!==i&&(this._antialiasing=i,this._requestRender()),void 0!==e.highQualityTransparency&&this._multipassTerrain!==e.highQualityTransparency&&(this._multipassTerrain=e.highQualityTransparency,this._oitEnabled=e.highQualityTransparency&&this._hasOITSupport,this._requestRender()),void 0!==e.defaultHighlightOptions&&(this._highlight.setDefaultOptions(e.defaultHighlightOptions),this._shadowHighlight.setDefaultOptions(e.defaultHighlightOptions),this._requestRender()),void 0!==e.overlays&&this._bindParameters.overlays!==e.overlays&&(this._bindParameters.overlays=e.overlays,this._requestRender()),void 0!==e.slicePlane&&this._sliceHelper.plane!==e.slicePlane&&(this._sliceHelper.plane=_(e.slicePlane),this._requestRender()),void 0!==e.transparentTerrain&&this._transparentTerrain!==e.transparentTerrain&&(this._transparentTerrain=e.transparentTerrain,this._requestRender()),void 0!==e.hasOverlayWater&&this._hasOverlayWater!==e.hasOverlayWater&&(this._hasOverlayWater=e.hasOverlayWater,this._requestRender()),void 0!==e.shadowCastOptions&&this._shadowAccumulator.setOptions(e.shadowCastOptions)}get hasSlicePlane(){return!!this._sliceHelper.plane}get renderPlugins(){return this._renderPlugins}get _hasOITSupport(){return this._rctx.driverTest.floatBufferBlendWorking}modify(e){this._isRendering&&console.warn(\"Renderer.modify called while rendering\");const{adds:r,removes:t,updates:s}=e;if(0===r.length&&0===t.length&&0===s.length)return;t.forAll((({id:e})=>this._content.delete(e))),r.forAll((e=>this._content.set(e.id,e)));const n=B(e);let a=!1;n.forEach(((e,r)=>{let t=this._materialRenderers.get(r);if(!t){if(!(e.adds.length>0))return;t=new te(this._rctx,this._materialRepository,r),this._materialRenderers.set(r,t)}t.modify(e),t.isEmpty&&(a=!0)})),a&&this._materialRenderers.forEach(((e,r)=>{e.isEmpty&&(this._materialRenderers.delete(r),e.dispose())})),this._hasHighlights=i(this._materialRenderers,(e=>e.hasHighlights)),this._bindParameters.hasOccludees=i(this._materialRenderers,(e=>e.hasOccludees)),this._hasWater=i(this._materialRenderers,(e=>e.hasWater)),this._needsTransparentPass=i(this._materialRenderers,(e=>e.requiresSlot(Q.TRANSPARENT_MATERIAL,W.MATERIAL))),this._hasHUDElements=i(this._materialRenderers,(e=>e.requiresSlot(Q.LINE_CALLOUTS_HUD_DEPTH,W.MATERIAL)||e.requiresSlot(Q.HUD_MATERIAL,W.MATERIAL)||e.requiresSlot(Q.LABEL_MATERIAL,W.MATERIAL))),this._requestRender()}updateAnimation(e){return this._hasAnimations=!1,this._materialRenderers.forEach((r=>this._hasAnimations=r.updateAnimation(e)||this._hasAnimations)),this._hasAnimations=this._renderPlugins.updateAnimation(e)||this._hasAnimations,this._hasAnimations}get animationTimestep(){return this._animationTimestep}updateLightSources(e,r,t){this._bindParameters.lighting.groundLightingFactor=r,this._bindParameters.lighting.globalFactor=t,this._bindParameters.lighting.set(e)}render(e,r,t,s){this._isRendering=!0,this.performanceInfo.prerender(this._rctx),this._bindParameters.transparencyPassType=I.NONE;const i=this._offscreenRendering;i.needLastFrameColorTexture=this.hasWaterReflection,i.advanceCurrentRenderTarget();const n=b(this._sliceHelper.plane);s===O.OFF&&(this._sliceHelper.plane=null),this._rctx.bindFramebuffer(e),r.setGLViewport(this._rctx),this._ensureCameraBindParameters(r,t),this._renderPlugins.prepareRender(),this.performanceInfo.advance(ne.Prepare);const a=this._computeDepthRange(r);this._renderShadowMap(e,r,this._bindParameters.lighting.lightingMainDirection,a),this.performanceInfo.advance(ne.Shadowmap),i.initializeFrame(r),this._ensureBindParameters(r,t),this._renderLinearDepth(),this.performanceInfo.advance(ne.Lineardepth),this._accumulateShadows(a,r,t),this._renderNormal(),this.performanceInfo.advance(ne.Normals),this._ensureBindParametersSSR(),this._ssaoHelper.computeSSAO(this._bindParameters,i.linearDepthTexture,i.normalTexture),this.performanceInfo.advance(ne.SSAO),this._renderContext.pass=W.MATERIAL,i.bindFramebuffer(),this._renderOpaqueGeometry(),this.performanceInfo.advance(ne.Opaque);const o=this._multipassTerrain&&this._transparentTerrain;this._renderTerrainLinearDepth(o),this._setMultipassEnabled(o),this._setTerrainCulling(o),this._renderEdges(re.OPAQUE),this.performanceInfo.advance(ne.OpaqueEdges),this._offscreenRendering.bindTarget(this._offscreenRendering.currentColorTarget,this._offscreenRendering.mainDepth),this._renderSlot(Q.VOXEL),this._renderHiddenTransparentEdges();const _=this._needsTransparentPass||this._renderPlugins.needsTransparentPass;_&&(this._oitEnabled?this._renderOrderIndependentTransparency((()=>this._renderTransparentGeometry()),!1):this._renderTransparentGeometry()),this.performanceInfo.advance(ne.Transparent),this._renderGeometryLinearDepth(o);const l=this._renderHUDVisibility();o||this._renderInternalSlot(Q.LINE_CALLOUTS),this.performanceInfo.advance(ne.Hudvisibility),this._renderEdges(re.TRANSPARENT,o),this.performanceInfo.advance(ne.TransparentEdges),this._renderTransparentTerrain(),this._transparentTerrain&&l&&(o?this._renderLineCallouts(x.Occluded):i.compositeTransparentTerrainOntoHUDVisibility(this._bindParameters),this._renderHUD(x.Occluded,i.framebuffer),this.performanceInfo.advance(ne.HudOccluded)),this.performanceInfo.advance(ne.TransparentTerrain),this._setTerrainCulling(!1),this._transparentTerrain&&(i.compositeTransparentTerrainOntoMain(this._bindParameters),o&&(this._renderEdges(re.OPAQUE),this.performanceInfo.advance(ne.OpaqueEdges),_&&(this._oitEnabled?this._renderOrderIndependentTransparency((()=>this._renderTransparentGeometry()),!1):this._renderTransparentGeometry()),this.performanceInfo.advance(ne.Transparent),this._renderEdges(re.TRANSPARENT),this.performanceInfo.advance(ne.TransparentEdges))),o&&this._renderLineCallouts(x.NotOccluded),this._setMultipassEnabled(!1),this._shadowAccumulator.render(this._bindParameters),i.renderToTargets((()=>{this._renderInternalSlot(Q.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL),this._renderSlot(Q.POSTPROCESSING_ENVIRONMENT_TRANSPARENT),this._renderSlot(Q.LASERLINES)}),i.currentColorTarget,i.mainDepth),this.performanceInfo.advance(ne.Atmosphere),this._renderPlugins.needsLaserlineWithContrastControl&&i.renderTmpAndCompositeToMain((()=>this._renderSlot(Q.LASERLINES_CONTRAST_CONTROL)),this._bindParameters,se.PremultipliedAlpha),this.performanceInfo.advance(ne.Laserline),this._renderOccluded(),this.performanceInfo.advance(ne.Occluded);const c=s===O.ON&&this._magnifierHelper.enabled,p=c&&d(e)?this._offscreenRendering.getFramebuffer(this._offscreenRendering.tmpColor,this._offscreenRendering.tmpDepth):e;this._rctx.bindFramebuffer(p);const m=this._offscreenRendering.colorTexture;!this._renderAntiAliasing(this._antialiasing,m)&&h(m)&&this._compositingHelper.composite(this._bindParameters,m,se.None),this.performanceInfo.advance(ne.Antialiasing),this._renderHUD(x.NotOccluded,p),this.performanceInfo.advance(ne.HudNotoccluded),this._renderHighlights(p,this._bindParameters),this.performanceInfo.advance(ne.Highlights),c&&this._magnifierHelper.render(this._rctx,this._bindParameters),p!==e&&(this._rctx.bindFramebuffer(e),this._compositingHelper.composite(this._bindParameters,this._offscreenRendering.tmpColorTexture,se.None)),this._disposeOITBuffers(),this._renderContext.lastFrameCamera.copyFrom(this._bindParameters.camera),this._sliceHelper.plane=n,this._isRendering=!1,this.onPostRender&&this.onPostRender(),this.performanceInfo.postrender()}finish(e){if(this._hasAnimations||(this._animationTimestep=g(0)),e===D.BACKGROUND){this._rctx.gl.getError();const e=this.performanceInfo.elapsedTime/S;this._animationTimestep=g(Math.max(this._animationTimestep*oe+e*(1-oe),w))}}readDepthPixels(e,r,t){const s=this._offscreenRendering.bindTarget(this._offscreenRendering.linearDepth,this._offscreenRendering.tmpDepth);if(!this._needsLinearDepth){this._ensureBindParameters(e,e),this._bindParameters.camera.setGLViewport(this._rctx),this._rctx.setClearColor(0,0,0,0);const r=ae.COLOR_BUFFER_BIT|ae.DEPTH_BUFFER_BIT|ae.STENCIL_BUFFER_BIT;this._rctx.clearSafe(r),this._renderGeometryAndTransparentTerrainPass(W.MATERIAL_DEPTH)}s.readPixels(r[0],r[1],r[2],r[3],he.RGBA,de.UNSIGNED_BYTE,t)}readHUDVisibility(e,r,t,s,i){this._offscreenRendering.bindTarget(this._offscreenRendering.hudVisibility).readPixels(e,r,t,s,he.RGBA,de.UNSIGNED_BYTE,i)}readAccumulatedShadow(e,r){return this._shadowAccumulator.readAccumulatedShadow(e,r)}_setMultipassEnabled(e){this._bindParameters.multipassTerrain.enabled=this._bindParameters.multipassGeometry.enabled=e}_setTerrainCulling(e){this._bindParameters.multipassTerrain.cullAboveGround=e}_renderSlot(e){this._bindParameters.slot=e,this._renderPlugins.render()}_renderEdges(e,r=!1){const t=this._edgeView;h(t)&&t.shouldRender()&&this._offscreenRendering.renderTmpAndCompositeToMain((()=>t.render(this._bindParameters,e)),this._bindParameters,se.Alpha,r)}_renderShadowMap(e,r,t,s){const i=this._shadowMap;i.enabled&&(i.start(r,t,s),this._shadowHighlight.updateParameters(r,t),this.needsShadowHighlight?(this._renderShadowCascades(W.MATERIAL_DEPTH_SHADOWMAP_HIGHLIGHT,this._shadowMap,(e=>i.takeCascadeSnapshotTo(e,K.Highlight))),i.clear(),this._renderShadowCascades(W.MATERIAL_DEPTH_SHADOWMAP_DEFAULT,this._shadowMap,(e=>{i.takeCascadeSnapshotTo(e,K.Default),this._renderGeometryAndTransparentTerrainPass(W.MATERIAL_DEPTH_SHADOWMAP_HIGHLIGHT)}))):this._renderShadowCascades(W.MATERIAL_DEPTH_SHADOWMAP_ALL),i.finish(e),r.setGLViewport(this._rctx))}_renderShadowCascades(e,r=this._shadowMap,t=(e=>{})){for(const s of r.getCascades())s.camera.setGLViewport(this._rctx),this._ensureCameraBindParameters(s.camera,s.camera),this._renderGeometryAndTransparentTerrainPass(e),t(s)}get _needsLinearDepth(){return this._ssaoHelper.enabled||this._renderPlugins.needsLinearDepth||this._hasWater&&this._waterReflectionEnabled||this.needsShadowHighlight||this.needsShadowCast}_renderLinearDepth(){this._needsLinearDepth?this._offscreenRendering.renderToTargets((()=>this._renderGeometryAndTransparentTerrainPass(W.MATERIAL_DEPTH)),this._offscreenRendering.linearDepth,this._offscreenRendering.tmpDepth,[0,0,0,0],!0,!0):this._offscreenRendering.disposeTarget(this._offscreenRendering.linearDepth),this._bindParameters.linearDepthTexture=this._offscreenRendering.linearDepthTexture}_renderTerrainLinearDepth(e){if(e){const e=this._renderContext.pass;this._renderContext.pass=W.MATERIAL_DEPTH,this._offscreenRendering.renderToTargets((()=>this._renderTransparentTerrain()),this._offscreenRendering.terrainLinearDepth,this._offscreenRendering.tmpDepth,[-1e10,-1e10,-1e10,1],!0,!0),this._renderContext.pass=e}else this._offscreenRendering.disposeTarget(this._offscreenRendering.terrainLinearDepth);this._bindParameters.multipassTerrain.linearDepthTexture=this._offscreenRendering.terrainLinearDepthTexture}_renderGeometryLinearDepth(e){if(e){const e=this._renderContext.pass;this._offscreenRendering.renderToTargets((()=>this._renderGeometryPass(W.MATERIAL_DEPTH)),this._offscreenRendering.geometryLinearDepth,this._offscreenRendering.tmpDepth,[1,1,1,1],!0,!0),this._renderContext.pass=e}else this._offscreenRendering.disposeTarget(this._offscreenRendering.geometryLinearDepth);this._bindParameters.multipassGeometry.linearDepthTexture=this._offscreenRendering.geometryLinearDepthTexture}get needsNormal(){return this._ssaoHelper.enabled}_renderNormal(){this.needsNormal?this._offscreenRendering.renderToTargets((()=>{this._renderGeometryAndTransparentTerrainPass(W.MATERIAL_NORMAL)}),this._offscreenRendering.normal,this._offscreenRendering.tmpDepth,[0,0,0,0],!0,!0):this._offscreenRendering.disposeTarget(this._offscreenRendering.normal)}get needsDepthRange(){return this._shadowMap.enabled||this.needsShadowCast}_computeDepthRange(e){if(!this.needsDepthRange)return v;const r=U(e,this._content,this._stage.layers);return N(r,this.renderPlugins.queryDepthRange(e)),r.near=Math.max(e.near,r.near),r.far=Math.min(e.far,r.far),r}_renderGeometryAndTransparentTerrainPass(e){this._renderContext.pass=e,this._renderGeometryPass(e),this._renderTransparentTerrain()}_renderGeometryPass(e){this._renderContext.pass=e,this._renderOpaqueGeometry(),this._renderTransparentGeometry()}_renderOpaqueGeometry(){this._renderSlot(Q.INTEGRATED_MESH),this._renderSlot(Q.OPAQUE_TERRAIN),this._renderInternalSlot(Q.OPAQUE_MATERIAL),this._renderSlot(Q.OPAQUE_MATERIAL),this._renderSlot(Q.POSTPROCESSING_ENVIRONMENT_OPAQUE)}_renderTransparentGeometry(){this._renderInternalSlot(Q.TRANSPARENT_MATERIAL),this._renderSlot(Q.TRANSPARENT_MATERIAL)}_renderTransparentTerrain(){this._renderSlot(Q.TRANSPARENT_TERRAIN)}_renderHUDVisibility(){let e=!1;return this._renderContext.offscreenRenderingHelper&&this._renderContext.offscreenRenderingHelper.renderHUDVisibility((()=>{this._bindParameters.hudVisibilityTexture=this._renderContext.offscreenRenderingHelper.hudVisibilityTexture,e=this._renderInternalSlot(Q.OCCLUSION_PIXELS)}),this._multipassTerrain&&this._transparentTerrain),e}_renderLineCallouts(e){this._bindParameters.renderTransparentlyOccludedHUD=e,e===x.Occluded?this._offscreenRendering.renderToTargets((()=>this._renderInternalSlot(Q.LINE_CALLOUTS)),this._offscreenRendering.currentColorTarget,this._offscreenRendering.tmpDepth,void 0,!0,!0):this._renderInternalSlot(Q.LINE_CALLOUTS)}_renderHUD(e,r){this._hasHUDElements&&(this._oitEnabled?(this._renderOrderIndependentTransparency((()=>this._renderHUDElements(e)),!0),this._rctx.bindFramebuffer(r),this._compositingHelper.composite(this._bindParameters,this._offscreenRendering.hudColorTexture,se.PremultipliedAlpha)):e===x.Occluded?this._offscreenRendering.renderToTargets((()=>this._renderHUDElements(x.Occluded)),this._offscreenRendering.currentColorTarget,this._offscreenRendering.tmpDepth,void 0,!0,!0):this._renderHUDElements(e))}_renderHUDElements(e){this._bindParameters.renderTransparentlyOccludedHUD=e,this._renderInternalSlot(Q.LINE_CALLOUTS_HUD_DEPTH),this._renderInternalSlot(Q.HUD_MATERIAL),this._renderInternalSlot(Q.LABEL_MATERIAL)}get needsHighlight(){return this._hasHighlights||this._renderPlugins.needsHighlight}get needsShadowHighlight(){return this._shadowMap.enabled&&this._shadowHighlight.isVisible&&this.needsHighlight}_renderHighlights(e,r){if(!this.needsHighlight)return void this._offscreenRendering.disposeTarget(this._offscreenRendering.highlight);const t=this._highlight,s=this._offscreenRendering.renderToTargets((()=>{this._renderGeometryAndTransparentTerrainPass(W.MATERIAL_HIGHLIGHT),this._rctx.clearSafe(ae.DEPTH_BUFFER_BIT),this._renderHUDElements(x.Both)}),this._offscreenRendering.highlight,this._offscreenRendering.tmpDepth,[0,0,0,0],!0,!0);this._bindParameters.highlightColorTexture=s.colorTexture,this.needsShadowHighlight&&this._shadowHighlight.render(r,e),t.render(this._bindParameters,s,e)}get needsShadowCast(){return this._shadowAccumulator.isAccumulating}_accumulateShadows(e,r,t){this.needsShadowCast&&this._shadowAccumulator.renderAccumulation(this._offscreenRendering.linearDepthTexture,e,r,t)}_renderOrderIndependentTransparency(e,r){const t=t=>{this._bindParameters.transparencyPassType=t,this._offscreenRendering.renderOITPass((()=>e()),t,r)},s=this._renderContext.pass;this._renderContext.pass=W.MATERIAL_ALPHA,t(I.Alpha),this._renderContext.pass=W.MATERIAL,t(I.Color),t(I.FrontFace),this._offscreenRendering.compositeTransparentOntoOpaque(this._bindParameters,r),this._bindParameters.transparencyPassType=I.NONE,this._renderContext.pass=s,this._oitUsed=!0}_disposeOITBuffers(){this._oitUsed||(this._offscreenRendering.disposeTarget(this._offscreenRendering.alphaFloatTarget),this._offscreenRendering.disposeTarget(this._offscreenRendering.colorFloatTarget),this._offscreenRendering.disposeTarget(this._offscreenRendering.frontFaceTarget)),this._oitUsed=!1}_renderOccluded(){let e=0;this._materialRenderers.forEach(((r,t)=>{t&&t.isVisible()&&t.renderOccluded===V.OccludeAndTransparentStencil&&(e|=t.renderOccluded,pe.push(t))}));const r=this._offscreenRendering,t=(t,s,i,n,a)=>{0!=(e&s)&&(r.renderToTargets(i,r.tmpColor,r.mainDepth,[0,0,0,0],n,a),r.compositeOccludedOntoMain(this._bindParameters,t))};0!==pe.length&&(this._renderInternalSlot(Q.OCCLUDER_MATERIAL,pe),t(.5,V.OccludeAndTransparentStencil,(()=>this._renderInternalSlot(Q.TRANSPARENT_OCCLUDER_MATERIAL,pe)),!1,!1),pe.length=0),this._materialRenderers.forEach(((r,t)=>{t&&t.isVisible()&&(t.renderOccluded===V.OccludeAndTransparent||t.renderOccluded===V.Transparent||t.renderOccluded===V.Opaque)&&(e|=t.renderOccluded,ce.push(t))}));const s=this._renderPlugins.renderOccludedFlags;if(e|=s,!e)return;const i=e=>{this._renderContext.renderOccludedMask=e,s>V.Occlude&&this._renderSlot(Q.OCCLUDED_TERRAIN),this._renderInternalSlot(Q.OPAQUE_MATERIAL,ce),this._renderInternalSlot(Q.TRANSPARENT_MATERIAL,ce),this._renderInternalSlot(Q.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL,ce),this._renderContext.resetRenderOccludedMask()};this._renderContext.pass=W.MATERIAL,t(.5,V.OccludeAndTransparent,(()=>i(V.OccludeAndTransparent)),!0,L.OutlineVisualElementMask),t(.5,V.Transparent,(()=>i(V.Transparent)),!0,L.OutlineVisualElementMask),t(1,V.Opaque,(()=>i(V.Opaque)),!0,L.OutlineVisualElementMask),ce.length=0}_renderAntiAliasing(e,r){if(e===C.SMAA){if(this._smaaPass.enable((()=>this._requestRender()))&&h(r))return this._smaaPass.render(r),!0}else this._smaaPass.disable();return!1}_ensureCameraBindParameters(e,r){this._bindParameters.camera=e,this._bindParameters.contentCamera=r}_ensureBindParameters(e,r){this._ensureCameraBindParameters(e,r);const t=this._renderContext.offscreenRenderingHelper;this._bindParameters.hudVisibilityTexture=t.hudVisibilityTexture,this._bindParameters.highlightDepthTexture=t.depthTexture??this._getFallbackDepthTexture()}_ensureBindParametersSSR(){this.hasWaterReflection?(this._renderContext.lastFrameCamera.equals(this._bindParameters.camera)?this._reprojectionMatrix=E:(R(ge,this._bindParameters.camera.viewMatrix),R(me,this._bindParameters.camera.projectionMatrix),A(ue,ge,me),A(ue,this._renderContext.lastFrameCamera.viewMatrix,ue),A(ue,this._renderContext.lastFrameCamera.projectionMatrix,ue),this._reprojectionMatrix=ue),this._bindParameters.ssr.lastFrameColorTexture=this._offscreenRendering.lastFrameColorTexture):this._bindParameters.ssr.lastFrameColorTexture=null,this._bindParameters.ssr.enabled=this.hasWaterReflection}_renderInternalSlot(e,r){let t=!1;return this._bindParameters.slot=e,h(r)?r.forEach((e=>{if(!e.shouldRender(this._renderContext))return;const r=this._materialRenderers.get(e);h(r)&&(t=r.render(this._renderContext.pass,this._bindParameters)||t)})):this._materialRenderers.forEach(((e,r)=>{r.shouldRender(this._renderContext)&&e.render(this._renderContext.pass,this._bindParameters)&&(t=!0)})),t}_getFallbackDepthTexture(){return this._fallbackDepthStencilTexture||(this._fallbackDepthStencilTexture=j(this._rctx)),this._fallbackDepthStencilTexture}get gpuMemoryUsage(){return{offscreen:this._offscreenRendering?.gpuMemoryUsage??0,highlights:(this._highlight?.gpuMemoryUsage??0)+(this._shadowHighlight?.gpuMemoryUsage??0),shadows:this._shadowMap?.gpuMemoryUsage??0,ssao:this._ssaoHelper?.gpuMemoryUsage??0}}get test(){const e=this;return{offscreen:this._offscreenRendering,shadowMap:this._shadowMap,ssao:this._ssaoHelper,highlight:this._highlight,lighting:this._bindParameters.lighting,materialRenderers:this._materialRenderers,shadowAccumulator:this._shadowAccumulator,getFramebufferTexture:r=>{switch(r){case le.Color:return e._offscreenRendering.colorTexture;case le.LinearDepth:return e._offscreenRendering.linearDepthTexture;case le.Normals:return e._offscreenRendering.normalTexture;case le.ShadowMap:return e._shadowMap.depthTexture;case le.HudVisibility:return e._offscreenRendering.hudVisibilityTexture;case le.Highlight:return e._offscreenRendering.highlightTexture}}}}};var le;e([u()],_e.prototype,\"_shadowAccumulator\",void 0),e([u()],_e.prototype,\"_smaaPass\",void 0),e([u()],_e.prototype,\"_antialiasing\",void 0),e([u()],_e.prototype,\"_edgeView\",void 0),e([u()],_e.prototype,\"updating\",null),e([u()],_e.prototype,\"isCameraFinal\",null),_e=e([f(\"esri.views.3d.webgl-engine.lib.Renderer\")],_e),function(e){e[e.Color=0]=\"Color\",e[e.LinearDepth=1]=\"LinearDepth\",e[e.Normals=2]=\"Normals\",e[e.ShadowMap=3]=\"ShadowMap\",e[e.HudVisibility=4]=\"HudVisibility\",e[e.Highlight=5]=\"Highlight\"}(le||(le={}));const ce=[],pe=[],me=P(),ge=P(),ue=P();export{le as FramebufferId,_e as Renderer};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{RenderingContext as t}from\"../../../webgl/RenderingContext.js\";class r extends t{constructor(e,t,r){super(e,t),this.newCache=r,this._refCount=1}dispose(){--this._refCount>0||super.dispose()}ref(){++this._refCount}bindTechnique(t,r,s,n){this.useProgram(t.program);const o=e(s)?s.slot:null;return t.bindPipelineState(this,o,n),e(r)&&e(s)&&t.bindPass(r,s),t.program}get test(){return this.programCache.test}}export{r as RenderingContext};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import r from\"../../../../core/Evented.js\";import s from\"../../../../core/Logger.js\";import{isNone as o,unwrapOr as i,isSome as n}from\"../../../../core/maybe.js\";import{isPromiseLike as u,isAbortError as a}from\"../../../../core/promiseUtils.js\";import{property as h}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{RenderRequestType as p}from\"./basicInterfaces.js\";import{ContentObjectType as d}from\"./ContentObjectType.js\";import{TextureTechnique as m}from\"./TextureTechnique.js\";import{TextureTechniqueConfiguration as l}from\"./TextureTechniqueConfiguration.js\";import{assert as _}from\"./Util.js\";import{TaskPriority as f}from\"../../../support/Scheduler.js\";const g=s.getLogger(\"esri.views.3d.webgl-engine.lib.TextureRepository\");let T=class extends t{constructor(e,t,s){super({}),this._stage=e,this._techniqueRepository=t,this._rctx=s,this._textures=new Map,this._loadingCount=0,this._frameUpdates=new Map,this.events=new r,this._frameTask=e.resourceController.scheduler.registerTask(f.TEXTURE_UNLOAD)}normalizeCtorArgs(){return{}}dispose(){this._frameTask.remove(),this._stage.forEachOfType(d.Texture,(e=>e.unload()))}get updating(){return this._loadingCount>0||this._frameTask.updating}get textureTechnique(){return o(this._textureTechnique)&&(this._textureTechnique=this._techniqueRepository.acquire(m,new l)),this._textureTechnique}acquire(e){const t=this._textures.get(e);return t?(t.ref(),i(t.loadingPromise,t)):this._createNewRef(e)}update(){let e=!1;this._frameUpdates.forEach((t=>{const r=t.texture.frameUpdate(this._rctx,this.textureTechnique,t.previousToken);r>=0&&r!==t.previousToken&&(t.previousToken=r,e=!0)})),e&&this.events.emit(\"changed\",p.BACKGROUND)}_createNewRef(e){const t=this._stage.getObject(e);if(o(t))return _(void 0!==t),null;const r=t.events.on(\"unloaded\",(()=>{r.remove(),this._onTextureUnloaded(e)})),s=new x(e,(()=>{this._frameTask.schedule((()=>{s.isUnreferenced&&t.unload()}))}));return this._textures.set(e,s),s.ref(),n(t.glTexture)?(this._updateGLTexture(s,t.glTexture),t.requiresFrameUpdates&&this._frameUpdates.set(e,{texture:t,previousToken:-1}),s):(this._loadingCount++,s.loadingPromise=this._stage.schedule((()=>{const r=t.load(this._rctx,(()=>this.textureTechnique)),o=r=>(this._loadingCount--,s.loadingPromise=null,this._updateGLTexture(s,r),t.requiresFrameUpdates&&this._frameUpdates.set(e,{texture:t,previousToken:-1}),s),i=e=>(this._loadingCount--,s.loadingPromise=null,a(e)||g.error(e),null);return u(r)?r.then(o,i):o(r)})),s.loadingPromise)}_updateGLTexture(e,t){e.glTexture=t,this.events.emit(\"changed\",p.UPDATE)}_onTextureUnloaded(e){this._textures.delete(e),this._frameUpdates.delete(e)}};e([h()],T.prototype,\"_loadingCount\",void 0),e([h()],T.prototype,\"_frameTask\",void 0),e([h()],T.prototype,\"updating\",null),T=e([c(\"esri.views.3d.webgl-engine.lib.TextureRepository\")],T);class x{constructor(e,t){this.id=e,this._release=t,this._refCount=0}get isUnreferenced(){return 0===this._refCount}ref(){++this._refCount}release(){--this._refCount,this._refCount>0||(0!==this._refCount?(g.error(\"Cannot dereference texture that has no references!\"),this._refCount=0):this._release())}}export{T as TextureRepository};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import{getAssetUrl as e}from\"../../../../../assets.js\";import r from\"../../../../../core/Accessor.js\";import s from\"../../../../../core/Logger.js\";import{property as a}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{requestImage as i}from\"../../../../../support/requestImageUtils.js\";import{ResourceState as p}from\"../../lib/basicInterfaces.js\";import{TextureType as m,PixelFormat as n,PixelType as l,TextureWrapMode as c,TextureSamplingMode as h}from\"../../../../webgl/enums.js\";import{Texture as d}from\"../../../../webgl/Texture.js\";const u=s.getLogger(\"esri.views.3d.webgl-engine.materials.internal.waterMaterialUtils\");let g=class extends r{constructor(){super(...arguments),this._data=new Array,this._state=p.NOT_LOADED}dispose(){this._state=p.NOT_LOADED,this._data.forEach((t=>t.dispose())),this._data.length=0}get updating(){return this._state===p.LOADING}get resourceState(){return this._state}loadTextures(t){const r=[e(\"esri/images/materials/water/normals.jpg\"),e(\"esri/images/materials/water/perturbation.jpg\")];this._state=p.LOADING,Promise.all(r.map((t=>i(t)))).then((e=>{e.forEach((e=>this._data.push(new d(t,{target:m.TEXTURE_2D,pixelFormat:n.RGBA,dataType:l.UNSIGNED_BYTE,wrapMode:c.REPEAT,samplingMode:h.LINEAR_MIPMAP_LINEAR,hasMipmap:!0,maxAnisotropy:8,width:e.width,height:e.height},e)))),this._state=p.LOADED})).catch((t=>{u.error(\"Failed to load textures for water material.\",t),this._state=p.NOT_LOADED}))}bind(t){this._state===p.LOADED&&(t.bindTexture(\"texWaveNormal\",this._data[0]),t.bindTexture(\"texWavePerturbation\",this._data[1]))}};t([a()],g.prototype,\"_state\",void 0),t([a({type:Boolean,readOnly:!0})],g.prototype,\"updating\",null),g=t([o(\"esri.views.3d.webgl-engine.materials.internal.WaterTextureRepository\")],g);export{g as WaterTextureRepository};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nconst n=new Map;function t(){return n}export{t as getContextCache};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isNone as e,disposeMaybe as t}from\"../../../../core/maybe.js\";import{createResolver as r}from\"../../../../core/promiseUtils.js\";import{d as s}from\"../../../../chunks/vec4f64.js\";import{AutoDisposable as i}from\"../lib/AutoDisposable.js\";import{RenderRequestType as o,Decorations as n}from\"../lib/basicInterfaces.js\";import{createEmptyImageData as a,resampleHermite as h}from\"../../../support/screenshotUtils.js\";import{PixelFormat as c,DataType as l,TargetType as d,DepthStencilTargetType as f}from\"../../../webgl/enums.js\";import{FramebufferObject as u}from\"../../../webgl/FramebufferObject.js\";class g extends i{constructor(e,t,r,s,i,o){super(),this._rctx=e,this._renderScene=t,this._requestRenderScene=r,this._renderOverlay=s,this._forceCameraHook=i,this._disposeOffscreenBuffers=o,this.supersample=!0,this._screenshotQueue=new Array}dispose(){this._rctx=null}takeScreenshot(e){this._requestRenderScene(o.BACKGROUND);const t=r();return this._screenshotQueue.push({settings:e,resolver:t}),t.promise}update(e){for(const t of this._screenshotQueue){if(this.isDisposed){t.resolver.reject();continue}const r={...t.settings,pixelRatio:t.settings.pixelRatio*e.viewCamera.pixelRatio},s=this._renderScreenshot(e,r);t.resolver(s)}this._screenshotQueue.length=0}_renderScreenshotOverlay(t,r,s){if(e(this._renderOverlay))return r;t.width=r.width,t.height=r.height;const i=t.getContext(\"2d\"),o=s.pixelRatio;return i.save(),i.translate(0,r.height),i.scale(1,-1),s.region&&i.translate(-s.region.x,-s.region.y),i.scale(o,o),r=this._renderOverlay(t,r),i.restore(),r}_readbackScreenshot(e,t){return e.resample?this._readbackScreenshotResampled(e,t):this._readbackScreenshotImmediate(e,t)}_readbackScreenshotResampled(e,t){const{framebufferWidth:r,framebufferHeight:s,region:i,resample:o}=e,n=this._ensureScreenshotEncodeCanvas();let d=a(r,s,n);this._rctx.gl.readPixels(0,0,r,s,c.RGBA,l.UNSIGNED_BYTE,new Uint8Array(d.data.buffer)),t(),d=this._renderScreenshotOverlay(n,d,{...e,region:null});const f=a(i.width,i.height,n);return h(d,f,!0,o.region.x,s-(o.region.y+o.region.height),o.region.width,o.region.height)}_readbackScreenshotImmediate(e,t){const{framebufferHeight:r,region:s}=e,i=this._ensureScreenshotEncodeCanvas(),o=a(s.width,s.height,i);return this._rctx.gl.readPixels(s.x,r-(s.y+s.height),s.width,s.height,c.RGBA,l.UNSIGNED_BYTE,new Uint8Array(o.data.buffer)),t(),this._renderScreenshotOverlay(i,o,e)}_renderScreenshot(e,r){let i=null;const o=e.viewCamera,{framebufferWidth:a,framebufferHeight:h}=r;let c=!1;const l=r.disableDecorations&&e.frameHasDecorations,g=a!==o.fullWidth||h!==o.fullHeight,_=r.ignorePadding&&o.pixelRatio!==r.pixelRatio,m=g||l||_;if(m){const e=o.clone();if(r.ignorePadding){const t=s(e.padding);for(let s=0;s<4;s++)t[s]=Math.round(t[s]/e.pixelRatio*r.pixelRatio);e.padding=t}e.fullWidth=a,e.fullHeight=h,e.pixelRatio=r.pixelRatio;const t=o.fovX-e.fovX,l=o.fovY-e.fovY;t<0&&t<l?e.fovX=o.fovX:l<0&&l<t&&(e.fovY=o.fovY),this._forceCameraHook(e),c=!0,i=new u(this._rctx,{width:e.fullWidth,height:e.fullHeight,colorTarget:d.TEXTURE,depthStencilTarget:f.DEPTH_STENCIL_RENDER_BUFFER}),this._renderScene(i,e,r.disableDecorations?n.OFF:n.ON),this._disposeOffscreenBuffers()}const p=()=>{this._rctx.bindFramebuffer(null),t(i)},v=this._readbackScreenshot(r,p);if(p(),m&&!this._rctx.contextAttributes.alpha)for(let t=3;t<v.data.length;t+=4)v.data[t]=255;return c&&this._forceCameraHook(o),v}_ensureScreenshotEncodeCanvas(){return this._screenshotEncodeCanvas||(this._screenshotEncodeCanvas=document.createElement(\"canvas\")),this._screenshotEncodeCanvas}}export{g as ScreenshotManager};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{getContextCache as e}from\"./contextCache.js\";const o={enabled:!1,disposeContextCache:()=>{const o=e();o.forEach((e=>e.dispose())),o.clear()}};export{o as contextCache};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import r from\"../../../../core/Evented.js\";import i from\"../../../../core/has.js\";import s from\"../../../../core/Logger.js\";import{removeMaybe as o,disposeMaybe as n,isSome as a,isNone as p}from\"../../../../core/maybe.js\";import{watch as d,initial as h}from\"../../../../core/reactiveUtils.js\";import{addFrameTask as c}from\"../../../../core/scheduling.js\";import{Milliseconds as l}from\"../../../../core/time.js\";import{property as m}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as u}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{ComponentObjectCollection as _}from\"../collections/Component/ComponentObjectCollection.js\";import{ShaderTechniqueRepository as f}from\"../core/shaderTechnique/ShaderTechniqueRepository.js\";import{autoDispose as g,AutoDisposableMixin as y}from\"../lib/AutoDisposable.js\";import{RenderRequestType as R,Decorations as x}from\"../lib/basicInterfaces.js\";import b from\"../lib/CompositingHelper.js\";import{textureToDepth as v}from\"../lib/depthRangeUtils.js\";import{GLMaterialRepository as w}from\"../lib/GLMaterialRepository.js\";import{MagnifierHelper as U}from\"../lib/MagnifierHelper.js\";import{Renderer as T}from\"../lib/Renderer.js\";import{RenderingContext as j}from\"../lib/RenderingContext.js\";import{TextureRepository as C}from\"../lib/TextureRepository.js\";import{StippleTextureRepository as A}from\"../materials/StippleTextureRepository.js\";import{WaterTextureRepository as M}from\"../materials/internal/WaterTextureRepository.js\";import{getContextCache as q}from\"./contextCache.js\";import{removeLoadedShaderModules as D}from\"./requireUtils.js\";import{ScreenshotManager as S}from\"./ScreenshotManager.js\";import{contextCache as O}from\"./testUtils.js\";import{createContextOrErrorHTML as H}from\"../../../webgl/context-util.js\";const B=s.getLogger(\"esri.views.3d.webgl-engine.parts.View\");let E=class extends(y(t)){constructor(e){super({}),this.events=new r,this.waterTextureRepository=new M,this._magnifierHelper=new U,this._needsUpdate=!0,this._needsRender=!0,this._idleSuspend=!0,this._needsWaterReflectionUpdate=!1,this._lastAnimationUpdate=0,this._container=e.container,this._viewingMode=e.viewingMode,this._initializeContext(e),d((()=>this.waterTextureRepository?.updating),(()=>this.requestRender()),h),this._magnifierHelper.events.on(\"request-render\",(()=>this.requestRender())),this._stippleTextureRepository=new A(this._rctx),this._shaderTechniqueRepository=new f({rctx:this._rctx,viewingMode:e.viewingMode,stippleTextureRepository:this._stippleTextureRepository,waterTextureRepository:this.waterTextureRepository}),this._textureRepository=new C(e,this._shaderTechniqueRepository,this._rctx),this._textureRepository.events.on(\"changed\",(e=>this.requestRender(e))),this._materialRepository=new w(this._textureRepository,this._shaderTechniqueRepository,(()=>this.requestRender()),(()=>this.requestRender())),this._compositingHelper=new b(this._rctx,this._shaderTechniqueRepository),this._renderer=new T(this._materialRepository,this._textureRepository,this._shaderTechniqueRepository,this._rctx,this._compositingHelper,this._magnifierHelper,(e=>this.requestRender(e)),((t,r)=>e.schedule(t,r)),e),this._screenshotManager=new S(this._rctx,((e,t,r)=>this._renderer.render(e,t,t,r)),(e=>this.requestRender(e)),e.options.screenshot.renderOverlay,(e=>this.events.emit(\"force-camera-for-screenshot\",e)),(()=>this._renderer.disposeOffscreenBuffers())),this._registerFrameTask(e)}normalizeCtorArgs(){return{}}dispose(){this._container.contains(this._canvas)&&this._container.removeChild(this._canvas),this._frameTask=o(this._frameTask),this._shaderTechniqueRepository=n(this._shaderTechniqueRepository),super.dispose(),this._tmpDepthBuffer=null,this._rctx=null}get performanceInfo(){const e=this._rctx.gl;return{renderer:this._renderer.performanceInfo,textureMemory:void 0!==e.getUsedTextureMemory?e.getUsedTextureMemory():void 0,renderbufferMemory:void 0!==e.getUsedRenderbufferMemory?e.getUsedRenderbufferMemory():void 0,VBOMemory:void 0!==e.getUsedVBOMemory?e.getUsedVBOMemory():void 0}}requestRender(e=R.UPDATE){e===R.UPDATE?this._needsUpdate=!0:this._needsRender=!0}get updating(){return this._needsUpdate||this._needsWaterReflectionUpdate||this._renderer.updating||this._textureRepository.updating||this.waterTextureRepository.updating||this._magnifierHelper.updating}ensureEdgeView(){return this._renderer.ensureEdgeView()}get edgeView(){return this._renderer.edgeView}get textureRepository(){return this._textureRepository}get compositingHelper(){return this._compositingHelper}set magnifier(e){this._magnifierHelper.magnifier=e}updateLightSources(e,t,r){this._renderer.updateLightSources(e,t,r),this.requestRender()}setRenderParameters(e){void 0!==e.idleSuspend&&this._idleSuspend!==!!e.idleSuspend&&(this._idleSuspend=!!e.idleSuspend,this.requestRender()),this._renderer.setRenderParameters(e)}get renderingContext(){return this._rctx}get capabilities(){return this._rctx.capabilities}modify(e){this._renderer.modify(e),e.clear()}get canvas(){return this._canvas}takeScreenshot(e){return this._screenshotManager.takeScreenshot(e)}getAlpha(){return this._rctx.contextAttributes.alpha}get shadowsEnabled(){return this._renderer.shadowsEnabled}readAccumulatedShadow(e){return this._renderer.readAccumulatedShadow(e[0],e[1])}readHUDVisibility(e,t,r,i,s){this._renderer.readHUDVisibility(e,t,r,i,s)}getMinimalDepthForArea(e,t,r,i,s,o=s){const n=i.constrainWindowSize(t,r,s*i.pixelRatio,o*i.pixelRatio),p=this._ensureDepthBuffer(n);this._renderer.readDepthPixels(i,n,p);let d=Number.MAX_VALUE;for(let a=0;a<n[2]*n[3];a++){const e=v(4*a,p,i.nearFar);d>e&&e!==i.nearFar[0]&&e!==i.nearFar[1]&&(d=e)}if(a(e)){const s=e.pickDepth(t*i.pixelRatio,r*i.pixelRatio,i);a(s)&&d>s&&s!==i.nearFar[0]&&s!==i.nearFar[1]&&(d=s)}return d===Number.MAX_VALUE?void 0:d}_ensureDepthBuffer(e){const t=4*e[2]*e[3];return(p(this._tmpDepthBuffer)||this._tmpDepthBuffer.byteLength<t)&&(this._tmpDepthBuffer=new Uint8Array(t)),this._tmpDepthBuffer}get renderPlugins(){return this._renderer.renderPlugins}get test(){return{renderer:this._renderer}}get gpuMemoryUsage(){return this._renderer.gpuMemoryUsage}async reloadShaders(){D(),await this._shaderTechniqueRepository.reloadAll(),this.requestRender()}get animationTimestep(){return this._renderer.animationTimestep}_registerFrameTask(e){const t=e.state,r={viewCamera:t.camera,frameHasDecorations:!1};let i=!1,s=R.BACKGROUND,o=!1;const n={preRender:r=>{i=this.updating,s=this._needsUpdate?R.UPDATE:R.BACKGROUND,e.processSyncLayers();const o=l(r.time-this._lastAnimationUpdate);(o>this.animationTimestep||a(this.forcedAnimationTime)||i||this._needsRender)&&(this._renderer.updateAnimation({camera:t.camera,dt:o,forcedTime:this.forcedAnimationTime})&&this.requestRender(R.BACKGROUND),this._lastAnimationUpdate=r.time)},render:()=>{if((this._needsUpdate||this._needsRender||!this._idleSuspend||!this._renderer.isCameraFinal||this._needsWaterReflectionUpdate)&&t.camera.fullWidth>0&&t.camera.fullHeight>0){const e=this._needsUpdate&&this._idleSuspend&&this._renderer.isCameraFinal;this._needsRender=!1,this._needsUpdate=!1,this._needsWaterReflectionUpdate=!1,this._renderer.render(null,t.camera,t.contentCamera,x.ON),o=!0,e&&this._renderer.hasWaterReflection&&(this.requestRender(R.BACKGROUND),this._needsWaterReflectionUpdate=!0)}},update:()=>{r.viewCamera=t.camera,r.frameHasDecorations=this._renderer.hasSlicePlane||this._magnifierHelper.enabled,this._textureRepository.update(),this._screenshotManager.update(r)},finish:()=>{o&&(this._renderer.finish(s),o=!1)}};this._frameTask=c(n)}_initializeContext(e){const t=e.options;this._canvas=t.canvas,this._canvas||(this._canvas=document.createElement(\"canvas\")),this._canvas.setAttribute(\"style\",\"width: 100%; height:100%; display:block;\");const r={alpha:t.alpha||!1,premultipliedAlpha:!0,antialias:!1,depth:!0,stencil:null==t.stencil||t.stencil,powerPreference:\"high-performance\",preserveDrawingBuffer:t.preserveDrawingBuffer??!1},s=H(\"3d\",this._canvas,r);if(p(s)){const e=i(\"esri-force-webgl\");B.error(e)}else this._rctx=this._newRenderingContext(s,e),this._loadShaderOnlyExtensions(),!t.alpha&&this._rctx.contextAttributes.alpha&&B.error(\"WebGL context has alpha channel even though no alpha channel was requested\"),!this._rctx.contextAttributes.alpha&&i(\"safari\")>=11&&(this._container.style.backgroundColor=\"black\"),this._container.appendChild(this._canvas)}_newRenderingContext(e,t){const r={disabledExtensions:t.options.deactivatedWebGLExtensions||{},debugWebGLExtensions:t.options.debugWebGLExtensions||{},maxAnisotropy:8},i=(e,r)=>t.resourceController.memoryController.newCache(e,r);if(O.enabled){let t=L.get(e);return t?(t.configure(r),t.newCache=i,t.ref(),t):(t=new j(e,r,i),L.set(e,t),t.ref(),t)}return new j(e,r,i)}_loadShaderOnlyExtensions(){this._rctx.capabilities.enable(\"standardDerivatives\"),this._rctx.capabilities.enable(\"shaderTextureLOD\"),this._rctx.capabilities.enable(\"textureFloat\")}get componentObjectCollection(){return p(this._componentObjectCollection)&&(this._componentObjectCollection=new _(this._renderer.renderPassManager,this._viewingMode)),this._componentObjectCollection}set componentObjectCollection(e){this._componentObjectCollection=e}};e([m({type:Boolean,readOnly:!0})],E.prototype,\"updating\",null),e([g()],E.prototype,\"_rctx\",void 0),e([g()],E.prototype,\"_container\",void 0),e([g()],E.prototype,\"_canvas\",void 0),e([g()],E.prototype,\"_stippleTextureRepository\",void 0),e([g(),m()],E.prototype,\"waterTextureRepository\",void 0),e([g(),m()],E.prototype,\"_magnifierHelper\",void 0),e([g(),m()],E.prototype,\"_textureRepository\",void 0),e([g()],E.prototype,\"_compositingHelper\",void 0),e([g()],E.prototype,\"_renderer\",void 0),e([g()],E.prototype,\"_screenshotManager\",void 0),e([g()],E.prototype,\"componentObjectCollection\",null),e([g()],E.prototype,\"_componentObjectCollection\",void 0),e([m()],E.prototype,\"_needsUpdate\",void 0),e([m()],E.prototype,\"_needsWaterReflectionUpdate\",void 0),E=e([u(\"esri.views.3d.webgl-engine.parts.RenderView\")],E);const L=q();export{E as RenderView};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import r from\"../../../core/Handles.js\";import{isNone as s,isSome as o}from\"../../../core/maybe.js\";import i from\"../../../core/PooledArray.js\";import{isPromiseLike as n}from\"../../../core/promiseUtils.js\";import{property as d}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{isIntersectionHandler as l}from\"../state/helpers/SceneIntersectionHelper.js\";import{autoDispose as h,AutoDisposableMixin as c}from\"./lib/AutoDisposable.js\";import{UpdatePolicy as m}from\"./lib/basicInterfaces.js\";import{ChangeSet as y}from\"./lib/ChangeSet.js\";import{GeometryRecord as p}from\"./lib/GeometryRecord.js\";import{isWebGLLayer as u}from\"./lib/WebGLLayer.js\";import{Model as _}from\"./parts/Model.js\";import{RenderView as g}from\"./parts/RenderView.js\";import{TaskPriority as S}from\"../../support/Scheduler.js\";var f;let w=f=class extends(c(t)){constructor(e){super(e),this._handles=new r,this._model=new _,this._layers=new i,this._changeSet=new y,this._layerSyncSet=new Set}initialize(){this._set(\"renderView\",new g(this)),this._frameTask=this.resourceController.scheduler.registerTask(S.STAGE,this),this._handles.add(this._frameTask)}destroy(){p.pool.prune(0),this._handles.destroy(),this.dispose()}get viewingMode(){return this.state.viewingMode}get updating(){return this._model.dirtySet.dirty||this.renderView.updating||this._frameTask.updating}add(e){this._model.add(e),u(e)&&(e.attachStage(this),this._addLayer(e)),this.renderView.requestRender()}remove(e){s(e)||(this.renderView.requestRender(),this._model.remove(e),u(e)&&(this._removeLayer(e),e.detachStage()))}addMany(e){o(e)&&(this._model.addMany(e),this.renderView.requestRender())}removeMany(e){o(e)&&(this._model.removeMany(e),this.renderView.requestRender())}async load(e){s(e)||(Array.isArray(e)||(e=[e]),await Promise.all(e.filter((e=>s(e.glTexture))).map((e=>this.schedule((()=>this._model.has(e)?e.load(this.renderView.renderingContext,(()=>this.renderView.textureRepository.textureTechnique)):null))))))}loadImmediate(e){return e.load(this.renderView.renderingContext,(()=>this.renderView.textureRepository.textureTechnique))}forEachOfType(e,t){this._model.forEachOfType(e,t)}handleEvent(e,t){this.destroyed||(this._model.dirtySet[e](t),this.renderView.requestRender())}get running(){return this._model.dirtySet.dirty}runTask(e){this._frameTask.processQueue(e),e.done||this._commit()}_commit(){const e=this._model.dirtySet;f.DebugSettings.logDirtySet&&console.log(\"Dirty set: \"+e.formatDebugInfo()),e.commit(this._changeSet),f.DebugSettings.logDirtySet&&(console.log(\"RGs add: \"+this._changeSet.adds.map((e=>e.id))),console.log(\"RGs remove: \"+this._changeSet.removes.map((e=>e.id)))),this._layerSyncSet.clear(),this.renderView.modify(this._changeSet),this.renderView.requestRender()}schedule(e,t){return this._frameTask.schedule(e,t)}syncLayer(e){this._layerSyncSet.add(e),this.renderView.requestRender()}processSyncLayers(){const e=this._model.dirtySet;this._layers.forAll((t=>{(this._layerSyncSet.has(t.id)||t.updatePolicy===m.SYNC)&&(e.commitLayer(t.id,this._changeSet),this._layerSyncSet.delete(t.id))}));for(const t of this._layerSyncSet)e.commitLayer(t,this._changeSet);this._layerSyncSet.clear(),this.renderView.modify(this._changeSet)}getObject(e){return this._model.getObject(e)}get layers(){return this._layers}_addLayer(e){this._layers.includes(e)||this._layers.push(e)}_removeLayer(e){this._commit(),null!=this._layers.removeUnordered(e)&&(this._model.dirtySet.getResidentRenderGeometries(e.id,this._changeSet.removes),this.renderView.modify(this._changeSet))}addRenderPlugin(e,t,r){const s=this.renderView.renderPlugins.add(e,t,r),o=()=>{l(t)&&this.sceneIntersectionHelper.addIntersectionHandler(t)};if(n(s))return s.then(o);o()}removeRenderPlugin(e){l(e)&&this.sceneIntersectionHelper.removeIntersectionHandler(e),this.renderView.renderPlugins.remove(e)}get performanceInfo(){return{renderView:this.renderView.performanceInfo,model:this._model.getStats()}}get test(){const e=this;return{getCount:t=>e._model.test.content.filter((e=>e.type===t)).length,model:e._model}}};w.DebugSettings={endFrameContentValidation:!1,logDirtySet:!1},e([d({constructOnly:!0})],w.prototype,\"resourceController\",void 0),e([d({constructOnly:!0})],w.prototype,\"options\",void 0),e([d({constructOnly:!0})],w.prototype,\"state\",void 0),e([d({constructOnly:!0})],w.prototype,\"sceneIntersectionHelper\",void 0),e([d({readOnly:!0})],w.prototype,\"viewingMode\",null),e([d({constructOnly:!0})],w.prototype,\"container\",void 0),e([d({constructOnly:!0})],w.prototype,\"renderSR\",void 0),e([d({constructOnly:!0})],w.prototype,\"_handles\",void 0),e([d({readOnly:!0})],w.prototype,\"updating\",null),e([d({constructOnly:!0})],w.prototype,\"_model\",void 0),e([h(),d()],w.prototype,\"renderView\",void 0),w=f=e([a(\"esri.views.3d.webgl-engine.Stage\")],w);export{w as Stage};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import t from\"../DefaultUI.js\";let e=class extends t{constructor(o){super(o),this.components=[\"attribution\",\"zoom\",\"navigation-toggle\",\"compass\"]}};o([s()],e.prototype,\"components\",void 0),e=o([r(\"esri.views.ui.3d.DefaultUI3D\")],e);const p=e;export{p as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../Camera.js\";import\"../geometry.js\";import i from\"../Graphic.js\";import r from\"../Viewpoint.js\";import s from\"../core/Collection.js\";import{byId as n}from\"../core/domUtils.js\";import a from\"../core/Error.js\";import{on as o}from\"../core/events.js\";import{handlesGroup as l,makeHandle as p}from\"../core/handleUtils.js\";import h from\"../core/has.js\";import{isIterable as d}from\"../core/iteratorUtils.js\";import c from\"../core/Logger.js\";import{destroyMaybe as u,isNone as g,isSome as m,unwrapOr as f}from\"../core/maybe.js\";import{ObservableChangesType as y}from\"../core/ObservableChangesType.js\";import{throwIfAborted as w}from\"../core/promiseUtils.js\";import{on as v,watch as _,initial as b,syncAndInitial as S,whenOnce as M,sync as R}from\"../core/reactiveUtils.js\";import{setFrameDuration as V}from\"../core/scheduling.js\";import{screenPointObjectToArray as T,createScreenPoint as C,createScreenPointArray as x}from\"../core/screenUtils.js\";import{initialize as O}from\"../core/workers/workers.js\";import{property as E}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import{cast as j}from\"../core/accessorSupport/decorators/cast.js\";import{subclass as P}from\"../core/accessorSupport/decorators/subclass.js\";import{ensureType as I}from\"../core/accessorSupport/ensureType.js\";import{c as L}from\"../chunks/vec3f64.js\";import{owningCollectionProperty as G}from\"../core/support/OwningCollection.js\";import H from\"../geometry/HeightModelInfo.js\";import{canProjectWithoutEngine as U,project as A,projectPointToVector as D,projectVectorToVector as W,projectBoundingRect as F}from\"../geometry/projection.js\";import{create as k,toExtent as q}from\"../geometry/support/aaBoundingRect.js\";import{B as z,a as B}from\"../chunks/boundedPlane.js\";import{renderSRFromViewSR as N}from\"../geometry/support/coordinateSystem.js\";import{getResolutionForScale as Q}from\"../geometry/support/scaleUtils.js\";import{isImageryTileLayer as $,isTiledLayer as X,isVoxelLayer as Y}from\"../layers/support/layerUtils.js\";import{AnalysesCollection as Z}from\"../support/AnalysesCollection.js\";import{BreakpointsOwner as J}from\"./BreakpointsOwner.js\";import{DOMContainer as K}from\"./DOMContainer.js\";import ee from\"./GroundView.js\";import{PopupView as te}from\"./PopupView.js\";import ie from\"./View.js\";import re from\"./ViewAnimation.js\";import{ViewingMode as se,stringFromViewingMode as ne,viewingModeFromString as ae}from\"./ViewingMode.js\";import{layerView3DImporter as oe}from\"./3d/layerViewModuleImportUtils.js\";import le from\"./3d/analysis/AnalysisViewManager3D.js\";import{Constraints as pe}from\"./3d/constraints/Constraints.js\";import he from\"./3d/environment/SceneViewEnvironment.js\";import{SceneViewEnvironmentManager as de}from\"./3d/environment/SceneViewEnvironmentManager.js\";import ce from\"./3d/input/SceneInputManager.js\";import{GraphicsDeconflictor as ue}from\"./3d/layers/graphics/GraphicsDeconflictor.js\";import{Labeler as ge}from\"./3d/layers/graphics/Labeler.js\";import{ObjectResourceCache as me}from\"./3d/layers/graphics/ObjectResourceCache.js\";import{FeatureTileTree3D as fe}from\"./3d/layers/support/FeatureTileTree3D.js\";import ye from\"./3d/state/ViewState.js\";import we from\"./3d/state/ViewStateManager.js\";import{SceneIntersectionHelper as ve}from\"./3d/state/helpers/SceneIntersectionHelper.js\";import{CombinedElevationProvider as _e}from\"./3d/support/CombinedElevationProvider.js\";import be from\"./3d/support/debugFlags.js\";import Se from\"./3d/support/DisplayQualityProfile.js\";import{getElevationAtPoint as Me}from\"./3d/support/ElevationProvider.js\";import Re from\"./3d/support/HighlightOptions.js\";import{MapCoordsHelper as Ve}from\"./3d/support/MapCoordsHelper.js\";import{PropertiesPool as Te}from\"./3d/support/PropertiesPool.js\";import Ce from\"./3d/support/QualitySettings.js\";import{RenderCoordsHelper as xe}from\"./3d/support/RenderCoordsHelper.js\";import{newResourceController as Oe}from\"./3d/support/ResourceController.js\";import Ee from\"./3d/support/SceneViewPerformanceInfo.js\";import{SharedSymbolResources as je}from\"./3d/support/SharedSymbolResources.js\";import{PointsOfInterest as Pe}from\"./3d/support/pointsOfInterest/PointsOfInterest.js\";import Ie from\"./3d/terrain/TerrainSurface.js\";import{isSurfaceLayerView as Le,getTiledLayerInfo as Ge,checkIfTileInfoSupportedForView as He}from\"./3d/terrain/terrainUtils.js\";import{Stage as Ue}from\"./3d/webgl-engine/Stage.js\";import{newIntersector as Ae,DEFAULT_TOLERANCE as De}from\"./3d/webgl-engine/lib/Intersector.js\";import{StoreResults as We,IntersectorType as Fe}from\"./3d/webgl-engine/lib/IntersectorInterfaces.js\";import{isValidIntersectorResult as ke}from\"./3d/webgl-engine/lib/intersectorUtils.js\";import{toHit as qe,toOwner as ze}from\"./3d/webgl-engine/lib/intersectorUtilsConversions.js\";import{TERRAIN_ID as Be}from\"./3d/webgl-engine/lib/verticalOffsetUtils.js\";import{hitTestSelectSimilarDistance as Ne}from\"./support/hitTestSelectUtils.js\";import{occludeesSupported as Qe}from\"./support/layerViewUtils.js\";import{encode as $e,encodeData as Xe,toRenderSettings as Ye,screenshotSuperSampleSettings as Ze}from\"./support/screenshotUtils.js\";import{isSupportedScreenPointEvent as Je,createScreenPointFromSupportedEvent as Ke}from\"./support/screenUtils.js\";import{isSpatialReferenceSupported as et}from\"./support/spatialReferenceSupport.js\";import{check as tt}from\"./support/WebGLRequirements.js\";import it from\"./ui/3d/DefaultUI3D.js\";import rt from\"../webscene/Environment.js\";import st from\"../geometry/Extent.js\";import nt from\"../geometry/SpatialReference.js\";import at from\"../geometry/Point.js\";const ot=c.getLogger(\"esri.views.SceneView\");let lt=class extends(J(K(te(ie)))){constructor(e){super(e),this._userClippingArea=null,this._clippingArea=null,this._initialDefaultSpatialReference=null,this._defaults={},this._externallySet={environment:!1},this._createGraphicsViewController=null,this._resolveWhenReady=[],this.propertiesPool=new Te({slicePlane:z},this),this._resourceController=Oe(this),this._defaultToMapOptions={include:new Set},this._defaultHitTestOptions={exclude:new Set},this.deconflictor=new ue({view:this}),this.labeler=new ge({view:this,deconflictor:this.deconflictor.labels}),this.sharedSymbolResources=null,this.analyses=new Z,this.basemapTerrain=null,this.elevationProvider=null,this.camera=null,this.canvas=null,this.center=null,this.constraints=new pe,this.environmentManager=new de,this.extent=null,this.floors=new s,this.fullOpacity=1,this.graphicsView=null,this.analysisViewManager=new le({view:this}),this.groundView=null,this.navigating=!1,this.map=null,this.screenSizePerspectiveEnabled=!0,this.state=new ye,this.scale=null,this.spatialReference=null,this.alphaCompositingEnabled=!1,this.preserveDrawingBufferEnabled=!1,this.supersampleScreenshotsEnabled=!0,this.type=\"3d\",this.ui=new it,this._numUpdating=0,this._lastUpdateTime=0,this.updatingProgress=.5,this.viewpoint=null,this.zoom=null,this.highlightOptions=new Re,this.voxelWasm=null,this.voxelWasmPromise=null,O(),e&&e.environment||(this._defaults.environment=new he,this.environment=this._defaults.environment);const t=(e=null)=>{m(e)&&e.type===y.MOVE||(this._updatingChanged(),this.map&&this.map.allLayers.forEach((async e=>{try{await e.when()}catch{}this._updatingChanged()})))};this.handles.add([v((()=>this.map?.allLayers),\"after-changes\",(e=>t(e)),{onListenerAdd:()=>t(),onListenerRemove:()=>t(),sync:!0}),this.allLayerViews.on(\"after-changes\",(e=>this._updateUpdatingMonitors(e))),_((()=>this.map),(e=>{e&&\"load\"in e&&e.load&&e.load().catch((()=>{}))}))]),this.inputManager=new ce({view:this}),this.stateManager=new we({view:this})}initialize(){this.groundView=new ee({view:this}),this._updateUpdatingMonitors();const e=()=>this._updateDefaultToMapOptions();this.handles.add(v((()=>this.map?.allLayers),\"after-changes\",e,{onListenerAdd:e,onListenerRemove:e})),this.updatingHandles.add((()=>this.qualitySettings.memoryLimit),(e=>{this.resourceController&&(this.resourceController.memoryController.maxMemory=e)}),b),this.updatingHandles.add((()=>this.qualitySettings.additionalCacheMemory),(e=>{this.resourceController&&(this.resourceController.memoryController.additionalCacheMemory=e)}),b),this.updatingHandles.add((()=>this.qualitySettings.frameRate),(e=>V(e>0?1e3/Math.ceil(e):0)),b),this.updatingHandles.add((()=>this.map?.ground),e,S),this.updatingHandles.add((()=>this.map?.ground?.opacity),(()=>this._updateDefaultHitTestOptions()),S),this.handles.add(_((()=>this.spatialReference),(()=>this.notifyChange(\"clippingArea\")),R))}destroy(){this.destroyed||(this.invalidate(),this.activeTool=null,this.layerViewManager.clear(),this._exitSurface(),this._disposeGraphicsView(),this.sharedSymbolResources=u(this.sharedSymbolResources),this.labeler.destroy(),this._set(\"labeler\",null),this.deconflictor.destroy(),this._set(\"deconflictor\",null),this._resourceController=u(this._resourceController),this.stateManager.destroy(),this._set(\"stateManager\",null),this.inputManager.destroy(),this._set(\"inputManager\",null),this.propertiesPool.destroy(),this.handles.remove(\"updatingMonitors\"),this.environmentManager.destroy(),this._set(\"environmentManager\",null),this.groundView=u(this.groundView))}get renderSpatialReference(){return this.renderCoordsHelper&&this.renderCoordsHelper.spatialReference}get basemapSpatialReference(){return this.basemapTerrain?.spatialReference}installContentCameraReset(e={sticky:!1}){return this.stateManager.installContentCameraReset(e)}get clippingArea(){if(\"global\"===this.viewingMode)return null;let e=this._userClippingArea||this.get(\"map.clippingArea\");return!(!!this._userClippingArea||this.get(\"map.clippingEnabled\"))||g(e)?(this._clippingArea=null,null):e instanceof st?this.spatialReference&&(e=dt(e,this.spatialReference),g(e))?(ot.error(\"#clippingArea\",\"setting clippingArea with incompatible SpatialReference\"),this._clippingArea):(e=e.clone(),g(e.intersection(this.groundAndLayersExtent))&&(e.xmin=e.xmax,e.ymin=e.ymax),e.zmin=void 0,e.zmax=void 0,e.equals(this._clippingArea)||(this._clippingArea=e),this._clippingArea):(ot.error(\"#clippingArea\",\"only clippingArea geometries of type Extent are supported\"),this._clippingArea)}set clippingArea(e){this.ready&&\"global\"===this.viewingMode&&m(e)?ot.error(\"#clippingArea=\",\"Clipping area is only supported in local viewingMode\"):this._userClippingArea=e}get renderDataExtent(){if(this.state.viewingMode===se.Global)return null;const e=this.renderSpatialReference,t=this.dataExtent;return g(t)||g(e)||t.spatialReference.equals(e)?t:dt(t,e)}get dataExtent(){let e=this.groundAndLayersExtent;const t=this.spatialReference||nt.WGS84,i=dt(this.clippingArea,t);m(i)&&(e=m(e)?e.intersection(i):i);const r=this._get(\"dataExtent\");return m(e)&&e.equals(r)?r:e}get groundAndLayersExtent(){const e=this.spatialReference||nt.WGS84;let t;const i=i=>{const r=dt(i,e);g(r)||(m(t)?t.union(r):t=r.clone())},r=this.basemapTerrain;if(r?.spatialReference){const e=r.groundExtent;i(new st({xmin:e[0],ymin:e[1],zmin:0,xmax:e[2],ymax:e[3],zmax:0,spatialReference:r.spatialReference}))}if(this.map){const e=e=>{!m(e.fullExtent)||\"graphics\"===e.type&&e.internal||i(e.fullExtent)};this.map.allLayers.forEach((t=>e(t)))}if(g(t))return null;t.hasZ?(t.zmin=Math.min(0,t.zmin),t.zmax=Math.max(0,t.zmax)):(t.zmin=0,t.zmax=0);const s=this._get(\"groundAndLayersExtent\");return t.equals(s)?s:t}set environment(e){e!==this._defaults.environment&&(this._externallySet.environment=!0),this._set(\"environment\",e)}castEnvironment(e){return e?e instanceof he?e:e instanceof rt?null!=this.environment?this.environment.cloneWithWebsceneEnvironment(e):he.fromWebsceneEnvironment(e):I(he,e):new he}get initialExtentRequired(){return this.stateManager&&!this.stateManager.hasInitialView}get _defaultsFromMapSettings(){return{required:{tileInfo:!1,heightModelInfo:!0,extent:!1}}}get interacting(){return this.navigating||m(this.activeTool)}get stationary(){return!this.animation&&!this.resizing&&(g(this.state)||this.state.stationary)}set qualityProfile(e){Se.isValidProfile(e)&&(Se.apply(e,this.qualitySettings),this._set(\"qualityProfile\",e))}get qualityProfile(){return this._get(\"qualityProfile\")||Se.getDefaultProfile()}set slicePlane(e){if(m(this._stage)&&this._stage.renderView.setRenderParameters({slicePlane:e}),g(e))return void this._set(\"slicePlane\",null);const t=this.propertiesPool.get(\"slicePlane\");B(e,t),this._set(\"slicePlane\",t)}get typeSpecificPreconditionsReady(){return!!this.viewingMode}get resolution(){return null!=this.spatialReference?Q(this.scale,this.spatialReference):0}get heightModelInfo(){const e=this.getDefaultHeightModelInfo();return null!=e?H.deriveUnitFromSR(e,this.spatialReference):null}get updating(){if(this.destroyed)return!1;let e=0,t=this.layerViewManager.updating,i=t?this.layerViewManager.updatingRemaining:0;this.allLayerViews.forEach((r=>{if(r.isFulfilled()){if(r.updating){if(t=!0,r.suspended||Le(r))return;++i,e+=r.updatingProgress}}else++i}));for(const r of[this.graphicsView,this.basemapView,this._resourceController,this._stage,this.featureTiles,this.pointsOfInterest,this.environmentManager,this.overlay,this.featureTreeDebugger,this.toolViewManager,this.analysisViewManager])if(m(r)&&r.updating){const t=.1;i+=t,e+=.5*t}for(const r of[this.deconflictor,this.labeler,this.basemapTerrain])m(r)&&r.updating&&(++i,e+=r.updatingProgress);if(t=!!(t||i>0||this.updatingHandles.updating||!this.ready||!this.stationary||this._createGraphicsViewController||this.inputManager?.hasPendingInputs||this.map?.allLayers?.some((e=>!e.isFulfilled()))),t?(this._numUpdating=Math.max(i,this._numUpdating),e+=this._numUpdating-i):this._numUpdating=0,this._numUpdating>0?e/=this._numUpdating:e=t?0:1,this._get(\"updatingProgress\")!==e){const i=performance.now();if(e<1){const t=Math.min((i-this._lastUpdateTime)/2e3,1);e=this.updatingProgress*(1-t)+e*t}this._set(\"updatingProgress\",e),this._lastUpdateTime=t&&e<1?i:0}return t}get viewingMode(){const e=this._predeterminedViewingMode;if(m(e))return ne(e);const t=this.spatialReference;return t?m(this.defaultsFromMap?.viewingMode)&&t.equals(this.defaultsFromMap.spatialReference)?ne(this.defaultsFromMap.viewingMode):et(t,se.Global)?\"global\":\"local\":\"global\"}set viewingMode(e){this.ready?ot.error(\"#viewingMode\",\"viewingMode cannot be set once view is ready\"):e?this._override(\"viewingMode\",e):void 0===e&&this._clearOverride(\"viewingMode\")}get resourceController(){return this._resourceController}get performanceInfo(){return new Ee(this)}forceAnimationTime(e){this._stage.renderView.forcedAnimationTime=this.basemapTerrain.overlayManager.forcedAnimationTime=e}on(e,t,i,r){const s=this.viewEvents.on(e,t,i,r);return s||super.on(e,t)}hasEventListener(e){return super.hasEventListener(e)||this.viewEvents.hasHandler(e)}toMap(e,t){if(!this.ready)return ot.error(\"#toMap()\",\"Scene view cannot be used before it is ready\"),null;const i=t?this.externalToInternalIntersectOptions(t):this._defaultToMapOptions,r=m(i.graphics)&&(m(i.graphics.include)||m(i.graphics.exclude)),s=Je(e)?Ke(this,e):e,n=T(s);i.enableDraped=i.include&&!i.include.has(Be)||i.exclude&&i.exclude.has(Be);const a=this.sceneIntersectionHelper,o=Ae(this.state.viewingMode);if(o.options.selectionMode=!0,o.options.store=r?We.ALL:We.MIN,a.intersectIntersectorScreen(n,o,i),r){for(const e of o.results.all){const t=qe(e,this);if(g(t))return this._intersectResultToMapPoint(e);if(\"graphic\"!==t.type||this._testGraphicUidFilter(i.graphics,t.graphic))return this._intersectResultToMapPoint(e)}return null}return this._intersectResultToMapPoint(o.results.min)}toScreen(e){if(!this.ready)return ot.error(\"#toScreen()\",\"Scene view cannot be used before it is ready\"),null;const t=f(null==e.z&&Me(this.elevationProvider,e),0);return D(e,ut,this.renderSpatialReference,t),this.state.camera.projectToScreen(ut,gt),C(gt[0],gt[1])}pixelSizeAt(e){return this.ready?e?(D(e,ut,this.renderSpatialReference),this.state.camera.computeScreenPixelSizeAt(ut)):0:(ot.error(\"#pixelSizeAt()\",\"Scene view cannot be used before it is ready\"),null)}overlayPixelSizeInMapUnits(e){const t=this.basemapTerrain.overlayManager;return t?t.overlayPixelSizeInMapUnits(e):1}hitTest(e,t){if(!this.ready)return ot.error(\"#hitTest()\",\"Scene view cannot be used before it is ready\"),null;const i=Je(e)?Ke(this,e):e,r=x(i.x,i.y),s=t?this.externalToInternalIntersectOptions(t):this._defaultHitTestOptions;s.requiresGroundFeedback=!0,s.enableDraped=!0;const n=Ae(this.state.viewingMode);n.options.selectionMode=!0,n.options.store=We.ALL,this.sceneIntersectionHelper.intersectIntersectorScreen(r,n,s);const a=this._intersectResultsToHits(n.results.all,s.graphics),o=n.results.ground,l=ze(o,this),p=m(l)&&\"type\"in l&&\"integrated-mesh\"===l.type?l:null,h={screenPoint:i,results:a,ground:{mapPoint:this._intersectResultToMapPoint(o),distance:ke(o)?o.distanceInRenderSpace:0,layer:p}};return be.SCENEVIEW_HITTEST_RETURN_INTERSECTOR&&(h.intersector=n),Promise.resolve(h)}async popupHitTest(e){const{results:t,ground:i}=await Ne(this,e);let r=null;return!(0===t.length||Math.abs(f(t[0].distance,0)-i.distance)<1e-5)||i.layer&&\"integrated-mesh\"===i.layer.type||(r=i.mapPoint),{results:t,screenPoint:e,mapPoint:r}}goTo(e,t){return this.updatingHandles.addPromise(this.stateManager.goTo(e,t))}async whenAnalysisView(e){if(g(e.parent))throw new a(\"view:no-analysisview-for-analysis\",\"The analysis has not been added to view.analyses\",{analysis:e});if(\"line-of-sight\"===e.parent.type){return(await this.whenLayerView(e.parent)).whenAnalysisView()}return this.analysisViewManager.whenAnalysisView(e)}whenLayerView(e){return super.whenLayerView(e)}async takeScreenshot(e){const t=this._completeSettings(e);await this.whenReady();const i=await this._stage.renderView.takeScreenshot(t);return $e(i,t,this._pixelFormat())}async _takeScreenshot(e){const t=this._completeSettings(e);await this.whenReady();const i=await this._stage.renderView.takeScreenshot(t);return Xe(i,this._pixelFormat())}_completeSettings(e){const t=Ye(e,this);return t.pixelRatio/=this.state.pixelRatio,Ze(t,this.supersampleScreenshotsEnabled,this.padding)}_pixelFormat(){return{flipY:!0,premultipliedAlpha:this._stage.renderView.getAlpha()}}get test(){return{takeScreenshot:e=>this._takeScreenshot(e)}}addUpdatingPromise(e){return this.updatingHandles.addPromise(e)}importLayerView(e){return oe.importLayerView(e)}hasLayerViewModule(e){return oe.hasLayerViewModule(e)}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){return this.map&&\"initialViewProperties\"in this.map&&this.map?.initialViewProperties?.spatialReference||this.defaultsFromMap?.spatialReference||this.defaultsFromMap?.ready&&this._initialDefaultSpatialReference||null}async validate(){let e=tt(this.type);if(h(\"safari\")&&h(\"safari\")<9&&(e=new a(\"sceneview:browser-not-supported\",\"This browser is not supported by SceneView (Safari < 9)\",{type:\"safari\",requiredVersion:9,detectedVersion:h(\"safari\")})),m(e))throw ot.warn(\"#validate()\",e.message),e}get _predeterminedViewingMode(){const e=this._isOverridden(\"viewingMode\")?this._get(\"viewingMode\"):(this.map&&\"initialViewProperties\"in this.map?this.map.initialViewProperties?.viewingMode:null)??null;return m(e)?ae(e):null}getSpatialReferenceSupport({spatialReference:e,layer:t}){const i=this._predeterminedViewingMode;if(m(i))return this._validateSpatialReferenceForViewingMode(e,t,i)?{constraints:this._makeSpatialReferenceConstraints(e,t,i)}:null;const r=this._validateSpatialReferenceForViewingMode(e,t,se.Local),s=this._validateSpatialReferenceForViewingMode(e,t,se.Global);return r||s?r&&s?{constraints:this._makeSpatialReferenceConstraints(e,t,null)}:r?{constraints:this._makeSpatialReferenceConstraints(e,t,se.Local)}:{constraints:this._makeSpatialReferenceConstraints(e,t,se.Global)}:null}_validateSpatialReferenceForViewingMode(e,t,i){return!!et(e,i)&&(!!g(t)||(!!$(t)||(!X(t)||!g(Ge(t,e,i)))&&(!Y(t)||i!==se.Global)))}_makeSpatialReferenceConstraints(e,t,i){if(g(t))return[{spatialReference:e,viewingMode:i}];const r=e.isWebMercator,s=e.isWGS84;if($(t)&&(r||s)){return!s||i===se.Local||null===He(t.tileInfo,t.fullExtent,e,se.Global)?[{spatialReference:e,viewingMode:i},{spatialReference:nt.WebMercator,viewingMode:i}]:[{spatialReference:r?nt.WGS84:nt.WebMercator,viewingMode:i}]}return X(t)||Y(t)||!r&&!s?X(t)&&r&&i!==se.Global?[{spatialReference:e,viewingMode:i},{spatialReference:nt.WGS84,viewingMode:se.Local}]:[{spatialReference:e,viewingMode:i}]:[{spatialReference:e,viewingMode:i},{spatialReference:r?nt.WGS84:nt.WebMercator,viewingMode:i}]}_validateSpatialReference(e){const t=m(this.getSpatialReferenceSupport({spatialReference:e})),i=this._predeterminedViewingMode;return t||(m(i)?ot.warnOnce(`Spatial reference defined on view not supported in ${ne(i)} viewing mode.`):e.isGeographic&&ot.warnOnce(\"Spatial reference is geographic but not supported.\")),t}whenReady(){return new Promise((e=>{this.ready?e(this):this._resolveWhenReady.push(e)}))}computeMapPointFromVec3d(e,t){let i=this.spatialReference||nt.WGS84;return W(e,this.renderSpatialReference,e,i)||(i=nt.WGS84,W(e,this.renderSpatialReference,e,i)),t?(t.x=e[0],t.y=e[1],t.z=e[2],t.spatialReference=i):t=new at(e,i),t}trackGraphicState(e){if(!e.graphic)return ot.error(\"trackGraphicState\",\"GraphicState.graphic must not be null or undefined to start tracking\"),null;const t=this.getViewForGraphic(e.graphic);let i=null,r=!1;const s=t=>{!r&&m(t)&&\"processor\"in t&&\"graphics-3d\"===t.processor?.type&&t.processor.graphicsCore&&(i=t.processor.graphicsCore.trackGraphicState(e))};return m(t)?s(t):this.whenViewForGraphic(e.graphic,{waitForLayer:!0}).then((e=>s(e)),(()=>{})).catch((()=>{})),{remove:()=>{r=!0,m(i)&&(i.remove(),i=null)}}}highlight(e){if(Array.isArray(e))return l(e.map((e=>this.highlight(e))));if(s.isCollection(e))return l(e.toArray().map((e=>this.highlight(e))));const t=this.getViewForGraphic(e);return t&&\"highlight\"in t?t.highlight(e):p()}maskOccludee(e){if(!e)return ot.error(\"maskOccludee\",\"GraphicState.graphic must not be null or undefined to mask an occludee\"),null;const t=this.getViewForGraphic(e);let i=null,r=!1;const s=t=>{!r&&m(t)&&Qe(t)&&(i=t.maskOccludee(e))};return m(t)?s(t):this.whenViewForGraphic(e,{waitForLayer:!0}).then((e=>s(e)),(()=>{})).catch((()=>{})),{remove:()=>{r=!0,m(i)&&(i.remove(),i=null)}}}getViewForGraphic(e){return e.layer===this.graphics?this.graphicsView:e.layer?this.allLayerViews.find((t=>t.layer===e.layer)):null}graphicChanged(e){m(this.graphicsView)&&this.graphicsView.graphicChanged(e)}async whenViewForGraphic(e,t){if(e.layer===this)return await M((()=>this.graphicsView)),this.graphicsView;if(!e.layer||!this.map)throw new a(\"no-view-for-graphic\");return t&&t.waitForLayer&&!this.map.allLayers.includes(e.layer)?new Promise(((t,i)=>{const r=this.map.allLayers.on(\"change\",(s=>{s.added.includes(e.layer)&&(r.remove(),this.whenLayerView(e.layer).then(t,i))}))})):this.whenLayerView(e.layer)}externalToInternalIntersectOptions(e){const t=this._externalToInternalRenderItems(e.include,ct.INCLUDE),i=this._externalToInternalRenderItems(e.exclude,ct.EXCLUDE);return{include:t.layerUids,exclude:i.layerUids,graphics:{include:t.graphicUids,exclude:i.graphicUids}}}_intersectResultToMapPoint(e,t){return e.getIntersectionPoint(ut)?(t=this.computeMapPointFromVec3d(ut,t),e.intersector===Fe.TERRAIN&&this.basemapTerrain&&(t.z=f(Me(this.basemapTerrain,t),0)),t):null}_intersectResultsToHits(e,t){const i=new Array;let r=null;for(let s=0;s<e.length;s++){const n=e[s],a=ze(n,this);if(m(a)&&(a===this.map.ground||\"type\"in a&&\"integrated-mesh\"===a.type))break;const o=qe(n,this);if(g(o))continue;if(\"graphic\"===o.type){if(g(r)&&s!==e.length-1&&(r=new Set),m(r)){const e=this._getGraphicFilterUid(o.graphic);if(r.has(e))continue;r.add(e)}if(!this._testGraphicUidFilter(t,o.graphic))continue}const l=this._intersectResultToMapPoint(n),p=n.distanceInRenderSpace;i.push({...o,mapPoint:l,distance:p})}return i}_getGraphicFilterUid(e){if(e.layer&&\"objectIdField\"in e.layer){const t=e.attributes[e.layer.objectIdField];if(t)return`o-${e.layer.id}-${t}`}return`u-${e.uid}`}_testGraphicUidFilter(e,t){const i=this._getGraphicFilterUid(t);return g(e)||(g(e.include)||e.include.has(i))&&(g(e.exclude)||!e.exclude.has(i))}_externalToInternalRenderItems(e,t,r={layerUids:null,graphicUids:null}){if(!e)return r;if(e instanceof i)ht(r,this._getGraphicFilterUid(e)),t===ct.INCLUDE&&(m(this.graphicsView)&&e.layer===this?pt(r,this.graphicsView.processor.layer.id):e.layer&&pt(r,e.layer.uid));else if(d(e))for(const i of e)i===this.graphics&&m(this.graphicsView)?pt(r,this.graphicsView.processor.layer.id):i===this.map.ground?pt(r,Be):this._externalToInternalRenderItems(i,t,r);else\"uid\"in e&&pt(r,e.uid);return r}_initBasemapTerrain(){this._set(\"basemapTerrain\",new Ie({view:this})),this._set(\"elevationProvider\",new _e({view:this})),this.elevationProvider.register(\"ground\",this.basemapTerrain)}_exitBasemapTerrain(){this.basemapTerrain&&(this.elevationProvider.unregister(this.basemapTerrain),this.elevationProvider.destroy(),this._set(\"elevationProvider\",null),this.basemapTerrain.destroy(),this._set(\"basemapTerrain\",null))}_initGlobe(){this._initCoordinateSystem(),this.state.createInitialCamera(),this._initBasemapTerrain(),this._set(\"pointsOfInterest\",new Pe({view:this})),this._set(\"featureTiles\",new fe({renderCoordsHelper:this.renderCoordsHelper,cameraOnSurface:this.pointsOfInterest.contentCameraOnSurface,focus:this.pointsOfInterest.focus,tilingSchemeOwner:this.basemapTerrain,viewState:this.state,scheduler:this._resourceController.scheduler,terrain:this.basemapTerrain}));const e=()=>{const e=this.basemapTerrain?.extent;if(this.clippingArea||e)if(e&&this.basemapTerrain.spatialReference){const e=m(this.basemapTerrain.extent)?A(q(this.basemapTerrain.extent,this.basemapTerrain.spatialReference),this.spatialReference):null;m(this.clippingArea)?this.featureTiles.filterExtent=this.clippingArea.intersection(e):this.featureTiles.filterExtent=e}else this.featureTiles.filterExtent=this.clippingArea;else this.featureTiles.filterExtent=null};this.handles.add([this.updatingHandles.add((()=>be.FEATURE_TILE_TREE_SHOW_TILES),(e=>{e&&this.featureTiles&&!this.featureTreeDebugger?this.updatingHandles.addPromise(import(\"./3d/layers/support/FeatureTileTree3DDebugger.js\")).then((({FeatureTileTree3DDebugger:e})=>{!this.featureTreeDebugger&&be.FEATURE_TILE_TREE_SHOW_TILES&&(this.featureTreeDebugger=new e({view:this}))})):e||!this.featureTreeDebugger||be.FEATURE_TILE_TREE_SHOW_TILES||(this.featureTreeDebugger.destroy(),this.featureTreeDebugger=null)}),S),this.updatingHandles.add((()=>this.clippingArea),e,S),this.updatingHandles.add((()=>this.basemapTerrain.extent),e,S)],\"feature-tiles\"),this.stateManager.init()}_exitGlobe(){this.state&&(this.stateManager.deinit(),this.handles.remove(\"render-coords-helper\"),this.handles.remove(\"feature-tiles\"),this.featureTiles.destroy(),this._set(\"featureTiles\",null),this.pointsOfInterest.destroy(),this._set(\"pointsOfInterest\",null),this._exitBasemapTerrain(),this.state.exit(),this._exitCoordinateSystem())}_initCoordinateSystem(){if(this.spatialReference){const e=this.spatialReference;this.mapCoordsHelper&&this.mapCoordsHelper.spatialReference.equals(e)||this._set(\"mapCoordsHelper\",new Ve(this.map,e));const t=this.state.isGlobal,i=N(t,e);i!==this.renderSpatialReference&&(this._set(\"renderCoordsHelper\",xe.create(this.state.viewingMode,i)),t||this.handles.add(_((()=>this.basemapTerrain?.extent),(e=>{const t=this.renderCoordsHelper.spatialReference;e&&(0!==e[0]||0!==e[1]||0!==e[2]||0!==e[3])&&F(e,this.basemapTerrain.spatialReference,mt,t)&&(this.renderCoordsHelper.extent=mt)}),R),\"render-coords-helper\"),this.sceneIntersectionHelper&&this.sceneIntersectionHelper.setTolerance(De/this.renderCoordsHelper.unitInMeters))}else this._set(\"mapCoordsHelper\",null),this._set(\"renderCoordsHelper\",null)}_exitCoordinateSystem(){this.mapCoordsHelper&&(this.handles.remove(\"render-coords-helper\"),this._set(\"renderCoordsHelper\",null),this._set(\"mapCoordsHelper\",null))}_updatingChanged(){this.notifyChange(\"updating\")}_updateUpdatingMonitors(e=null){m(e)&&e.type===y.MOVE||(this.handles.remove(\"updatingMonitors\"),this.allLayerViews.forEach((e=>{e.destroyed||(this.handles.add(_((()=>[e.updating,e.updatingProgress]),(()=>this._updatingChanged()),R),\"updatingMonitors\"),e.when((()=>this._updatingChanged()),(()=>this._updatingChanged())))})),this._updatingChanged())}_renderScreenshotOverlay(e,t){if(!this.overlay||!this.overlay.hasVisibleItems)return t;const i=e.getContext(\"2d\");return i.putImageData(t,0,0),this.overlay.renderCanvas(e),i.getImageData(0,0,t.width,t.height)}_initStage(){const e={deactivatedWebGLExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions,alpha:this.alphaCompositingEnabled,preserveDrawingBuffer:this.preserveDrawingBufferEnabled,canvas:this.renderCanvas,screenshot:{renderOverlay:(e,t)=>this._renderScreenshotOverlay(e,t)}},t=new ve(this.state.viewingMode,(e=>this._stage.layers.forAll(e)),this);this._set(\"sceneIntersectionHelper\",t);const i=n(this.surface),{resourceController:r,state:s,renderSpatialReference:l}=this;this._stage=new Ue({options:e,container:i,resourceController:r,state:s,sceneIntersectionHelper:t,renderSR:l}),this._stage.renderView.setRenderParameters({slicePlane:this.slicePlane}),this._lostWebGLContextHandle=o(this._stage.renderView.canvas,\"webglcontextlost\",(()=>this.fatalError=new a(\"webgl-context-lost\"))),this.handles.add([this.updatingHandles.add((()=>this.qualitySettings.antialiasingEnabled),(()=>this._stage.renderView.setRenderParameters({antialiasingEnabled:this.qualitySettings.antialiasingEnabled})),b),this.updatingHandles.add((()=>this.qualitySettings.highQualityTransparency),(()=>this._stage.renderView.setRenderParameters({highQualityTransparency:this.qualitySettings.highQualityTransparency})),b),_((()=>this.magnifier),(e=>this._stage.renderView.magnifier=e),S)],\"stage\");const p=()=>{this._stage.renderView.setRenderParameters({defaultHighlightOptions:Re.toEngineOptions(this.highlightOptions)})};this.handles.add(this.updatingHandles.add((()=>[this.highlightOptions.color,this.highlightOptions.haloColor,this.highlightOptions.haloOpacity,this.highlightOptions.fillOpacity,this.highlightOptions.shadowOpacity,this.highlightOptions.shadowColor,this.highlightOptions.shadowDifference]),p),\"stage\"),p(),this.renderCoordsHelper&&this.sceneIntersectionHelper.setTolerance(De/this.renderCoordsHelper.unitInMeters),this._set(\"canvas\",this._stage.renderView.canvas)}_exitStage(){this._set(\"sceneIntersectionHelper\",null),this._stage.destroy(),this._stage=null,this._lostWebGLContextHandle.remove(),this._lostWebGLContextHandle=null,this.handles.remove(\"stage\"),this._set(\"canvas\",null)}_initSurface(e){this._exitSurface(),this.state.init(e,this.spatialReference),this._initStage(),this._initGlobe(),this.sharedSymbolResources=new je({view:this,viewingMode:e,resourceController:this._resourceController,pointsOfInterest:this.pointsOfInterest,viewState:this.state,objectResourceCache:new me})}_exitSurface(){this.sharedSymbolResources&&(this.sharedSymbolResources.objectResourceCache.destroy(),this.sharedSymbolResources.destroy(),this.sharedSymbolResources=null,this._exitGlobe(),this._exitStage())}_createGraphicsViewIfNeeded(){if(this.graphicsView||this._createGraphicsViewController)return;if(0===this.graphics.length)return;this.handles.remove(\"graphics-view\"),this._createGraphicsViewController=new AbortController;const e=()=>{this._createGraphicsViewController=null,this._updatingChanged()};this._createGraphicsViewAsync(this._createGraphicsViewController.signal).then(e,e),this._updatingChanged()}async _createGraphicsViewAsync(e){const t=(await import(\"./3d/layers/GraphicsView3D.js\")).default;w(e),await M((()=>this.basemapTerrain?.ready),e),this._set(\"graphicsView\",new t({view:this}))}_disposeGraphicsView(){this._createGraphicsViewController&&(this._createGraphicsViewController.abort(),this._createGraphicsViewController=null),this.handles.remove(\"graphics-view\"),m(this.graphicsView)&&(this.handles.remove(this.graphicsView.processor.layer.id),this.graphicsView.destroy(),this._set(\"graphicsView\",null))}_startup(){const e=ae(this.viewingMode);if(e===se.Global&&(this._clippingArea=null),this._initSurface(e),this._set(\"ready\",!0),this.handles.add(v((()=>this.graphics),\"after-changes\",(()=>this._createGraphicsViewIfNeeded())),\"graphics-view\"),this._createGraphicsViewIfNeeded(),!this._externallySet.environment){const e=this.get(\"map.initialViewProperties.environment\");e&&(this.environment=e)}this.labeler.setup(),this.environmentManager.connectView(this),this.inputManager.connect();const t=this._resolveWhenReady;this._resolveWhenReady=[],t.forEach((e=>e(this)))}_teardown(){this._initialDefaultSpatialReference=null,this.inputManager.disconnect(),this.environmentManager.disconnectView(),this.labeler.dispose(),this._disposeGraphicsView(),this.handles.remove(\"graphics-view\"),this._exitSurface(),this._set(\"ready\",!1)}_updateDefaultToMapOptions(){if(this._defaultToMapOptions.include.clear(),this.map){this.map.ground&&this._defaultToMapOptions.include.add(Be);for(const e of this.map.allLayers.items)\"integrated-mesh\"===e.type&&this._defaultToMapOptions.include.add(e.uid)}}_updateDefaultHitTestOptions(){if(this._defaultHitTestOptions.exclude.clear(),this.map){this.map.ground&&this.map.ground.opacity<1&&this._defaultHitTestOptions.exclude.add(Be);for(const e of this.map.allLayers.items)\"integrated-mesh\"===e.type&&e.opacity<1&&this._defaultToMapOptions.exclude.add(e.uid)}}addVoxelLayerViewToWasm(e){return g(this.voxelWasm)?(g(this.voxelWasmPromise)&&(this.voxelWasmPromise=import(\"../layers/VoxelWasmPerSceneView.js\").then((e=>(this.voxelWasm=new e.default(this),this.voxelWasm)))),this.voxelWasmPromise.then((t=>t.addVoxelLayer(e)))):this.voxelWasm.addVoxelLayer(e)}removeVoxelLayerViewFromWasm(e){if(m(this.voxelWasm)){this.voxelWasm.removeVoxelLayer(e)<1&&(this.voxelWasm=null,this.voxelWasmPromise=null)}}};function pt(e,t){e.layerUids||(e.layerUids=new Set),e.layerUids.add(t)}function ht(e,t){e.graphicUids||(e.graphicUids=new Set),e.graphicUids.add(t)}function dt(e,t){return m(e)&&U(e.spatialReference,t)?A(e,t):null}var ct;lt.type=\"3d\",e([E()],lt.prototype,\"_userClippingArea\",void 0),e([E()],lt.prototype,\"_resourceController\",void 0),e([E()],lt.prototype,\"_stage\",void 0),e([E({readOnly:!0})],lt.prototype,\"deconflictor\",void 0),e([E({readOnly:!0})],lt.prototype,\"labeler\",void 0),e([E(G(Z,\"analyses\"))],lt.prototype,\"analyses\",void 0),e([E({type:re,readOnly:!0,aliasOf:\"state.animation\"})],lt.prototype,\"animation\",void 0),e([E({readOnly:!0})],lt.prototype,\"basemapTerrain\",void 0),e([E({readOnly:!0})],lt.prototype,\"elevationProvider\",void 0),e([E({type:t,aliasOf:\"stateManager.camera\"})],lt.prototype,\"camera\",void 0),e([E({type:t,aliasOf:\"stateManager.contentCamera\"})],lt.prototype,\"contentCamera\",void 0),e([E({readOnly:!0})],lt.prototype,\"canvas\",void 0),e([E({type:at,aliasOf:\"stateManager.center\"})],lt.prototype,\"center\",void 0),e([E({type:st})],lt.prototype,\"clippingArea\",null),e([E({type:pe})],lt.prototype,\"constraints\",void 0),e([E({type:st,readOnly:!0})],lt.prototype,\"renderDataExtent\",null),e([E({type:st,readOnly:!0})],lt.prototype,\"dataExtent\",null),e([E({type:st,readOnly:!0})],lt.prototype,\"groundAndLayersExtent\",null),e([E({value:null,type:he})],lt.prototype,\"environment\",null),e([j(\"environment\")],lt.prototype,\"castEnvironment\",null),e([E({readOnly:!0})],lt.prototype,\"environmentManager\",void 0),e([E({type:st,aliasOf:\"stateManager.extent\"})],lt.prototype,\"extent\",void 0),e([E()],lt.prototype,\"floors\",void 0),e([E({readOnly:!0,aliasOf:\"stateManager.screenCenter\"})],lt.prototype,\"screenCenter\",void 0),e([E({aliasOf:\"stateManager.frustum\"})],lt.prototype,\"frustum\",void 0),e([E({type:Number,readOnly:!0})],lt.prototype,\"fullOpacity\",void 0),e([E({readOnly:!0})],lt.prototype,\"graphicsView\",void 0),e([E({readOnly:!0})],lt.prototype,\"analysisViewManager\",void 0),e([E()],lt.prototype,\"groundView\",void 0),e([E({type:Boolean})],lt.prototype,\"initialExtentRequired\",null),e([E()],lt.prototype,\"_defaultsFromMapSettings\",null),e([E({type:Boolean,readOnly:!0})],lt.prototype,\"interacting\",null),e([E()],lt.prototype,\"stationary\",null),e([E({aliasOf:\"state.navigating\"})],lt.prototype,\"navigating\",void 0),e([E()],lt.prototype,\"map\",void 0),e([E({readOnly:!0})],lt.prototype,\"mapCoordsHelper\",void 0),e([E({aliasOf:\"stateManager.padding\"})],lt.prototype,\"padding\",void 0),e([E({type:Pe,readOnly:!0})],lt.prototype,\"pointsOfInterest\",void 0),e([E({type:fe,readOnly:!0})],lt.prototype,\"featureTiles\",void 0),e([E()],lt.prototype,\"featureTreeDebugger\",void 0),e([E({type:Boolean})],lt.prototype,\"screenSizePerspectiveEnabled\",void 0),e([E({constructOnly:!0})],lt.prototype,\"deactivatedWebGLExtensions\",void 0),e([E({constructOnly:!0})],lt.prototype,\"debugWebGLExtensions\",void 0),e([E({constructOnly:!0})],lt.prototype,\"renderCanvas\",void 0),e([E({constructOnly:!0})],lt.prototype,\"state\",void 0),e([E({readOnly:!0})],lt.prototype,\"inputManager\",void 0),e([E({readOnly:!0})],lt.prototype,\"stateManager\",void 0),e([E({type:[\"low\",\"medium\",\"high\"]})],lt.prototype,\"qualityProfile\",null),e([E({type:Ce,get(){let e=this._get(\"qualitySettings\");return e||(e=new Ce,Se.apply(this.qualityProfile,e)),e}})],lt.prototype,\"qualitySettings\",void 0),e([E()],lt.prototype,\"slicePlane\",null),e([E({readOnly:!0})],lt.prototype,\"typeSpecificPreconditionsReady\",null),e([E({readOnly:!0})],lt.prototype,\"renderCoordsHelper\",void 0),e([E({readOnly:!0})],lt.prototype,\"sceneIntersectionHelper\",void 0),e([E({type:Number,dependsOn:[\"scale\",\"spatialReference\"],readOnly:!0})],lt.prototype,\"resolution\",null),e([E({type:Number,aliasOf:\"stateManager.scale\"})],lt.prototype,\"scale\",void 0),e([E()],lt.prototype,\"heightModelInfo\",null),e([E()],lt.prototype,\"spatialReference\",void 0),e([E({type:Boolean,constructOnly:!0})],lt.prototype,\"alphaCompositingEnabled\",void 0),e([E({constructOnly:!0})],lt.prototype,\"preserveDrawingBufferEnabled\",void 0),e([E({type:Boolean})],lt.prototype,\"supersampleScreenshotsEnabled\",void 0),e([E({readOnly:!0})],lt.prototype,\"type\",void 0),e([E({type:it})],lt.prototype,\"ui\",void 0),e([E({type:Boolean,readOnly:!0,dependsOn:[\"graphicsView.updating\",\"basemapView.updating\",\"basemapTerrain.updating\",\"layerViewManager.updating\",\"layerViewManager.updatingRemaining\",\"_resourceController.updating\",\"_stage.updating\",\"featureTiles.updating\",\"pointsOfInterest.updating\",\"environmentManager.updating\",\"overlay.updating\",\"updatingHandles.updating\",\"featureTreeDebugger.updating\",\"labeler.updating\",\"deconflictor.updating\",\"ready\",\"stationary\",\"inputManager.hasPendingInputs\",\"toolViewManager.updating\",\"analysisViewManager.updating\"]})],lt.prototype,\"updating\",null),e([E({type:Number,readOnly:!0,dependsOn:[\"updating\"]})],lt.prototype,\"updatingProgress\",void 0),e([E({type:[\"global\",\"local\"]})],lt.prototype,\"viewingMode\",null),e([E({type:r,aliasOf:\"stateManager.viewpoint\"})],lt.prototype,\"viewpoint\",void 0),e([E({type:Number,aliasOf:\"stateManager.zoom\"})],lt.prototype,\"zoom\",void 0),e([E({type:Re})],lt.prototype,\"highlightOptions\",void 0),lt=e([P(\"esri.views.SceneView\")],lt),function(e){e[e.INCLUDE=0]=\"INCLUDE\",e[e.EXCLUDE=1]=\"EXCLUDE\"}(ct||(ct={}));const ut=L(),gt=x(),mt=k(),ft=lt;export{ft as default};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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AAO,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,GAAE,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,QAAM,SAAO,SAAO,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,OAAM,EAAC,GAAE,EAAC,UAAS,CAAC,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,SAAO,SAAO,SAAQ,SAAQ,SAAQ,QAAO,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,QAAO,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,QAAO,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,QAAO,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,QAAO,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,OAAM,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,QAAO,SAAQ,QAAO,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,QAAO,SAAQ,OAAM,SAAQ,SAAQ,SAAQ,SAAQ,QAAO,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,QAAO,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,QAAO,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,QAAO,SAAQ,SAAQ,OAAM,SAAQ,SAAQ,QAAO,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAO,QAAO,GAAE,QAAO,OAAM,QAAO,QAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,OAAM,GAAE,UAAS,CAAC,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,QAAM,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,OAAK,SAAO,SAAO,SAAO,OAAK,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,SAAO,QAAM,SAAO,SAAO,S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AAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,QAAO,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,QAAO,SAAQ,SAAQ,SAAQ,QAAO,SAAQ,QAAO,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,SAAO,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,SAAO,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,SAAO,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,UAAQ,GAAE,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,QAAO,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,SAAQ,OAAO,GAAE,UAAS,CAAC,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,GAAE,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,OAAK,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,QAAM,SAAO,QAAM,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,SAAO,S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",
  "names": ["u", "s", "d", "n", "e", "C", "t", "f", "o", "h", "v", "d", "e", "u", "j", "f", "v", "l", "U", "n", "h", "i", "s", "t", "e", "o", "r", "a", "l", "p", "s", "V", "A", "v", "e", "g", "d", "j", "m", "t", "i", "a", "r", "o", "n", "D", "c", "s", "p", "t", "f", "l", "o", "e", "i", "y", "h", "U", "M", "u", "n", "d", "p", "d", "n", "o", "t", "r", "s", "n", "c", "m", "h", "p", "t", "o", "s", "n", "c", "p", "o", "n", "d", "i", "l", "e", "t", "r", "o", "n", "p", "s", "a", "n", "p", "e", "t", "o", "i", "r", "l", "s", "c", "l", "r", "n", "a", "n", "i", "a", "e", "t", "c", "i", "l", "c", "t", "i", "r", "n", "p", "c", "l", "r", "n", "c", "p", "l", "o", "r", "n", "u", "p", "c", "l", "r", "n", "i", "p", "l", "r", "n", "c", "i", "p", "l", "o", "r", "n", "i", "n", "u", "c", "y", "e", "o", "a", "i", "p", "a", "t", "l", "r", "n", "c", "l", "a", "p", "i", "c", "o", "r", "n", "o", "c", "n", "t", "e", "r", "g", "u", "s", "d", "e", "t", "o", "b", "l", "p", "y", "a", "m", "i", "n", "m", "u", "y", "t", "i", "l", "c", "p", "a", "s", "n", "b", "t", "e", "n", "o", "r", "c", "s", "a", "f", "g", "e", "r", "o", "E", "l", "R", "c", "I", "t", "x", "s", "t", "e", "C", "e", "n", "s", "t", "i", "u", "a", "r", "g", "A", "f", "o", "P", "E", "i", "n", "x", "m", "n", "t", "j", "r", "j", "n", "t", "r", "u", "o", "i", "k", "n", "t", "r", "i", "z", "a", "v", "n", "x", "S", "e", "b", "u", "e", "r", "o", "E", "s", "R", "I", "c", "t", "f", "n", "e", "j", "t", "u", "a", "e", "s", "L", "E", "k", "r", "v", "o", "G", "y", "q", "R", "U", "z", "w", "n", "c", "A", "x", "f", "i", "s", "i", "t", "e", "n", "o", "h", "r", "c", "g", "e", "r", "o", "E", "l", "R", "I", "c", "t", "h", "c", "e", "r", "o", "E", "t", "s", "R", "l", "I", "x", "e", "t", "D", "s", "M", "P", "G", "L", "u", "c", "r", "i", "I", "e", "u", "r", "h", "p", "t", "s", "G", "n", "g", "i", "L", "l", "x", "M", "P", "D", "o", "a", "N", "W", "h", "e", "r", "o", "E", "l", "R", "c", "t", "u", "v", "e", "n", "t", "u", "A", "o", "p", "f", "h", "r", "s", "i", "x", "E", "z", "P", "a", "_", "c", "e", "r", "o", "E", "n", "l", "R", "I", "t", "v", "A", "q", "s", "R", "t", "f", "e", "n", "c", "r", "A", "u", "P", "G", "D", "L", "I", "O", "E", "T", "a", "o", "S", "i", "F", "g", "t", "u", "e", "r", "o", "l", "R", "I", "c", "O", "O", "t", "n", "g", "i", "c", "p", "u", "e", "r", "s", "h", "_", "m", "R", "B", "E", "o", "z", "P", "A", "F", "f", "k", "T", "A", "X", "s", "Z", "$", "n", "U", "e", "f", "t", "p", "a", "l", "w", "u", "r", "A", "i", "P", "G", "D", "L", "c", "E", "o", "h", "m", "d", "F", "he", "v", "T", "O", "d", "t", "e", "g", "r", "o", "E", "l", "R", "I", "c", "v", "O", "s", "S", "t", "d", "c", "e", "r", "E", "V", "g", "R", "h", "n", "L", "m", "u", "M", "i", "U", "a", "o", "f", "I", "F", "T", "P", "O", "E", "S", "M", "e", "u", "s", "p", "a", "t", "I", "i", "j", "v", "f", "w", "l", "h", "n", "A", "C", "R", "s", "t", "n", "o", "u", "r", "e", "i", "M", "c", "a", "h", "d", "f", "m", "b", "p", "d", "t", "n", "o", "m", "t", "n", "d", "o", "r", "n", "t", "r", "e", "o", "u", "a", "i", "c", "f", "d", "s", "v", "M", "p", "h", "l", "x", "N", "P", "E", "I", "O", "T", "g", "m", "A", "L", "R", "G", "H", "_", "z", "D", "S", "w", "N", "i", "n", "o", "a", "r", "l", "u", "m", "d", "g", "e", "I", "t", "D", "A", "s", "j", "M", "T", "z", "F", "L", "x", "U", "p", "k", "R", "_", "P", "b", "v", "S", "r", "O", "t", "P", "e", "z", "j", "i", "n", "o", "a", "D", "E", "I", "l", "c", "s", "u", "m", "d", "g", "b", "f", "y", "w", "A", "N", "T", "M", "v", "x", "H", "k", "F", "L", "R", "U", "_", "C", "V", "q", "B", "G", "J", "K", "Q", "W", "k", "e", "F", "n", "L", "R", "U", "_", "L", "n", "u", "i", "c", "l", "A", "e", "M", "t", "r", "U", "w", "m", "o", "s", "Q", "D", "N", "a", "h", "V", "I", "d", "q", "v", "O", "O", "n", "t", "L", "a", "i", "N", "m", "E", "o", "r", "P", "d", "t", "n", "o", "E", "a", "l", "m", "u", "f", "x", "h", "T", "r", "A", "y", "j", "C", "e", "g", "M", "i", "s", "O", "N", "c", "p", "L", "y", "e", "n", "r", "E", "t", "x", "g", "o", "j", "i", "O", "s", "p", "d", "h", "l", "k", "L", "U", "w", "C", "N", "I", "u", "b", "v", "c", "a", "f", "m", "p", "r", "n", "t", "o", "j", "b", "m", "e", "g", "a", "c", "l", "v", "w", "d", "u", "H", "y", "i", "s", "C", "M", "x", "P", "o", "r", "l", "i", "a", "N", "m", "A", "C", "f", "s", "e", "c", "_", "u", "n", "n", "c", "e", "i", "m", "a", "s", "l", "P", "P", "t", "r", "n", "E", "i", "W", "s", "U", "p", "z", "m", "L", "_", "u", "G", "e", "a", "Q", "B", "O", "N", "K", "v", "o", "g", "q", "k", "c", "b", "V", "F", "H", "T", "l", "J", "d", "M", "t", "u", "o", "i", "n", "c", "a", "s", "q", "r", "e", "b", "d", "h", "p", "x", "M", "f", "l", "I", "P", "g", "j", "k", "m", "v", "w", "y", "z", "A", "B", "C", "D", "E", "F", "G", "H", "E", "t", "o", "r", "d", "i", "e", "n", "j", "U", "O", "s", "a", "N", "l", "C", "y", "m", "T", "P", "P", "n", "g", "_", "k", "v", "x", "z", "r", "b", "e", "T", "t", "l", "i", "s", "o", "A", "a", "h", "O", "u", "o", "n", "t", "o", "e", "r", "s", "e", "o", "t", "n", "s", "m", "r", "a", "i", "p", "i", "t", "o", "e", "n", "s", "a", "h", "l", "o", "a", "e", "n", "t", "i", "r", "d", "c", "l", "m", "h", "s", "f", "w", "p", "f", "Z", "P", "D", "b", "g", "h", "M", "n", "o", "k", "t", "a", "N", "i", "e", "j", "s", "l", "w", "m", "z", "A", "r", "I", "d", "q", "c", "v", "y", "p", "B", "C", "E", "s", "e", "i", "t", "f", "n", "o", "u", "d", "a", "r", "m", "i", "n", "t", "s", "a", "w", "f", "e", "o", "c", "n", "h", "i", "m", "T", "s", "a", "o", "e", "u", "r", "t", "K", "o", "e", "i", "n", "a", "i", "t", "m", "o", "n", "h", "a", "i", "n", "t", "e", "p", "x", "l", "H", "K", "s", "r", "p", "e", "n", "m", "U", "d", "K", "t", "L", "N", "O", "Q", "e", "n", "Y", "t", "Z", "e", "n", "o", "p", "f", "v", "L", "u", "$", "q", "s", "_", "m", "r", "c", "a", "i", "A", "et", "t", "e", "o", "n", "u", "s", "M", "r", "a", "i", "_", "c", "m", "K", "B", "U", "p", "z", "T", "P", "q", "l", "h", "g", "d", "F", "D", "L", "It", "k", "Z", "f", "z", "U", "V", "x", "_", "F", "h", "n", "K", "N", "i", "m", "t", "e", "s", "o", "a", "A", "r", "f", "p", "y", "w", "g", "k", "u", "P", "l", "T", "E", "j", "L", "d", "z", "M", "S", "F", "h", "n", "K", "N", "i", "m", "t", "e", "p", "l", "x", "O", "r", "C", "y", "u", "P", "R", "s", "f", "o", "a", "D", "A", "E", "j", "s", "i", "o", "t", "r", "F", "a", "i", "K", "r", "e", "o", "n", "g", "t", "k", "A", "L", "a", "n", "e", "N", "i", "m", "r", "Q", "s", "p", "h", "c", "P", "z", "u", "E", "o", "l", "f", "V", "a", "i", "t", "r", "e", "o", "L", "H", "a", "t", "n", "i", "N", "m", "_", "Q", "e", "p", "r", "K", "L", "s", "z", "o", "O", "u", "I", "y", "E", "k", "Z", "j", "S", "a", "t", "n", "i", "N", "m", "p", "Q", "s", "A", "e", "r", "z", "o", "L", "u", "O", "j", "_", "$", "k", "y", "E", "s", "i", "r", "t", "e", "o", "H", "S", "l", "n", "u", "h", "m", "f", "p", "b", "d", "z", "g", "P", "j", "r", "k", "e", "s", "v", "T", "r", "j", "g", "e", "y", "n", "x", "h", "t", "i", "s", "c", "m", "f", "R", "M", "b", "L", "o", "v", "u", "_", "E", "a", "H", "I", "r", "P", "z", "n", "v", "i", "w", "e", "U", "q", "E", "t", "a", "h", "p", "M", "f", "L", "j", "S", "o", "m", "_", "s", "c", "l", "y", "d", "g", "b", "T", "x", "R", "H", "W", "k", "A", "C", "G", "u", "P", "s", "L", "E", "G", "O", "k", "I", "q", "n", "J", "F", "W", "X", "i", "K", "Y", "N", "e", "V", "C", "H", "Z", "t", "r", "B", "a", "u", "c", "g", "M", "Q", "$", "re", "d", "m", "_", "o", "l", "ee", "te", "ne", "ce", "Re", "ie", "oe", "ae", "se", "f", "ge", "p", "h", "y", "R", "U", "A", "me", "he", "q", "a", "t", "K", "N", "i", "m", "e", "s", "o", "it", "E", "at", "L", "u", "c", "r", "rt", "j", "st", "n", "l", "p", "z", "h", "d", "f", "v", "C", "g", "B", "T", "P", "Z", "Q", "W", "$", "Y", "tt", "et", "J", "M", "l", "i", "e", "u", "a", "h", "t", "q", "a", "e", "o", "i", "t", "r", "l", "q", "i", "e", "t", "r", "F", "t", "p", "a", "t", "K", "N", "i", "m", "n", "e", "E", "i", "p", "t", "n", "o", "r", "e", "p", "n", "u", "l", "o", "i", "s", "t", "r", "z", "n", "p", "t", "i", "o", "r", "Z", "m", "p", "t", "i", "n", "o", "r", "j", "p", "t", "i", "n", "_", "e", "s", "et", "E", "k", "Z", "e", "u", "c", "t", "e", "i", "s", "a", "h", "n", "o", "l", "r", "m", "v", "z", "it", "a", "t", "n", "p", "i", "s", "o", "h", "_", "N", "K", "m", "r", "M", "d", "j", "e", "x", "C", "S", "f", "E", "y", "O", "k", "z", "A", "R", "u", "P", "l", "et", "It", "Y", "Z", "G", "r", "Z", "B", "W", "a", "t", "p", "h", "s", "n", "i", "N", "K", "m", "e", "d", "T", "o", "C", "j", "g", "v", "P", "w", "b", "L", "z", "M", "f", "u", "y", "E", "Y", "_", "i", "t", "e", "s", "r", "it", "W", "e", "i", "t", "e", "i", "t", "t", "e", "i", "e", "t", "i", "o", "i", "e", "t", "a", "L", "g", "a", "i", "e", "t", "r", "s", "n", "h", "d", "o", "c", "l", "p", "m", "z", "u", "e", "t", "n", "o", "a", "s", "r", "c", "g", "i", "l", "h", "E", "b", "k", "C", "e", "n", "i", "l", "o", "s", "a", "c", "t", "u", "r", "h", "p", "f", "H", "n", "Z", "q", "J", "K", "e", "Q", "_", "$", "d", "u", "i", "t", "s", "G", "X", "c", "r", "h", "a", "L", "f", "p", "o", "E", "C", "D", "l", "O", "U", "z", "c", "n", "E", "r", "t", "N", "_", "u", "E", "l", "e", "t", "h", "L", "n", "i", "g", "C", "s", "r", "f", "i", "e", "d", "u", "s", "g", "e", "r", "C", "n", "O", "c", "l", "w", "t", "x", "a", "P", "v", "d", "i", "y", "z", "L", "D", "$", "p", "N", "o", "j", "S", "B", "T", "J", "f", "m", "k", "V", "G", "q", "s", "t", "v", "z", "R", "w", "b", "e", "n", "M", "P", "G", "D", "L", "u", "a", "t", "s", "O", "j", "i", "r", "h", "o", "E", "V", "s", "F", "u", "l", "L", "b", "e", "t", "C", "E", "M", "B", "k", "z", "n", "i", "a", "r", "o", "c", "p", "N", "d", "g", "y", "f", "m", "_", "c", "u", "e", "t", "r", "o", "n", "w", "a", "l", "p", "m", "h", "f", "d", "C", "s", "A", "e", "d", "_", "t", "s", "l", "R", "O", "i", "n", "o", "a", "u", "S", "b", "H", "r", "g", "p", "j", "P", "v", "Q", "k", "N", "j", "e", "K", "u", "A", "t", "i", "o", "d", "s", "T", "r", "D", "n", "a", "l", "h", "c", "y", "E", "g", "m", "S", "b", "R", "k", "M", "C", "W", "v", "x", "C", "s", "j", "e", "u", "n", "t", "i", "l", "U", "w", "L", "a", "I", "D", "k", "h", "z", "E", "O", "w", "o", "K", "n", "l", "e", "t", "p", "r", "a", "v", "j", "O", "U", "_", "c", "e", "t", "i", "l", "M", "u", "p", "r", "o", "m", "x", "d", "E", "b", "I", "v", "z", "g", "P", "_", "w", "y", "j", "k", "q", "s", "f", "n", "a", "h", "c", "e", "u", "t", "p", "o", "i", "n", "M", "t", "u", "c", "l", "U", "_e", "h", "i", "m", "a", "N", "e", "E", "n", "c", "i", "e", "u", "o", "p", "n", "ce", "le", "e", "s", "me", "ue", "fe", "t", "pe", "n", "r", "a", "k", "M", "o", "g", "c", "$", "l", "Y", "_", "ne", "m", "ge", "u", "we", "he", "i", "d", "Re", "Se", "Me", "de", "je", "p", "Te", "S", "H", "G", "Pe", "ye", "xe", "B", "ve", "h", "f", "E", "re", "ee", "U", "te", "Ce", "O", "I", "N", "y", "C", "t", "i", "e", "m", "j", "he", "a", "o", "u", "d", "r", "n", "s", "B", "c", "E", "h", "w", "q", "s", "W", "e", "o", "d", "u", "t", "$", "B", "i", "r", "a", "l", "p", "ee", "n", "c", "ge", "A", "M", "f", "C", "g", "Q", "Y", "K", "X", "Z", "ce", "_", "pe", "E", "m", "J", "H", "e", "t", "r", "n", "A", "d", "u", "x", "k", "i", "N", "g", "c", "s", "l", "z", "h", "m", "p", "y", "f", "a", "S", "v", "w", "b", "o", "T", "U", "R", "L", "_", "F", "u", "n", "e", "a", "t", "s", "r", "o", "i", "p", "l", "c", "a", "e", "i", "o", "e", "l", "o", "r", "i", "p", "n", "a", "i", "s", "p", "n", "e", "r", "t", "o", "c", "k", "s", "n", "r", "p", "a", "d", "l", "c", "e", "y", "s", "l", "t", "p", "n", "d", "u", "c", "_", "h", "e", "r", "i", "a", "o", "T", "f", "e", "v", "n", "t", "Q", "u", "N", "A", "l", "y", "I", "E", "U", "L", "a", "r", "s", "n", "t", "s", "x", "n", "e", "a", "m", "o", "i", "e", "x", "t", "r", "h", "i", "e", "t", "r", "s", "o", "n", "a", "l", "m", "L", "h", "e", "A", "D", "t", "p", "r", "n", "l", "u", "U", "S", "c", "s", "o", "i", "h", "S", "j", "e", "r", "g", "c", "r", "u", "n", "u", "m", "c", "t", "o", "n", "a", "e", "r", "ee", "y", "F", "j", "k", "c", "t", "o", "n", "a", "L", "e", "r", "s", "C", "u", "F", "p", "i", "v", "O", "t", "u", "n", "e", "O", "j", "c", "e", "o", "l", "L", "r", "s", "P", "i", "p", "h", "A", "t", "x", "S", "z", "n", "h", "e", "u", "n", "l", "a", "p", "t", "u", "D", "n", "e", "L", "l", "h", "t", "r", "s", "f", "o", "m", "y", "E", "E", "e", "u", "d", "o", "N", "n", "t", "r", "x", "h", "f", "p", "k", "L", "m", "j", "c", "l", "U", "a", "s", "D", "g", "F", "i", "s", "a", "e", "t", "a", "o", "s", "i", "l", "h", "r", "n", "u", "f", "m", "C", "c", "p", "d", "g", "x", "M", "w", "e", "u", "t", "r", "j", "c", "g", "l", "_", "L", "n", "s", "T", "D", "h", "M", "I", "i", "o", "C", "a", "H", "A", "E", "e", "o", "s", "ne", "oe", "le", "e", "u", "t", "p", "x", "l", "U", "A", "L", "i", "r", "s", "y", "g", "ue", "T", "a", "ye", "n", "he", "o", "c", "pe", "me", "de", "h", "B", "j", "d", "_", "m", "f", "v", "R", "M", "D", "E", "P", "C", "N", "H", "ce", "z", "t", "e", "o", "i", "s", "n", "h", "n", "t", "e", "s", "i", "r", "E", "H", "f", "u", "o", "l", "T", "O", "c", "b", "_", "o", "I", "s", "t", "n", "r", "i", "e", "l", "i", "n", "t", "a", "s", "e", "A", "h", "i", "r", "n", "e", "t", "s", "i", "l", "A", "h", "d", "y", "_", "o", "u", "p", "f", "I", "q", "v", "L", "m", "D", "a", "l", "n", "E", "t", "n", "p", "n", "t", "s", "r", "h", "j", "f", "e", "u", "t", "E", "te", "n", "ie", "se", "ne", "re", "ae", "u", "_", "i", "le", "de", "p", "e", "t", "A", "m", "ce", "S", "a", "r", "s", "E", "I", "T", "O", "v", "o", "f", "y", "P", "he", "ue", "h", "U", "oe", "ge", "fe", "Z", "Y", "q", "_e", "X", "Q", "J", "K", "l", "pe", "_e", "e", "i", "s", "Ae", "P", "t", "E", "z", "n", "B", "r", "a", "o", "h", "l", "d", "pe", "u", "ye", "ce", "s", "t", "e", "T", "h", "n", "s", "e", "t", "i", "r", "a", "o", "Y", "l", "E", "q", "Z", "d", "P", "u", "g", "c", "p", "f", "_", "A", "T", "D", "O", "e", "t", "n", "s", "l", "u", "d", "m", "b", "M", "v", "V", "A", "P", "B", "w", "I", "L", "T", "r", "U", "N", "j", "Z", "C", "H", "W", "ge", "_", "X", "q", "k", "ee", "G", "z", "F", "J", "Q", "o", "a", "i", "c", "h", "f", "g", "ue", "xe", "Se", "pe", "ye", "be", "he", "ve", "Me", "E", "Y", "$", "K", "R", "x", "y", "de", "p", "te", "ne", "S", "me", "oe", "re", "ae", "se", "ie", "ce", "le", "fe", "De", "Oe", "Ve", "Re", "Ee", "Ae", "Pe", "Be", "we", "Ie", "Le", "Te", "Ue", "Ne", "je", "Ze", "f", "ae", "e", "t", "r", "u", "a", "o", "n", "c", "l", "m", "p", "d", "k", "i", "s", "ce", "j", "v", "g", "V", "B", "w", "O", "D", "ae", "t", "e", "i", "s", "n", "r", "h", "l", "d", "c", "u", "p", "m", "_", "f", "z", "o", "E", "P", "g", "k", "O", "a", "L", "A", "r", "n", "u", "e", "t", "i", "a", "s", "s", "t", "e", "f", "i", "e", "j", "r", "o", "E", "s", "R", "c", "t", "u", "w", "g", "e", "f", "o", "r", "c", "i", "r", "s", "U", "u", "e", "t", "i", "a", "l", "n", "o", "p", "d", "c", "m", "g", "y", "h", "f", "b", "e", "r", "o", "E", "s", "R", "c", "t", "k", "y", "g", "r", "t", "s", "l", "i", "V", "e", "D", "o", "F", "e", "r", "s", "h", "w", "u", "A", "t", "i", "c", "g", "j", "E", "n", "o", "l", "y", "b", "a", "_", "p", "f", "M", "C", "e", "t", "r", "f", "F", "A", "s", "o", "a", "i", "n", "c", "l", "p", "T", "G", "E", "x", "U", "R", "S", "_", "B", "z", "u", "L", "d", "h", "m", "b", "w", "M", "P", "D", "O", "q", "s", "o", "a", "c", "h", "f", "t", "e", "i", "n", "r", "l", "d", "I", "b", "u", "y", "N", "m", "x", "g", "p", "T", "M", "R", "S", "A", "w", "V", "v", "B", "P", "U", "j", "D", "F", "O", "k", "L", "E", "q", "z", "C", "G", "g", "e", "i", "r", "l", "o", "E", "s", "R", "I", "a", "c", "t", "A", "n", "i", "o", "p", "e", "l", "ae", "oe", "le", "a", "de", "n", "he", "e", "i", "N", "u", "T", "r", "h", "l", "E", "c", "j", "t", "A", "f", "C", "w", "s", "pe", "o", "fe", "p", "g", "m", "_", "L", "y", "O", "v", "x", "ge", "V", "P", "d", "U", "me", "D", "q", "S", "ue", "ce", "e", "g", "e", "u", "l", "t", "f", "H", "C", "M", "s", "I", "i", "n", "t", "n", "s", "i", "e", "s", "ze", "n", "e", "r", "i", "re", "H", "u", "c", "Q", "t", "f", "D", "le", "l", "ce", "p", "w", "U", "h", "g", "A", "L", "ae", "S", "I", "et", "a", "o", "T", "it", "tt", "Ke", "E", "m", "Je", "Ze", "st", "at", "x", "W", "R", "_", "v", "C", "j", "O", "rt", "y", "e", "t", "r", "s", "d", "i", "c", "h", "E", "o", "m", "l", "R", "G", "n", "h", "j", "t", "e", "y", "o", "r", "n", "i", "s", "a", "c", "T", "t", "n", "e", "s", "o", "r", "i", "l", "a", "e", "t", "s", "h", "n", "i", "t", "n", "e", "l", "i", "s", "a", "c", "r", "o", "f", "h", "B", "E", "u", "_", "o", "s", "l", "i", "t", "e", "n", "a", "u", "C", "A", "y", "g", "N", "b", "j", "B", "c", "d", "O", "x", "I", "M", "D", "v", "r", "p", "m", "h", "f", "s", "t", "e", "o", "e", "s", "t", "i", "r", "n", "a", "t", "e", "f", "S", "n", "o", "e", "r", "a", "s", "l", "P", "E", "u", "U", "i", "R", "v", "t", "h", "q", "M", "A", "x", "B", "y", "O", "F", "W", "I", "D", "f", "N", "p", "C", "m", "G", "H", "J", "K", "e", "t", "s", "S", "x", "e", "r", "o", "m", "t", "l", "T", "n", "O", "s", "c", "E", "h", "a", "u", "f", "k", "e", "t", "r", "s", "i", "c", "s", "n", "h", "e", "i", "r", "t", "o", "u", "_", "e", "t", "r", "B", "L", "o", "C", "m", "c", "s", "u", "a", "i", "O", "n", "V", "X", "U", "T", "l", "H", "x", "h", "W", "I", "k", "G", "e", "a", "u", "M", "P", "G", "L", "D", "x", "t", "e", "i", "s", "r", "h", "d", "r", "i", "a", "e", "r", "t", "e", "s", "i", "K", "s", "Q", "e", "t", "n", "r", "F", "a", "_", "o", "p", "i", "c", "m", "l", "f", "h", "b", "g", "d", "w", "M", "x", "O", "u", "G", "$", "L", "W", "V", "ee", "te", "oe", "y", "A", "Z", "E", "T", "g", "e", "r", "i", "o", "E", "n", "c", "l", "R", "s", "t", "_", "s", "t", "i", "d", "r", "e", "o", "n", "g", "m", "E", "T", "u", "f", "R", "B", "v", "j", "C", "A", "t", "r", "i", "M", "e", "K", "n", "O", "T", "D", "s", "a", "o", "W", "G", "S", "h", "f", "F", "k", "P", "E", "u", "l", "y", "L", "V", "U", "I", "H", "c", "d", "g", "x", "N", "_", "d", "t", "i", "o", "O", "n", "s", "e", "N", "u", "d", "n", "O", "i", "s", "e", "l", "r", "t", "o", "m", "p", "c", "_", "g", "f", "T", "v", "y", "k", "R", "L", "E", "M", "P", "G", "D", "e", "r", "n", "s", "e", "o", "r", "i", "n", "t", "c", "O", "d", "l", "p", "m", "a", "C", "M", "s", "a", "l", "n", "h", "o", "E", "A", "e", "t", "r", "P", "g", "I", "u", "c", "a", "e", "r", "o", "E", "l", "R", "c", "t", "a", "e", "r", "o", "E", "c", "t", "l", "a", "e", "r", "o", "E", "c", "t", "m", "c", "t", "r", "D", "O", "e", "t", "n", "c", "s", "a", "u", "V", "M", "P", "G", "L", "i", "o", "h", "l", "p", "m", "_", "r", "f", "E", "A", "F", "l", "G", "P", "g", "n", "e", "t", "r", "d", "u", "M", "L", "D", "B", "i", "s", "h", "o", "V", "T", "e", "t", "i", "o", "n", "g", "G", "U", "P", "L", "r", "_", "m", "p", "s", "O", "a", "h", "i", "t", "n", "e", "E", "s", "m", "o", "r", "d", "m", "e", "r", "o", "E", "c", "t", "g", "c", "r", "p", "m", "b", "q", "e", "t", "s", "i", "u", "n", "D", "a", "u", "e", "r", "o", "E", "l", "R", "c", "t", "x", "I", "N", "e", "t", "i", "s", "a", "n", "w", "f", "u", "h", "Q", "K", "_", "V", "M", "P", "G", "L", "D", "q", "l", "b", "r", "o", "k", "p", "m", "m", "t", "r", "u", "e", "o", "E", "l", "R", "c", "C", "l", "g", "w", "v", "t", "s", "m", "n", "u", "e", "i", "a", "z", "y", "o", "c", "P", "t", "G", "n", "e", "X", "n", "e", "r", "o", "E", "c", "t", "R", "e", "t", "L", "P", "r", "p", "u", "n", "g", "D", "V", "M", "G", "i", "_", "s", "E", "o", "h", "n", "o", "t", "c", "f", "i", "s", "u", "e", "p", "e", "i", "r", "t", "n", "o", "a", "c", "s", "o", "t", "e", "W", "n", "c", "e", "r", "o", "l", "R", "T", "I", "a", "t", "A", "s", "i", "x", "e", "T", "_", "R", "p", "A", "x", "P", "e", "r", "s", "n", "i", "t", "c", "E", "S", "o", "N", "u", "a", "e", "r", "E", "c", "h", "m", "d", "S", "g", "R", "A", "w", "s", "o", "n", "i", "u", "p", "l", "M", "P", "G", "L", "D", "f", "u", "t", "e", "r", "s", "h", "o", "n", "i", "p", "l", "m", "f", "E", "o", "t", "n", "e", "u", "i", "r", "A", "f", "c", "l", "r", "e", "n", "a", "t", "m", "o", "i", "c", "f", "oe", "s", "ne", "e", "c", "A", "n", "j", "r", "t", "F", "o", "i", "a", "d", "ce", "l", "E", "k", "ae", "O", "P", "m", "de", "u", "T", "_", "g", "h", "p", "f", "w", "b", "y", "ie", "e", "u", "i", "r", "s", "t", "i", "e", "n", "o", "m", "h", "r", "oe", "_e", "e", "r", "t", "i", "n", "a", "h", "d", "o", "m", "u", "R", "T", "Q", "x", "O", "v", "N", "A", "c", "M", "l", "w", "ne", "U", "s", "E", "G", "D", "_", "p", "P", "J", "f", "pe", "ce", "ge", "me", "ue", "le", "r", "y", "e", "t", "s", "n", "o", "g", "s", "T", "e", "t", "n", "L", "m", "r", "x", "o", "i", "u", "s", "g", "i", "t", "r", "a", "e", "M", "P", "G", "D", "L", "n", "n", "t", "g", "e", "t", "r", "s", "i", "o", "n", "d", "m", "P", "C", "f", "p", "a", "h", "c", "l", "_", "D", "V", "v", "o", "t", "e", "B", "s", "E", "e", "n", "g", "N", "l", "h", "c", "T", "_", "_e", "t", "r", "a", "i", "o", "p", "d", "A", "D", "L", "Q", "f", "w", "s", "e", "u", "h", "n", "r", "E", "L", "o", "y", "t", "F", "i", "e", "_", "o", "n", "p", "ot", "s", "lt", "w", "g", "p", "G", "e", "o", "z", "f", "_", "F", "n", "c", "L", "j", "D", "l", "b", "t", "E", "a", "C", "J", "h", "U", "M", "dt", "k", "i", "r", "y", "X", "v", "x", "d", "ut", "gt", "m", "ct", "ht", "pt", "u", "H", "mt", "A", "ft"]
}
