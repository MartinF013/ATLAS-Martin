import {
  t
} from "./chunk-22O7HU3A.js";
import {
  r as r3
} from "./chunk-EOJGYH5X.js";
import {
  D,
  Vs
} from "./chunk-7GTYHKA3.js";
import {
  q2 as q
} from "./chunk-53KI6WDE.js";
import {
  L,
  n as n3,
  tt
} from "./chunk-W2HLA6I3.js";
import {
  c
} from "./chunk-ZYIEYKCD.js";
import {
  l
} from "./chunk-ZN2MGN4S.js";
import {
  Bn,
  Hn,
  In,
  dn
} from "./chunk-PZWU5EHT.js";
import {
  n as n2,
  s
} from "./chunk-ASC3X65B.js";
import {
  O,
  p,
  z
} from "./chunk-RN2KRYDN.js";
import {
  P,
  _,
  o,
  r as r2,
  z as z2
} from "./chunk-PKZEO23A.js";
import {
  n
} from "./chunk-AIRC226G.js";
import {
  k2 as k
} from "./chunk-3NMRL5CR.js";
import {
  r
} from "./chunk-CBQWMOBK.js";

// node_modules/@arcgis/core/geometry/support/coordinateSystem.js
function h(t2) {
  const { value: n4, operations: e } = t2;
  return { operations: e, value: e.create(n4) };
}
function j(t2, n4, e) {
  return t2.operations.setExtent(t2.value, n4, e.value), e;
}
function d(t2) {
  return { operations: t2, value: t2.create() };
}
function A(t2, n4, e = d(t2)) {
  return e.operations = t2, t2.copy(n4, e.value), e;
}
function k2(t2) {
  return A(tt, L(0, 0, 0, p(t2).radius));
}
var x = 2 ** 50;
function y() {
  return A(Vs, D([0, 0, 0], [x, 0, 0], [0, x, 0]));
}
function R(t2, n4, e) {
  return t2.operations.axisAt(t2.value, n4, n3.Z, e);
}
function S(t2, n4, e, o2) {
  return t2.operations.axisAt(t2.value, n4, e, o2);
}
function b(t2, n4, e) {
  return t2.operations.intersectRay(t2.value, n4, e);
}
function g(t2, n4, e) {
  return t2.operations.intersectRayClosestSilhouette(t2.value, n4, e);
}
function T(t2, n4) {
  return t2.operations.altitudeAt(t2.value, n4);
}
function Z(t2, n4, e, o2) {
  return t2.operations.setAltitudeAt(t2.value, n4, e, o2);
}
function q2(e, o2, r4, u) {
  return o2 !== u && n2(u, o2), o(z3, u[12], u[13], u[14]), Z(e, z3, r4, z3), u[12] = z3[0], u[13] = z3[1], u[14] = z3[2], u;
}
function w(t2, n4, e) {
  return t2.operations.elevate(t2.value, n4, e.value);
}
var z3 = n();
function D2(t2, n4, o2, r4, u) {
  return u[0] = P(t2, n4), u[1] = P(t2, o2), u[2] = P(t2, r4), u;
}
function F(t2, n4, e, i, a) {
  r2(e, t2), r2(I, n4), z2(I, I), _(i, I, e), _(a, i, e);
}
function H(t2, n4) {
  return t2 ? O(n4) : n4.isGeographic ? k.PlateCarree : n4;
}
var I = n();

// node_modules/@arcgis/core/views/3d/support/RenderCoordsHelper.js
var x2 = class {
  constructor(t2, e, r4, o2) {
    this.viewingMode = t2, this.spatialReference = e, this.unitInMeters = r4, this.coordinateSystem = o2, this._coordinateSystem = h(o2);
  }
  set extent(t2) {
    t2 && j(this.coordinateSystem, t2, this.coordinateSystem);
  }
  getAltitude(t2) {
    return T(this.coordinateSystem, t2);
  }
  setAltitude(t2, e, r4 = t2) {
    return Z(this.coordinateSystem, r4, e, t2);
  }
  setAltitudeOfTransformation(t2, e) {
    q2(this.coordinateSystem, e, t2, e);
  }
  worldUpAtPosition(t2, e) {
    return R(this.coordinateSystem, t2, e);
  }
  worldBasisAtPosition(t2, e, r4) {
    return S(this.coordinateSystem, t2, e, r4);
  }
  basisMatrixAtPosition(t2, e) {
    const o2 = this.worldBasisAtPosition(t2, n3.X, c.get()), s2 = this.worldBasisAtPosition(t2, n3.Y, c.get()), i = this.worldBasisAtPosition(t2, n3.Z, c.get());
    return s(e, o2[0], o2[1], o2[2], 0, s2[0], s2[1], s2[2], 0, i[0], i[1], i[2], 0, 0, 0, 0, 1), e;
  }
  intersectManifoldClosestSilhouette(t2, e, r4) {
    return w(this.coordinateSystem, e, this._coordinateSystem), g(this._coordinateSystem, t2, r4), r4;
  }
  intersectManifold(t2, e, r4) {
    w(this.coordinateSystem, e, this._coordinateSystem);
    const s2 = c.get();
    return b(this._coordinateSystem, t2, s2) ? r2(r4, s2) : null;
  }
  intersectInfiniteManifold(t2, e, r4) {
    if (this.viewingMode === l.Global)
      return this.intersectManifold(t2, e, r4);
    w(this.coordinateSystem, e, this._coordinateSystem);
    const s2 = this._coordinateSystem.value, i = c.get();
    return q(s2.plane, t2, i) ? r2(r4, i) : null;
  }
  toRenderCoords(t2, e, r4) {
    return t(t2) ? Hn(t2, e, this.spatialReference) : Bn(t2, e, r4, this.spatialReference);
  }
  fromRenderCoords(e, r4, o2 = null) {
    return t(r4) ? (r(o2) && (r4.spatialReference = o2), dn(e, this.spatialReference, r4)) : r4 instanceof k ? In(e, this.spatialReference, r4) : Bn(e, this.spatialReference, r4, o2) ? r4 : null;
  }
  static create(t2, r4) {
    switch (t2) {
      case l.Local:
        return new x2(l.Local, r4, z(r4), y());
      case l.Global:
        return new x2(l.Global, r4, 1, k2(r4));
    }
  }
  static renderUnitScaleFactor(t2, e) {
    return B(t2) / B(e);
  }
};
function B(t2) {
  if (r3(t2, l.Global))
    return 1;
  const r4 = H(false, t2);
  return z(r4);
}

export {
  D2 as D,
  F,
  H,
  x2 as x
};
//# sourceMappingURL=chunk-ZGXOGFCR.js.map
