{
  "version": 3,
  "sources": ["../../@arcgis/core/views/3d/layers/graphics/pointUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{I as t}from\"../../../../chunks/mat4f64.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{projectPointToVector as o}from\"../../../../geometry/projection.js\";import{containsPoint as n}from\"../../../../geometry/support/aaBoundingBox.js\";import{getPointOnPath as i,getPathLength as s}from\"../../../../geometry/support/coordsUtils.js\";import{makeDehydratedPoint as a}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{applyElevationAlignmentForHUD as l,applyPerVertexElevationAlignment as c}from\"./elevationAlignmentUtils.js\";import{computeCentroid as p}from\"./graphicUtils.js\";import{Object3D as m}from\"../../webgl-engine/lib/Object3D.js\";const u=r();function f(r,i,s,a,c,p,f,g){const d=s?s.length:0,h=r.clippingExtent;if(o(i,u,r.elevationProvider.spatialReference),e(h)&&!n(h,u))return null;o(i,u,r.renderCoordsHelper.spatialReference);const j=r.localOriginFactory.getOrigin(u),y=new m({castShadow:!1,metadata:{layerUid:p,graphicUid:f,usesVerticalDistanceToGround:!0}});for(let e=0;e<d;e++){const r=t;y.addGeometry(s[e],a[e],r,j,g)}return{object:y,sampledElevation:l(y,i,r.elevationProvider,r.renderCoordsHelper,c)}}function g(e,t,r){const n=e.elevationContext,i=r.spatialReference;o(t,u,i),n.centerPointInElevationSR=a(u[0],u[1],t.hasZ?u[2]:0,i)}function d(e){switch(e.type){case\"point\":return e;case\"polygon\":case\"extent\":return p(e);case\"polyline\":{const t=e.paths[0];if(!t||0===t.length)return null;const r=i(t,s(t)/2);return a(r[0],r[1],r[2],e.spatialReference)}case\"mesh\":return e.origin}return null}function h(e,t,r,o,n){const i=new Float64Array(3*e.length),s=new Float64Array(i.length);e.forEach(((e,t)=>{i[3*t+0]=e[0],i[3*t+1]=e[1],i[3*t+2]=e.length>2?e[2]:0}));const a=c(i,t,0,s,0,i,0,i.length/3,r,o,n),l=null!=a;return{numVertices:e.length,position:i,mapPosition:s,projectionSuccess:l,sampledElevation:a}}export{f as createStageObjectForHUD,g as extendPointGraphicElevationContext,h as geometryToRenderInfo,d as placePointOnGeometry};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAI4sB,IAAM,IAAE,EAAE;AAAE,SAASA,GAAEC,IAAE,GAAEC,IAAE,GAAE,GAAE,GAAEF,IAAEG,IAAE;AAAC,QAAMC,KAAEF,KAAEA,GAAE,SAAO,GAAEG,KAAEJ,GAAE;AAAe,MAAG,GAAE,GAAE,GAAEA,GAAE,kBAAkB,gBAAgB,GAAE,EAAEI,EAAC,KAAG,CAAC,EAAEA,IAAE,CAAC;AAAE,WAAO;AAAK,KAAE,GAAE,GAAEJ,GAAE,mBAAmB,gBAAgB;AAAE,QAAM,IAAEA,GAAE,mBAAmB,UAAU,CAAC,GAAE,IAAE,IAAI,EAAE,EAAC,YAAW,OAAG,UAAS,EAAC,UAAS,GAAE,YAAWD,IAAE,8BAA6B,KAAE,EAAC,CAAC;AAAE,WAAQ,IAAE,GAAE,IAAEI,IAAE,KAAI;AAAC,UAAMH,KAAE;AAAE,MAAE,YAAYC,GAAE,CAAC,GAAE,EAAE,CAAC,GAAED,IAAE,GAAEE,EAAC;AAAA,EAAC;AAAC,SAAM,EAAC,QAAO,GAAE,kBAAiB,EAAE,GAAE,GAAEF,GAAE,mBAAkBA,GAAE,oBAAmB,CAAC,EAAC;AAAC;AAAC,SAAS,EAAE,GAAE,GAAEA,IAAE;AAAC,QAAMK,KAAE,EAAE,kBAAiB,IAAEL,GAAE;AAAiB,KAAE,GAAE,GAAE,CAAC,GAAEK,GAAE,2BAAyB,EAAE,EAAE,CAAC,GAAE,EAAE,CAAC,GAAE,EAAE,OAAK,EAAE,CAAC,IAAE,GAAE,CAAC;AAAC;AAAC,SAAS,EAAE,GAAE;AAAC,UAAO,EAAE,MAAK;AAAA,IAAC,KAAI;AAAQ,aAAO;AAAA,IAAE,KAAI;AAAA,IAAU,KAAI;AAAS,aAAO,EAAE,CAAC;AAAA,IAAE,KAAI,YAAW;AAAC,YAAM,IAAE,EAAE,MAAM,CAAC;AAAE,UAAG,CAAC,KAAG,MAAI,EAAE;AAAO,eAAO;AAAK,YAAML,KAAE,EAAE,GAAE,EAAE,CAAC,IAAE,CAAC;AAAE,aAAO,EAAEA,GAAE,CAAC,GAAEA,GAAE,CAAC,GAAEA,GAAE,CAAC,GAAE,EAAE,gBAAgB;AAAA,IAAC;AAAA,IAAC,KAAI;AAAO,aAAO,EAAE;AAAA,EAAM;AAAC,SAAO;AAAI;AAAC,SAASI,GAAE,GAAE,GAAEJ,IAAEM,IAAED,IAAE;AAAC,QAAM,IAAE,IAAI,aAAa,IAAE,EAAE,MAAM,GAAEJ,KAAE,IAAI,aAAa,EAAE,MAAM;AAAE,IAAE,QAAS,CAACM,IAAEC,OAAI;AAAC,MAAE,IAAEA,KAAE,CAAC,IAAED,GAAE,CAAC,GAAE,EAAE,IAAEC,KAAE,CAAC,IAAED,GAAE,CAAC,GAAE,EAAE,IAAEC,KAAE,CAAC,IAAED,GAAE,SAAO,IAAEA,GAAE,CAAC,IAAE;AAAA,EAAC,CAAE;AAAE,QAAM,IAAE,EAAE,GAAE,GAAE,GAAEN,IAAE,GAAE,GAAE,GAAE,EAAE,SAAO,GAAED,IAAEM,IAAED,EAAC,GAAEI,KAAE,QAAM;AAAE,SAAM,EAAC,aAAY,EAAE,QAAO,UAAS,GAAE,aAAYR,IAAE,mBAAkBQ,IAAE,kBAAiB,EAAC;AAAC;",
  "names": ["f", "r", "s", "g", "d", "h", "n", "o", "e", "t", "l"]
}
