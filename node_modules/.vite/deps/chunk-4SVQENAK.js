import {
  n
} from "./chunk-KETNREBT.js";
import {
  e,
  r
} from "./chunk-CBQWMOBK.js";

// node_modules/@arcgis/core/layers/support/LercDecoder.js
var s = class extends n {
  constructor(e2 = null) {
    super("LercWorker", "_decode", { _decode: (e3) => [e3.buffer] }, e2, { strategy: "dedicated" }), this.schedule = e2, this.ref = 0;
  }
  decode(e2, r2, t) {
    return e2 && 0 !== e2.byteLength ? this.invoke({ buffer: e2, options: r2 }, t) : Promise.resolve(null);
  }
  release() {
    --this.ref <= 0 && (o.forEach((e2, r2) => {
      e2 === this && o.delete(r2);
    }), this.destroy());
  }
};
var o = /* @__PURE__ */ new Map();
function n2(t = null) {
  let n3 = o.get(e(t));
  return n3 || (r(t) ? (n3 = new s((e2) => t.schedule(e2)), o.set(t, n3)) : (n3 = new s(), o.set(null, n3))), ++n3.ref, n3;
}

export {
  n2 as n
};
//# sourceMappingURL=chunk-4SVQENAK.js.map
