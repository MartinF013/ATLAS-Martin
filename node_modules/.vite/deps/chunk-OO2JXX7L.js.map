{
  "version": 3,
  "sources": ["../../@arcgis/core/chunks/persistableUrlUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../core/maybe.js\";import{makeAbsolute as r,makeRelative as t,isAbsolute as o,normalize as s,isDataProtocol as l,changeDomain as a,hasSameOrigin as u,getAppUrl as n}from\"../core/urlUtils.js\";function i(e,o){const s=o&&o.url&&o.url.path;if(e&&s&&(e=r(e,s,{preserveProtocolRelative:!0}),o.portalItem&&o.readResourcePaths)){const r=t(e,o.portalItem.itemUrl);v.test(r)&&o.readResourcePaths.push(o.portalItem.resourceFromPath(r).path)}return y(e,o&&o.portal)}function c(e,a,u=I.YES){if(!e)return e;!o(e)&&a&&a.blockedRelativeUrls&&a.blockedRelativeUrls.push(e);let n=r(e);if(a){const r=a.verifyItemRelativeUrls&&a.verifyItemRelativeUrls.rootPath||a.url&&a.url.path;if(r){const o=y(r,a.portal);n=t(y(n,a.portal),o,o),n!==e&&a.verifyItemRelativeUrls&&a.verifyItemRelativeUrls.writtenUrls.push(n)}}return n=U(n,a&&a.portal),o(n)&&(n=s(n)),a?.resources&&a?.portalItem&&!o(n)&&!l(n)&&u===I.YES&&a.resources.toKeep.push({resource:a.portalItem.resourceFromPath(n)}),n}function m(e,r,t){return i(e,t)}function p(e,r,t,o){const s=c(e,o);void 0!==s&&(r[t]=s)}const f=/\\/items\\/([^\\/]+)\\/resources\\//,v=/^\\.\\/resources\\//;function h(r){const t=e(r)?r.match(f):null;return e(t)?t[1]:null}function U(e,r){return r&&!r.isPortal&&r.urlKey&&r.customBaseUrl?a(e,`${r.urlKey}.${r.customBaseUrl}`,r.portalHostname):e}function y(e,r){if(!r||r.isPortal||!r.urlKey||!r.customBaseUrl)return e;const t=`${r.urlKey}.${r.customBaseUrl}`,o=n();return u(o,`${o.scheme}://${t}`)?a(e,r.portalHostname,t):a(e,t,r.portalHostname)}var I;!function(e){e[e.YES=0]=\"YES\",e[e.NO=1]=\"NO\"}(I||(I={}));const R=Object.freeze(Object.defineProperty({__proto__:null,fromJSON:i,toJSON:c,read:m,write:p,itemIdFromResourceUrl:h,ensureMainOnlineDomain:U,get MarkKeep(){return I}},Symbol.toStringTag,{value:\"Module\"}));export{I as M,U as e,i as f,h as i,R as p,m as r,c as t,p as w};\n"],
  "mappings": ";;;;;;;;;;;;;;;AAIsN,SAAS,EAAE,GAAE,GAAE;AAAC,QAAM,IAAE,KAAG,EAAE,OAAK,EAAE,IAAI;AAAK,MAAG,KAAG,MAAI,IAAE,EAAE,GAAE,GAAE,EAAC,0BAAyB,KAAE,CAAC,GAAE,EAAE,cAAY,EAAE,oBAAmB;AAAC,UAAMA,KAAE,EAAE,GAAE,EAAE,WAAW,OAAO;AAAE,MAAE,KAAKA,EAAC,KAAG,EAAE,kBAAkB,KAAK,EAAE,WAAW,iBAAiBA,EAAC,EAAE,IAAI;AAAA,EAAC;AAAC,SAAO,EAAE,GAAE,KAAG,EAAE,MAAM;AAAC;AAAC,SAAS,EAAE,GAAE,GAAE,IAAE,EAAE,KAAI;AAAC,MAAG,CAAC;AAAE,WAAO;AAAE,GAAC,EAAE,CAAC,KAAG,KAAG,EAAE,uBAAqB,EAAE,oBAAoB,KAAK,CAAC;AAAE,MAAI,IAAE,EAAE,CAAC;AAAE,MAAG,GAAE;AAAC,UAAMA,KAAE,EAAE,0BAAwB,EAAE,uBAAuB,YAAU,EAAE,OAAK,EAAE,IAAI;AAAK,QAAGA,IAAE;AAAC,YAAM,IAAE,EAAEA,IAAE,EAAE,MAAM;AAAE,UAAE,EAAE,EAAE,GAAE,EAAE,MAAM,GAAE,GAAE,CAAC,GAAE,MAAI,KAAG,EAAE,0BAAwB,EAAE,uBAAuB,YAAY,KAAK,CAAC;AAAA,IAAC;AAAA,EAAC;AAAC,SAAO,IAAE,EAAE,GAAE,KAAG,EAAE,MAAM,GAAE,EAAE,CAAC,MAAI,IAAE,EAAE,CAAC,KAAG,uBAAG,eAAW,uBAAG,eAAY,CAAC,EAAE,CAAC,KAAG,CAAC,EAAE,CAAC,KAAG,MAAI,EAAE,OAAK,EAAE,UAAU,OAAO,KAAK,EAAC,UAAS,EAAE,WAAW,iBAAiB,CAAC,EAAC,CAAC,GAAE;AAAC;AAAC,SAAS,EAAE,GAAEA,IAAE,GAAE;AAAC,SAAO,EAAE,GAAE,CAAC;AAAC;AAAC,SAAS,EAAE,GAAEA,IAAE,GAAE,GAAE;AAAC,QAAM,IAAE,EAAE,GAAE,CAAC;AAAE,aAAS,MAAIA,GAAE,CAAC,IAAE;AAAE;AAAC,IAAM,IAAE;AAAR,IAAyC,IAAE;AAAmB,SAAS,EAAEA,IAAE;AAAC,QAAM,IAAE,EAAEA,EAAC,IAAEA,GAAE,MAAM,CAAC,IAAE;AAAK,SAAO,EAAE,CAAC,IAAE,EAAE,CAAC,IAAE;AAAI;AAAC,SAAS,EAAE,GAAEA,IAAE;AAAC,SAAOA,MAAG,CAACA,GAAE,YAAUA,GAAE,UAAQA,GAAE,gBAAc,GAAE,GAAE,GAAGA,GAAE,UAAUA,GAAE,iBAAgBA,GAAE,cAAc,IAAE;AAAC;AAAC,SAAS,EAAE,GAAEA,IAAE;AAAC,MAAG,CAACA,MAAGA,GAAE,YAAU,CAACA,GAAE,UAAQ,CAACA,GAAE;AAAc,WAAO;AAAE,QAAM,IAAE,GAAGA,GAAE,UAAUA,GAAE,iBAAgB,IAAE,EAAE;AAAE,SAAO,EAAE,GAAE,GAAG,EAAE,YAAY,GAAG,IAAE,GAAE,GAAEA,GAAE,gBAAe,CAAC,IAAE,GAAE,GAAE,GAAEA,GAAE,cAAc;AAAC;AAAC,IAAI;AAAE,CAAC,SAAS,GAAE;AAAC,IAAE,EAAE,MAAI,CAAC,IAAE,OAAM,EAAE,EAAE,KAAG,CAAC,IAAE;AAAI,EAAE,MAAI,IAAE,CAAC,EAAE;AAAE,IAAM,IAAE,OAAO,OAAO,OAAO,eAAe,EAAC,WAAU,MAAK,UAAS,GAAE,QAAO,GAAE,MAAK,GAAE,OAAM,GAAE,uBAAsB,GAAE,wBAAuB,GAAE,IAAI,WAAU;AAAC,SAAO;AAAC,EAAC,GAAE,OAAO,aAAY,EAAC,OAAM,SAAQ,CAAC,CAAC;",
  "names": ["r"]
}
