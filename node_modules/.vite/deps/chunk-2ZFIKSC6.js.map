{
  "version": 3,
  "sources": ["../../@arcgis/core/widgets/support/InteractiveToolViewModel.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.24/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import o from\"../../core/Handles.js\";import s from\"../../core/Logger.js\";import{isSome as r,destroyMaybe as i,isNone as l,applySome as p}from\"../../core/maybe.js\";import{watch as a,syncAndInitial as h,when as n}from\"../../core/reactiveUtils.js\";import{property as d}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../core/accessorSupport/decorators/subclass.js\";let v=class extends t{constructor(e){super(e),this.tool=null,this._baseHandles=new o,this._loggedUnsupportedErrorOnce=!1,this.logger=s.getLogger(this.declaredClass),e&&null!=e.visible&&(this.visible=e.visible)}initialize(){this._baseHandles.add(a((()=>({ready:r(this.view)&&this.view.ready,supported:this.supported})),(({ready:e,supported:t})=>{!e||t||this._loggedUnsupportedErrorOnce||(this.logError(this.unsupportedErrorMessage),this._loggedUnsupportedErrorOnce=!0)}),h))}destroy(){this.removeTool(),this.view=null,this._baseHandles=i(this._baseHandles)}get supported(){return l(this.view)||this.view.type===this.supportedViewType}get view(){return this._get(\"view\")}set view(e){if(e===this.view)return;this.removeTool(),this._set(\"view\",e);const t=\"tools\";this._baseHandles.remove(t),l(e)||this._baseHandles.add(e.tools.on(\"after-remove\",(e=>{e.item===this.tool&&this._set(\"tool\",null)})),t)}set visible(e){this._set(\"visible\",e),r(this.tool)&&(this.tool.visible=e)}get active(){return r(this.tool)&&this.tool.active}get disabled(){return l(this.view)||!this.view.ready||!this.supported}createTool(e={interactive:!1}){if(this.removeTool(),l(this.view)||!this.view.ready||!this.supported)return;const t=this.constructTool();t.created?(this._set(\"tool\",t),this.view.tools.add(t)):e.interactive?(this._set(\"tool\",t),this.view.addAndActivateTool(t),n((()=>t.created),(()=>{t.active&&r(this.view)&&(this.view.activeTool=null)}),{initial:!0,once:!0})):t.destroy()}removeTool(){const e=this.tool;if(l(e))return;const t=p(this.view,(e=>e.tools));r(t)?t.remove(e):e.destroy(),this._set(\"tool\",null)}logError(...e){this.logger.error(...e)}};e([d({constructOnly:!0})],v.prototype,\"tool\",void 0),e([d()],v.prototype,\"supported\",null),e([d({value:null})],v.prototype,\"view\",null),e([d({type:Boolean,value:!0})],v.prototype,\"visible\",null),e([d()],v.prototype,\"active\",null),e([d()],v.prototype,\"disabled\",null),v=e([c(\"esri.widgets.support.InteractiveToolViewModel\")],v);export{v as InteractiveToolViewModel};\n"],
  "mappings": "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",
  "names": ["e", "l", "t"]
}
